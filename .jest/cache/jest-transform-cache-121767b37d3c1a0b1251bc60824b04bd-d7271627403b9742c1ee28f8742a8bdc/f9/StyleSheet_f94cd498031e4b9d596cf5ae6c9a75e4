3bd0866590ec80cbd7688086df7ead13

'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var PixelRatio = require('PixelRatio');
var ReactNativePropRegistry = require('ReactNativePropRegistry');
var ReactNativeStyleAttributes = require('ReactNativeStyleAttributes');
var StyleSheetValidation = require('StyleSheetValidation');

var flatten = require('flattenStyle');

var hairlineWidth = PixelRatio.roundToNearestPixel(0.4);
if (hairlineWidth === 0) {
  hairlineWidth = 1 / PixelRatio.get();
}

var absoluteFillObject = {
  position: 'absolute',
  left: 0,
  right: 0,
  top: 0,
  bottom: 0
};
var absoluteFill = ReactNativePropRegistry.register(absoluteFillObject);
module.exports = {
  hairlineWidth: hairlineWidth,

  absoluteFill: absoluteFill,

  absoluteFillObject: absoluteFillObject,

  compose: function compose(style1, style2) {
    if (style1 != null && style2 != null) {
      return [style1, style2];
    } else {
      return style1 != null ? style1 : style2;
    }
  },

  flatten: flatten,

  setStyleAttributePreprocessor: function setStyleAttributePreprocessor(property, process) {
    var value = void 0;

    if (typeof ReactNativeStyleAttributes[property] === 'string') {
      value = {};
    } else if (typeof ReactNativeStyleAttributes[property] === 'object') {
      value = ReactNativeStyleAttributes[property];
    } else {
      console.error(property + ' is not a valid style attribute');
      return;
    }

    if (__DEV__ && typeof value.process === 'function') {
      console.warn('Overwriting ' + property + ' style attribute preprocessor');
    }

    ReactNativeStyleAttributes[property] = _extends({}, value, { process: process });
  },
  create: function create(obj) {
    var result = {};
    for (var key in obj) {
      StyleSheetValidation.validateStyle(key, obj);
      result[key] = obj[key] && ReactNativePropRegistry.register(obj[key]);
    }
    return result;
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN0eWxlU2hlZXQuanMiXSwibmFtZXMiOlsiUGl4ZWxSYXRpbyIsInJlcXVpcmUiLCJSZWFjdE5hdGl2ZVByb3BSZWdpc3RyeSIsIlJlYWN0TmF0aXZlU3R5bGVBdHRyaWJ1dGVzIiwiU3R5bGVTaGVldFZhbGlkYXRpb24iLCJmbGF0dGVuIiwiaGFpcmxpbmVXaWR0aCIsInJvdW5kVG9OZWFyZXN0UGl4ZWwiLCJnZXQiLCJhYnNvbHV0ZUZpbGxPYmplY3QiLCJwb3NpdGlvbiIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsImFic29sdXRlRmlsbCIsInJlZ2lzdGVyIiwibW9kdWxlIiwiZXhwb3J0cyIsImNvbXBvc2UiLCJzdHlsZTEiLCJzdHlsZTIiLCJzZXRTdHlsZUF0dHJpYnV0ZVByZXByb2Nlc3NvciIsInByb3BlcnR5IiwicHJvY2VzcyIsInZhbHVlIiwiY29uc29sZSIsImVycm9yIiwiX19ERVZfXyIsIndhcm4iLCJjcmVhdGUiLCJvYmoiLCJyZXN1bHQiLCJrZXkiLCJ2YWxpZGF0ZVN0eWxlIl0sIm1hcHBpbmdzIjoiO0FBVUE7Ozs7QUFFQSxJQUFNQSxhQUFhQyxRQUFRLFlBQVIsQ0FBbkI7QUFDQSxJQUFNQywwQkFBMEJELFFBQVEseUJBQVIsQ0FBaEM7QUFDQSxJQUFNRSw2QkFBNkJGLFFBQVEsNEJBQVIsQ0FBbkM7QUFDQSxJQUFNRyx1QkFBdUJILFFBQVEsc0JBQVIsQ0FBN0I7O0FBRUEsSUFBTUksVUFBVUosUUFBUSxjQUFSLENBQWhCOztBQWlCQSxJQUFJSyxnQkFBZ0JOLFdBQVdPLG1CQUFYLENBQStCLEdBQS9CLENBQXBCO0FBQ0EsSUFBSUQsa0JBQWtCLENBQXRCLEVBQXlCO0FBQ3ZCQSxrQkFBZ0IsSUFBSU4sV0FBV1EsR0FBWCxFQUFwQjtBQUNEOztBQUVELElBQU1DLHFCQUFrQztBQUN0Q0MsWUFBVSxVQUQ0QjtBQUV0Q0MsUUFBTSxDQUZnQztBQUd0Q0MsU0FBTyxDQUgrQjtBQUl0Q0MsT0FBSyxDQUppQztBQUt0Q0MsVUFBUTtBQUw4QixDQUF4QztBQU9BLElBQU1DLGVBQWtEYix3QkFBd0JjLFFBQXhCLENBQ3REUCxrQkFEc0QsQ0FBeEQ7QUFnREFRLE9BQU9DLE9BQVAsR0FBaUI7QUFvQmZaLDhCQXBCZTs7QUEyQmZTLDRCQTNCZTs7QUF5Q2ZOLHdDQXpDZTs7QUFpRGZVLFNBakRlLG1CQWtEYkMsTUFsRGEsRUFtRGJDLE1BbkRhLEVBb0RtQjtBQUNoQyxRQUFJRCxVQUFVLElBQVYsSUFBa0JDLFVBQVUsSUFBaEMsRUFBc0M7QUFDcEMsYUFBTyxDQUFDRCxNQUFELEVBQVNDLE1BQVQsQ0FBUDtBQUNELEtBRkQsTUFFTztBQUNMLGFBQU9ELFVBQVUsSUFBVixHQUFpQkEsTUFBakIsR0FBMEJDLE1BQWpDO0FBQ0Q7QUFDRixHQTFEYzs7QUFtR2ZoQixrQkFuR2U7O0FBOEdmaUIsK0JBOUdlLHlDQStHYkMsUUEvR2EsRUFnSGJDLE9BaEhhLEVBaUhiO0FBQ0EsUUFBSUMsY0FBSjs7QUFFQSxRQUFJLE9BQU90QiwyQkFBMkJvQixRQUEzQixDQUFQLEtBQWdELFFBQXBELEVBQThEO0FBQzVERSxjQUFRLEVBQVI7QUFDRCxLQUZELE1BRU8sSUFBSSxPQUFPdEIsMkJBQTJCb0IsUUFBM0IsQ0FBUCxLQUFnRCxRQUFwRCxFQUE4RDtBQUNuRUUsY0FBUXRCLDJCQUEyQm9CLFFBQTNCLENBQVI7QUFDRCxLQUZNLE1BRUE7QUFDTEcsY0FBUUMsS0FBUixDQUFpQkosUUFBakI7QUFDQTtBQUNEOztBQUVELFFBQUlLLFdBQVcsT0FBT0gsTUFBTUQsT0FBYixLQUF5QixVQUF4QyxFQUFvRDtBQUNsREUsY0FBUUcsSUFBUixrQkFBNEJOLFFBQTVCO0FBQ0Q7O0FBRURwQiwrQkFBMkJvQixRQUEzQixpQkFBMkNFLEtBQTNDLElBQWtERCxnQkFBbEQ7QUFDRCxHQWxJYztBQXVJZk0sUUF2SWUsa0JBd0liQyxHQXhJYSxFQXlJOEM7QUFDM0QsUUFBTUMsU0FBUyxFQUFmO0FBQ0EsU0FBSyxJQUFNQyxHQUFYLElBQWtCRixHQUFsQixFQUF1QjtBQUNyQjNCLDJCQUFxQjhCLGFBQXJCLENBQW1DRCxHQUFuQyxFQUF3Q0YsR0FBeEM7QUFDQUMsYUFBT0MsR0FBUCxJQUFjRixJQUFJRSxHQUFKLEtBQVkvQix3QkFBd0JjLFFBQXhCLENBQWlDZSxJQUFJRSxHQUFKLENBQWpDLENBQTFCO0FBQ0Q7QUFDRCxXQUFPRCxNQUFQO0FBQ0Q7QUFoSmMsQ0FBakIiLCJmaWxlIjoiU3R5bGVTaGVldC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFN0eWxlU2hlZXRcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgUGl4ZWxSYXRpbyA9IHJlcXVpcmUoJ1BpeGVsUmF0aW8nKTtcbmNvbnN0IFJlYWN0TmF0aXZlUHJvcFJlZ2lzdHJ5ID0gcmVxdWlyZSgnUmVhY3ROYXRpdmVQcm9wUmVnaXN0cnknKTtcbmNvbnN0IFJlYWN0TmF0aXZlU3R5bGVBdHRyaWJ1dGVzID0gcmVxdWlyZSgnUmVhY3ROYXRpdmVTdHlsZUF0dHJpYnV0ZXMnKTtcbmNvbnN0IFN0eWxlU2hlZXRWYWxpZGF0aW9uID0gcmVxdWlyZSgnU3R5bGVTaGVldFZhbGlkYXRpb24nKTtcblxuY29uc3QgZmxhdHRlbiA9IHJlcXVpcmUoJ2ZsYXR0ZW5TdHlsZScpO1xuXG5pbXBvcnQgdHlwZSB7XG4gIF9fX19TdHlsZVNoZWV0SW50ZXJuYWxTdHlsZUlkZW50aWZpZXJfSW50ZXJuYWwgYXMgU3R5bGVTaGVldEludGVybmFsU3R5bGVJZGVudGlmaWVyLFxuICBfX19fU3R5bGVzX0ludGVybmFsLFxuICBfX19fRGFuZ2Vyb3VzbHlJbXByZWNpc2VTdHlsZVByb3BfSW50ZXJuYWwsXG4gIF9fX19WaWV3U3R5bGVQcm9wX0ludGVybmFsLFxuICBfX19fVGV4dFN0eWxlUHJvcF9JbnRlcm5hbCxcbiAgX19fX0ltYWdlU3R5bGVQcm9wX0ludGVybmFsLFxuICBMYXlvdXRTdHlsZSxcbn0gZnJvbSAnU3R5bGVTaGVldFR5cGVzJztcblxuZXhwb3J0IHR5cGUgRGFuZ2Vyb3VzbHlJbXByZWNpc2VTdHlsZVByb3AgPSBfX19fRGFuZ2Vyb3VzbHlJbXByZWNpc2VTdHlsZVByb3BfSW50ZXJuYWw7XG5leHBvcnQgdHlwZSBWaWV3U3R5bGVQcm9wID0gX19fX1ZpZXdTdHlsZVByb3BfSW50ZXJuYWw7XG5leHBvcnQgdHlwZSBUZXh0U3R5bGVQcm9wID0gX19fX1RleHRTdHlsZVByb3BfSW50ZXJuYWw7XG5leHBvcnQgdHlwZSBJbWFnZVN0eWxlUHJvcCA9IF9fX19JbWFnZVN0eWxlUHJvcF9JbnRlcm5hbDtcblxubGV0IGhhaXJsaW5lV2lkdGggPSBQaXhlbFJhdGlvLnJvdW5kVG9OZWFyZXN0UGl4ZWwoMC40KTtcbmlmIChoYWlybGluZVdpZHRoID09PSAwKSB7XG4gIGhhaXJsaW5lV2lkdGggPSAxIC8gUGl4ZWxSYXRpby5nZXQoKTtcbn1cblxuY29uc3QgYWJzb2x1dGVGaWxsT2JqZWN0OiBMYXlvdXRTdHlsZSA9IHtcbiAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gIGxlZnQ6IDAsXG4gIHJpZ2h0OiAwLFxuICB0b3A6IDAsXG4gIGJvdHRvbTogMCxcbn07XG5jb25zdCBhYnNvbHV0ZUZpbGw6IFN0eWxlU2hlZXRJbnRlcm5hbFN0eWxlSWRlbnRpZmllciA9IFJlYWN0TmF0aXZlUHJvcFJlZ2lzdHJ5LnJlZ2lzdGVyKFxuICBhYnNvbHV0ZUZpbGxPYmplY3QsXG4pOyAvLyBUaGlzIGFsc28gZnJlZXplcyBpdFxuXG4vKipcbiAqIEEgU3R5bGVTaGVldCBpcyBhbiBhYnN0cmFjdGlvbiBzaW1pbGFyIHRvIENTUyBTdHlsZVNoZWV0c1xuICpcbiAqIENyZWF0ZSBhIG5ldyBTdHlsZVNoZWV0OlxuICpcbiAqIGBgYFxuICogY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICogICBjb250YWluZXI6IHtcbiAqICAgICBib3JkZXJSYWRpdXM6IDQsXG4gKiAgICAgYm9yZGVyV2lkdGg6IDAuNSxcbiAqICAgICBib3JkZXJDb2xvcjogJyNkNmQ3ZGEnLFxuICogICB9LFxuICogICB0aXRsZToge1xuICogICAgIGZvbnRTaXplOiAxOSxcbiAqICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gKiAgIH0sXG4gKiAgIGFjdGl2ZVRpdGxlOiB7XG4gKiAgICAgY29sb3I6ICdyZWQnLFxuICogICB9LFxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBVc2UgYSBTdHlsZVNoZWV0OlxuICpcbiAqIGBgYFxuICogPFZpZXcgc3R5bGU9e3N0eWxlcy5jb250YWluZXJ9PlxuICogICA8VGV4dCBzdHlsZT17W3N0eWxlcy50aXRsZSwgdGhpcy5wcm9wcy5pc0FjdGl2ZSAmJiBzdHlsZXMuYWN0aXZlVGl0bGVdfSAvPlxuICogPC9WaWV3PlxuICogYGBgXG4gKlxuICogQ29kZSBxdWFsaXR5OlxuICpcbiAqICAtIEJ5IG1vdmluZyBzdHlsZXMgYXdheSBmcm9tIHRoZSByZW5kZXIgZnVuY3Rpb24sIHlvdSdyZSBtYWtpbmcgdGhlIGNvZGVcbiAqICBlYXNpZXIgdG8gdW5kZXJzdGFuZC5cbiAqICAtIE5hbWluZyB0aGUgc3R5bGVzIGlzIGEgZ29vZCB3YXkgdG8gYWRkIG1lYW5pbmcgdG8gdGhlIGxvdyBsZXZlbCBjb21wb25lbnRzXG4gKiAgaW4gdGhlIHJlbmRlciBmdW5jdGlvbi5cbiAqXG4gKiBQZXJmb3JtYW5jZTpcbiAqXG4gKiAgLSBNYWtpbmcgYSBzdHlsZXNoZWV0IGZyb20gYSBzdHlsZSBvYmplY3QgbWFrZXMgaXQgcG9zc2libGUgdG8gcmVmZXIgdG8gaXRcbiAqIGJ5IElEIGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgc3R5bGUgb2JqZWN0IGV2ZXJ5IHRpbWUuXG4gKiAgLSBJdCBhbHNvIGFsbG93cyB0byBzZW5kIHRoZSBzdHlsZSBvbmx5IG9uY2UgdGhyb3VnaCB0aGUgYnJpZGdlLiBBbGxcbiAqIHN1YnNlcXVlbnQgdXNlcyBhcmUgZ29pbmcgdG8gcmVmZXIgYW4gaWQgKG5vdCBpbXBsZW1lbnRlZCB5ZXQpLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLyoqXG4gICAqIFRoaXMgaXMgZGVmaW5lZCBhcyB0aGUgd2lkdGggb2YgYSB0aGluIGxpbmUgb24gdGhlIHBsYXRmb3JtLiBJdCBjYW4gYmVcbiAgICogdXNlZCBhcyB0aGUgdGhpY2tuZXNzIG9mIGEgYm9yZGVyIG9yIGRpdmlzaW9uIGJldHdlZW4gdHdvIGVsZW1lbnRzLlxuICAgKiBFeGFtcGxlOlxuICAgKiBgYGBcbiAgICogICB7XG4gICAqICAgICBib3JkZXJCb3R0b21Db2xvcjogJyNiYmInLFxuICAgKiAgICAgYm9yZGVyQm90dG9tV2lkdGg6IFN0eWxlU2hlZXQuaGFpcmxpbmVXaWR0aFxuICAgKiAgIH1cbiAgICogYGBgXG4gICAqXG4gICAqIFRoaXMgY29uc3RhbnQgd2lsbCBhbHdheXMgYmUgYSByb3VuZCBudW1iZXIgb2YgcGl4ZWxzIChzbyBhIGxpbmUgZGVmaW5lZFxuICAgKiBieSBpdCBsb29rIGNyaXNwKSBhbmQgd2lsbCB0cnkgdG8gbWF0Y2ggdGhlIHN0YW5kYXJkIHdpZHRoIG9mIGEgdGhpbiBsaW5lXG4gICAqIG9uIHRoZSB1bmRlcmx5aW5nIHBsYXRmb3JtLiBIb3dldmVyLCB5b3Ugc2hvdWxkIG5vdCByZWx5IG9uIGl0IGJlaW5nIGFcbiAgICogY29uc3RhbnQgc2l6ZSwgYmVjYXVzZSBvbiBkaWZmZXJlbnQgcGxhdGZvcm1zIGFuZCBzY3JlZW4gZGVuc2l0aWVzIGl0c1xuICAgKiB2YWx1ZSBtYXkgYmUgY2FsY3VsYXRlZCBkaWZmZXJlbnRseS5cbiAgICpcbiAgICogQSBsaW5lIHdpdGggaGFpcmxpbmUgd2lkdGggbWF5IG5vdCBiZSB2aXNpYmxlIGlmIHlvdXIgc2ltdWxhdG9yIGlzIGRvd25zY2FsZWQuXG4gICAqL1xuICBoYWlybGluZVdpZHRoLFxuXG4gIC8qKlxuICAgKiBBIHZlcnkgY29tbW9uIHBhdHRlcm4gaXMgdG8gY3JlYXRlIG92ZXJsYXlzIHdpdGggcG9zaXRpb24gYWJzb2x1dGUgYW5kIHplcm8gcG9zaXRpb25pbmcsXG4gICAqIHNvIGBhYnNvbHV0ZUZpbGxgIGNhbiBiZSB1c2VkIGZvciBjb252ZW5pZW5jZSBhbmQgdG8gcmVkdWNlIGR1cGxpY2F0aW9uIG9mIHRoZXNlIHJlcGVhdGVkXG4gICAqIHN0eWxlcy5cbiAgICovXG4gIGFic29sdXRlRmlsbCxcblxuICAvKipcbiAgICogU29tZXRpbWVzIHlvdSBtYXkgd2FudCBgYWJzb2x1dGVGaWxsYCBidXQgd2l0aCBhIGNvdXBsZSB0d2Vha3MgLSBgYWJzb2x1dGVGaWxsT2JqZWN0YCBjYW4gYmVcbiAgICogdXNlZCB0byBjcmVhdGUgYSBjdXN0b21pemVkIGVudHJ5IGluIGEgYFN0eWxlU2hlZXRgLCBlLmcuOlxuICAgKlxuICAgKiAgIGNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgICogICAgIHdyYXBwZXI6IHtcbiAgICogICAgICAgLi4uU3R5bGVTaGVldC5hYnNvbHV0ZUZpbGxPYmplY3QsXG4gICAqICAgICAgIHRvcDogMTAsXG4gICAqICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICogICAgIH0sXG4gICAqICAgfSk7XG4gICAqL1xuICBhYnNvbHV0ZUZpbGxPYmplY3QsXG5cbiAgLyoqXG4gICAqIENvbWJpbmVzIHR3byBzdHlsZXMgc3VjaCB0aGF0IGBzdHlsZTJgIHdpbGwgb3ZlcnJpZGUgYW55IHN0eWxlcyBpbiBgc3R5bGUxYC5cbiAgICogSWYgZWl0aGVyIHN0eWxlIGlzIGZhbHN5LCB0aGUgb3RoZXIgb25lIGlzIHJldHVybmVkIHdpdGhvdXQgYWxsb2NhdGluZyBhblxuICAgKiBhcnJheSwgc2F2aW5nIGFsbG9jYXRpb25zIGFuZCBtYWludGFpbmluZyByZWZlcmVuY2UgZXF1YWxpdHkgZm9yXG4gICAqIFB1cmVDb21wb25lbnQgY2hlY2tzLlxuICAgKi9cbiAgY29tcG9zZShcbiAgICBzdHlsZTE6ID9EYW5nZXJvdXNseUltcHJlY2lzZVN0eWxlUHJvcCxcbiAgICBzdHlsZTI6ID9EYW5nZXJvdXNseUltcHJlY2lzZVN0eWxlUHJvcCxcbiAgKTogP0Rhbmdlcm91c2x5SW1wcmVjaXNlU3R5bGVQcm9wIHtcbiAgICBpZiAoc3R5bGUxICE9IG51bGwgJiYgc3R5bGUyICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBbc3R5bGUxLCBzdHlsZTJdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3R5bGUxICE9IG51bGwgPyBzdHlsZTEgOiBzdHlsZTI7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBGbGF0dGVucyBhbiBhcnJheSBvZiBzdHlsZSBvYmplY3RzLCBpbnRvIG9uZSBhZ2dyZWdhdGVkIHN0eWxlIG9iamVjdC5cbiAgICogQWx0ZXJuYXRpdmVseSwgdGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgdG8gbG9va3VwIElEcywgcmV0dXJuZWQgYnlcbiAgICogU3R5bGVTaGVldC5yZWdpc3Rlci5cbiAgICpcbiAgICogPiAqKk5PVEUqKjogRXhlcmNpc2UgY2F1dGlvbiBhcyBhYnVzaW5nIHRoaXMgY2FuIHRheCB5b3UgaW4gdGVybXMgb2ZcbiAgICogPiBvcHRpbWl6YXRpb25zLlxuICAgKiA+XG4gICAqID4gSURzIGVuYWJsZSBvcHRpbWl6YXRpb25zIHRocm91Z2ggdGhlIGJyaWRnZSBhbmQgbWVtb3J5IGluIGdlbmVyYWwuIFJlZmVyaW5nXG4gICAqID4gdG8gc3R5bGUgb2JqZWN0cyBkaXJlY3RseSB3aWxsIGRlcHJpdmUgeW91IG9mIHRoZXNlIG9wdGltaXphdGlvbnMuXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqIGBgYFxuICAgKiBjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gICAqICAgbGlzdEl0ZW06IHtcbiAgICogICAgIGZsZXg6IDEsXG4gICAqICAgICBmb250U2l6ZTogMTYsXG4gICAqICAgICBjb2xvcjogJ3doaXRlJ1xuICAgKiAgIH0sXG4gICAqICAgc2VsZWN0ZWRMaXN0SXRlbToge1xuICAgKiAgICAgY29sb3I6ICdncmVlbidcbiAgICogICB9XG4gICAqIH0pO1xuICAgKlxuICAgKiBTdHlsZVNoZWV0LmZsYXR0ZW4oW3N0eWxlcy5saXN0SXRlbSwgc3R5bGVzLnNlbGVjdGVkTGlzdEl0ZW1dKVxuICAgKiAvLyByZXR1cm5zIHsgZmxleDogMSwgZm9udFNpemU6IDE2LCBjb2xvcjogJ2dyZWVuJyB9XG4gICAqIGBgYFxuICAgKiBBbHRlcm5hdGl2ZSB1c2U6XG4gICAqIGBgYFxuICAgKiBTdHlsZVNoZWV0LmZsYXR0ZW4oc3R5bGVzLmxpc3RJdGVtKTtcbiAgICogLy8gcmV0dXJuIHsgZmxleDogMSwgZm9udFNpemU6IDE2LCBjb2xvcjogJ3doaXRlJyB9XG4gICAqIC8vIFNpbXBseSBzdHlsZXMubGlzdEl0ZW0gd291bGQgcmV0dXJuIGl0cyBJRCAobnVtYmVyKVxuICAgKiBgYGBcbiAgICogVGhpcyBtZXRob2QgaW50ZXJuYWxseSB1c2VzIGBTdHlsZVNoZWV0UmVnaXN0cnkuZ2V0U3R5bGVCeUlEKHN0eWxlKWBcbiAgICogdG8gcmVzb2x2ZSBzdHlsZSBvYmplY3RzIHJlcHJlc2VudGVkIGJ5IElEcy4gVGh1cywgYW4gYXJyYXkgb2Ygc3R5bGVcbiAgICogb2JqZWN0cyAoaW5zdGFuY2VzIG9mIFN0eWxlU2hlZXQuY3JlYXRlKSwgYXJlIGluZGl2aWR1YWxseSByZXNvbHZlZCB0byxcbiAgICogdGhlaXIgcmVzcGVjdGl2ZSBvYmplY3RzLCBtZXJnZWQgYXMgb25lIGFuZCB0aGVuIHJldHVybmVkLiBUaGlzIGFsc28gZXhwbGFpbnNcbiAgICogdGhlIGFsdGVybmF0aXZlIHVzZS5cbiAgICovXG4gIGZsYXR0ZW4sXG5cbiAgLyoqXG4gICAqIFdBUk5JTkc6IEVYUEVSSU1FTlRBTC4gQnJlYWtpbmcgY2hhbmdlcyB3aWxsIHByb2JhYmx5IGhhcHBlbiBhIGxvdCBhbmQgd2lsbFxuICAgKiBub3QgYmUgcmVsaWFibHkgYW5ub3VuY2VkLiBUaGUgd2hvbGUgdGhpbmcgbWlnaHQgYmUgZGVsZXRlZCwgd2hvIGtub3dzPyBVc2VcbiAgICogYXQgeW91ciBvd24gcmlzay5cbiAgICpcbiAgICogU2V0cyBhIGZ1bmN0aW9uIHRvIHVzZSB0byBwcmUtcHJvY2VzcyBhIHN0eWxlIHByb3BlcnR5IHZhbHVlLiBUaGlzIGlzIHVzZWRcbiAgICogaW50ZXJuYWxseSB0byBwcm9jZXNzIGNvbG9yIGFuZCB0cmFuc2Zvcm0gdmFsdWVzLiBZb3Ugc2hvdWxkIG5vdCB1c2UgdGhpc1xuICAgKiB1bmxlc3MgeW91IHJlYWxseSBrbm93IHdoYXQgeW91IGFyZSBkb2luZyBhbmQgaGF2ZSBleGhhdXN0ZWQgb3RoZXIgb3B0aW9ucy5cbiAgICovXG4gIHNldFN0eWxlQXR0cmlidXRlUHJlcHJvY2Vzc29yKFxuICAgIHByb3BlcnR5OiBzdHJpbmcsXG4gICAgcHJvY2VzczogKG5leHRQcm9wOiBtaXhlZCkgPT4gbWl4ZWQsXG4gICkge1xuICAgIGxldCB2YWx1ZTtcblxuICAgIGlmICh0eXBlb2YgUmVhY3ROYXRpdmVTdHlsZUF0dHJpYnV0ZXNbcHJvcGVydHldID09PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSB7fTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBSZWFjdE5hdGl2ZVN0eWxlQXR0cmlidXRlc1twcm9wZXJ0eV0gPT09ICdvYmplY3QnKSB7XG4gICAgICB2YWx1ZSA9IFJlYWN0TmF0aXZlU3R5bGVBdHRyaWJ1dGVzW3Byb3BlcnR5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihgJHtwcm9wZXJ0eX0gaXMgbm90IGEgdmFsaWQgc3R5bGUgYXR0cmlidXRlYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKF9fREVWX18gJiYgdHlwZW9mIHZhbHVlLnByb2Nlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnNvbGUud2FybihgT3ZlcndyaXRpbmcgJHtwcm9wZXJ0eX0gc3R5bGUgYXR0cmlidXRlIHByZXByb2Nlc3NvcmApO1xuICAgIH1cblxuICAgIFJlYWN0TmF0aXZlU3R5bGVBdHRyaWJ1dGVzW3Byb3BlcnR5XSA9IHsuLi52YWx1ZSwgcHJvY2Vzc307XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBTdHlsZVNoZWV0IHN0eWxlIHJlZmVyZW5jZSBmcm9tIHRoZSBnaXZlbiBvYmplY3QuXG4gICAqL1xuICBjcmVhdGU8K1M6IF9fX19TdHlsZXNfSW50ZXJuYWw+KFxuICAgIG9iajogUyxcbiAgKTogJE9iak1hcDxTLCAoT2JqZWN0KSA9PiBTdHlsZVNoZWV0SW50ZXJuYWxTdHlsZUlkZW50aWZpZXI+IHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgIFN0eWxlU2hlZXRWYWxpZGF0aW9uLnZhbGlkYXRlU3R5bGUoa2V5LCBvYmopO1xuICAgICAgcmVzdWx0W2tleV0gPSBvYmpba2V5XSAmJiBSZWFjdE5hdGl2ZVByb3BSZWdpc3RyeS5yZWdpc3RlcihvYmpba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG59O1xuIl19