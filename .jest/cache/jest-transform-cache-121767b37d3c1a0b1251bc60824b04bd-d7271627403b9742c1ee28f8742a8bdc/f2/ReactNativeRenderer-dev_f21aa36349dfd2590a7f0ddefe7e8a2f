ce903daad70e5eef13b81a9cb1565ee9


'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

if (__DEV__) {
  (function () {
    "use strict";

    require("InitializeCore");
    var invariant = require("fbjs/lib/invariant");
    var warning = require("fbjs/lib/warning");
    var emptyFunction = require("fbjs/lib/emptyFunction");
    var UIManager = require("UIManager");
    var RCTEventEmitter = require("RCTEventEmitter");
    var TextInputState = require("TextInputState");
    var deepDiffer = require("deepDiffer");
    var flattenStyle = require("flattenStyle");
    var React = require("react");
    var emptyObject = require("fbjs/lib/emptyObject");
    var checkPropTypes = require("prop-types/checkPropTypes");
    var shallowEqual = require("fbjs/lib/shallowEqual");
    var ExceptionsManager = require("ExceptionsManager");
    var deepFreezeAndThrowOnMutationInDev = require("deepFreezeAndThrowOnMutationInDev");

    var invokeGuardedCallback = function invokeGuardedCallback(name, func, context, a, b, c, d, e, f) {
      this._hasCaughtError = false;
      this._caughtError = null;
      var funcArgs = Array.prototype.slice.call(arguments, 3);
      try {
        func.apply(context, funcArgs);
      } catch (error) {
        this._caughtError = error;
        this._hasCaughtError = true;
      }
    };

    {
      if (typeof window !== "undefined" && typeof window.dispatchEvent === "function" && typeof document !== "undefined" && typeof document.createEvent === "function") {
        var fakeNode = document.createElement("react");

        var invokeGuardedCallbackDev = function invokeGuardedCallbackDev(name, func, context, a, b, c, d, e, f) {
          invariant(typeof document !== "undefined", "The `document` global was defined when React was initialized, but is not " + "defined anymore. This can happen in a test environment if a component " + "schedules an update from an asynchronous callback, but the test has already " + "finished running. To solve this, you can either unmount the component at " + "the end of your test (and ensure that any asynchronous operations get " + "canceled in `componentWillUnmount`), or you can change the test itself " + "to be asynchronous.");
          var evt = document.createEvent("Event");

          var didError = true;

          var funcArgs = Array.prototype.slice.call(arguments, 3);
          function callCallback() {
            fakeNode.removeEventListener(evtType, callCallback, false);
            func.apply(context, funcArgs);
            didError = false;
          }

          var error = void 0;

          var didSetError = false;
          var isCrossOriginError = false;

          function onError(event) {
            error = event.error;
            didSetError = true;
            if (error === null && event.colno === 0 && event.lineno === 0) {
              isCrossOriginError = true;
            }
          }

          var evtType = "react-" + (name ? name : "invokeguardedcallback");

          window.addEventListener("error", onError);
          fakeNode.addEventListener(evtType, callCallback, false);

          evt.initEvent(evtType, false, false);
          fakeNode.dispatchEvent(evt);

          if (didError) {
            if (!didSetError) {
              error = new Error("An error was thrown inside one of your components, but React " + "doesn't know what it was. This is likely due to browser " + 'flakiness. React does its best to preserve the "Pause on ' + 'exceptions" behavior of the DevTools, which requires some ' + "DEV-mode only tricks. It's possible that these don't work in " + "your browser. Try triggering the error in production mode, " + "or switching to a modern browser. If you suspect that this is " + "actually an issue with React, please file an issue.");
            } else if (isCrossOriginError) {
              error = new Error("A cross-origin error was thrown. React doesn't have access to " + "the actual error object in development. " + "See https://fb.me/react-crossorigin-error for more information.");
            }
            this._hasCaughtError = true;
            this._caughtError = error;
          } else {
            this._hasCaughtError = false;
            this._caughtError = null;
          }

          window.removeEventListener("error", onError);
        };

        invokeGuardedCallback = invokeGuardedCallbackDev;
      }
    }

    var invokeGuardedCallback$1 = invokeGuardedCallback;

    var ReactErrorUtils = {
      _caughtError: null,
      _hasCaughtError: false,

      _rethrowError: null,
      _hasRethrowError: false,

      invokeGuardedCallback: function invokeGuardedCallback(name, func, context, a, b, c, d, e, f) {
        invokeGuardedCallback$1.apply(ReactErrorUtils, arguments);
      },

      invokeGuardedCallbackAndCatchFirstError: function invokeGuardedCallbackAndCatchFirstError(name, func, context, a, b, c, d, e, f) {
        ReactErrorUtils.invokeGuardedCallback.apply(this, arguments);
        if (ReactErrorUtils.hasCaughtError()) {
          var error = ReactErrorUtils.clearCaughtError();
          if (!ReactErrorUtils._hasRethrowError) {
            ReactErrorUtils._hasRethrowError = true;
            ReactErrorUtils._rethrowError = error;
          }
        }
      },

      rethrowCaughtError: function rethrowCaughtError() {
        return _rethrowCaughtError.apply(ReactErrorUtils, arguments);
      },

      hasCaughtError: function hasCaughtError() {
        return ReactErrorUtils._hasCaughtError;
      },

      clearCaughtError: function clearCaughtError() {
        if (ReactErrorUtils._hasCaughtError) {
          var error = ReactErrorUtils._caughtError;
          ReactErrorUtils._caughtError = null;
          ReactErrorUtils._hasCaughtError = false;
          return error;
        } else {
          invariant(false, "clearCaughtError was called but no error was captured. This error " + "is likely caused by a bug in React. Please file an issue.");
        }
      }
    };

    var _rethrowCaughtError = function _rethrowCaughtError() {
      if (ReactErrorUtils._hasRethrowError) {
        var error = ReactErrorUtils._rethrowError;
        ReactErrorUtils._rethrowError = null;
        ReactErrorUtils._hasRethrowError = false;
        throw error;
      }
    };

    var eventPluginOrder = null;

    var namesToPlugins = {};

    function recomputePluginOrdering() {
      if (!eventPluginOrder) {
        return;
      }
      for (var pluginName in namesToPlugins) {
        var pluginModule = namesToPlugins[pluginName];
        var pluginIndex = eventPluginOrder.indexOf(pluginName);
        invariant(pluginIndex > -1, "EventPluginRegistry: Cannot inject event plugins that do not exist in " + "the plugin ordering, `%s`.", pluginName);
        if (plugins[pluginIndex]) {
          continue;
        }
        invariant(pluginModule.extractEvents, "EventPluginRegistry: Event plugins must implement an `extractEvents` " + "method, but `%s` does not.", pluginName);
        plugins[pluginIndex] = pluginModule;
        var publishedEvents = pluginModule.eventTypes;
        for (var eventName in publishedEvents) {
          invariant(publishEventForPlugin(publishedEvents[eventName], pluginModule, eventName), "EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.", eventName, pluginName);
        }
      }
    }

    function publishEventForPlugin(dispatchConfig, pluginModule, eventName) {
      invariant(!eventNameDispatchConfigs.hasOwnProperty(eventName), "EventPluginHub: More than one plugin attempted to publish the same " + "event name, `%s`.", eventName);
      eventNameDispatchConfigs[eventName] = dispatchConfig;

      var phasedRegistrationNames = dispatchConfig.phasedRegistrationNames;
      if (phasedRegistrationNames) {
        for (var phaseName in phasedRegistrationNames) {
          if (phasedRegistrationNames.hasOwnProperty(phaseName)) {
            var phasedRegistrationName = phasedRegistrationNames[phaseName];
            publishRegistrationName(phasedRegistrationName, pluginModule, eventName);
          }
        }
        return true;
      } else if (dispatchConfig.registrationName) {
        publishRegistrationName(dispatchConfig.registrationName, pluginModule, eventName);
        return true;
      }
      return false;
    }

    function publishRegistrationName(registrationName, pluginModule, eventName) {
      invariant(!registrationNameModules[registrationName], "EventPluginHub: More than one plugin attempted to publish the same " + "registration name, `%s`.", registrationName);
      registrationNameModules[registrationName] = pluginModule;
      registrationNameDependencies[registrationName] = pluginModule.eventTypes[eventName].dependencies;

      {
        var lowerCasedName = registrationName.toLowerCase();
      }
    }

    var plugins = [];

    var eventNameDispatchConfigs = {};

    var registrationNameModules = {};

    var registrationNameDependencies = {};

    function injectEventPluginOrder(injectedEventPluginOrder) {
      invariant(!eventPluginOrder, "EventPluginRegistry: Cannot inject event plugin ordering more than " + "once. You are likely trying to load more than one copy of React.");

      eventPluginOrder = Array.prototype.slice.call(injectedEventPluginOrder);
      recomputePluginOrdering();
    }

    function injectEventPluginsByName(injectedNamesToPlugins) {
      var isOrderingDirty = false;
      for (var pluginName in injectedNamesToPlugins) {
        if (!injectedNamesToPlugins.hasOwnProperty(pluginName)) {
          continue;
        }
        var pluginModule = injectedNamesToPlugins[pluginName];
        if (!namesToPlugins.hasOwnProperty(pluginName) || namesToPlugins[pluginName] !== pluginModule) {
          invariant(!namesToPlugins[pluginName], "EventPluginRegistry: Cannot inject two different event plugins " + "using the same name, `%s`.", pluginName);
          namesToPlugins[pluginName] = pluginModule;
          isOrderingDirty = true;
        }
      }
      if (isOrderingDirty) {
        recomputePluginOrdering();
      }
    }

    var getFiberCurrentPropsFromNode = null;
    var getInstanceFromNode = null;
    var getNodeFromInstance = null;

    var injection$1 = {
      injectComponentTree: function injectComponentTree(Injected) {
        getFiberCurrentPropsFromNode = Injected.getFiberCurrentPropsFromNode;
        getInstanceFromNode = Injected.getInstanceFromNode;
        getNodeFromInstance = Injected.getNodeFromInstance;

        {
          warning(getNodeFromInstance && getInstanceFromNode, "EventPluginUtils.injection.injectComponentTree(...): Injected " + "module is missing getNodeFromInstance or getInstanceFromNode.");
        }
      }
    };

    function isEndish(topLevelType) {
      return topLevelType === "topMouseUp" || topLevelType === "topTouchEnd" || topLevelType === "topTouchCancel";
    }

    function isMoveish(topLevelType) {
      return topLevelType === "topMouseMove" || topLevelType === "topTouchMove";
    }
    function isStartish(topLevelType) {
      return topLevelType === "topMouseDown" || topLevelType === "topTouchStart";
    }

    var validateEventDispatches = void 0;
    {
      validateEventDispatches = function validateEventDispatches(event) {
        var dispatchListeners = event._dispatchListeners;
        var dispatchInstances = event._dispatchInstances;

        var listenersIsArr = Array.isArray(dispatchListeners);
        var listenersLen = listenersIsArr ? dispatchListeners.length : dispatchListeners ? 1 : 0;

        var instancesIsArr = Array.isArray(dispatchInstances);
        var instancesLen = instancesIsArr ? dispatchInstances.length : dispatchInstances ? 1 : 0;

        warning(instancesIsArr === listenersIsArr && instancesLen === listenersLen, "EventPluginUtils: Invalid `event`.");
      };
    }

    function executeDispatch(event, simulated, listener, inst) {
      var type = event.type || "unknown-event";
      event.currentTarget = getNodeFromInstance(inst);
      ReactErrorUtils.invokeGuardedCallbackAndCatchFirstError(type, listener, undefined, event);
      event.currentTarget = null;
    }

    function executeDispatchesInOrder(event, simulated) {
      var dispatchListeners = event._dispatchListeners;
      var dispatchInstances = event._dispatchInstances;
      {
        validateEventDispatches(event);
      }
      if (Array.isArray(dispatchListeners)) {
        for (var i = 0; i < dispatchListeners.length; i++) {
          if (event.isPropagationStopped()) {
            break;
          }

          executeDispatch(event, simulated, dispatchListeners[i], dispatchInstances[i]);
        }
      } else if (dispatchListeners) {
        executeDispatch(event, simulated, dispatchListeners, dispatchInstances);
      }
      event._dispatchListeners = null;
      event._dispatchInstances = null;
    }

    function executeDispatchesInOrderStopAtTrueImpl(event) {
      var dispatchListeners = event._dispatchListeners;
      var dispatchInstances = event._dispatchInstances;
      {
        validateEventDispatches(event);
      }
      if (Array.isArray(dispatchListeners)) {
        for (var i = 0; i < dispatchListeners.length; i++) {
          if (event.isPropagationStopped()) {
            break;
          }

          if (dispatchListeners[i](event, dispatchInstances[i])) {
            return dispatchInstances[i];
          }
        }
      } else if (dispatchListeners) {
        if (dispatchListeners(event, dispatchInstances)) {
          return dispatchInstances;
        }
      }
      return null;
    }

    function executeDispatchesInOrderStopAtTrue(event) {
      var ret = executeDispatchesInOrderStopAtTrueImpl(event);
      event._dispatchInstances = null;
      event._dispatchListeners = null;
      return ret;
    }

    function executeDirectDispatch(event) {
      {
        validateEventDispatches(event);
      }
      var dispatchListener = event._dispatchListeners;
      var dispatchInstance = event._dispatchInstances;
      invariant(!Array.isArray(dispatchListener), "executeDirectDispatch(...): Invalid `event`.");
      event.currentTarget = dispatchListener ? getNodeFromInstance(dispatchInstance) : null;
      var res = dispatchListener ? dispatchListener(event) : null;
      event.currentTarget = null;
      event._dispatchListeners = null;
      event._dispatchInstances = null;
      return res;
    }

    function hasDispatches(event) {
      return !!event._dispatchListeners;
    }

    function accumulateInto(current, next) {
      invariant(next != null, "accumulateInto(...): Accumulated items must not be null or undefined.");

      if (current == null) {
        return next;
      }

      if (Array.isArray(current)) {
        if (Array.isArray(next)) {
          current.push.apply(current, next);
          return current;
        }
        current.push(next);
        return current;
      }

      if (Array.isArray(next)) {
        return [current].concat(next);
      }

      return [current, next];
    }

    function forEachAccumulated(arr, cb, scope) {
      if (Array.isArray(arr)) {
        arr.forEach(cb, scope);
      } else if (arr) {
        cb.call(scope, arr);
      }
    }

    var eventQueue = null;

    var executeDispatchesAndRelease = function executeDispatchesAndRelease(event, simulated) {
      if (event) {
        executeDispatchesInOrder(event, simulated);

        if (!event.isPersistent()) {
          event.constructor.release(event);
        }
      }
    };
    var executeDispatchesAndReleaseSimulated = function executeDispatchesAndReleaseSimulated(e) {
      return executeDispatchesAndRelease(e, true);
    };
    var executeDispatchesAndReleaseTopLevel = function executeDispatchesAndReleaseTopLevel(e) {
      return executeDispatchesAndRelease(e, false);
    };

    function isInteractive(tag) {
      return tag === "button" || tag === "input" || tag === "select" || tag === "textarea";
    }

    function shouldPreventMouseEvent(name, type, props) {
      switch (name) {
        case "onClick":
        case "onClickCapture":
        case "onDoubleClick":
        case "onDoubleClickCapture":
        case "onMouseDown":
        case "onMouseDownCapture":
        case "onMouseMove":
        case "onMouseMoveCapture":
        case "onMouseUp":
        case "onMouseUpCapture":
          return !!(props.disabled && isInteractive(type));
        default:
          return false;
      }
    }

    var injection = {
      injectEventPluginOrder: injectEventPluginOrder,

      injectEventPluginsByName: injectEventPluginsByName
    };

    function getListener(inst, registrationName) {
      var listener = void 0;

      var stateNode = inst.stateNode;
      if (!stateNode) {
        return null;
      }
      var props = getFiberCurrentPropsFromNode(stateNode);
      if (!props) {
        return null;
      }
      listener = props[registrationName];
      if (shouldPreventMouseEvent(registrationName, inst.type, props)) {
        return null;
      }
      invariant(!listener || typeof listener === "function", "Expected `%s` listener to be a function, instead got a value of `%s` type.", registrationName, typeof listener);
      return listener;
    }

    function extractEvents(topLevelType, targetInst, nativeEvent, nativeEventTarget) {
      var events = null;
      for (var i = 0; i < plugins.length; i++) {
        var possiblePlugin = plugins[i];
        if (possiblePlugin) {
          var extractedEvents = possiblePlugin.extractEvents(topLevelType, targetInst, nativeEvent, nativeEventTarget);
          if (extractedEvents) {
            events = accumulateInto(events, extractedEvents);
          }
        }
      }
      return events;
    }

    function runEventsInBatch(events, simulated) {
      if (events !== null) {
        eventQueue = accumulateInto(eventQueue, events);
      }

      var processingEventQueue = eventQueue;
      eventQueue = null;

      if (!processingEventQueue) {
        return;
      }

      if (simulated) {
        forEachAccumulated(processingEventQueue, executeDispatchesAndReleaseSimulated);
      } else {
        forEachAccumulated(processingEventQueue, executeDispatchesAndReleaseTopLevel);
      }
      invariant(!eventQueue, "processEventQueue(): Additional events were enqueued while processing " + "an event queue. Support for this has not yet been implemented.");

      ReactErrorUtils.rethrowCaughtError();
    }

    function runExtractedEventsInBatch(topLevelType, targetInst, nativeEvent, nativeEventTarget) {
      var events = extractEvents(topLevelType, targetInst, nativeEvent, nativeEventTarget);
      runEventsInBatch(events, false);
    }

    var IndeterminateComponent = 0;
    var FunctionalComponent = 1;
    var ClassComponent = 2;
    var HostRoot = 3;
    var HostPortal = 4;
    var HostComponent = 5;
    var HostText = 6;
    var CallComponent = 7;
    var CallHandlerPhase = 8;
    var ReturnComponent = 9;
    var Fragment = 10;
    var Mode = 11;
    var ContextConsumer = 12;
    var ContextProvider = 13;

    function getParent(inst) {
      do {
        inst = inst["return"];
      } while (inst && inst.tag !== HostComponent);
      if (inst) {
        return inst;
      }
      return null;
    }

    function getLowestCommonAncestor(instA, instB) {
      var depthA = 0;
      for (var tempA = instA; tempA; tempA = getParent(tempA)) {
        depthA++;
      }
      var depthB = 0;
      for (var tempB = instB; tempB; tempB = getParent(tempB)) {
        depthB++;
      }

      while (depthA - depthB > 0) {
        instA = getParent(instA);
        depthA--;
      }

      while (depthB - depthA > 0) {
        instB = getParent(instB);
        depthB--;
      }

      var depth = depthA;
      while (depth--) {
        if (instA === instB || instA === instB.alternate) {
          return instA;
        }
        instA = getParent(instA);
        instB = getParent(instB);
      }
      return null;
    }

    function isAncestor(instA, instB) {
      while (instB) {
        if (instA === instB || instA === instB.alternate) {
          return true;
        }
        instB = getParent(instB);
      }
      return false;
    }

    function getParentInstance(inst) {
      return getParent(inst);
    }

    function traverseTwoPhase(inst, fn, arg) {
      var path = [];
      while (inst) {
        path.push(inst);
        inst = getParent(inst);
      }
      var i = void 0;
      for (i = path.length; i-- > 0;) {
        fn(path[i], "captured", arg);
      }
      for (i = 0; i < path.length; i++) {
        fn(path[i], "bubbled", arg);
      }
    }

    function listenerAtPhase(inst, event, propagationPhase) {
      var registrationName = event.dispatchConfig.phasedRegistrationNames[propagationPhase];
      return getListener(inst, registrationName);
    }

    function accumulateDirectionalDispatches(inst, phase, event) {
      {
        warning(inst, "Dispatching inst must not be null");
      }
      var listener = listenerAtPhase(inst, event, phase);
      if (listener) {
        event._dispatchListeners = accumulateInto(event._dispatchListeners, listener);
        event._dispatchInstances = accumulateInto(event._dispatchInstances, inst);
      }
    }

    function accumulateTwoPhaseDispatchesSingle(event) {
      if (event && event.dispatchConfig.phasedRegistrationNames) {
        traverseTwoPhase(event._targetInst, accumulateDirectionalDispatches, event);
      }
    }

    function accumulateTwoPhaseDispatchesSingleSkipTarget(event) {
      if (event && event.dispatchConfig.phasedRegistrationNames) {
        var targetInst = event._targetInst;
        var parentInst = targetInst ? getParentInstance(targetInst) : null;
        traverseTwoPhase(parentInst, accumulateDirectionalDispatches, event);
      }
    }

    function accumulateDispatches(inst, ignoredDirection, event) {
      if (inst && event && event.dispatchConfig.registrationName) {
        var registrationName = event.dispatchConfig.registrationName;
        var listener = getListener(inst, registrationName);
        if (listener) {
          event._dispatchListeners = accumulateInto(event._dispatchListeners, listener);
          event._dispatchInstances = accumulateInto(event._dispatchInstances, inst);
        }
      }
    }

    function accumulateDirectDispatchesSingle(event) {
      if (event && event.dispatchConfig.registrationName) {
        accumulateDispatches(event._targetInst, null, event);
      }
    }

    function accumulateTwoPhaseDispatches(events) {
      forEachAccumulated(events, accumulateTwoPhaseDispatchesSingle);
    }

    function accumulateTwoPhaseDispatchesSkipTarget(events) {
      forEachAccumulated(events, accumulateTwoPhaseDispatchesSingleSkipTarget);
    }

    function accumulateDirectDispatches(events) {
      forEachAccumulated(events, accumulateDirectDispatchesSingle);
    }

    var didWarnForAddedNewProperty = false;
    var EVENT_POOL_SIZE = 10;

    var shouldBeReleasedProperties = ["dispatchConfig", "_targetInst", "nativeEvent", "isDefaultPrevented", "isPropagationStopped", "_dispatchListeners", "_dispatchInstances"];

    var EventInterface = {
      type: null,
      target: null,

      currentTarget: emptyFunction.thatReturnsNull,
      eventPhase: null,
      bubbles: null,
      cancelable: null,
      timeStamp: function timeStamp(event) {
        return event.timeStamp || Date.now();
      },
      defaultPrevented: null,
      isTrusted: null
    };

    function SyntheticEvent(dispatchConfig, targetInst, nativeEvent, nativeEventTarget) {
      {
        delete this.nativeEvent;
        delete this.preventDefault;
        delete this.stopPropagation;
      }

      this.dispatchConfig = dispatchConfig;
      this._targetInst = targetInst;
      this.nativeEvent = nativeEvent;

      var Interface = this.constructor.Interface;
      for (var propName in Interface) {
        if (!Interface.hasOwnProperty(propName)) {
          continue;
        }
        {
          delete this[propName];
        }
        var normalize = Interface[propName];
        if (normalize) {
          this[propName] = normalize(nativeEvent);
        } else {
          if (propName === "target") {
            this.target = nativeEventTarget;
          } else {
            this[propName] = nativeEvent[propName];
          }
        }
      }

      var defaultPrevented = nativeEvent.defaultPrevented != null ? nativeEvent.defaultPrevented : nativeEvent.returnValue === false;
      if (defaultPrevented) {
        this.isDefaultPrevented = emptyFunction.thatReturnsTrue;
      } else {
        this.isDefaultPrevented = emptyFunction.thatReturnsFalse;
      }
      this.isPropagationStopped = emptyFunction.thatReturnsFalse;
      return this;
    }

    _extends(SyntheticEvent.prototype, {
      preventDefault: function preventDefault() {
        this.defaultPrevented = true;
        var event = this.nativeEvent;
        if (!event) {
          return;
        }

        if (event.preventDefault) {
          event.preventDefault();
        } else if (typeof event.returnValue !== "unknown") {
          event.returnValue = false;
        }
        this.isDefaultPrevented = emptyFunction.thatReturnsTrue;
      },

      stopPropagation: function stopPropagation() {
        var event = this.nativeEvent;
        if (!event) {
          return;
        }

        if (event.stopPropagation) {
          event.stopPropagation();
        } else if (typeof event.cancelBubble !== "unknown") {
          event.cancelBubble = true;
        }

        this.isPropagationStopped = emptyFunction.thatReturnsTrue;
      },

      persist: function persist() {
        this.isPersistent = emptyFunction.thatReturnsTrue;
      },

      isPersistent: emptyFunction.thatReturnsFalse,

      destructor: function destructor() {
        var Interface = this.constructor.Interface;
        for (var propName in Interface) {
          {
            Object.defineProperty(this, propName, getPooledWarningPropertyDefinition(propName, Interface[propName]));
          }
        }
        for (var i = 0; i < shouldBeReleasedProperties.length; i++) {
          this[shouldBeReleasedProperties[i]] = null;
        }
        {
          Object.defineProperty(this, "nativeEvent", getPooledWarningPropertyDefinition("nativeEvent", null));
          Object.defineProperty(this, "preventDefault", getPooledWarningPropertyDefinition("preventDefault", emptyFunction));
          Object.defineProperty(this, "stopPropagation", getPooledWarningPropertyDefinition("stopPropagation", emptyFunction));
        }
      }
    });

    SyntheticEvent.Interface = EventInterface;

    SyntheticEvent.extend = function (Interface) {
      var Super = this;

      var E = function E() {};
      E.prototype = Super.prototype;
      var prototype = new E();

      function Class() {
        return Super.apply(this, arguments);
      }
      _extends(prototype, Class.prototype);
      Class.prototype = prototype;
      Class.prototype.constructor = Class;

      Class.Interface = _extends({}, Super.Interface, Interface);
      Class.extend = Super.extend;
      addEventPoolingTo(Class);

      return Class;
    };

    {
      var isProxySupported = typeof Proxy === "function" && !Object.isSealed(new Proxy({}, {}));

      if (isProxySupported) {
        SyntheticEvent = new Proxy(SyntheticEvent, {
          construct: function construct(target, args) {
            return this.apply(target, Object.create(target.prototype), args);
          },
          apply: function apply(constructor, that, args) {
            return new Proxy(constructor.apply(that, args), {
              set: function set(target, prop, value) {
                if (prop !== "isPersistent" && !target.constructor.Interface.hasOwnProperty(prop) && shouldBeReleasedProperties.indexOf(prop) === -1) {
                  warning(didWarnForAddedNewProperty || target.isPersistent(), "This synthetic event is reused for performance reasons. If you're " + "seeing this, you're adding a new property in the synthetic event object. " + "The property is never released. See " + "https://fb.me/react-event-pooling for more information.");
                  didWarnForAddedNewProperty = true;
                }
                target[prop] = value;
                return true;
              }
            });
          }
        });
      }
    }

    addEventPoolingTo(SyntheticEvent);

    function getPooledWarningPropertyDefinition(propName, getVal) {
      var isFunction = typeof getVal === "function";
      return {
        configurable: true,
        set: set,
        get: get
      };

      function set(val) {
        var action = isFunction ? "setting the method" : "setting the property";
        warn(action, "This is effectively a no-op");
        return val;
      }

      function get() {
        var action = isFunction ? "accessing the method" : "accessing the property";
        var result = isFunction ? "This is a no-op function" : "This is set to null";
        warn(action, result);
        return getVal;
      }

      function warn(action, result) {
        var warningCondition = false;
        warning(warningCondition, "This synthetic event is reused for performance reasons. If you're seeing this, " + "you're %s `%s` on a released/nullified synthetic event. %s. " + "If you must keep the original synthetic event around, use event.persist(). " + "See https://fb.me/react-event-pooling for more information.", action, propName, result);
      }
    }

    function getPooledEvent(dispatchConfig, targetInst, nativeEvent, nativeInst) {
      var EventConstructor = this;
      if (EventConstructor.eventPool.length) {
        var instance = EventConstructor.eventPool.pop();
        EventConstructor.call(instance, dispatchConfig, targetInst, nativeEvent, nativeInst);
        return instance;
      }
      return new EventConstructor(dispatchConfig, targetInst, nativeEvent, nativeInst);
    }

    function releasePooledEvent(event) {
      var EventConstructor = this;
      invariant(event instanceof EventConstructor, "Trying to release an event instance  into a pool of a different type.");
      event.destructor();
      if (EventConstructor.eventPool.length < EVENT_POOL_SIZE) {
        EventConstructor.eventPool.push(event);
      }
    }

    function addEventPoolingTo(EventConstructor) {
      EventConstructor.eventPool = [];
      EventConstructor.getPooled = getPooledEvent;
      EventConstructor.release = releasePooledEvent;
    }

    var SyntheticEvent$1 = SyntheticEvent;

    var ResponderSyntheticEvent = SyntheticEvent$1.extend({
      touchHistory: function touchHistory(nativeEvent) {
        return null;
      }
    });

    var MAX_TOUCH_BANK = 20;
    var touchBank = [];
    var touchHistory = {
      touchBank: touchBank,
      numberActiveTouches: 0,

      indexOfSingleActiveTouch: -1,
      mostRecentTimeStamp: 0
    };

    function timestampForTouch(touch) {
      return touch.timeStamp || touch.timestamp;
    }

    function createTouchRecord(touch) {
      return {
        touchActive: true,
        startPageX: touch.pageX,
        startPageY: touch.pageY,
        startTimeStamp: timestampForTouch(touch),
        currentPageX: touch.pageX,
        currentPageY: touch.pageY,
        currentTimeStamp: timestampForTouch(touch),
        previousPageX: touch.pageX,
        previousPageY: touch.pageY,
        previousTimeStamp: timestampForTouch(touch)
      };
    }

    function resetTouchRecord(touchRecord, touch) {
      touchRecord.touchActive = true;
      touchRecord.startPageX = touch.pageX;
      touchRecord.startPageY = touch.pageY;
      touchRecord.startTimeStamp = timestampForTouch(touch);
      touchRecord.currentPageX = touch.pageX;
      touchRecord.currentPageY = touch.pageY;
      touchRecord.currentTimeStamp = timestampForTouch(touch);
      touchRecord.previousPageX = touch.pageX;
      touchRecord.previousPageY = touch.pageY;
      touchRecord.previousTimeStamp = timestampForTouch(touch);
    }

    function getTouchIdentifier(_ref) {
      var identifier = _ref.identifier;

      invariant(identifier != null, "Touch object is missing identifier.");
      {
        warning(identifier <= MAX_TOUCH_BANK, "Touch identifier %s is greater than maximum supported %s which causes " + "performance issues backfilling array locations for all of the indices.", identifier, MAX_TOUCH_BANK);
      }
      return identifier;
    }

    function recordTouchStart(touch) {
      var identifier = getTouchIdentifier(touch);
      var touchRecord = touchBank[identifier];
      if (touchRecord) {
        resetTouchRecord(touchRecord, touch);
      } else {
        touchBank[identifier] = createTouchRecord(touch);
      }
      touchHistory.mostRecentTimeStamp = timestampForTouch(touch);
    }

    function recordTouchMove(touch) {
      var touchRecord = touchBank[getTouchIdentifier(touch)];
      if (touchRecord) {
        touchRecord.touchActive = true;
        touchRecord.previousPageX = touchRecord.currentPageX;
        touchRecord.previousPageY = touchRecord.currentPageY;
        touchRecord.previousTimeStamp = touchRecord.currentTimeStamp;
        touchRecord.currentPageX = touch.pageX;
        touchRecord.currentPageY = touch.pageY;
        touchRecord.currentTimeStamp = timestampForTouch(touch);
        touchHistory.mostRecentTimeStamp = timestampForTouch(touch);
      } else {
        console.error("Cannot record touch move without a touch start.\n" + "Touch Move: %s\n", "Touch Bank: %s", printTouch(touch), printTouchBank());
      }
    }

    function recordTouchEnd(touch) {
      var touchRecord = touchBank[getTouchIdentifier(touch)];
      if (touchRecord) {
        touchRecord.touchActive = false;
        touchRecord.previousPageX = touchRecord.currentPageX;
        touchRecord.previousPageY = touchRecord.currentPageY;
        touchRecord.previousTimeStamp = touchRecord.currentTimeStamp;
        touchRecord.currentPageX = touch.pageX;
        touchRecord.currentPageY = touch.pageY;
        touchRecord.currentTimeStamp = timestampForTouch(touch);
        touchHistory.mostRecentTimeStamp = timestampForTouch(touch);
      } else {
        console.error("Cannot record touch end without a touch start.\n" + "Touch End: %s\n", "Touch Bank: %s", printTouch(touch), printTouchBank());
      }
    }

    function printTouch(touch) {
      return JSON.stringify({
        identifier: touch.identifier,
        pageX: touch.pageX,
        pageY: touch.pageY,
        timestamp: timestampForTouch(touch)
      });
    }

    function printTouchBank() {
      var printed = JSON.stringify(touchBank.slice(0, MAX_TOUCH_BANK));
      if (touchBank.length > MAX_TOUCH_BANK) {
        printed += " (original size: " + touchBank.length + ")";
      }
      return printed;
    }

    var ResponderTouchHistoryStore = {
      recordTouchTrack: function recordTouchTrack(topLevelType, nativeEvent) {
        if (isMoveish(topLevelType)) {
          nativeEvent.changedTouches.forEach(recordTouchMove);
        } else if (isStartish(topLevelType)) {
          nativeEvent.changedTouches.forEach(recordTouchStart);
          touchHistory.numberActiveTouches = nativeEvent.touches.length;
          if (touchHistory.numberActiveTouches === 1) {
            touchHistory.indexOfSingleActiveTouch = nativeEvent.touches[0].identifier;
          }
        } else if (isEndish(topLevelType)) {
          nativeEvent.changedTouches.forEach(recordTouchEnd);
          touchHistory.numberActiveTouches = nativeEvent.touches.length;
          if (touchHistory.numberActiveTouches === 1) {
            for (var i = 0; i < touchBank.length; i++) {
              var touchTrackToCheck = touchBank[i];
              if (touchTrackToCheck != null && touchTrackToCheck.touchActive) {
                touchHistory.indexOfSingleActiveTouch = i;
                break;
              }
            }
            {
              var activeRecord = touchBank[touchHistory.indexOfSingleActiveTouch];
              warning(activeRecord != null && activeRecord.touchActive, "Cannot find single active touch.");
            }
          }
        }
      },

      touchHistory: touchHistory
    };

    function accumulate(current, next) {
      invariant(next != null, "accumulate(...): Accumulated items must be not be null or undefined.");

      if (current == null) {
        return next;
      }

      if (Array.isArray(current)) {
        return current.concat(next);
      }

      if (Array.isArray(next)) {
        return [current].concat(next);
      }

      return [current, next];
    }

    var responderInst = null;

    var trackedTouchCount = 0;

    var previousActiveTouches = 0;

    var changeResponder = function changeResponder(nextResponderInst, blockHostResponder) {
      var oldResponderInst = responderInst;
      responderInst = nextResponderInst;
      if (ResponderEventPlugin.GlobalResponderHandler !== null) {
        ResponderEventPlugin.GlobalResponderHandler.onChange(oldResponderInst, nextResponderInst, blockHostResponder);
      }
    };

    var eventTypes = {
      startShouldSetResponder: {
        phasedRegistrationNames: {
          bubbled: "onStartShouldSetResponder",
          captured: "onStartShouldSetResponderCapture"
        }
      },

      scrollShouldSetResponder: {
        phasedRegistrationNames: {
          bubbled: "onScrollShouldSetResponder",
          captured: "onScrollShouldSetResponderCapture"
        }
      },

      selectionChangeShouldSetResponder: {
        phasedRegistrationNames: {
          bubbled: "onSelectionChangeShouldSetResponder",
          captured: "onSelectionChangeShouldSetResponderCapture"
        }
      },

      moveShouldSetResponder: {
        phasedRegistrationNames: {
          bubbled: "onMoveShouldSetResponder",
          captured: "onMoveShouldSetResponderCapture"
        }
      },

      responderStart: { registrationName: "onResponderStart" },
      responderMove: { registrationName: "onResponderMove" },
      responderEnd: { registrationName: "onResponderEnd" },
      responderRelease: { registrationName: "onResponderRelease" },
      responderTerminationRequest: {
        registrationName: "onResponderTerminationRequest"
      },
      responderGrant: { registrationName: "onResponderGrant" },
      responderReject: { registrationName: "onResponderReject" },
      responderTerminate: { registrationName: "onResponderTerminate" }
    };

    function setResponderAndExtractTransfer(topLevelType, targetInst, nativeEvent, nativeEventTarget) {
      var shouldSetEventType = isStartish(topLevelType) ? eventTypes.startShouldSetResponder : isMoveish(topLevelType) ? eventTypes.moveShouldSetResponder : topLevelType === "topSelectionChange" ? eventTypes.selectionChangeShouldSetResponder : eventTypes.scrollShouldSetResponder;

      var bubbleShouldSetFrom = !responderInst ? targetInst : getLowestCommonAncestor(responderInst, targetInst);

      var skipOverBubbleShouldSetFrom = bubbleShouldSetFrom === responderInst;
      var shouldSetEvent = ResponderSyntheticEvent.getPooled(shouldSetEventType, bubbleShouldSetFrom, nativeEvent, nativeEventTarget);
      shouldSetEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;
      if (skipOverBubbleShouldSetFrom) {
        accumulateTwoPhaseDispatchesSkipTarget(shouldSetEvent);
      } else {
        accumulateTwoPhaseDispatches(shouldSetEvent);
      }
      var wantsResponderInst = executeDispatchesInOrderStopAtTrue(shouldSetEvent);
      if (!shouldSetEvent.isPersistent()) {
        shouldSetEvent.constructor.release(shouldSetEvent);
      }

      if (!wantsResponderInst || wantsResponderInst === responderInst) {
        return null;
      }
      var extracted = void 0;
      var grantEvent = ResponderSyntheticEvent.getPooled(eventTypes.responderGrant, wantsResponderInst, nativeEvent, nativeEventTarget);
      grantEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;

      accumulateDirectDispatches(grantEvent);
      var blockHostResponder = executeDirectDispatch(grantEvent) === true;
      if (responderInst) {
        var terminationRequestEvent = ResponderSyntheticEvent.getPooled(eventTypes.responderTerminationRequest, responderInst, nativeEvent, nativeEventTarget);
        terminationRequestEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;
        accumulateDirectDispatches(terminationRequestEvent);
        var shouldSwitch = !hasDispatches(terminationRequestEvent) || executeDirectDispatch(terminationRequestEvent);
        if (!terminationRequestEvent.isPersistent()) {
          terminationRequestEvent.constructor.release(terminationRequestEvent);
        }

        if (shouldSwitch) {
          var terminateEvent = ResponderSyntheticEvent.getPooled(eventTypes.responderTerminate, responderInst, nativeEvent, nativeEventTarget);
          terminateEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;
          accumulateDirectDispatches(terminateEvent);
          extracted = accumulate(extracted, [grantEvent, terminateEvent]);
          changeResponder(wantsResponderInst, blockHostResponder);
        } else {
          var rejectEvent = ResponderSyntheticEvent.getPooled(eventTypes.responderReject, wantsResponderInst, nativeEvent, nativeEventTarget);
          rejectEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;
          accumulateDirectDispatches(rejectEvent);
          extracted = accumulate(extracted, rejectEvent);
        }
      } else {
        extracted = accumulate(extracted, grantEvent);
        changeResponder(wantsResponderInst, blockHostResponder);
      }
      return extracted;
    }

    function canTriggerTransfer(topLevelType, topLevelInst, nativeEvent) {
      return topLevelInst && (topLevelType === "topScroll" && !nativeEvent.responderIgnoreScroll || trackedTouchCount > 0 && topLevelType === "topSelectionChange" || isStartish(topLevelType) || isMoveish(topLevelType));
    }

    function noResponderTouches(nativeEvent) {
      var touches = nativeEvent.touches;
      if (!touches || touches.length === 0) {
        return true;
      }
      for (var i = 0; i < touches.length; i++) {
        var activeTouch = touches[i];
        var target = activeTouch.target;
        if (target !== null && target !== undefined && target !== 0) {
          var targetInst = getInstanceFromNode(target);
          if (isAncestor(responderInst, targetInst)) {
            return false;
          }
        }
      }
      return true;
    }

    var ResponderEventPlugin = {
      _getResponder: function _getResponder() {
        return responderInst;
      },

      eventTypes: eventTypes,

      extractEvents: function extractEvents(topLevelType, targetInst, nativeEvent, nativeEventTarget) {
        if (isStartish(topLevelType)) {
          trackedTouchCount += 1;
        } else if (isEndish(topLevelType)) {
          if (trackedTouchCount >= 0) {
            trackedTouchCount -= 1;
          } else {
            console.error("Ended a touch event which was not counted in `trackedTouchCount`.");
            return null;
          }
        }

        ResponderTouchHistoryStore.recordTouchTrack(topLevelType, nativeEvent);

        var extracted = canTriggerTransfer(topLevelType, targetInst, nativeEvent) ? setResponderAndExtractTransfer(topLevelType, targetInst, nativeEvent, nativeEventTarget) : null;

        var isResponderTouchStart = responderInst && isStartish(topLevelType);
        var isResponderTouchMove = responderInst && isMoveish(topLevelType);
        var isResponderTouchEnd = responderInst && isEndish(topLevelType);
        var incrementalTouch = isResponderTouchStart ? eventTypes.responderStart : isResponderTouchMove ? eventTypes.responderMove : isResponderTouchEnd ? eventTypes.responderEnd : null;

        if (incrementalTouch) {
          var gesture = ResponderSyntheticEvent.getPooled(incrementalTouch, responderInst, nativeEvent, nativeEventTarget);
          gesture.touchHistory = ResponderTouchHistoryStore.touchHistory;
          accumulateDirectDispatches(gesture);
          extracted = accumulate(extracted, gesture);
        }

        var isResponderTerminate = responderInst && topLevelType === "topTouchCancel";
        var isResponderRelease = responderInst && !isResponderTerminate && isEndish(topLevelType) && noResponderTouches(nativeEvent);
        var finalTouch = isResponderTerminate ? eventTypes.responderTerminate : isResponderRelease ? eventTypes.responderRelease : null;
        if (finalTouch) {
          var finalEvent = ResponderSyntheticEvent.getPooled(finalTouch, responderInst, nativeEvent, nativeEventTarget);
          finalEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;
          accumulateDirectDispatches(finalEvent);
          extracted = accumulate(extracted, finalEvent);
          changeResponder(null);
        }

        var numberActiveTouches = ResponderTouchHistoryStore.touchHistory.numberActiveTouches;
        if (ResponderEventPlugin.GlobalInteractionHandler && numberActiveTouches !== previousActiveTouches) {
          ResponderEventPlugin.GlobalInteractionHandler.onChange(numberActiveTouches);
        }
        previousActiveTouches = numberActiveTouches;

        return extracted;
      },

      GlobalResponderHandler: null,
      GlobalInteractionHandler: null,

      injection: {
        injectGlobalResponderHandler: function injectGlobalResponderHandler(GlobalResponderHandler) {
          ResponderEventPlugin.GlobalResponderHandler = GlobalResponderHandler;
        },

        injectGlobalInteractionHandler: function injectGlobalInteractionHandler(GlobalInteractionHandler) {
          ResponderEventPlugin.GlobalInteractionHandler = GlobalInteractionHandler;
        }
      }
    };

    var customBubblingEventTypes = {};
    var customDirectEventTypes = {};

    var ReactNativeBridgeEventPlugin = {
      eventTypes: {},

      extractEvents: function extractEvents(topLevelType, targetInst, nativeEvent, nativeEventTarget) {
        if (targetInst == null) {
          return null;
        }
        var bubbleDispatchConfig = customBubblingEventTypes[topLevelType];
        var directDispatchConfig = customDirectEventTypes[topLevelType];
        invariant(bubbleDispatchConfig || directDispatchConfig, 'Unsupported top level event type "%s" dispatched', topLevelType);
        var event = SyntheticEvent$1.getPooled(bubbleDispatchConfig || directDispatchConfig, targetInst, nativeEvent, nativeEventTarget);
        if (bubbleDispatchConfig) {
          accumulateTwoPhaseDispatches(event);
        } else if (directDispatchConfig) {
          accumulateDirectDispatches(event);
        } else {
          return null;
        }
        return event;
      },

      processEventTypes: function processEventTypes(viewConfig) {
        var bubblingEventTypes = viewConfig.bubblingEventTypes,
            directEventTypes = viewConfig.directEventTypes;

        {
          if (bubblingEventTypes != null && directEventTypes != null) {
            for (var topLevelType in directEventTypes) {
              invariant(bubblingEventTypes[topLevelType] == null, "Event cannot be both direct and bubbling: %s", topLevelType);
            }
          }
        }

        if (bubblingEventTypes != null) {
          for (var _topLevelType in bubblingEventTypes) {
            if (customBubblingEventTypes[_topLevelType] == null) {
              ReactNativeBridgeEventPlugin.eventTypes[_topLevelType] = customBubblingEventTypes[_topLevelType] = bubblingEventTypes[_topLevelType];
            }
          }
        }

        if (directEventTypes != null) {
          for (var _topLevelType2 in directEventTypes) {
            if (customDirectEventTypes[_topLevelType2] == null) {
              ReactNativeBridgeEventPlugin.eventTypes[_topLevelType2] = customDirectEventTypes[_topLevelType2] = directEventTypes[_topLevelType2];
            }
          }
        }
      }
    };

    var instanceCache = {};
    var instanceProps = {};

    function precacheFiberNode(hostInst, tag) {
      instanceCache[tag] = hostInst;
    }

    function uncacheFiberNode(tag) {
      delete instanceCache[tag];
      delete instanceProps[tag];
    }

    function getInstanceFromTag(tag) {
      if (typeof tag === "number") {
        return instanceCache[tag] || null;
      } else {
        return tag;
      }
    }

    function getTagFromInstance(inst) {
      var tag = inst.stateNode._nativeTag;
      if (tag === undefined) {
        tag = inst.stateNode.canonical._nativeTag;
      }
      invariant(tag, "All native instances should have a tag.");
      return tag;
    }

    function getFiberCurrentPropsFromNode$1(stateNode) {
      return instanceProps[stateNode._nativeTag] || null;
    }

    function updateFiberProps(tag, props) {
      instanceProps[tag] = props;
    }

    var ReactNativeComponentTree = Object.freeze({
      precacheFiberNode: precacheFiberNode,
      uncacheFiberNode: uncacheFiberNode,
      getClosestInstanceFromNode: getInstanceFromTag,
      getInstanceFromNode: getInstanceFromTag,
      getNodeFromInstance: getTagFromInstance,
      getFiberCurrentPropsFromNode: getFiberCurrentPropsFromNode$1,
      updateFiberProps: updateFiberProps
    });

    var ReactNativeEventPluginOrder = ["ResponderEventPlugin", "ReactNativeBridgeEventPlugin"];

    var ReactNativeGlobalResponderHandler = {
      onChange: function onChange(from, to, blockNativeResponder) {
        if (to !== null) {
          var tag = to.stateNode._nativeTag;
          UIManager.setJSResponder(tag, blockNativeResponder);
        } else {
          UIManager.clearJSResponder();
        }
      }
    };

    injection.injectEventPluginOrder(ReactNativeEventPluginOrder);
    injection$1.injectComponentTree(ReactNativeComponentTree);

    ResponderEventPlugin.injection.injectGlobalResponderHandler(ReactNativeGlobalResponderHandler);

    injection.injectEventPluginsByName({
      ResponderEventPlugin: ResponderEventPlugin,
      ReactNativeBridgeEventPlugin: ReactNativeBridgeEventPlugin
    });

    var fiberHostComponent = null;

    var restoreTarget = null;
    var restoreQueue = null;

    function restoreStateOfTarget(target) {
      var internalInstance = getInstanceFromNode(target);
      if (!internalInstance) {
        return;
      }
      invariant(fiberHostComponent && typeof fiberHostComponent.restoreControlledState === "function", "Fiber needs to be injected to handle a fiber target for controlled " + "events. This error is likely caused by a bug in React. Please file an issue.");
      var props = getFiberCurrentPropsFromNode(internalInstance.stateNode);
      fiberHostComponent.restoreControlledState(internalInstance.stateNode, internalInstance.type, props);
    }

    function needsStateRestore() {
      return restoreTarget !== null || restoreQueue !== null;
    }

    function restoreStateIfNeeded() {
      if (!restoreTarget) {
        return;
      }
      var target = restoreTarget;
      var queuedTargets = restoreQueue;
      restoreTarget = null;
      restoreQueue = null;

      restoreStateOfTarget(target);
      if (queuedTargets) {
        for (var i = 0; i < queuedTargets.length; i++) {
          restoreStateOfTarget(queuedTargets[i]);
        }
      }
    }

    var _batchedUpdates = function _batchedUpdates(fn, bookkeeping) {
      return fn(bookkeeping);
    };
    var _interactiveUpdates = function _interactiveUpdates(fn, a, b) {
      return fn(a, b);
    };
    var _flushInteractiveUpdates = function _flushInteractiveUpdates() {};

    var isBatching = false;
    function batchedUpdates(fn, bookkeeping) {
      if (isBatching) {
        return fn(bookkeeping);
      }
      isBatching = true;
      try {
        return _batchedUpdates(fn, bookkeeping);
      } finally {
        isBatching = false;
        var controlledComponentsHavePendingUpdates = needsStateRestore();
        if (controlledComponentsHavePendingUpdates) {
          _flushInteractiveUpdates();
          restoreStateIfNeeded();
        }
      }
    }

    var injection$2 = {
      injectRenderer: function injectRenderer(renderer) {
        _batchedUpdates = renderer.batchedUpdates;
        _interactiveUpdates = renderer.interactiveUpdates;
        _flushInteractiveUpdates = renderer.flushInteractiveUpdates;
      }
    };

    var INITIAL_TAG_COUNT = 1;
    var ReactNativeTagHandles = {
      tagsStartAt: INITIAL_TAG_COUNT,
      tagCount: INITIAL_TAG_COUNT,

      allocateTag: function allocateTag() {
        while (this.reactTagIsNativeTopRootID(ReactNativeTagHandles.tagCount)) {
          ReactNativeTagHandles.tagCount++;
        }
        var tag = ReactNativeTagHandles.tagCount;
        ReactNativeTagHandles.tagCount++;
        return tag;
      },

      assertRootTag: function assertRootTag(tag) {
        invariant(this.reactTagIsNativeTopRootID(tag), "Expect a native root tag, instead got %s", tag);
      },

      reactTagIsNativeTopRootID: function reactTagIsNativeTopRootID(reactTag) {
        return reactTag % 10 === 1;
      }
    };

    var EMPTY_NATIVE_EVENT = {};

    var touchSubsequence = function touchSubsequence(touches, indices) {
      var ret = [];
      for (var i = 0; i < indices.length; i++) {
        ret.push(touches[indices[i]]);
      }
      return ret;
    };

    var removeTouchesAtIndices = function removeTouchesAtIndices(touches, indices) {
      var rippedOut = [];

      var temp = touches;
      for (var i = 0; i < indices.length; i++) {
        var index = indices[i];
        rippedOut.push(touches[index]);
        temp[index] = null;
      }
      var fillAt = 0;
      for (var j = 0; j < temp.length; j++) {
        var cur = temp[j];
        if (cur !== null) {
          temp[fillAt++] = cur;
        }
      }
      temp.length = fillAt;
      return rippedOut;
    };

    function _receiveRootNodeIDEvent(rootNodeID, topLevelType, nativeEventParam) {
      var nativeEvent = nativeEventParam || EMPTY_NATIVE_EVENT;
      var inst = getInstanceFromTag(rootNodeID);
      batchedUpdates(function () {
        runExtractedEventsInBatch(topLevelType, inst, nativeEvent, nativeEvent.target);
      });
    }

    function receiveEvent(rootNodeID, topLevelType, nativeEventParam) {
      _receiveRootNodeIDEvent(rootNodeID, topLevelType, nativeEventParam);
    }

    function receiveTouches(eventTopLevelType, touches, changedIndices) {
      var changedTouches = eventTopLevelType === "topTouchEnd" || eventTopLevelType === "topTouchCancel" ? removeTouchesAtIndices(touches, changedIndices) : touchSubsequence(touches, changedIndices);

      for (var jj = 0; jj < changedTouches.length; jj++) {
        var touch = changedTouches[jj];

        touch.changedTouches = changedTouches;
        touch.touches = touches;
        var nativeEvent = touch;
        var rootNodeID = null;
        var target = nativeEvent.target;
        if (target !== null && target !== undefined) {
          if (target < ReactNativeTagHandles.tagsStartAt) {
            {
              warning(false, "A view is reporting that a touch occurred on tag zero.");
            }
          } else {
            rootNodeID = target;
          }
        }

        _receiveRootNodeIDEvent(rootNodeID, eventTopLevelType, nativeEvent);
      }
    }

    var ReactNativeEventEmitter = Object.freeze({
      getListener: getListener,
      registrationNames: registrationNameModules,
      _receiveRootNodeIDEvent: _receiveRootNodeIDEvent,
      receiveEvent: receiveEvent,
      receiveTouches: receiveTouches
    });

    RCTEventEmitter.register(ReactNativeEventEmitter);

    var hasSymbol = typeof Symbol === "function" && Symbol["for"];

    var REACT_ELEMENT_TYPE = hasSymbol ? Symbol["for"]("react.element") : 0xeac7;
    var REACT_CALL_TYPE = hasSymbol ? Symbol["for"]("react.call") : 0xeac8;
    var REACT_RETURN_TYPE = hasSymbol ? Symbol["for"]("react.return") : 0xeac9;
    var REACT_PORTAL_TYPE = hasSymbol ? Symbol["for"]("react.portal") : 0xeaca;
    var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol["for"]("react.fragment") : 0xeacb;
    var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol["for"]("react.strict_mode") : 0xeacc;
    var REACT_PROVIDER_TYPE = hasSymbol ? Symbol["for"]("react.provider") : 0xeacd;
    var REACT_CONTEXT_TYPE = hasSymbol ? Symbol["for"]("react.context") : 0xeace;
    var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol["for"]("react.async_mode") : 0xeacf;

    var MAYBE_ITERATOR_SYMBOL = typeof Symbol === "function" && (typeof Symbol === "function" ? Symbol.iterator : "@@iterator");
    var FAUX_ITERATOR_SYMBOL = "@@iterator";

    function getIteratorFn(maybeIterable) {
      if (maybeIterable === null || typeof maybeIterable === "undefined") {
        return null;
      }
      var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];
      if (typeof maybeIterator === "function") {
        return maybeIterator;
      }
      return null;
    }

    function _createPortal(children, containerInfo, implementation) {
      var key = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;

      return {
        $$typeof: REACT_PORTAL_TYPE,
        key: key == null ? null : "" + key,
        children: children,
        containerInfo: containerInfo,
        implementation: implementation
      };
    }

    var TouchHistoryMath = {
      centroidDimension: function centroidDimension(touchHistory, touchesChangedAfter, isXAxis, ofCurrent) {
        var touchBank = touchHistory.touchBank;
        var total = 0;
        var count = 0;

        var oneTouchData = touchHistory.numberActiveTouches === 1 ? touchHistory.touchBank[touchHistory.indexOfSingleActiveTouch] : null;

        if (oneTouchData !== null) {
          if (oneTouchData.touchActive && oneTouchData.currentTimeStamp > touchesChangedAfter) {
            total += ofCurrent && isXAxis ? oneTouchData.currentPageX : ofCurrent && !isXAxis ? oneTouchData.currentPageY : !ofCurrent && isXAxis ? oneTouchData.previousPageX : oneTouchData.previousPageY;
            count = 1;
          }
        } else {
          for (var i = 0; i < touchBank.length; i++) {
            var touchTrack = touchBank[i];
            if (touchTrack !== null && touchTrack !== undefined && touchTrack.touchActive && touchTrack.currentTimeStamp >= touchesChangedAfter) {
              var toAdd = void 0;
              if (ofCurrent && isXAxis) {
                toAdd = touchTrack.currentPageX;
              } else if (ofCurrent && !isXAxis) {
                toAdd = touchTrack.currentPageY;
              } else if (!ofCurrent && isXAxis) {
                toAdd = touchTrack.previousPageX;
              } else {
                toAdd = touchTrack.previousPageY;
              }
              total += toAdd;
              count++;
            }
          }
        }
        return count > 0 ? total / count : TouchHistoryMath.noCentroid;
      },

      currentCentroidXOfTouchesChangedAfter: function currentCentroidXOfTouchesChangedAfter(touchHistory, touchesChangedAfter) {
        return TouchHistoryMath.centroidDimension(touchHistory, touchesChangedAfter, true, true);
      },

      currentCentroidYOfTouchesChangedAfter: function currentCentroidYOfTouchesChangedAfter(touchHistory, touchesChangedAfter) {
        return TouchHistoryMath.centroidDimension(touchHistory, touchesChangedAfter, false, true);
      },

      previousCentroidXOfTouchesChangedAfter: function previousCentroidXOfTouchesChangedAfter(touchHistory, touchesChangedAfter) {
        return TouchHistoryMath.centroidDimension(touchHistory, touchesChangedAfter, true, false);
      },

      previousCentroidYOfTouchesChangedAfter: function previousCentroidYOfTouchesChangedAfter(touchHistory, touchesChangedAfter) {
        return TouchHistoryMath.centroidDimension(touchHistory, touchesChangedAfter, false, false);
      },

      currentCentroidX: function currentCentroidX(touchHistory) {
        return TouchHistoryMath.centroidDimension(touchHistory, 0, true, true);
      },

      currentCentroidY: function currentCentroidY(touchHistory) {
        return TouchHistoryMath.centroidDimension(touchHistory, 0, false, true);
      },

      noCentroid: -1
    };

    var ReactVersion = "16.3.0-alpha.1";

    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }

    var objects = {};
    var uniqueID = 1;
    var emptyObject$2 = {};

    var ReactNativePropRegistry = function () {
      function ReactNativePropRegistry() {
        _classCallCheck(this, ReactNativePropRegistry);
      }

      ReactNativePropRegistry.register = function register(object) {
        var id = ++uniqueID;
        {
          Object.freeze(object);
        }
        objects[id] = object;
        return id;
      };

      ReactNativePropRegistry.getByID = function getByID(id) {
        if (!id) {
          return emptyObject$2;
        }

        var object = objects[id];
        if (!object) {
          console.warn("Invalid style with id `" + id + "`. Skipping ...");
          return emptyObject$2;
        }
        return object;
      };

      return ReactNativePropRegistry;
    }();

    var emptyObject$1 = {};

    var removedKeys = null;
    var removedKeyCount = 0;

    function defaultDiffer(prevProp, nextProp) {
      if (typeof nextProp !== "object" || nextProp === null) {
        return true;
      } else {
        return deepDiffer(prevProp, nextProp);
      }
    }

    function resolveObject(idOrObject) {
      if (typeof idOrObject === "number") {
        return ReactNativePropRegistry.getByID(idOrObject);
      }
      return idOrObject;
    }

    function restoreDeletedValuesInNestedArray(updatePayload, node, validAttributes) {
      if (Array.isArray(node)) {
        var i = node.length;
        while (i-- && removedKeyCount > 0) {
          restoreDeletedValuesInNestedArray(updatePayload, node[i], validAttributes);
        }
      } else if (node && removedKeyCount > 0) {
        var obj = resolveObject(node);
        for (var propKey in removedKeys) {
          if (!removedKeys[propKey]) {
            continue;
          }
          var _nextProp = obj[propKey];
          if (_nextProp === undefined) {
            continue;
          }

          var attributeConfig = validAttributes[propKey];
          if (!attributeConfig) {
            continue;
          }

          if (typeof _nextProp === "function") {
            _nextProp = true;
          }
          if (typeof _nextProp === "undefined") {
            _nextProp = null;
          }

          if (typeof attributeConfig !== "object") {
            updatePayload[propKey] = _nextProp;
          } else if (typeof attributeConfig.diff === "function" || typeof attributeConfig.process === "function") {
            var nextValue = typeof attributeConfig.process === "function" ? attributeConfig.process(_nextProp) : _nextProp;
            updatePayload[propKey] = nextValue;
          }
          removedKeys[propKey] = false;
          removedKeyCount--;
        }
      }
    }

    function diffNestedArrayProperty(updatePayload, prevArray, nextArray, validAttributes) {
      var minLength = prevArray.length < nextArray.length ? prevArray.length : nextArray.length;
      var i = void 0;
      for (i = 0; i < minLength; i++) {
        updatePayload = diffNestedProperty(updatePayload, prevArray[i], nextArray[i], validAttributes);
      }
      for (; i < prevArray.length; i++) {
        updatePayload = clearNestedProperty(updatePayload, prevArray[i], validAttributes);
      }
      for (; i < nextArray.length; i++) {
        updatePayload = addNestedProperty(updatePayload, nextArray[i], validAttributes);
      }
      return updatePayload;
    }

    function diffNestedProperty(updatePayload, prevProp, nextProp, validAttributes) {
      if (!updatePayload && prevProp === nextProp) {
        return updatePayload;
      }

      if (!prevProp || !nextProp) {
        if (nextProp) {
          return addNestedProperty(updatePayload, nextProp, validAttributes);
        }
        if (prevProp) {
          return clearNestedProperty(updatePayload, prevProp, validAttributes);
        }
        return updatePayload;
      }

      if (!Array.isArray(prevProp) && !Array.isArray(nextProp)) {
        return diffProperties(updatePayload, resolveObject(prevProp), resolveObject(nextProp), validAttributes);
      }

      if (Array.isArray(prevProp) && Array.isArray(nextProp)) {
        return diffNestedArrayProperty(updatePayload, prevProp, nextProp, validAttributes);
      }

      if (Array.isArray(prevProp)) {
        return diffProperties(updatePayload, flattenStyle(prevProp), resolveObject(nextProp), validAttributes);
      }

      return diffProperties(updatePayload, resolveObject(prevProp), flattenStyle(nextProp), validAttributes);
    }

    function addNestedProperty(updatePayload, nextProp, validAttributes) {
      if (!nextProp) {
        return updatePayload;
      }

      if (!Array.isArray(nextProp)) {
        return addProperties(updatePayload, resolveObject(nextProp), validAttributes);
      }

      for (var i = 0; i < nextProp.length; i++) {
        updatePayload = addNestedProperty(updatePayload, nextProp[i], validAttributes);
      }

      return updatePayload;
    }

    function clearNestedProperty(updatePayload, prevProp, validAttributes) {
      if (!prevProp) {
        return updatePayload;
      }

      if (!Array.isArray(prevProp)) {
        return clearProperties(updatePayload, resolveObject(prevProp), validAttributes);
      }

      for (var i = 0; i < prevProp.length; i++) {
        updatePayload = clearNestedProperty(updatePayload, prevProp[i], validAttributes);
      }
      return updatePayload;
    }

    function diffProperties(updatePayload, prevProps, nextProps, validAttributes) {
      var attributeConfig = void 0;
      var nextProp = void 0;
      var prevProp = void 0;

      for (var propKey in nextProps) {
        attributeConfig = validAttributes[propKey];
        if (!attributeConfig) {
          continue;
        }

        prevProp = prevProps[propKey];
        nextProp = nextProps[propKey];

        if (typeof nextProp === "function") {
          nextProp = true;

          if (typeof prevProp === "function") {
            prevProp = true;
          }
        }

        if (typeof nextProp === "undefined") {
          nextProp = null;
          if (typeof prevProp === "undefined") {
            prevProp = null;
          }
        }

        if (removedKeys) {
          removedKeys[propKey] = false;
        }

        if (updatePayload && updatePayload[propKey] !== undefined) {
          if (typeof attributeConfig !== "object") {
            updatePayload[propKey] = nextProp;
          } else if (typeof attributeConfig.diff === "function" || typeof attributeConfig.process === "function") {
            var nextValue = typeof attributeConfig.process === "function" ? attributeConfig.process(nextProp) : nextProp;
            updatePayload[propKey] = nextValue;
          }
          continue;
        }

        if (prevProp === nextProp) {
          continue;
        }

        if (typeof attributeConfig !== "object") {
          if (defaultDiffer(prevProp, nextProp)) {
            (updatePayload || (updatePayload = {}))[propKey] = nextProp;
          }
        } else if (typeof attributeConfig.diff === "function" || typeof attributeConfig.process === "function") {
          var shouldUpdate = prevProp === undefined || (typeof attributeConfig.diff === "function" ? attributeConfig.diff(prevProp, nextProp) : defaultDiffer(prevProp, nextProp));
          if (shouldUpdate) {
            var _nextValue = typeof attributeConfig.process === "function" ? attributeConfig.process(nextProp) : nextProp;
            (updatePayload || (updatePayload = {}))[propKey] = _nextValue;
          }
        } else {
          removedKeys = null;
          removedKeyCount = 0;

          updatePayload = diffNestedProperty(updatePayload, prevProp, nextProp, attributeConfig);
          if (removedKeyCount > 0 && updatePayload) {
            restoreDeletedValuesInNestedArray(updatePayload, nextProp, attributeConfig);
            removedKeys = null;
          }
        }
      }

      for (var _propKey in prevProps) {
        if (nextProps[_propKey] !== undefined) {
          continue;
        }
        attributeConfig = validAttributes[_propKey];
        if (!attributeConfig) {
          continue;
        }

        if (updatePayload && updatePayload[_propKey] !== undefined) {
          continue;
        }

        prevProp = prevProps[_propKey];
        if (prevProp === undefined) {
          continue;
        }

        if (typeof attributeConfig !== "object" || typeof attributeConfig.diff === "function" || typeof attributeConfig.process === "function") {
          (updatePayload || (updatePayload = {}))[_propKey] = null;
          if (!removedKeys) {
            removedKeys = {};
          }
          if (!removedKeys[_propKey]) {
            removedKeys[_propKey] = true;
            removedKeyCount++;
          }
        } else {
          updatePayload = clearNestedProperty(updatePayload, prevProp, attributeConfig);
        }
      }
      return updatePayload;
    }

    function addProperties(updatePayload, props, validAttributes) {
      return diffProperties(updatePayload, emptyObject$1, props, validAttributes);
    }

    function clearProperties(updatePayload, prevProps, validAttributes) {
      return diffProperties(updatePayload, prevProps, emptyObject$1, validAttributes);
    }

    function create(props, validAttributes) {
      return addProperties(null, props, validAttributes);
    }

    function diff(prevProps, nextProps, validAttributes) {
      return diffProperties(null, prevProps, nextProps, validAttributes);
    }

    function mountSafeCallback(context, callback) {
      return function () {
        if (!callback) {
          return undefined;
        }
        if (typeof context.__isMounted === "boolean") {
          if (!context.__isMounted) {
            return undefined;
          }
        } else if (typeof context.isMounted === "function") {
          if (!context.isMounted()) {
            return undefined;
          }
        }
        return callback.apply(context, arguments);
      };
    }

    function throwOnStylesProp(component, props) {
      if (props.styles !== undefined) {
        var owner = component._owner || null;
        var name = component.constructor.displayName;
        var msg = "`styles` is not a supported property of `" + name + "`, did " + "you mean `style` (singular)?";
        if (owner && owner.constructor && owner.constructor.displayName) {
          msg += "\n\nCheck the `" + owner.constructor.displayName + "` parent " + " component.";
        }
        throw new Error(msg);
      }
    }

    function warnForStyleProps(props, validAttributes) {
      for (var key in validAttributes.style) {
        if (!(validAttributes[key] || props[key] === undefined)) {
          console.error("You are setting the style `{ " + key + ": ... }` as a prop. You " + "should nest it in a style object. " + "E.g. `{ style: { " + key + ": ... } }`");
        }
      }
    }

    function get(key) {
      return key._reactInternalFiber;
    }

    function set(key, value) {
      key._reactInternalFiber = value;
    }

    var ReactInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;

    var ReactCurrentOwner = ReactInternals.ReactCurrentOwner;
    var ReactDebugCurrentFrame = ReactInternals.ReactDebugCurrentFrame;

    function getComponentName(fiber) {
      var type = fiber.type;

      if (typeof type === "function") {
        return type.displayName || type.name;
      }
      if (typeof type === "string") {
        return type;
      }
      switch (type) {
        case REACT_FRAGMENT_TYPE:
          return "ReactFragment";
        case REACT_PORTAL_TYPE:
          return "ReactPortal";
        case REACT_CALL_TYPE:
          return "ReactCall";
        case REACT_RETURN_TYPE:
          return "ReactReturn";
      }
      return null;
    }

    var findHostInstance = function findHostInstance(fiber) {
      return null;
    };

    var findHostInstanceFabric = function findHostInstanceFabric(fiber) {
      return null;
    };

    function injectFindHostInstance(impl) {
      findHostInstance = impl;
    }

    function findNodeHandle(componentOrHandle) {
      {
        var owner = ReactCurrentOwner.current;
        if (owner !== null && owner.stateNode !== null) {
          warning(owner.stateNode._warnedAboutRefsInRender, "%s is accessing findNodeHandle inside its render(). " + "render() should be a pure function of props and state. It should " + "never access something that requires stale data from the previous " + "render, such as refs. Move this logic to componentDidMount and " + "componentDidUpdate instead.", getComponentName(owner) || "A component");

          owner.stateNode._warnedAboutRefsInRender = true;
        }
      }
      if (componentOrHandle == null) {
        return null;
      }
      if (typeof componentOrHandle === "number") {
        return componentOrHandle;
      }

      var component = componentOrHandle;

      var internalInstance = get(component);
      if (internalInstance) {
        return findHostInstance(internalInstance) || findHostInstanceFabric(internalInstance);
      } else {
        if (component) {
          return component;
        } else {
          invariant(typeof component === "object" && "_nativeTag" in component || component.render != null && typeof component.render === "function", "findNodeHandle(...): Argument is not a component " + "(type: %s, keys: %s)", typeof component, Object.keys(component));
          invariant(false, "findNodeHandle(...): Unable to find node handle for unmounted " + "component.");
        }
      }
    }

    function findNumericNodeHandleFiber(componentOrHandle) {
      var instance = findNodeHandle(componentOrHandle);
      if (instance == null || typeof instance === "number") {
        return instance;
      }
      return instance._nativeTag;
    }

    var NativeMethodsMixin = {
      measure: function measure(callback) {
        UIManager.measure(findNumericNodeHandleFiber(this), mountSafeCallback(this, callback));
      },

      measureInWindow: function measureInWindow(callback) {
        UIManager.measureInWindow(findNumericNodeHandleFiber(this), mountSafeCallback(this, callback));
      },

      measureLayout: function measureLayout(relativeToNativeNode, onSuccess, onFail) {
        UIManager.measureLayout(findNumericNodeHandleFiber(this), relativeToNativeNode, mountSafeCallback(this, onFail), mountSafeCallback(this, onSuccess));
      },

      setNativeProps: function setNativeProps(nativeProps) {
        var maybeInstance = void 0;

        try {
          maybeInstance = findNodeHandle(this);
        } catch (error) {}

        if (maybeInstance == null) {
          return;
        }

        var viewConfig = maybeInstance.viewConfig;

        {
          warnForStyleProps(nativeProps, viewConfig.validAttributes);
        }

        var updatePayload = create(nativeProps, viewConfig.validAttributes);

        if (updatePayload != null) {
          UIManager.updateView(maybeInstance._nativeTag, viewConfig.uiViewClassName, updatePayload);
        }
      },

      focus: function focus() {
        TextInputState.focusTextInput(findNumericNodeHandleFiber(this));
      },

      blur: function blur() {
        TextInputState.blurTextInput(findNumericNodeHandleFiber(this));
      }
    };

    {
      var NativeMethodsMixin_DEV = NativeMethodsMixin;
      invariant(!NativeMethodsMixin_DEV.componentWillMount && !NativeMethodsMixin_DEV.componentWillReceiveProps && !NativeMethodsMixin_DEV.UNSAFE_componentWillMount && !NativeMethodsMixin_DEV.UNSAFE_componentWillReceiveProps, "Do not override existing functions.");

      NativeMethodsMixin_DEV.componentWillMount = function () {
        throwOnStylesProp(this, this.props);
      };
      NativeMethodsMixin_DEV.componentWillReceiveProps = function (newProps) {
        throwOnStylesProp(this, newProps);
      };
      NativeMethodsMixin_DEV.UNSAFE_componentWillMount = function () {
        throwOnStylesProp(this, this.props);
      };
      NativeMethodsMixin_DEV.UNSAFE_componentWillReceiveProps = function (newProps) {
        throwOnStylesProp(this, newProps);
      };

      NativeMethodsMixin_DEV.componentWillMount.__suppressDeprecationWarning = true;
      NativeMethodsMixin_DEV.componentWillReceiveProps.__suppressDeprecationWarning = true;
    }

    function _classCallCheck$1(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }

    function _possibleConstructorReturn(self, call) {
      if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }

    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: false,
          writable: true,
          configurable: true
        }
      });
      if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }

    var ReactNativeComponent = function (_React$Component) {
      _inherits(ReactNativeComponent, _React$Component);

      function ReactNativeComponent() {
        _classCallCheck$1(this, ReactNativeComponent);

        return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));
      }

      ReactNativeComponent.prototype.blur = function blur() {
        TextInputState.blurTextInput(findNumericNodeHandleFiber(this));
      };

      ReactNativeComponent.prototype.focus = function focus() {
        TextInputState.focusTextInput(findNumericNodeHandleFiber(this));
      };

      ReactNativeComponent.prototype.measure = function measure(callback) {
        UIManager.measure(findNumericNodeHandleFiber(this), mountSafeCallback(this, callback));
      };

      ReactNativeComponent.prototype.measureInWindow = function measureInWindow(callback) {
        UIManager.measureInWindow(findNumericNodeHandleFiber(this), mountSafeCallback(this, callback));
      };

      ReactNativeComponent.prototype.measureLayout = function measureLayout(relativeToNativeNode, onSuccess, onFail) {
        UIManager.measureLayout(findNumericNodeHandleFiber(this), relativeToNativeNode, mountSafeCallback(this, onFail), mountSafeCallback(this, onSuccess));
      };

      ReactNativeComponent.prototype.setNativeProps = function setNativeProps(nativeProps) {
        var maybeInstance = void 0;

        try {
          maybeInstance = findNodeHandle(this);
        } catch (error) {}

        if (maybeInstance == null) {
          return;
        }

        var viewConfig = maybeInstance.viewConfig || maybeInstance.canonical.viewConfig;

        var updatePayload = create(nativeProps, viewConfig.validAttributes);

        if (updatePayload != null) {
          UIManager.updateView(maybeInstance._nativeTag, viewConfig.uiViewClassName, updatePayload);
        }
      };

      return ReactNativeComponent;
    }(React.Component);

    var NoEffect = 0;
    var PerformedWork = 1;

    var Placement = 2;
    var Update = 4;
    var PlacementAndUpdate = 6;
    var Deletion = 8;
    var ContentReset = 16;
    var Callback = 32;
    var DidCapture = 64;
    var Ref = 128;
    var ErrLog = 256;

    var HostEffectMask = 511;

    var Incomplete = 512;
    var ShouldCapture = 1024;

    var MOUNTING = 1;
    var MOUNTED = 2;
    var UNMOUNTED = 3;

    function isFiberMountedImpl(fiber) {
      var node = fiber;
      if (!fiber.alternate) {
        if ((node.effectTag & Placement) !== NoEffect) {
          return MOUNTING;
        }
        while (node["return"]) {
          node = node["return"];
          if ((node.effectTag & Placement) !== NoEffect) {
            return MOUNTING;
          }
        }
      } else {
        while (node["return"]) {
          node = node["return"];
        }
      }
      if (node.tag === HostRoot) {
        return MOUNTED;
      }

      return UNMOUNTED;
    }

    function isFiberMounted(fiber) {
      return isFiberMountedImpl(fiber) === MOUNTED;
    }

    function isMounted(component) {
      {
        var owner = ReactCurrentOwner.current;
        if (owner !== null && owner.tag === ClassComponent) {
          var ownerFiber = owner;
          var instance = ownerFiber.stateNode;
          warning(instance._warnedAboutRefsInRender, "%s is accessing isMounted inside its render() function. " + "render() should be a pure function of props and state. It should " + "never access something that requires stale data from the previous " + "render, such as refs. Move this logic to componentDidMount and " + "componentDidUpdate instead.", getComponentName(ownerFiber) || "A component");
          instance._warnedAboutRefsInRender = true;
        }
      }

      var fiber = get(component);
      if (!fiber) {
        return false;
      }
      return isFiberMountedImpl(fiber) === MOUNTED;
    }

    function assertIsMounted(fiber) {
      invariant(isFiberMountedImpl(fiber) === MOUNTED, "Unable to find node on an unmounted component.");
    }

    function findCurrentFiberUsingSlowPath(fiber) {
      var alternate = fiber.alternate;
      if (!alternate) {
        var state = isFiberMountedImpl(fiber);
        invariant(state !== UNMOUNTED, "Unable to find node on an unmounted component.");
        if (state === MOUNTING) {
          return null;
        }
        return fiber;
      }

      var a = fiber;
      var b = alternate;
      while (true) {
        var parentA = a["return"];
        var parentB = parentA ? parentA.alternate : null;
        if (!parentA || !parentB) {
          break;
        }

        if (parentA.child === parentB.child) {
          var child = parentA.child;
          while (child) {
            if (child === a) {
              assertIsMounted(parentA);
              return fiber;
            }
            if (child === b) {
              assertIsMounted(parentA);
              return alternate;
            }
            child = child.sibling;
          }

          invariant(false, "Unable to find node on an unmounted component.");
        }

        if (a["return"] !== b["return"]) {
          a = parentA;
          b = parentB;
        } else {
          var didFindChild = false;
          var _child = parentA.child;
          while (_child) {
            if (_child === a) {
              didFindChild = true;
              a = parentA;
              b = parentB;
              break;
            }
            if (_child === b) {
              didFindChild = true;
              b = parentA;
              a = parentB;
              break;
            }
            _child = _child.sibling;
          }
          if (!didFindChild) {
            _child = parentB.child;
            while (_child) {
              if (_child === a) {
                didFindChild = true;
                a = parentB;
                b = parentA;
                break;
              }
              if (_child === b) {
                didFindChild = true;
                b = parentB;
                a = parentA;
                break;
              }
              _child = _child.sibling;
            }
            invariant(didFindChild, "Child was not found in either parent set. This indicates a bug " + "in React related to the return pointer. Please file an issue.");
          }
        }

        invariant(a.alternate === b, "Return fibers should always be each others' alternates. " + "This error is likely caused by a bug in React. Please file an issue.");
      }

      invariant(a.tag === HostRoot, "Unable to find node on an unmounted component.");
      if (a.stateNode.current === a) {
        return fiber;
      }

      return alternate;
    }

    function findCurrentHostFiber(parent) {
      var currentParent = findCurrentFiberUsingSlowPath(parent);
      if (!currentParent) {
        return null;
      }

      var node = currentParent;
      while (true) {
        if (node.tag === HostComponent || node.tag === HostText) {
          return node;
        } else if (node.child) {
          node.child["return"] = node;
          node = node.child;
          continue;
        }
        if (node === currentParent) {
          return null;
        }
        while (!node.sibling) {
          if (!node["return"] || node["return"] === currentParent) {
            return null;
          }
          node = node["return"];
        }
        node.sibling["return"] = node["return"];
        node = node.sibling;
      }

      return null;
    }

    function findCurrentHostFiberWithNoPortals(parent) {
      var currentParent = findCurrentFiberUsingSlowPath(parent);
      if (!currentParent) {
        return null;
      }

      var node = currentParent;
      while (true) {
        if (node.tag === HostComponent || node.tag === HostText) {
          return node;
        } else if (node.child && node.tag !== HostPortal) {
          node.child["return"] = node;
          node = node.child;
          continue;
        }
        if (node === currentParent) {
          return null;
        }
        while (!node.sibling) {
          if (!node["return"] || node["return"] === currentParent) {
            return null;
          }
          node = node["return"];
        }
        node.sibling["return"] = node["return"];
        node = node.sibling;
      }

      return null;
    }

    var valueStack = [];

    var fiberStack = void 0;

    {
      fiberStack = [];
    }

    var index = -1;

    function createCursor(defaultValue) {
      return {
        current: defaultValue
      };
    }

    function pop(cursor, fiber) {
      if (index < 0) {
        {
          warning(false, "Unexpected pop.");
        }
        return;
      }

      {
        if (fiber !== fiberStack[index]) {
          warning(false, "Unexpected Fiber popped.");
        }
      }

      cursor.current = valueStack[index];

      valueStack[index] = null;

      {
        fiberStack[index] = null;
      }

      index--;
    }

    function push(cursor, value, fiber) {
      index++;

      valueStack[index] = cursor.current;

      {
        fiberStack[index] = fiber;
      }

      cursor.current = value;
    }

    function reset() {
      while (index > -1) {
        valueStack[index] = null;

        {
          fiberStack[index] = null;
        }

        index--;
      }
    }

    var describeComponentFrame = function describeComponentFrame(name, source, ownerName) {
      return "\n    in " + (name || "Unknown") + (source ? " (at " + source.fileName.replace(/^.*[\\\/]/, "") + ":" + source.lineNumber + ")" : ownerName ? " (created by " + ownerName + ")" : "");
    };

    function describeFiber(fiber) {
      switch (fiber.tag) {
        case IndeterminateComponent:
        case FunctionalComponent:
        case ClassComponent:
        case HostComponent:
          var owner = fiber._debugOwner;
          var source = fiber._debugSource;
          var name = getComponentName(fiber);
          var ownerName = null;
          if (owner) {
            ownerName = getComponentName(owner);
          }
          return describeComponentFrame(name, source, ownerName);
        default:
          return "";
      }
    }

    function getStackAddendumByWorkInProgressFiber(workInProgress) {
      var info = "";
      var node = workInProgress;
      do {
        info += describeFiber(node);

        node = node["return"];
      } while (node);
      return info;
    }

    function getCurrentFiberOwnerName() {
      {
        var fiber = ReactDebugCurrentFiber.current;
        if (fiber === null) {
          return null;
        }
        var owner = fiber._debugOwner;
        if (owner !== null && typeof owner !== "undefined") {
          return getComponentName(owner);
        }
      }
      return null;
    }

    function getCurrentFiberStackAddendum() {
      {
        var fiber = ReactDebugCurrentFiber.current;
        if (fiber === null) {
          return null;
        }

        return getStackAddendumByWorkInProgressFiber(fiber);
      }
      return null;
    }

    function resetCurrentFiber() {
      ReactDebugCurrentFrame.getCurrentStack = null;
      ReactDebugCurrentFiber.current = null;
      ReactDebugCurrentFiber.phase = null;
    }

    function setCurrentFiber(fiber) {
      ReactDebugCurrentFrame.getCurrentStack = getCurrentFiberStackAddendum;
      ReactDebugCurrentFiber.current = fiber;
      ReactDebugCurrentFiber.phase = null;
    }

    function setCurrentPhase(phase) {
      ReactDebugCurrentFiber.phase = phase;
    }

    var ReactDebugCurrentFiber = {
      current: null,
      phase: null,
      resetCurrentFiber: resetCurrentFiber,
      setCurrentFiber: setCurrentFiber,
      setCurrentPhase: setCurrentPhase,
      getCurrentFiberOwnerName: getCurrentFiberOwnerName,
      getCurrentFiberStackAddendum: getCurrentFiberStackAddendum
    };

    var _require = require("ReactFeatureFlags");

    var enableGetDerivedStateFromCatch = _require.enableGetDerivedStateFromCatch;
    var debugRenderPhaseSideEffects = _require.debugRenderPhaseSideEffects;
    var debugRenderPhaseSideEffectsForStrictMode = _require.debugRenderPhaseSideEffectsForStrictMode;
    var warnAboutDeprecatedLifecycles = _require.warnAboutDeprecatedLifecycles;
    var replayFailedUnitOfWorkWithInvokeGuardedCallback = _require.replayFailedUnitOfWorkWithInvokeGuardedCallback;

    var enableUserTimingAPI = true;
    var enableMutatingReconciler = true;
    var enableNoopReconciler = false;
    var enablePersistentReconciler = false;

    var reactEmoji = "\u269B";
    var warningEmoji = "\u26D4";
    var supportsUserTiming = typeof performance !== "undefined" && typeof performance.mark === "function" && typeof performance.clearMarks === "function" && typeof performance.measure === "function" && typeof performance.clearMeasures === "function";

    var currentFiber = null;

    var currentPhase = null;
    var currentPhaseFiber = null;

    var isCommitting = false;
    var hasScheduledUpdateInCurrentCommit = false;
    var hasScheduledUpdateInCurrentPhase = false;
    var commitCountInCurrentWorkLoop = 0;
    var effectCountInCurrentCommit = 0;
    var isWaitingForCallback = false;

    var labelsInCurrentCommit = new Set();

    var formatMarkName = function formatMarkName(markName) {
      return reactEmoji + " " + markName;
    };

    var formatLabel = function formatLabel(label, warning$$1) {
      var prefix = warning$$1 ? warningEmoji + " " : reactEmoji + " ";
      var suffix = warning$$1 ? " Warning: " + warning$$1 : "";
      return "" + prefix + label + suffix;
    };

    var beginMark = function beginMark(markName) {
      performance.mark(formatMarkName(markName));
    };

    var clearMark = function clearMark(markName) {
      performance.clearMarks(formatMarkName(markName));
    };

    var endMark = function endMark(label, markName, warning$$1) {
      var formattedMarkName = formatMarkName(markName);
      var formattedLabel = formatLabel(label, warning$$1);
      try {
        performance.measure(formattedLabel, formattedMarkName);
      } catch (err) {}

      performance.clearMarks(formattedMarkName);
      performance.clearMeasures(formattedLabel);
    };

    var getFiberMarkName = function getFiberMarkName(label, debugID) {
      return label + " (#" + debugID + ")";
    };

    var getFiberLabel = function getFiberLabel(componentName, isMounted, phase) {
      if (phase === null) {
        return componentName + " [" + (isMounted ? "update" : "mount") + "]";
      } else {
        return componentName + "." + phase;
      }
    };

    var beginFiberMark = function beginFiberMark(fiber, phase) {
      var componentName = getComponentName(fiber) || "Unknown";
      var debugID = fiber._debugID;
      var isMounted = fiber.alternate !== null;
      var label = getFiberLabel(componentName, isMounted, phase);

      if (isCommitting && labelsInCurrentCommit.has(label)) {
        return false;
      }
      labelsInCurrentCommit.add(label);

      var markName = getFiberMarkName(label, debugID);
      beginMark(markName);
      return true;
    };

    var clearFiberMark = function clearFiberMark(fiber, phase) {
      var componentName = getComponentName(fiber) || "Unknown";
      var debugID = fiber._debugID;
      var isMounted = fiber.alternate !== null;
      var label = getFiberLabel(componentName, isMounted, phase);
      var markName = getFiberMarkName(label, debugID);
      clearMark(markName);
    };

    var endFiberMark = function endFiberMark(fiber, phase, warning$$1) {
      var componentName = getComponentName(fiber) || "Unknown";
      var debugID = fiber._debugID;
      var isMounted = fiber.alternate !== null;
      var label = getFiberLabel(componentName, isMounted, phase);
      var markName = getFiberMarkName(label, debugID);
      endMark(label, markName, warning$$1);
    };

    var shouldIgnoreFiber = function shouldIgnoreFiber(fiber) {
      switch (fiber.tag) {
        case HostRoot:
        case HostComponent:
        case HostText:
        case HostPortal:
        case CallComponent:
        case ReturnComponent:
        case Fragment:
        case ContextProvider:
        case ContextConsumer:
          return true;
        default:
          return false;
      }
    };

    var clearPendingPhaseMeasurement = function clearPendingPhaseMeasurement() {
      if (currentPhase !== null && currentPhaseFiber !== null) {
        clearFiberMark(currentPhaseFiber, currentPhase);
      }
      currentPhaseFiber = null;
      currentPhase = null;
      hasScheduledUpdateInCurrentPhase = false;
    };

    var pauseTimers = function pauseTimers() {
      var fiber = currentFiber;
      while (fiber) {
        if (fiber._debugIsCurrentlyTiming) {
          endFiberMark(fiber, null, null);
        }
        fiber = fiber["return"];
      }
    };

    var resumeTimersRecursively = function resumeTimersRecursively(fiber) {
      if (fiber["return"] !== null) {
        resumeTimersRecursively(fiber["return"]);
      }
      if (fiber._debugIsCurrentlyTiming) {
        beginFiberMark(fiber, null);
      }
    };

    var resumeTimers = function resumeTimers() {
      if (currentFiber !== null) {
        resumeTimersRecursively(currentFiber);
      }
    };

    function recordEffect() {
      if (enableUserTimingAPI) {
        effectCountInCurrentCommit++;
      }
    }

    function recordScheduleUpdate() {
      if (enableUserTimingAPI) {
        if (isCommitting) {
          hasScheduledUpdateInCurrentCommit = true;
        }
        if (currentPhase !== null && currentPhase !== "componentWillMount" && currentPhase !== "componentWillReceiveProps") {
          hasScheduledUpdateInCurrentPhase = true;
        }
      }
    }

    function startRequestCallbackTimer() {
      if (enableUserTimingAPI) {
        if (supportsUserTiming && !isWaitingForCallback) {
          isWaitingForCallback = true;
          beginMark("(Waiting for async callback...)");
        }
      }
    }

    function stopRequestCallbackTimer(didExpire) {
      if (enableUserTimingAPI) {
        if (supportsUserTiming) {
          isWaitingForCallback = false;
          var warning$$1 = didExpire ? "React was blocked by main thread" : null;
          endMark("(Waiting for async callback...)", "(Waiting for async callback...)", warning$$1);
        }
      }
    }

    function startWorkTimer(fiber) {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming || shouldIgnoreFiber(fiber)) {
          return;
        }

        currentFiber = fiber;
        if (!beginFiberMark(fiber, null)) {
          return;
        }
        fiber._debugIsCurrentlyTiming = true;
      }
    }

    function cancelWorkTimer(fiber) {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming || shouldIgnoreFiber(fiber)) {
          return;
        }

        fiber._debugIsCurrentlyTiming = false;
        clearFiberMark(fiber, null);
      }
    }

    function stopWorkTimer(fiber) {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming || shouldIgnoreFiber(fiber)) {
          return;
        }

        currentFiber = fiber["return"];
        if (!fiber._debugIsCurrentlyTiming) {
          return;
        }
        fiber._debugIsCurrentlyTiming = false;
        endFiberMark(fiber, null, null);
      }
    }

    function stopFailedWorkTimer(fiber) {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming || shouldIgnoreFiber(fiber)) {
          return;
        }

        currentFiber = fiber["return"];
        if (!fiber._debugIsCurrentlyTiming) {
          return;
        }
        fiber._debugIsCurrentlyTiming = false;
        var warning$$1 = "An error was thrown inside this error boundary";
        endFiberMark(fiber, null, warning$$1);
      }
    }

    function startPhaseTimer(fiber, phase) {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        clearPendingPhaseMeasurement();
        if (!beginFiberMark(fiber, phase)) {
          return;
        }
        currentPhaseFiber = fiber;
        currentPhase = phase;
      }
    }

    function stopPhaseTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        if (currentPhase !== null && currentPhaseFiber !== null) {
          var warning$$1 = hasScheduledUpdateInCurrentPhase ? "Scheduled a cascading update" : null;
          endFiberMark(currentPhaseFiber, currentPhase, warning$$1);
        }
        currentPhase = null;
        currentPhaseFiber = null;
      }
    }

    function startWorkLoopTimer(nextUnitOfWork) {
      if (enableUserTimingAPI) {
        currentFiber = nextUnitOfWork;
        if (!supportsUserTiming) {
          return;
        }
        commitCountInCurrentWorkLoop = 0;

        beginMark("(React Tree Reconciliation)");

        resumeTimers();
      }
    }

    function stopWorkLoopTimer(interruptedBy) {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        var warning$$1 = null;
        if (interruptedBy !== null) {
          if (interruptedBy.tag === HostRoot) {
            warning$$1 = "A top-level update interrupted the previous render";
          } else {
            var componentName = getComponentName(interruptedBy) || "Unknown";
            warning$$1 = "An update to " + componentName + " interrupted the previous render";
          }
        } else if (commitCountInCurrentWorkLoop > 1) {
          warning$$1 = "There were cascading updates";
        }
        commitCountInCurrentWorkLoop = 0;

        pauseTimers();
        endMark("(React Tree Reconciliation)", "(React Tree Reconciliation)", warning$$1);
      }
    }

    function startCommitTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        isCommitting = true;
        hasScheduledUpdateInCurrentCommit = false;
        labelsInCurrentCommit.clear();
        beginMark("(Committing Changes)");
      }
    }

    function stopCommitTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }

        var warning$$1 = null;
        if (hasScheduledUpdateInCurrentCommit) {
          warning$$1 = "Lifecycle hook scheduled a cascading update";
        } else if (commitCountInCurrentWorkLoop > 0) {
          warning$$1 = "Caused by a cascading update in earlier commit";
        }
        hasScheduledUpdateInCurrentCommit = false;
        commitCountInCurrentWorkLoop++;
        isCommitting = false;
        labelsInCurrentCommit.clear();

        endMark("(Committing Changes)", "(Committing Changes)", warning$$1);
      }
    }

    function startCommitHostEffectsTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        effectCountInCurrentCommit = 0;
        beginMark("(Committing Host Effects)");
      }
    }

    function stopCommitHostEffectsTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        var count = effectCountInCurrentCommit;
        effectCountInCurrentCommit = 0;
        endMark("(Committing Host Effects: " + count + " Total)", "(Committing Host Effects)", null);
      }
    }

    function startCommitLifeCyclesTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        effectCountInCurrentCommit = 0;
        beginMark("(Calling Lifecycle Methods)");
      }
    }

    function stopCommitLifeCyclesTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        var count = effectCountInCurrentCommit;
        effectCountInCurrentCommit = 0;
        endMark("(Calling Lifecycle Methods: " + count + " Total)", "(Calling Lifecycle Methods)", null);
      }
    }

    var warnedAboutMissingGetChildContext = void 0;

    {
      warnedAboutMissingGetChildContext = {};
    }

    var contextStackCursor = createCursor(emptyObject);

    var didPerformWorkStackCursor = createCursor(false);

    var previousContext = emptyObject;

    function getUnmaskedContext(workInProgress) {
      var hasOwnContext = isContextProvider(workInProgress);
      if (hasOwnContext) {
        return previousContext;
      }
      return contextStackCursor.current;
    }

    function cacheContext(workInProgress, unmaskedContext, maskedContext) {
      var instance = workInProgress.stateNode;
      instance.__reactInternalMemoizedUnmaskedChildContext = unmaskedContext;
      instance.__reactInternalMemoizedMaskedChildContext = maskedContext;
    }

    function getMaskedContext(workInProgress, unmaskedContext) {
      var type = workInProgress.type;
      var contextTypes = type.contextTypes;
      if (!contextTypes) {
        return emptyObject;
      }

      var instance = workInProgress.stateNode;
      if (instance && instance.__reactInternalMemoizedUnmaskedChildContext === unmaskedContext) {
        return instance.__reactInternalMemoizedMaskedChildContext;
      }

      var context = {};
      for (var key in contextTypes) {
        context[key] = unmaskedContext[key];
      }

      {
        var name = getComponentName(workInProgress) || "Unknown";
        checkPropTypes(contextTypes, context, "context", name, ReactDebugCurrentFiber.getCurrentFiberStackAddendum);
      }

      if (instance) {
        cacheContext(workInProgress, unmaskedContext, context);
      }

      return context;
    }

    function hasContextChanged() {
      return didPerformWorkStackCursor.current;
    }

    function isContextConsumer(fiber) {
      return fiber.tag === ClassComponent && fiber.type.contextTypes != null;
    }

    function isContextProvider(fiber) {
      return fiber.tag === ClassComponent && fiber.type.childContextTypes != null;
    }

    function popContextProvider(fiber) {
      if (!isContextProvider(fiber)) {
        return;
      }

      pop(didPerformWorkStackCursor, fiber);
      pop(contextStackCursor, fiber);
    }

    function popTopLevelContextObject(fiber) {
      pop(didPerformWorkStackCursor, fiber);
      pop(contextStackCursor, fiber);
    }

    function pushTopLevelContextObject(fiber, context, didChange) {
      invariant(contextStackCursor.cursor == null, "Unexpected context found on stack. " + "This error is likely caused by a bug in React. Please file an issue.");

      push(contextStackCursor, context, fiber);
      push(didPerformWorkStackCursor, didChange, fiber);
    }

    function processChildContext(fiber, parentContext) {
      var instance = fiber.stateNode;
      var childContextTypes = fiber.type.childContextTypes;

      if (typeof instance.getChildContext !== "function") {
        {
          var componentName = getComponentName(fiber) || "Unknown";

          if (!warnedAboutMissingGetChildContext[componentName]) {
            warnedAboutMissingGetChildContext[componentName] = true;
            warning(false, "%s.childContextTypes is specified but there is no getChildContext() method " + "on the instance. You can either define getChildContext() on %s or remove " + "childContextTypes from it.", componentName, componentName);
          }
        }
        return parentContext;
      }

      var childContext = void 0;
      {
        ReactDebugCurrentFiber.setCurrentPhase("getChildContext");
      }
      startPhaseTimer(fiber, "getChildContext");
      childContext = instance.getChildContext();
      stopPhaseTimer();
      {
        ReactDebugCurrentFiber.setCurrentPhase(null);
      }
      for (var contextKey in childContext) {
        invariant(contextKey in childContextTypes, '%s.getChildContext(): key "%s" is not defined in childContextTypes.', getComponentName(fiber) || "Unknown", contextKey);
      }
      {
        var name = getComponentName(fiber) || "Unknown";
        checkPropTypes(childContextTypes, childContext, "child context", name, ReactDebugCurrentFiber.getCurrentFiberStackAddendum);
      }

      return _extends({}, parentContext, childContext);
    }

    function pushContextProvider(workInProgress) {
      if (!isContextProvider(workInProgress)) {
        return false;
      }

      var instance = workInProgress.stateNode;

      var memoizedMergedChildContext = instance && instance.__reactInternalMemoizedMergedChildContext || emptyObject;

      previousContext = contextStackCursor.current;
      push(contextStackCursor, memoizedMergedChildContext, workInProgress);
      push(didPerformWorkStackCursor, didPerformWorkStackCursor.current, workInProgress);

      return true;
    }

    function invalidateContextProvider(workInProgress, didChange) {
      var instance = workInProgress.stateNode;
      invariant(instance, "Expected to have an instance by this point. " + "This error is likely caused by a bug in React. Please file an issue.");

      if (didChange) {
        var mergedContext = processChildContext(workInProgress, previousContext);
        instance.__reactInternalMemoizedMergedChildContext = mergedContext;

        pop(didPerformWorkStackCursor, workInProgress);
        pop(contextStackCursor, workInProgress);

        push(contextStackCursor, mergedContext, workInProgress);
        push(didPerformWorkStackCursor, didChange, workInProgress);
      } else {
        pop(didPerformWorkStackCursor, workInProgress);
        push(didPerformWorkStackCursor, didChange, workInProgress);
      }
    }

    function resetContext() {
      previousContext = emptyObject;
      contextStackCursor.current = emptyObject;
      didPerformWorkStackCursor.current = false;
    }

    function findCurrentUnmaskedContext(fiber) {
      invariant(isFiberMounted(fiber) && fiber.tag === ClassComponent, "Expected subtree parent to be a mounted class component. " + "This error is likely caused by a bug in React. Please file an issue.");

      var node = fiber;
      while (node.tag !== HostRoot) {
        if (isContextProvider(node)) {
          return node.stateNode.__reactInternalMemoizedMergedChildContext;
        }
        var parent = node["return"];
        invariant(parent, "Found unexpected detached subtree parent. " + "This error is likely caused by a bug in React. Please file an issue.");
        node = parent;
      }
      return node.stateNode.context;
    }

    var MAX_SIGNED_31_BIT_INT = 1073741823;

    var NoWork = 0;
    var Sync = 1;
    var Never = MAX_SIGNED_31_BIT_INT;

    var UNIT_SIZE = 10;
    var MAGIC_NUMBER_OFFSET = 2;

    function msToExpirationTime(ms) {
      return (ms / UNIT_SIZE | 0) + MAGIC_NUMBER_OFFSET;
    }

    function expirationTimeToMs(expirationTime) {
      return (expirationTime - MAGIC_NUMBER_OFFSET) * UNIT_SIZE;
    }

    function ceiling(num, precision) {
      return ((num / precision | 0) + 1) * precision;
    }

    function computeExpirationBucket(currentTime, expirationInMs, bucketSizeMs) {
      return ceiling(currentTime + expirationInMs / UNIT_SIZE, bucketSizeMs / UNIT_SIZE);
    }

    var NoContext = 0;
    var AsyncMode = 1;
    var StrictMode = 2;

    var hasBadMapPolyfill = void 0;

    {
      hasBadMapPolyfill = false;
      try {
        var nonExtensibleObject = Object.preventExtensions({});
        var testMap = new Map([[nonExtensibleObject, null]]);
        var testSet = new Set([nonExtensibleObject]);

        testMap.set(0, 0);
        testSet.add(0);
      } catch (e) {
        hasBadMapPolyfill = true;
      }
    }

    var debugCounter = void 0;

    {
      debugCounter = 1;
    }

    function FiberNode(tag, pendingProps, key, mode) {
      this.tag = tag;
      this.key = key;
      this.type = null;
      this.stateNode = null;

      this["return"] = null;
      this.child = null;
      this.sibling = null;
      this.index = 0;

      this.ref = null;

      this.pendingProps = pendingProps;
      this.memoizedProps = null;
      this.updateQueue = null;
      this.memoizedState = null;

      this.mode = mode;

      this.effectTag = NoEffect;
      this.nextEffect = null;

      this.firstEffect = null;
      this.lastEffect = null;

      this.expirationTime = NoWork;

      this.alternate = null;

      {
        this._debugID = debugCounter++;
        this._debugSource = null;
        this._debugOwner = null;
        this._debugIsCurrentlyTiming = false;
        if (!hasBadMapPolyfill && typeof Object.preventExtensions === "function") {
          Object.preventExtensions(this);
        }
      }
    }

    var createFiber = function createFiber(tag, pendingProps, key, mode) {
      return new FiberNode(tag, pendingProps, key, mode);
    };

    function shouldConstruct(Component) {
      return !!(Component.prototype && Component.prototype.isReactComponent);
    }

    function createWorkInProgress(current, pendingProps, expirationTime) {
      var workInProgress = current.alternate;
      if (workInProgress === null) {
        workInProgress = createFiber(current.tag, pendingProps, current.key, current.mode);
        workInProgress.type = current.type;
        workInProgress.stateNode = current.stateNode;

        {
          workInProgress._debugID = current._debugID;
          workInProgress._debugSource = current._debugSource;
          workInProgress._debugOwner = current._debugOwner;
        }

        workInProgress.alternate = current;
        current.alternate = workInProgress;
      } else {
        workInProgress.pendingProps = pendingProps;

        workInProgress.effectTag = NoEffect;

        workInProgress.nextEffect = null;
        workInProgress.firstEffect = null;
        workInProgress.lastEffect = null;
      }

      workInProgress.expirationTime = expirationTime;

      workInProgress.child = current.child;
      workInProgress.memoizedProps = current.memoizedProps;
      workInProgress.memoizedState = current.memoizedState;
      workInProgress.updateQueue = current.updateQueue;

      workInProgress.sibling = current.sibling;
      workInProgress.index = current.index;
      workInProgress.ref = current.ref;

      return workInProgress;
    }

    function createHostRootFiber(isAsync) {
      var mode = isAsync ? AsyncMode | StrictMode : NoContext;
      return createFiber(HostRoot, null, null, mode);
    }

    function createFiberFromElement(element, mode, expirationTime) {
      var owner = null;
      {
        owner = element._owner;
      }

      var fiber = void 0;
      var type = element.type;
      var key = element.key;
      var pendingProps = element.props;

      var fiberTag = void 0;
      if (typeof type === "function") {
        fiberTag = shouldConstruct(type) ? ClassComponent : IndeterminateComponent;
      } else if (typeof type === "string") {
        fiberTag = HostComponent;
      } else {
        switch (type) {
          case REACT_FRAGMENT_TYPE:
            return createFiberFromFragment(pendingProps.children, mode, expirationTime, key);
          case REACT_ASYNC_MODE_TYPE:
            fiberTag = Mode;
            mode |= AsyncMode | StrictMode;
            break;
          case REACT_STRICT_MODE_TYPE:
            fiberTag = Mode;
            mode |= StrictMode;
            break;
          case REACT_CALL_TYPE:
            fiberTag = CallComponent;
            break;
          case REACT_RETURN_TYPE:
            fiberTag = ReturnComponent;
            break;
          default:
            {
              if (typeof type === "object" && type !== null) {
                switch (type.$$typeof) {
                  case REACT_PROVIDER_TYPE:
                    fiberTag = ContextProvider;
                    break;
                  case REACT_CONTEXT_TYPE:
                    fiberTag = ContextConsumer;
                    break;
                  default:
                    if (typeof type.tag === "number") {
                      fiber = type;
                      fiber.pendingProps = pendingProps;
                      fiber.expirationTime = expirationTime;
                      return fiber;
                    } else {
                      throwOnInvalidElementType(type, owner);
                    }
                    break;
                }
              } else {
                throwOnInvalidElementType(type, owner);
              }
            }
        }
      }

      fiber = createFiber(fiberTag, pendingProps, key, mode);
      fiber.type = type;
      fiber.expirationTime = expirationTime;

      {
        fiber._debugSource = element._source;
        fiber._debugOwner = element._owner;
      }

      return fiber;
    }

    function throwOnInvalidElementType(type, owner) {
      var info = "";
      {
        if (type === undefined || typeof type === "object" && type !== null && Object.keys(type).length === 0) {
          info += " You likely forgot to export your component from the file " + "it's defined in, or you might have mixed up default and " + "named imports.";
        }
        var ownerName = owner ? getComponentName(owner) : null;
        if (ownerName) {
          info += "\n\nCheck the render method of `" + ownerName + "`.";
        }
      }
      invariant(false, "Element type is invalid: expected a string (for built-in " + "components) or a class/function (for composite components) " + "but got: %s.%s", type == null ? type : typeof type, info);
    }

    function createFiberFromFragment(elements, mode, expirationTime, key) {
      var fiber = createFiber(Fragment, elements, key, mode);
      fiber.expirationTime = expirationTime;
      return fiber;
    }

    function createFiberFromText(content, mode, expirationTime) {
      var fiber = createFiber(HostText, content, null, mode);
      fiber.expirationTime = expirationTime;
      return fiber;
    }

    function createFiberFromHostInstanceForDeletion() {
      var fiber = createFiber(HostComponent, null, null, NoContext);
      fiber.type = "DELETED";
      return fiber;
    }

    function createFiberFromPortal(portal, mode, expirationTime) {
      var pendingProps = portal.children !== null ? portal.children : [];
      var fiber = createFiber(HostPortal, pendingProps, portal.key, mode);
      fiber.expirationTime = expirationTime;
      fiber.stateNode = {
        containerInfo: portal.containerInfo,
        pendingChildren: null,
        implementation: portal.implementation
      };
      return fiber;
    }

    function createFiberRoot(containerInfo, isAsync, hydrate) {
      var uninitializedFiber = createHostRootFiber(isAsync);
      var root = {
        current: uninitializedFiber,
        containerInfo: containerInfo,
        pendingChildren: null,
        pendingCommitExpirationTime: NoWork,
        finishedWork: null,
        context: null,
        pendingContext: null,
        hydrate: hydrate,
        remainingExpirationTime: NoWork,
        firstBatch: null,
        nextScheduledRoot: null
      };
      uninitializedFiber.stateNode = root;
      return root;
    }

    var onCommitFiberRoot = null;
    var onCommitFiberUnmount = null;
    var hasLoggedError = false;

    function catchErrors(fn) {
      return function (arg) {
        try {
          return fn(arg);
        } catch (err) {
          if (true && !hasLoggedError) {
            hasLoggedError = true;
            warning(false, "React DevTools encountered an error: %s", err);
          }
        }
      };
    }

    function injectInternals(internals) {
      if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === "undefined") {
        return false;
      }
      var hook = __REACT_DEVTOOLS_GLOBAL_HOOK__;
      if (hook.isDisabled) {
        return true;
      }
      if (!hook.supportsFiber) {
        {
          warning(false, "The installed version of React DevTools is too old and will not work " + "with the current version of React. Please update React DevTools. " + "https://fb.me/react-devtools");
        }

        return true;
      }
      try {
        var rendererID = hook.inject(internals);

        onCommitFiberRoot = catchErrors(function (root) {
          return hook.onCommitFiberRoot(rendererID, root);
        });
        onCommitFiberUnmount = catchErrors(function (fiber) {
          return hook.onCommitFiberUnmount(rendererID, fiber);
        });
      } catch (err) {
        {
          warning(false, "React DevTools encountered an error: %s.", err);
        }
      }

      return true;
    }

    function onCommitRoot(root) {
      if (typeof onCommitFiberRoot === "function") {
        onCommitFiberRoot(root);
      }
    }

    function onCommitUnmount(fiber) {
      if (typeof onCommitFiberUnmount === "function") {
        onCommitFiberUnmount(fiber);
      }
    }

    var lowPriorityWarning = function lowPriorityWarning() {};

    {
      var printWarning = function printWarning(format) {
        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }

        var argIndex = 0;
        var message = "Warning: " + format.replace(/%s/g, function () {
          return args[argIndex++];
        });
        if (typeof console !== "undefined") {
          console.warn(message);
        }
        try {
          throw new Error(message);
        } catch (x) {}
      };

      lowPriorityWarning = function lowPriorityWarning(condition, format) {
        if (format === undefined) {
          throw new Error("`warning(condition, format, ...args)` requires a warning " + "message argument");
        }
        if (!condition) {
          for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
            args[_key2 - 2] = arguments[_key2];
          }

          printWarning.apply(undefined, [format].concat(args));
        }
      };
    }

    var lowPriorityWarning$1 = lowPriorityWarning;

    var ReactStrictModeWarnings = {
      discardPendingWarnings: function discardPendingWarnings() {},
      flushPendingDeprecationWarnings: function flushPendingDeprecationWarnings() {},
      flushPendingUnsafeLifecycleWarnings: function flushPendingUnsafeLifecycleWarnings() {},
      recordDeprecationWarnings: function recordDeprecationWarnings(fiber, instance) {},
      recordUnsafeLifecycleWarnings: function recordUnsafeLifecycleWarnings(fiber, instance) {}
    };

    {
      var LIFECYCLE_SUGGESTIONS = {
        UNSAFE_componentWillMount: "componentDidMount",
        UNSAFE_componentWillReceiveProps: "static getDerivedStateFromProps",
        UNSAFE_componentWillUpdate: "componentDidUpdate"
      };

      var pendingComponentWillMountWarnings = [];
      var pendingComponentWillReceivePropsWarnings = [];
      var pendingComponentWillUpdateWarnings = [];
      var pendingUnsafeLifecycleWarnings = new Map();

      var didWarnAboutDeprecatedLifecycles = new Set();
      var didWarnAboutUnsafeLifecycles = new Set();

      ReactStrictModeWarnings.discardPendingWarnings = function () {
        pendingComponentWillMountWarnings = [];
        pendingComponentWillReceivePropsWarnings = [];
        pendingComponentWillUpdateWarnings = [];
        pendingUnsafeLifecycleWarnings = new Map();
      };

      ReactStrictModeWarnings.flushPendingUnsafeLifecycleWarnings = function () {
        pendingUnsafeLifecycleWarnings.forEach(function (lifecycleWarningsMap, strictRoot) {
          var lifecyclesWarningMesages = [];

          Object.keys(lifecycleWarningsMap).forEach(function (lifecycle) {
            var lifecycleWarnings = lifecycleWarningsMap[lifecycle];
            if (lifecycleWarnings.length > 0) {
              var componentNames = new Set();
              lifecycleWarnings.forEach(function (fiber) {
                componentNames.add(getComponentName(fiber) || "Component");
                didWarnAboutUnsafeLifecycles.add(fiber.type);
              });

              var formatted = lifecycle.replace("UNSAFE_", "");
              var suggestion = LIFECYCLE_SUGGESTIONS[lifecycle];
              var sortedComponentNames = Array.from(componentNames).sort().join(", ");

              lifecyclesWarningMesages.push(formatted + ": Please update the following components to use " + (suggestion + " instead: " + sortedComponentNames));
            }
          });

          if (lifecyclesWarningMesages.length > 0) {
            var strictRootComponentStack = getStackAddendumByWorkInProgressFiber(strictRoot);

            warning(false, "Unsafe lifecycle methods were found within a strict-mode tree:%s" + "\n\n%s" + "\n\nLearn more about this warning here:" + "\nhttps://fb.me/react-strict-mode-warnings", strictRootComponentStack, lifecyclesWarningMesages.join("\n\n"));
          }
        });

        pendingUnsafeLifecycleWarnings = new Map();
      };

      var getStrictRoot = function getStrictRoot(fiber) {
        var maybeStrictRoot = null;

        while (fiber !== null) {
          if (fiber.mode & StrictMode) {
            maybeStrictRoot = fiber;
          }

          fiber = fiber["return"];
        }

        return maybeStrictRoot;
      };

      ReactStrictModeWarnings.flushPendingDeprecationWarnings = function () {
        if (pendingComponentWillMountWarnings.length > 0) {
          var uniqueNames = new Set();
          pendingComponentWillMountWarnings.forEach(function (fiber) {
            uniqueNames.add(getComponentName(fiber) || "Component");
            didWarnAboutDeprecatedLifecycles.add(fiber.type);
          });

          var sortedNames = Array.from(uniqueNames).sort().join(", ");

          lowPriorityWarning$1(false, "componentWillMount is deprecated and will be removed in the next major version. " + "Use componentDidMount instead. As a temporary workaround, " + "you can rename to UNSAFE_componentWillMount." + "\n\nPlease update the following components: %s" + "\n\nLearn more about this warning here:" + "\nhttps://fb.me/react-async-component-lifecycle-hooks", sortedNames);

          pendingComponentWillMountWarnings = [];
        }

        if (pendingComponentWillReceivePropsWarnings.length > 0) {
          var _uniqueNames = new Set();
          pendingComponentWillReceivePropsWarnings.forEach(function (fiber) {
            _uniqueNames.add(getComponentName(fiber) || "Component");
            didWarnAboutDeprecatedLifecycles.add(fiber.type);
          });

          var _sortedNames = Array.from(_uniqueNames).sort().join(", ");

          lowPriorityWarning$1(false, "componentWillReceiveProps is deprecated and will be removed in the next major version. " + "Use static getDerivedStateFromProps instead." + "\n\nPlease update the following components: %s" + "\n\nLearn more about this warning here:" + "\nhttps://fb.me/react-async-component-lifecycle-hooks", _sortedNames);

          pendingComponentWillReceivePropsWarnings = [];
        }

        if (pendingComponentWillUpdateWarnings.length > 0) {
          var _uniqueNames2 = new Set();
          pendingComponentWillUpdateWarnings.forEach(function (fiber) {
            _uniqueNames2.add(getComponentName(fiber) || "Component");
            didWarnAboutDeprecatedLifecycles.add(fiber.type);
          });

          var _sortedNames2 = Array.from(_uniqueNames2).sort().join(", ");

          lowPriorityWarning$1(false, "componentWillUpdate is deprecated and will be removed in the next major version. " + "Use componentDidUpdate instead. As a temporary workaround, " + "you can rename to UNSAFE_componentWillUpdate." + "\n\nPlease update the following components: %s" + "\n\nLearn more about this warning here:" + "\nhttps://fb.me/react-async-component-lifecycle-hooks", _sortedNames2);

          pendingComponentWillUpdateWarnings = [];
        }
      };

      ReactStrictModeWarnings.recordDeprecationWarnings = function (fiber, instance) {
        if (didWarnAboutDeprecatedLifecycles.has(fiber.type)) {
          return;
        }

        if (typeof instance.componentWillMount === "function" && instance.componentWillMount.__suppressDeprecationWarning !== true) {
          pendingComponentWillMountWarnings.push(fiber);
        }
        if (typeof instance.componentWillReceiveProps === "function" && instance.componentWillReceiveProps.__suppressDeprecationWarning !== true) {
          pendingComponentWillReceivePropsWarnings.push(fiber);
        }
        if (typeof instance.componentWillUpdate === "function") {
          pendingComponentWillUpdateWarnings.push(fiber);
        }
      };

      ReactStrictModeWarnings.recordUnsafeLifecycleWarnings = function (fiber, instance) {
        var strictRoot = getStrictRoot(fiber);

        if (didWarnAboutUnsafeLifecycles.has(fiber.type)) {
          return;
        }

        if (typeof instance.componentWillMount === "function" && instance.componentWillMount.__suppressDeprecationWarning === true) {
          return;
        }

        var warningsForRoot = void 0;
        if (!pendingUnsafeLifecycleWarnings.has(strictRoot)) {
          warningsForRoot = {
            UNSAFE_componentWillMount: [],
            UNSAFE_componentWillReceiveProps: [],
            UNSAFE_componentWillUpdate: []
          };

          pendingUnsafeLifecycleWarnings.set(strictRoot, warningsForRoot);
        } else {
          warningsForRoot = pendingUnsafeLifecycleWarnings.get(strictRoot);
        }

        var unsafeLifecycles = [];
        if (typeof instance.componentWillMount === "function" || typeof instance.UNSAFE_componentWillMount === "function") {
          unsafeLifecycles.push("UNSAFE_componentWillMount");
        }
        if (typeof instance.componentWillReceiveProps === "function" || typeof instance.UNSAFE_componentWillReceiveProps === "function") {
          unsafeLifecycles.push("UNSAFE_componentWillReceiveProps");
        }
        if (typeof instance.componentWillUpdate === "function" || typeof instance.UNSAFE_componentWillUpdate === "function") {
          unsafeLifecycles.push("UNSAFE_componentWillUpdate");
        }

        if (unsafeLifecycles.length > 0) {
          unsafeLifecycles.forEach(function (lifecycle) {
            warningsForRoot[lifecycle].push(fiber);
          });
        }
      };
    }

    var didWarnUpdateInsideUpdate = void 0;

    {
      didWarnUpdateInsideUpdate = false;
    }

    function createUpdateQueue(baseState) {
      var queue = {
        baseState: baseState,
        expirationTime: NoWork,
        first: null,
        last: null,
        callbackList: null,
        hasForceUpdate: false,
        isInitialized: false,
        capturedValues: null
      };
      {
        queue.isProcessing = false;
      }
      return queue;
    }

    function insertUpdateIntoQueue(queue, update) {
      if (queue.last === null) {
        queue.first = queue.last = update;
      } else {
        queue.last.next = update;
        queue.last = update;
      }
      if (queue.expirationTime === NoWork || queue.expirationTime > update.expirationTime) {
        queue.expirationTime = update.expirationTime;
      }
    }

    var q1 = void 0;
    var q2 = void 0;
    function ensureUpdateQueues(fiber) {
      q1 = q2 = null;

      var alternateFiber = fiber.alternate;
      var queue1 = fiber.updateQueue;
      if (queue1 === null) {
        queue1 = fiber.updateQueue = createUpdateQueue(null);
      }

      var queue2 = void 0;
      if (alternateFiber !== null) {
        queue2 = alternateFiber.updateQueue;
        if (queue2 === null) {
          queue2 = alternateFiber.updateQueue = createUpdateQueue(null);
        }
      } else {
        queue2 = null;
      }
      queue2 = queue2 !== queue1 ? queue2 : null;

      q1 = queue1;
      q2 = queue2;
    }

    function insertUpdateIntoFiber(fiber, update) {
      ensureUpdateQueues(fiber);
      var queue1 = q1;
      var queue2 = q2;

      {
        if ((queue1.isProcessing || queue2 !== null && queue2.isProcessing) && !didWarnUpdateInsideUpdate) {
          warning(false, "An update (setState, replaceState, or forceUpdate) was scheduled " + "from inside an update function. Update functions should be pure, " + "with zero side-effects. Consider using componentDidUpdate or a " + "callback.");
          didWarnUpdateInsideUpdate = true;
        }
      }

      if (queue2 === null) {
        insertUpdateIntoQueue(queue1, update);
        return;
      }

      if (queue1.last === null || queue2.last === null) {
        insertUpdateIntoQueue(queue1, update);
        insertUpdateIntoQueue(queue2, update);
        return;
      }

      insertUpdateIntoQueue(queue1, update);

      queue2.last = update;
    }

    function getUpdateExpirationTime(fiber) {
      switch (fiber.tag) {
        case HostRoot:
        case ClassComponent:
          var updateQueue = fiber.updateQueue;
          if (updateQueue === null) {
            return NoWork;
          }
          return updateQueue.expirationTime;
        default:
          return NoWork;
      }
    }

    function getStateFromUpdate(update, instance, prevState, props) {
      var partialState = update.partialState;
      if (typeof partialState === "function") {
        return partialState.call(instance, prevState, props);
      } else {
        return partialState;
      }
    }

    function processUpdateQueue(current, workInProgress, queue, instance, props, renderExpirationTime) {
      if (current !== null && current.updateQueue === queue) {
        var currentQueue = queue;
        queue = workInProgress.updateQueue = {
          baseState: currentQueue.baseState,
          expirationTime: currentQueue.expirationTime,
          first: currentQueue.first,
          last: currentQueue.last,
          isInitialized: currentQueue.isInitialized,
          capturedValues: currentQueue.capturedValues,

          callbackList: null,
          hasForceUpdate: false
        };
      }

      {
        queue.isProcessing = true;
      }

      queue.expirationTime = NoWork;

      var state = void 0;
      if (queue.isInitialized) {
        state = queue.baseState;
      } else {
        state = queue.baseState = workInProgress.memoizedState;
        queue.isInitialized = true;
      }
      var dontMutatePrevState = true;
      var update = queue.first;
      var didSkip = false;
      while (update !== null) {
        var updateExpirationTime = update.expirationTime;
        if (updateExpirationTime > renderExpirationTime) {
          var remainingExpirationTime = queue.expirationTime;
          if (remainingExpirationTime === NoWork || remainingExpirationTime > updateExpirationTime) {
            queue.expirationTime = updateExpirationTime;
          }
          if (!didSkip) {
            didSkip = true;
            queue.baseState = state;
          }

          update = update.next;
          continue;
        }

        if (!didSkip) {
          queue.first = update.next;
          if (queue.first === null) {
            queue.last = null;
          }
        }

        if (debugRenderPhaseSideEffects || debugRenderPhaseSideEffectsForStrictMode && workInProgress.mode & StrictMode) {
          getStateFromUpdate(update, instance, state, props);
        }

        var _partialState = void 0;
        if (update.isReplace) {
          state = getStateFromUpdate(update, instance, state, props);
          dontMutatePrevState = true;
        } else {
          _partialState = getStateFromUpdate(update, instance, state, props);
          if (_partialState) {
            if (dontMutatePrevState) {
              state = _extends({}, state, _partialState);
            } else {
              state = _extends(state, _partialState);
            }
            dontMutatePrevState = false;
          }
        }
        if (update.isForced) {
          queue.hasForceUpdate = true;
        }
        if (update.callback !== null) {
          var _callbackList = queue.callbackList;
          if (_callbackList === null) {
            _callbackList = queue.callbackList = [];
          }
          _callbackList.push(update);
        }
        if (update.capturedValue !== null) {
          var _capturedValues = queue.capturedValues;
          if (_capturedValues === null) {
            queue.capturedValues = [update.capturedValue];
          } else {
            _capturedValues.push(update.capturedValue);
          }
        }
        update = update.next;
      }

      if (queue.callbackList !== null) {
        workInProgress.effectTag |= Callback;
      } else if (queue.first === null && !queue.hasForceUpdate && queue.capturedValues === null) {
        workInProgress.updateQueue = null;
      }

      if (!didSkip) {
        didSkip = true;
        queue.baseState = state;
      }

      {
        queue.isProcessing = false;
      }

      return state;
    }

    function commitCallbacks(queue, context) {
      var callbackList = queue.callbackList;
      if (callbackList === null) {
        return;
      }

      queue.callbackList = null;
      for (var i = 0; i < callbackList.length; i++) {
        var update = callbackList[i];
        var _callback = update.callback;

        update.callback = null;
        invariant(typeof _callback === "function", "Invalid argument passed as callback. Expected a function. Instead " + "received: %s", _callback);
        _callback.call(context);
      }
    }

    var fakeInternalInstance = {};
    var isArray = Array.isArray;

    var didWarnAboutStateAssignmentForComponent = void 0;
    var didWarnAboutUndefinedDerivedState = void 0;
    var didWarnAboutUninitializedState = void 0;
    var didWarnAboutWillReceivePropsAndDerivedState = void 0;
    var warnOnInvalidCallback = void 0;

    {
      didWarnAboutStateAssignmentForComponent = {};
      didWarnAboutUndefinedDerivedState = {};
      didWarnAboutUninitializedState = {};
      didWarnAboutWillReceivePropsAndDerivedState = {};

      var didWarnOnInvalidCallback = {};

      warnOnInvalidCallback = function warnOnInvalidCallback(callback, callerName) {
        if (callback === null || typeof callback === "function") {
          return;
        }
        var key = callerName + "_" + callback;
        if (!didWarnOnInvalidCallback[key]) {
          warning(false, "%s(...): Expected the last optional `callback` argument to be a " + "function. Instead received: %s.", callerName, callback);
          didWarnOnInvalidCallback[key] = true;
        }
      };

      Object.defineProperty(fakeInternalInstance, "_processChildContext", {
        enumerable: false,
        value: function value() {
          invariant(false, "_processChildContext is not available in React 16+. This likely " + "means you have multiple copies of React and are attempting to nest " + "a React 15 tree inside a React 16 tree using " + "unstable_renderSubtreeIntoContainer, which isn't supported. Try " + "to make sure you have only one copy of React (and ideally, switch " + "to ReactDOM.createPortal).");
        }
      });
      Object.freeze(fakeInternalInstance);
    }
    function callGetDerivedStateFromCatch(ctor, capturedValues) {
      var resultState = {};
      for (var i = 0; i < capturedValues.length; i++) {
        var capturedValue = capturedValues[i];
        var error = capturedValue.value;
        var partialState = ctor.getDerivedStateFromCatch.call(null, error);
        if (partialState !== null && partialState !== undefined) {
          _extends(resultState, partialState);
        }
      }
      return resultState;
    }

    var ReactFiberClassComponent = function ReactFiberClassComponent(scheduleWork, computeExpirationForFiber, memoizeProps, memoizeState) {
      var updater = {
        isMounted: isMounted,
        enqueueSetState: function enqueueSetState(instance, partialState, callback) {
          var fiber = get(instance);
          callback = callback === undefined ? null : callback;
          {
            warnOnInvalidCallback(callback, "setState");
          }
          var expirationTime = computeExpirationForFiber(fiber);
          var update = {
            expirationTime: expirationTime,
            partialState: partialState,
            callback: callback,
            isReplace: false,
            isForced: false,
            capturedValue: null,
            next: null
          };
          insertUpdateIntoFiber(fiber, update);
          scheduleWork(fiber, expirationTime);
        },
        enqueueReplaceState: function enqueueReplaceState(instance, state, callback) {
          var fiber = get(instance);
          callback = callback === undefined ? null : callback;
          {
            warnOnInvalidCallback(callback, "replaceState");
          }
          var expirationTime = computeExpirationForFiber(fiber);
          var update = {
            expirationTime: expirationTime,
            partialState: state,
            callback: callback,
            isReplace: true,
            isForced: false,
            capturedValue: null,
            next: null
          };
          insertUpdateIntoFiber(fiber, update);
          scheduleWork(fiber, expirationTime);
        },
        enqueueForceUpdate: function enqueueForceUpdate(instance, callback) {
          var fiber = get(instance);
          callback = callback === undefined ? null : callback;
          {
            warnOnInvalidCallback(callback, "forceUpdate");
          }
          var expirationTime = computeExpirationForFiber(fiber);
          var update = {
            expirationTime: expirationTime,
            partialState: null,
            callback: callback,
            isReplace: false,
            isForced: true,
            capturedValue: null,
            next: null
          };
          insertUpdateIntoFiber(fiber, update);
          scheduleWork(fiber, expirationTime);
        }
      };

      function checkShouldComponentUpdate(workInProgress, oldProps, newProps, oldState, newState, newContext) {
        if (oldProps === null || workInProgress.updateQueue !== null && workInProgress.updateQueue.hasForceUpdate) {
          return true;
        }

        var instance = workInProgress.stateNode;
        var ctor = workInProgress.type;
        if (typeof instance.shouldComponentUpdate === "function") {
          startPhaseTimer(workInProgress, "shouldComponentUpdate");
          var shouldUpdate = instance.shouldComponentUpdate(newProps, newState, newContext);
          stopPhaseTimer();

          {
            warning(shouldUpdate !== undefined, "%s.shouldComponentUpdate(): Returned undefined instead of a " + "boolean value. Make sure to return true or false.", getComponentName(workInProgress) || "Unknown");
          }

          return shouldUpdate;
        }

        if (ctor.prototype && ctor.prototype.isPureReactComponent) {
          return !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState);
        }

        return true;
      }

      function checkClassInstance(workInProgress) {
        var instance = workInProgress.stateNode;
        var type = workInProgress.type;
        {
          var name = getComponentName(workInProgress);
          var renderPresent = instance.render;

          if (!renderPresent) {
            if (type.prototype && typeof type.prototype.render === "function") {
              warning(false, "%s(...): No `render` method found on the returned component " + "instance: did you accidentally return an object from the constructor?", name);
            } else {
              warning(false, "%s(...): No `render` method found on the returned component " + "instance: you may have forgotten to define `render`.", name);
            }
          }

          var noGetInitialStateOnES6 = !instance.getInitialState || instance.getInitialState.isReactClassApproved || instance.state;
          warning(noGetInitialStateOnES6, "getInitialState was defined on %s, a plain JavaScript class. " + "This is only supported for classes created using React.createClass. " + "Did you mean to define a state property instead?", name);
          var noGetDefaultPropsOnES6 = !instance.getDefaultProps || instance.getDefaultProps.isReactClassApproved;
          warning(noGetDefaultPropsOnES6, "getDefaultProps was defined on %s, a plain JavaScript class. " + "This is only supported for classes created using React.createClass. " + "Use a static property to define defaultProps instead.", name);
          var noInstancePropTypes = !instance.propTypes;
          warning(noInstancePropTypes, "propTypes was defined as an instance property on %s. Use a static " + "property to define propTypes instead.", name);
          var noInstanceContextTypes = !instance.contextTypes;
          warning(noInstanceContextTypes, "contextTypes was defined as an instance property on %s. Use a static " + "property to define contextTypes instead.", name);
          var noComponentShouldUpdate = typeof instance.componentShouldUpdate !== "function";
          warning(noComponentShouldUpdate, "%s has a method called " + "componentShouldUpdate(). Did you mean shouldComponentUpdate()? " + "The name is phrased as a question because the function is " + "expected to return a value.", name);
          if (type.prototype && type.prototype.isPureReactComponent && typeof instance.shouldComponentUpdate !== "undefined") {
            warning(false, "%s has a method called shouldComponentUpdate(). " + "shouldComponentUpdate should not be used when extending React.PureComponent. " + "Please extend React.Component if shouldComponentUpdate is used.", getComponentName(workInProgress) || "A pure component");
          }
          var noComponentDidUnmount = typeof instance.componentDidUnmount !== "function";
          warning(noComponentDidUnmount, "%s has a method called " + "componentDidUnmount(). But there is no such lifecycle method. " + "Did you mean componentWillUnmount()?", name);
          var noComponentDidReceiveProps = typeof instance.componentDidReceiveProps !== "function";
          warning(noComponentDidReceiveProps, "%s has a method called " + "componentDidReceiveProps(). But there is no such lifecycle method. " + "If you meant to update the state in response to changing props, " + "use componentWillReceiveProps(). If you meant to fetch data or " + "run side-effects or mutations after React has updated the UI, use componentDidUpdate().", name);
          var noComponentWillRecieveProps = typeof instance.componentWillRecieveProps !== "function";
          warning(noComponentWillRecieveProps, "%s has a method called " + "componentWillRecieveProps(). Did you mean componentWillReceiveProps()?", name);
          var noUnsafeComponentWillRecieveProps = typeof instance.UNSAFE_componentWillRecieveProps !== "function";
          warning(noUnsafeComponentWillRecieveProps, "%s has a method called " + "UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?", name);
          var hasMutatedProps = instance.props !== workInProgress.pendingProps;
          warning(instance.props === undefined || !hasMutatedProps, "%s(...): When calling super() in `%s`, make sure to pass " + "up the same props that your component's constructor was passed.", name, name);
          var noInstanceDefaultProps = !instance.defaultProps;
          warning(noInstanceDefaultProps, "Setting defaultProps as an instance property on %s is not supported and will be ignored." + " Instead, define defaultProps as a static property on %s.", name, name);
        }

        var state = instance.state;
        if (state && (typeof state !== "object" || isArray(state))) {
          warning(false, "%s.state: must be set to an object or null", getComponentName(workInProgress));
        }
        if (typeof instance.getChildContext === "function") {
          warning(typeof type.childContextTypes === "object", "%s.getChildContext(): childContextTypes must be defined in order to " + "use getChildContext().", getComponentName(workInProgress));
        }
      }

      function resetInputPointers(workInProgress, instance) {
        instance.props = workInProgress.memoizedProps;
        instance.state = workInProgress.memoizedState;
      }

      function adoptClassInstance(workInProgress, instance) {
        instance.updater = updater;
        workInProgress.stateNode = instance;

        set(instance, workInProgress);
        {
          instance._reactInternalInstance = fakeInternalInstance;
        }
      }

      function constructClassInstance(workInProgress, props) {
        var ctor = workInProgress.type;
        var unmaskedContext = getUnmaskedContext(workInProgress);
        var needsContext = isContextConsumer(workInProgress);
        var context = needsContext ? getMaskedContext(workInProgress, unmaskedContext) : emptyObject;

        if (debugRenderPhaseSideEffects || debugRenderPhaseSideEffectsForStrictMode && workInProgress.mode & StrictMode) {
          new ctor(props, context);
        }

        var instance = new ctor(props, context);
        var state = instance.state !== null && instance.state !== undefined ? instance.state : null;
        adoptClassInstance(workInProgress, instance);

        {
          if (typeof ctor.getDerivedStateFromProps === "function" && state === null) {
            var componentName = getComponentName(workInProgress) || "Unknown";
            if (!didWarnAboutUninitializedState[componentName]) {
              warning(false, "%s: Did not properly initialize state during construction. " + "Expected state to be an object, but it was %s.", componentName, instance.state === null ? "null" : "undefined");
              didWarnAboutUninitializedState[componentName] = true;
            }
          }
        }

        workInProgress.memoizedState = state;

        var partialState = callGetDerivedStateFromProps(workInProgress, instance, props);

        if (partialState !== null && partialState !== undefined) {
          workInProgress.memoizedState = _extends({}, workInProgress.memoizedState, partialState);
        }

        if (needsContext) {
          cacheContext(workInProgress, unmaskedContext, context);
        }

        return instance;
      }

      function callComponentWillMount(workInProgress, instance) {
        startPhaseTimer(workInProgress, "componentWillMount");
        var oldState = instance.state;

        if (typeof instance.componentWillMount === "function") {
          instance.componentWillMount();
        }
        if (typeof instance.UNSAFE_componentWillMount === "function") {
          instance.UNSAFE_componentWillMount();
        }

        stopPhaseTimer();

        if (oldState !== instance.state) {
          {
            warning(false, "%s.componentWillMount(): Assigning directly to this.state is " + "deprecated (except inside a component's " + "constructor). Use setState instead.", getComponentName(workInProgress));
          }
          updater.enqueueReplaceState(instance, instance.state, null);
        }
      }

      function callComponentWillReceiveProps(workInProgress, instance, newProps, newContext) {
        var oldState = instance.state;
        startPhaseTimer(workInProgress, "componentWillReceiveProps");
        if (typeof instance.componentWillReceiveProps === "function") {
          instance.componentWillReceiveProps(newProps, newContext);
        }
        if (typeof instance.UNSAFE_componentWillReceiveProps === "function") {
          instance.UNSAFE_componentWillReceiveProps(newProps, newContext);
        }
        stopPhaseTimer();

        if (instance.state !== oldState) {
          {
            var componentName = getComponentName(workInProgress) || "Component";
            if (!didWarnAboutStateAssignmentForComponent[componentName]) {
              warning(false, "%s.componentWillReceiveProps(): Assigning directly to " + "this.state is deprecated (except inside a component's " + "constructor). Use setState instead.", componentName);
              didWarnAboutStateAssignmentForComponent[componentName] = true;
            }
          }
          updater.enqueueReplaceState(instance, instance.state, null);
        }
      }

      function callGetDerivedStateFromProps(workInProgress, instance, props) {
        var type = workInProgress.type;

        if (typeof type.getDerivedStateFromProps === "function") {
          {
            if (typeof instance.componentWillReceiveProps === "function" && instance.componentWillReceiveProps.__suppressDeprecationWarning !== true || typeof instance.UNSAFE_componentWillReceiveProps === "function") {
              var componentName = getComponentName(workInProgress) || "Unknown";
              if (!didWarnAboutWillReceivePropsAndDerivedState[componentName]) {
                warning(false, "%s: Defines both componentWillReceiveProps() and static " + "getDerivedStateFromProps() methods. We recommend using " + "only getDerivedStateFromProps().", componentName);
                didWarnAboutWillReceivePropsAndDerivedState[componentName] = true;
              }
            }
          }

          if (debugRenderPhaseSideEffects || debugRenderPhaseSideEffectsForStrictMode && workInProgress.mode & StrictMode) {
            type.getDerivedStateFromProps.call(null, props, workInProgress.memoizedState);
          }

          var partialState = type.getDerivedStateFromProps.call(null, props, workInProgress.memoizedState);

          {
            if (partialState === undefined) {
              var _componentName = getComponentName(workInProgress) || "Unknown";
              if (!didWarnAboutUndefinedDerivedState[_componentName]) {
                warning(false, "%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. " + "You have returned undefined.", _componentName);
                didWarnAboutUndefinedDerivedState[_componentName] = _componentName;
              }
            }
          }

          return partialState;
        }
      }

      function mountClassInstance(workInProgress, renderExpirationTime) {
        var ctor = workInProgress.type;
        var current = workInProgress.alternate;

        {
          checkClassInstance(workInProgress);
        }

        var instance = workInProgress.stateNode;
        var props = workInProgress.pendingProps;
        var unmaskedContext = getUnmaskedContext(workInProgress);

        instance.props = props;
        instance.state = workInProgress.memoizedState;
        instance.refs = emptyObject;
        instance.context = getMaskedContext(workInProgress, unmaskedContext);

        {
          if (workInProgress.mode & StrictMode) {
            ReactStrictModeWarnings.recordUnsafeLifecycleWarnings(workInProgress, instance);
          }

          if (warnAboutDeprecatedLifecycles) {
            ReactStrictModeWarnings.recordDeprecationWarnings(workInProgress, instance);
          }
        }

        if ((typeof instance.UNSAFE_componentWillMount === "function" || typeof instance.componentWillMount === "function") && typeof ctor.getDerivedStateFromProps !== "function") {
          callComponentWillMount(workInProgress, instance);

          var updateQueue = workInProgress.updateQueue;
          if (updateQueue !== null) {
            instance.state = processUpdateQueue(current, workInProgress, updateQueue, instance, props, renderExpirationTime);
          }
        }
        if (typeof instance.componentDidMount === "function") {
          workInProgress.effectTag |= Update;
        }
      }

      function resumeMountClassInstance(workInProgress, renderExpirationTime) {
        var ctor = workInProgress.type;
        var instance = workInProgress.stateNode;
        resetInputPointers(workInProgress, instance);

        var oldProps = workInProgress.memoizedProps;
        var newProps = workInProgress.pendingProps;
        var oldContext = instance.context;
        var newUnmaskedContext = getUnmaskedContext(workInProgress);
        var newContext = getMaskedContext(workInProgress, newUnmaskedContext);

        if ((typeof instance.UNSAFE_componentWillReceiveProps === "function" || typeof instance.componentWillReceiveProps === "function") && typeof ctor.getDerivedStateFromProps !== "function") {
          if (oldProps !== newProps || oldContext !== newContext) {
            callComponentWillReceiveProps(workInProgress, instance, newProps, newContext);
          }
        }

        var derivedStateFromProps = void 0;
        if (oldProps !== newProps) {
          derivedStateFromProps = callGetDerivedStateFromProps(workInProgress, instance, newProps);
        }

        var oldState = workInProgress.memoizedState;

        var newState = void 0;
        var derivedStateFromCatch = void 0;
        if (workInProgress.updateQueue !== null) {
          newState = processUpdateQueue(null, workInProgress, workInProgress.updateQueue, instance, newProps, renderExpirationTime);

          var updateQueue = workInProgress.updateQueue;
          if (updateQueue !== null && updateQueue.capturedValues !== null && enableGetDerivedStateFromCatch && typeof ctor.getDerivedStateFromCatch === "function") {
            var capturedValues = updateQueue.capturedValues;

            derivedStateFromCatch = callGetDerivedStateFromCatch(ctor, capturedValues);
          }
        } else {
          newState = oldState;
        }

        if (derivedStateFromProps !== null && derivedStateFromProps !== undefined) {
          newState = newState === null || newState === undefined ? derivedStateFromProps : _extends({}, newState, derivedStateFromProps);
        }
        if (derivedStateFromCatch !== null && derivedStateFromCatch !== undefined) {
          newState = newState === null || newState === undefined ? derivedStateFromCatch : _extends({}, newState, derivedStateFromCatch);
        }

        if (oldProps === newProps && oldState === newState && !hasContextChanged() && !(workInProgress.updateQueue !== null && workInProgress.updateQueue.hasForceUpdate)) {
          if (typeof instance.componentDidMount === "function") {
            workInProgress.effectTag |= Update;
          }
          return false;
        }

        var shouldUpdate = checkShouldComponentUpdate(workInProgress, oldProps, newProps, oldState, newState, newContext);

        if (shouldUpdate) {
          if ((typeof instance.UNSAFE_componentWillUpdate === "function" || typeof instance.componentWillUpdate === "function") && typeof ctor.getDerivedStateFromProps !== "function") {
            startPhaseTimer(workInProgress, "componentWillUpdate");
            if (typeof instance.componentWillUpdate === "function") {
              instance.componentWillUpdate(newProps, newState, newContext);
            }
            if (typeof instance.UNSAFE_componentWillUpdate === "function") {
              instance.UNSAFE_componentWillUpdate(newProps, newState, newContext);
            }
            stopPhaseTimer();
          }
          if (typeof instance.componentDidUpdate === "function") {
            workInProgress.effectTag |= Update;
          }
        } else {
          if (typeof instance.componentDidMount === "function") {
            workInProgress.effectTag |= Update;
          }

          memoizeProps(workInProgress, newProps);
          memoizeState(workInProgress, newState);
        }

        instance.props = newProps;
        instance.state = newState;
        instance.context = newContext;

        return shouldUpdate;
      }

      function updateClassInstance(current, workInProgress, renderExpirationTime) {
        var ctor = workInProgress.type;
        var instance = workInProgress.stateNode;
        resetInputPointers(workInProgress, instance);

        var oldProps = workInProgress.memoizedProps;
        var newProps = workInProgress.pendingProps;
        var oldContext = instance.context;
        var newUnmaskedContext = getUnmaskedContext(workInProgress);
        var newContext = getMaskedContext(workInProgress, newUnmaskedContext);

        if ((typeof instance.UNSAFE_componentWillReceiveProps === "function" || typeof instance.componentWillReceiveProps === "function") && typeof ctor.getDerivedStateFromProps !== "function") {
          if (oldProps !== newProps || oldContext !== newContext) {
            callComponentWillReceiveProps(workInProgress, instance, newProps, newContext);
          }
        }

        var derivedStateFromProps = void 0;
        if (oldProps !== newProps) {
          derivedStateFromProps = callGetDerivedStateFromProps(workInProgress, instance, newProps);
        }

        var oldState = workInProgress.memoizedState;

        var newState = void 0;
        var derivedStateFromCatch = void 0;
        if (workInProgress.updateQueue !== null) {
          newState = processUpdateQueue(current, workInProgress, workInProgress.updateQueue, instance, newProps, renderExpirationTime);

          var updateQueue = workInProgress.updateQueue;
          if (updateQueue !== null && updateQueue.capturedValues !== null && enableGetDerivedStateFromCatch && typeof ctor.getDerivedStateFromCatch === "function") {
            var capturedValues = updateQueue.capturedValues;

            derivedStateFromCatch = callGetDerivedStateFromCatch(ctor, capturedValues);
          }
        } else {
          newState = oldState;
        }

        if (derivedStateFromProps !== null && derivedStateFromProps !== undefined) {
          newState = newState === null || newState === undefined ? derivedStateFromProps : _extends({}, newState, derivedStateFromProps);
        }
        if (derivedStateFromCatch !== null && derivedStateFromCatch !== undefined) {
          newState = newState === null || newState === undefined ? derivedStateFromCatch : _extends({}, newState, derivedStateFromCatch);
        }

        if (oldProps === newProps && oldState === newState && !hasContextChanged() && !(workInProgress.updateQueue !== null && workInProgress.updateQueue.hasForceUpdate)) {
          if (typeof instance.componentDidUpdate === "function") {
            if (oldProps !== current.memoizedProps || oldState !== current.memoizedState) {
              workInProgress.effectTag |= Update;
            }
          }
          return false;
        }

        var shouldUpdate = checkShouldComponentUpdate(workInProgress, oldProps, newProps, oldState, newState, newContext);

        if (shouldUpdate) {
          if ((typeof instance.UNSAFE_componentWillUpdate === "function" || typeof instance.componentWillUpdate === "function") && typeof ctor.getDerivedStateFromProps !== "function") {
            startPhaseTimer(workInProgress, "componentWillUpdate");
            if (typeof instance.componentWillUpdate === "function") {
              instance.componentWillUpdate(newProps, newState, newContext);
            }
            if (typeof instance.UNSAFE_componentWillUpdate === "function") {
              instance.UNSAFE_componentWillUpdate(newProps, newState, newContext);
            }
            stopPhaseTimer();
          }
          if (typeof instance.componentDidUpdate === "function") {
            workInProgress.effectTag |= Update;
          }
        } else {
          if (typeof instance.componentDidUpdate === "function") {
            if (oldProps !== current.memoizedProps || oldState !== current.memoizedState) {
              workInProgress.effectTag |= Update;
            }
          }

          memoizeProps(workInProgress, newProps);
          memoizeState(workInProgress, newState);
        }

        instance.props = newProps;
        instance.state = newState;
        instance.context = newContext;

        return shouldUpdate;
      }

      return {
        adoptClassInstance: adoptClassInstance,
        callGetDerivedStateFromProps: callGetDerivedStateFromProps,
        constructClassInstance: constructClassInstance,
        mountClassInstance: mountClassInstance,
        resumeMountClassInstance: resumeMountClassInstance,
        updateClassInstance: updateClassInstance
      };
    };

    var getCurrentFiberStackAddendum$1 = ReactDebugCurrentFiber.getCurrentFiberStackAddendum;

    var didWarnAboutMaps = void 0;
    var didWarnAboutStringRefInStrictMode = void 0;
    var ownerHasKeyUseWarning = void 0;
    var ownerHasFunctionTypeWarning = void 0;
    var warnForMissingKey = function warnForMissingKey(child) {};

    {
      didWarnAboutMaps = false;
      didWarnAboutStringRefInStrictMode = {};

      ownerHasKeyUseWarning = {};
      ownerHasFunctionTypeWarning = {};

      warnForMissingKey = function warnForMissingKey(child) {
        if (child === null || typeof child !== "object") {
          return;
        }
        if (!child._store || child._store.validated || child.key != null) {
          return;
        }
        invariant(typeof child._store === "object", "React Component in warnForMissingKey should have a _store. " + "This error is likely caused by a bug in React. Please file an issue.");
        child._store.validated = true;

        var currentComponentErrorInfo = "Each child in an array or iterator should have a unique " + '"key" prop. See https://fb.me/react-warning-keys for ' + "more information." + (getCurrentFiberStackAddendum$1() || "");
        if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {
          return;
        }
        ownerHasKeyUseWarning[currentComponentErrorInfo] = true;

        warning(false, "Each child in an array or iterator should have a unique " + '"key" prop. See https://fb.me/react-warning-keys for ' + "more information.%s", getCurrentFiberStackAddendum$1());
      };
    }

    var isArray$1 = Array.isArray;

    function coerceRef(returnFiber, current, element) {
      var mixedRef = element.ref;
      if (mixedRef !== null && typeof mixedRef !== "function" && typeof mixedRef !== "object") {
        {
          if (returnFiber.mode & StrictMode) {
            var componentName = getComponentName(returnFiber) || "Component";
            if (!didWarnAboutStringRefInStrictMode[componentName]) {
              warning(false, 'A string ref, "%s",has been found within a strict mode tree. ' + "String refs are a source of potential bugs and should be avoided. " + "We recommend using createRef() instead." + "\n%s" + "\n\nLearn more about using refs safely here:" + "\nhttps://fb.me/react-strict-mode-string-ref", mixedRef, getStackAddendumByWorkInProgressFiber(returnFiber));
              didWarnAboutStringRefInStrictMode[componentName] = true;
            }
          }
        }

        if (element._owner) {
          var owner = element._owner;
          var inst = void 0;
          if (owner) {
            var ownerFiber = owner;
            invariant(ownerFiber.tag === ClassComponent, "Stateless function components cannot have refs.");
            inst = ownerFiber.stateNode;
          }
          invariant(inst, "Missing owner for string ref %s. This error is likely caused by a " + "bug in React. Please file an issue.", mixedRef);
          var stringRef = "" + mixedRef;

          if (current !== null && current.ref !== null && current.ref._stringRef === stringRef) {
            return current.ref;
          }
          var ref = function ref(value) {
            var refs = inst.refs === emptyObject ? inst.refs = {} : inst.refs;
            if (value === null) {
              delete refs[stringRef];
            } else {
              refs[stringRef] = value;
            }
          };
          ref._stringRef = stringRef;
          return ref;
        } else {
          invariant(typeof mixedRef === "string", "Expected ref to be a function or a string.");
          invariant(element._owner, "Element ref was specified as a string (%s) but no owner was set. This could happen for one of" + " the following reasons:\n" + "1. You may be adding a ref to a functional component\n" + "2. You may be adding a ref to a component that was not created inside a component's render method\n" + "3. You have multiple copies of React loaded\n" + "See https://fb.me/react-refs-must-have-owner for more information.", mixedRef);
        }
      }
      return mixedRef;
    }

    function throwOnInvalidObjectType(returnFiber, newChild) {
      if (returnFiber.type !== "textarea") {
        var addendum = "";
        {
          addendum = " If you meant to render a collection of children, use an array " + "instead." + (getCurrentFiberStackAddendum$1() || "");
        }
        invariant(false, "Objects are not valid as a React child (found: %s).%s", Object.prototype.toString.call(newChild) === "[object Object]" ? "object with keys {" + Object.keys(newChild).join(", ") + "}" : newChild, addendum);
      }
    }

    function warnOnFunctionType() {
      var currentComponentErrorInfo = "Functions are not valid as a React child. This may happen if " + "you return a Component instead of <Component /> from render. " + "Or maybe you meant to call this function rather than return it." + (getCurrentFiberStackAddendum$1() || "");

      if (ownerHasFunctionTypeWarning[currentComponentErrorInfo]) {
        return;
      }
      ownerHasFunctionTypeWarning[currentComponentErrorInfo] = true;

      warning(false, "Functions are not valid as a React child. This may happen if " + "you return a Component instead of <Component /> from render. " + "Or maybe you meant to call this function rather than return it.%s", getCurrentFiberStackAddendum$1() || "");
    }

    function ChildReconciler(shouldTrackSideEffects) {
      function deleteChild(returnFiber, childToDelete) {
        if (!shouldTrackSideEffects) {
          return;
        }

        var last = returnFiber.lastEffect;
        if (last !== null) {
          last.nextEffect = childToDelete;
          returnFiber.lastEffect = childToDelete;
        } else {
          returnFiber.firstEffect = returnFiber.lastEffect = childToDelete;
        }
        childToDelete.nextEffect = null;
        childToDelete.effectTag = Deletion;
      }

      function deleteRemainingChildren(returnFiber, currentFirstChild) {
        if (!shouldTrackSideEffects) {
          return null;
        }

        var childToDelete = currentFirstChild;
        while (childToDelete !== null) {
          deleteChild(returnFiber, childToDelete);
          childToDelete = childToDelete.sibling;
        }
        return null;
      }

      function mapRemainingChildren(returnFiber, currentFirstChild) {
        var existingChildren = new Map();

        var existingChild = currentFirstChild;
        while (existingChild !== null) {
          if (existingChild.key !== null) {
            existingChildren.set(existingChild.key, existingChild);
          } else {
            existingChildren.set(existingChild.index, existingChild);
          }
          existingChild = existingChild.sibling;
        }
        return existingChildren;
      }

      function useFiber(fiber, pendingProps, expirationTime) {
        var clone = createWorkInProgress(fiber, pendingProps, expirationTime);
        clone.index = 0;
        clone.sibling = null;
        return clone;
      }

      function placeChild(newFiber, lastPlacedIndex, newIndex) {
        newFiber.index = newIndex;
        if (!shouldTrackSideEffects) {
          return lastPlacedIndex;
        }
        var current = newFiber.alternate;
        if (current !== null) {
          var oldIndex = current.index;
          if (oldIndex < lastPlacedIndex) {
            newFiber.effectTag = Placement;
            return lastPlacedIndex;
          } else {
            return oldIndex;
          }
        } else {
          newFiber.effectTag = Placement;
          return lastPlacedIndex;
        }
      }

      function placeSingleChild(newFiber) {
        if (shouldTrackSideEffects && newFiber.alternate === null) {
          newFiber.effectTag = Placement;
        }
        return newFiber;
      }

      function updateTextNode(returnFiber, current, textContent, expirationTime) {
        if (current === null || current.tag !== HostText) {
          var created = createFiberFromText(textContent, returnFiber.mode, expirationTime);
          created["return"] = returnFiber;
          return created;
        } else {
          var existing = useFiber(current, textContent, expirationTime);
          existing["return"] = returnFiber;
          return existing;
        }
      }

      function updateElement(returnFiber, current, element, expirationTime) {
        if (current !== null && current.type === element.type) {
          var existing = useFiber(current, element.props, expirationTime);
          existing.ref = coerceRef(returnFiber, current, element);
          existing["return"] = returnFiber;
          {
            existing._debugSource = element._source;
            existing._debugOwner = element._owner;
          }
          return existing;
        } else {
          var created = createFiberFromElement(element, returnFiber.mode, expirationTime);
          created.ref = coerceRef(returnFiber, current, element);
          created["return"] = returnFiber;
          return created;
        }
      }

      function updatePortal(returnFiber, current, portal, expirationTime) {
        if (current === null || current.tag !== HostPortal || current.stateNode.containerInfo !== portal.containerInfo || current.stateNode.implementation !== portal.implementation) {
          var created = createFiberFromPortal(portal, returnFiber.mode, expirationTime);
          created["return"] = returnFiber;
          return created;
        } else {
          var existing = useFiber(current, portal.children || [], expirationTime);
          existing["return"] = returnFiber;
          return existing;
        }
      }

      function updateFragment(returnFiber, current, fragment, expirationTime, key) {
        if (current === null || current.tag !== Fragment) {
          var created = createFiberFromFragment(fragment, returnFiber.mode, expirationTime, key);
          created["return"] = returnFiber;
          return created;
        } else {
          var existing = useFiber(current, fragment, expirationTime);
          existing["return"] = returnFiber;
          return existing;
        }
      }

      function createChild(returnFiber, newChild, expirationTime) {
        if (typeof newChild === "string" || typeof newChild === "number") {
          var created = createFiberFromText("" + newChild, returnFiber.mode, expirationTime);
          created["return"] = returnFiber;
          return created;
        }

        if (typeof newChild === "object" && newChild !== null) {
          switch (newChild.$$typeof) {
            case REACT_ELEMENT_TYPE:
              {
                var _created = createFiberFromElement(newChild, returnFiber.mode, expirationTime);
                _created.ref = coerceRef(returnFiber, null, newChild);
                _created["return"] = returnFiber;
                return _created;
              }
            case REACT_PORTAL_TYPE:
              {
                var _created2 = createFiberFromPortal(newChild, returnFiber.mode, expirationTime);
                _created2["return"] = returnFiber;
                return _created2;
              }
          }

          if (isArray$1(newChild) || getIteratorFn(newChild)) {
            var _created3 = createFiberFromFragment(newChild, returnFiber.mode, expirationTime, null);
            _created3["return"] = returnFiber;
            return _created3;
          }

          throwOnInvalidObjectType(returnFiber, newChild);
        }

        {
          if (typeof newChild === "function") {
            warnOnFunctionType();
          }
        }

        return null;
      }

      function updateSlot(returnFiber, oldFiber, newChild, expirationTime) {

        var key = oldFiber !== null ? oldFiber.key : null;

        if (typeof newChild === "string" || typeof newChild === "number") {
          if (key !== null) {
            return null;
          }
          return updateTextNode(returnFiber, oldFiber, "" + newChild, expirationTime);
        }

        if (typeof newChild === "object" && newChild !== null) {
          switch (newChild.$$typeof) {
            case REACT_ELEMENT_TYPE:
              {
                if (newChild.key === key) {
                  if (newChild.type === REACT_FRAGMENT_TYPE) {
                    return updateFragment(returnFiber, oldFiber, newChild.props.children, expirationTime, key);
                  }
                  return updateElement(returnFiber, oldFiber, newChild, expirationTime);
                } else {
                  return null;
                }
              }
            case REACT_PORTAL_TYPE:
              {
                if (newChild.key === key) {
                  return updatePortal(returnFiber, oldFiber, newChild, expirationTime);
                } else {
                  return null;
                }
              }
          }

          if (isArray$1(newChild) || getIteratorFn(newChild)) {
            if (key !== null) {
              return null;
            }

            return updateFragment(returnFiber, oldFiber, newChild, expirationTime, null);
          }

          throwOnInvalidObjectType(returnFiber, newChild);
        }

        {
          if (typeof newChild === "function") {
            warnOnFunctionType();
          }
        }

        return null;
      }

      function updateFromMap(existingChildren, returnFiber, newIdx, newChild, expirationTime) {
        if (typeof newChild === "string" || typeof newChild === "number") {
          var matchedFiber = existingChildren.get(newIdx) || null;
          return updateTextNode(returnFiber, matchedFiber, "" + newChild, expirationTime);
        }

        if (typeof newChild === "object" && newChild !== null) {
          switch (newChild.$$typeof) {
            case REACT_ELEMENT_TYPE:
              {
                var _matchedFiber = existingChildren.get(newChild.key === null ? newIdx : newChild.key) || null;
                if (newChild.type === REACT_FRAGMENT_TYPE) {
                  return updateFragment(returnFiber, _matchedFiber, newChild.props.children, expirationTime, newChild.key);
                }
                return updateElement(returnFiber, _matchedFiber, newChild, expirationTime);
              }
            case REACT_PORTAL_TYPE:
              {
                var _matchedFiber2 = existingChildren.get(newChild.key === null ? newIdx : newChild.key) || null;
                return updatePortal(returnFiber, _matchedFiber2, newChild, expirationTime);
              }
          }

          if (isArray$1(newChild) || getIteratorFn(newChild)) {
            var _matchedFiber3 = existingChildren.get(newIdx) || null;
            return updateFragment(returnFiber, _matchedFiber3, newChild, expirationTime, null);
          }

          throwOnInvalidObjectType(returnFiber, newChild);
        }

        {
          if (typeof newChild === "function") {
            warnOnFunctionType();
          }
        }

        return null;
      }

      function warnOnInvalidKey(child, knownKeys) {
        {
          if (typeof child !== "object" || child === null) {
            return knownKeys;
          }
          switch (child.$$typeof) {
            case REACT_ELEMENT_TYPE:
            case REACT_PORTAL_TYPE:
              warnForMissingKey(child);
              var key = child.key;
              if (typeof key !== "string") {
                break;
              }
              if (knownKeys === null) {
                knownKeys = new Set();
                knownKeys.add(key);
                break;
              }
              if (!knownKeys.has(key)) {
                knownKeys.add(key);
                break;
              }
              warning(false, "Encountered two children with the same key, `%s`. " + "Keys should be unique so that components maintain their identity " + "across updates. Non-unique keys may cause children to be " + "duplicated and/or omitted  the behavior is unsupported and " + "could change in a future version.%s", key, getCurrentFiberStackAddendum$1());
              break;
            default:
              break;
          }
        }
        return knownKeys;
      }

      function reconcileChildrenArray(returnFiber, currentFirstChild, newChildren, expirationTime) {

        {
          var knownKeys = null;
          for (var i = 0; i < newChildren.length; i++) {
            var child = newChildren[i];
            knownKeys = warnOnInvalidKey(child, knownKeys);
          }
        }

        var resultingFirstChild = null;
        var previousNewFiber = null;

        var oldFiber = currentFirstChild;
        var lastPlacedIndex = 0;
        var newIdx = 0;
        var nextOldFiber = null;
        for (; oldFiber !== null && newIdx < newChildren.length; newIdx++) {
          if (oldFiber.index > newIdx) {
            nextOldFiber = oldFiber;
            oldFiber = null;
          } else {
            nextOldFiber = oldFiber.sibling;
          }
          var newFiber = updateSlot(returnFiber, oldFiber, newChildren[newIdx], expirationTime);
          if (newFiber === null) {
            if (oldFiber === null) {
              oldFiber = nextOldFiber;
            }
            break;
          }
          if (shouldTrackSideEffects) {
            if (oldFiber && newFiber.alternate === null) {
              deleteChild(returnFiber, oldFiber);
            }
          }
          lastPlacedIndex = placeChild(newFiber, lastPlacedIndex, newIdx);
          if (previousNewFiber === null) {
            resultingFirstChild = newFiber;
          } else {
            previousNewFiber.sibling = newFiber;
          }
          previousNewFiber = newFiber;
          oldFiber = nextOldFiber;
        }

        if (newIdx === newChildren.length) {
          deleteRemainingChildren(returnFiber, oldFiber);
          return resultingFirstChild;
        }

        if (oldFiber === null) {
          for (; newIdx < newChildren.length; newIdx++) {
            var _newFiber = createChild(returnFiber, newChildren[newIdx], expirationTime);
            if (!_newFiber) {
              continue;
            }
            lastPlacedIndex = placeChild(_newFiber, lastPlacedIndex, newIdx);
            if (previousNewFiber === null) {
              resultingFirstChild = _newFiber;
            } else {
              previousNewFiber.sibling = _newFiber;
            }
            previousNewFiber = _newFiber;
          }
          return resultingFirstChild;
        }

        var existingChildren = mapRemainingChildren(returnFiber, oldFiber);

        for (; newIdx < newChildren.length; newIdx++) {
          var _newFiber2 = updateFromMap(existingChildren, returnFiber, newIdx, newChildren[newIdx], expirationTime);
          if (_newFiber2) {
            if (shouldTrackSideEffects) {
              if (_newFiber2.alternate !== null) {
                existingChildren["delete"](_newFiber2.key === null ? newIdx : _newFiber2.key);
              }
            }
            lastPlacedIndex = placeChild(_newFiber2, lastPlacedIndex, newIdx);
            if (previousNewFiber === null) {
              resultingFirstChild = _newFiber2;
            } else {
              previousNewFiber.sibling = _newFiber2;
            }
            previousNewFiber = _newFiber2;
          }
        }

        if (shouldTrackSideEffects) {
          existingChildren.forEach(function (child) {
            return deleteChild(returnFiber, child);
          });
        }

        return resultingFirstChild;
      }

      function reconcileChildrenIterator(returnFiber, currentFirstChild, newChildrenIterable, expirationTime) {

        var iteratorFn = getIteratorFn(newChildrenIterable);
        invariant(typeof iteratorFn === "function", "An object is not an iterable. This error is likely caused by a bug in " + "React. Please file an issue.");

        {
          if (typeof newChildrenIterable.entries === "function") {
            var possibleMap = newChildrenIterable;
            if (possibleMap.entries === iteratorFn) {
              warning(didWarnAboutMaps, "Using Maps as children is unsupported and will likely yield " + "unexpected results. Convert it to a sequence/iterable of keyed " + "ReactElements instead.%s", getCurrentFiberStackAddendum$1());
              didWarnAboutMaps = true;
            }
          }

          var _newChildren = iteratorFn.call(newChildrenIterable);
          if (_newChildren) {
            var knownKeys = null;
            var _step = _newChildren.next();
            for (; !_step.done; _step = _newChildren.next()) {
              var child = _step.value;
              knownKeys = warnOnInvalidKey(child, knownKeys);
            }
          }
        }

        var newChildren = iteratorFn.call(newChildrenIterable);
        invariant(newChildren != null, "An iterable object provided no iterator.");

        var resultingFirstChild = null;
        var previousNewFiber = null;

        var oldFiber = currentFirstChild;
        var lastPlacedIndex = 0;
        var newIdx = 0;
        var nextOldFiber = null;

        var step = newChildren.next();
        for (; oldFiber !== null && !step.done; newIdx++, step = newChildren.next()) {
          if (oldFiber.index > newIdx) {
            nextOldFiber = oldFiber;
            oldFiber = null;
          } else {
            nextOldFiber = oldFiber.sibling;
          }
          var newFiber = updateSlot(returnFiber, oldFiber, step.value, expirationTime);
          if (newFiber === null) {
            if (!oldFiber) {
              oldFiber = nextOldFiber;
            }
            break;
          }
          if (shouldTrackSideEffects) {
            if (oldFiber && newFiber.alternate === null) {
              deleteChild(returnFiber, oldFiber);
            }
          }
          lastPlacedIndex = placeChild(newFiber, lastPlacedIndex, newIdx);
          if (previousNewFiber === null) {
            resultingFirstChild = newFiber;
          } else {
            previousNewFiber.sibling = newFiber;
          }
          previousNewFiber = newFiber;
          oldFiber = nextOldFiber;
        }

        if (step.done) {
          deleteRemainingChildren(returnFiber, oldFiber);
          return resultingFirstChild;
        }

        if (oldFiber === null) {
          for (; !step.done; newIdx++, step = newChildren.next()) {
            var _newFiber3 = createChild(returnFiber, step.value, expirationTime);
            if (_newFiber3 === null) {
              continue;
            }
            lastPlacedIndex = placeChild(_newFiber3, lastPlacedIndex, newIdx);
            if (previousNewFiber === null) {
              resultingFirstChild = _newFiber3;
            } else {
              previousNewFiber.sibling = _newFiber3;
            }
            previousNewFiber = _newFiber3;
          }
          return resultingFirstChild;
        }

        var existingChildren = mapRemainingChildren(returnFiber, oldFiber);

        for (; !step.done; newIdx++, step = newChildren.next()) {
          var _newFiber4 = updateFromMap(existingChildren, returnFiber, newIdx, step.value, expirationTime);
          if (_newFiber4 !== null) {
            if (shouldTrackSideEffects) {
              if (_newFiber4.alternate !== null) {
                existingChildren["delete"](_newFiber4.key === null ? newIdx : _newFiber4.key);
              }
            }
            lastPlacedIndex = placeChild(_newFiber4, lastPlacedIndex, newIdx);
            if (previousNewFiber === null) {
              resultingFirstChild = _newFiber4;
            } else {
              previousNewFiber.sibling = _newFiber4;
            }
            previousNewFiber = _newFiber4;
          }
        }

        if (shouldTrackSideEffects) {
          existingChildren.forEach(function (child) {
            return deleteChild(returnFiber, child);
          });
        }

        return resultingFirstChild;
      }

      function reconcileSingleTextNode(returnFiber, currentFirstChild, textContent, expirationTime) {
        if (currentFirstChild !== null && currentFirstChild.tag === HostText) {
          deleteRemainingChildren(returnFiber, currentFirstChild.sibling);
          var existing = useFiber(currentFirstChild, textContent, expirationTime);
          existing["return"] = returnFiber;
          return existing;
        }

        deleteRemainingChildren(returnFiber, currentFirstChild);
        var created = createFiberFromText(textContent, returnFiber.mode, expirationTime);
        created["return"] = returnFiber;
        return created;
      }

      function reconcileSingleElement(returnFiber, currentFirstChild, element, expirationTime) {
        var key = element.key;
        var child = currentFirstChild;
        while (child !== null) {
          if (child.key === key) {
            if (child.tag === Fragment ? element.type === REACT_FRAGMENT_TYPE : child.type === element.type) {
              deleteRemainingChildren(returnFiber, child.sibling);
              var existing = useFiber(child, element.type === REACT_FRAGMENT_TYPE ? element.props.children : element.props, expirationTime);
              existing.ref = coerceRef(returnFiber, child, element);
              existing["return"] = returnFiber;
              {
                existing._debugSource = element._source;
                existing._debugOwner = element._owner;
              }
              return existing;
            } else {
              deleteRemainingChildren(returnFiber, child);
              break;
            }
          } else {
            deleteChild(returnFiber, child);
          }
          child = child.sibling;
        }

        if (element.type === REACT_FRAGMENT_TYPE) {
          var created = createFiberFromFragment(element.props.children, returnFiber.mode, expirationTime, element.key);
          created["return"] = returnFiber;
          return created;
        } else {
          var _created4 = createFiberFromElement(element, returnFiber.mode, expirationTime);
          _created4.ref = coerceRef(returnFiber, currentFirstChild, element);
          _created4["return"] = returnFiber;
          return _created4;
        }
      }

      function reconcileSinglePortal(returnFiber, currentFirstChild, portal, expirationTime) {
        var key = portal.key;
        var child = currentFirstChild;
        while (child !== null) {
          if (child.key === key) {
            if (child.tag === HostPortal && child.stateNode.containerInfo === portal.containerInfo && child.stateNode.implementation === portal.implementation) {
              deleteRemainingChildren(returnFiber, child.sibling);
              var existing = useFiber(child, portal.children || [], expirationTime);
              existing["return"] = returnFiber;
              return existing;
            } else {
              deleteRemainingChildren(returnFiber, child);
              break;
            }
          } else {
            deleteChild(returnFiber, child);
          }
          child = child.sibling;
        }

        var created = createFiberFromPortal(portal, returnFiber.mode, expirationTime);
        created["return"] = returnFiber;
        return created;
      }

      function reconcileChildFibers(returnFiber, currentFirstChild, newChild, expirationTime) {
        if (typeof newChild === "object" && newChild !== null && newChild.type === REACT_FRAGMENT_TYPE && newChild.key === null) {
          newChild = newChild.props.children;
        }

        var isObject = typeof newChild === "object" && newChild !== null;

        if (isObject) {
          switch (newChild.$$typeof) {
            case REACT_ELEMENT_TYPE:
              return placeSingleChild(reconcileSingleElement(returnFiber, currentFirstChild, newChild, expirationTime));
            case REACT_PORTAL_TYPE:
              return placeSingleChild(reconcileSinglePortal(returnFiber, currentFirstChild, newChild, expirationTime));
          }
        }

        if (typeof newChild === "string" || typeof newChild === "number") {
          return placeSingleChild(reconcileSingleTextNode(returnFiber, currentFirstChild, "" + newChild, expirationTime));
        }

        if (isArray$1(newChild)) {
          return reconcileChildrenArray(returnFiber, currentFirstChild, newChild, expirationTime);
        }

        if (getIteratorFn(newChild)) {
          return reconcileChildrenIterator(returnFiber, currentFirstChild, newChild, expirationTime);
        }

        if (isObject) {
          throwOnInvalidObjectType(returnFiber, newChild);
        }

        {
          if (typeof newChild === "function") {
            warnOnFunctionType();
          }
        }
        if (typeof newChild === "undefined") {
          switch (returnFiber.tag) {
            case ClassComponent:
              {
                {
                  var instance = returnFiber.stateNode;
                  if (instance.render._isMockFunction) {
                    break;
                  }
                }
              }

            case FunctionalComponent:
              {
                var Component = returnFiber.type;
                invariant(false, "%s(...): Nothing was returned from render. This usually means a " + "return statement is missing. Or, to render nothing, " + "return null.", Component.displayName || Component.name || "Component");
              }
          }
        }

        return deleteRemainingChildren(returnFiber, currentFirstChild);
      }

      return reconcileChildFibers;
    }

    var reconcileChildFibers = ChildReconciler(true);
    var mountChildFibers = ChildReconciler(false);

    function cloneChildFibers(current, workInProgress) {
      invariant(current === null || workInProgress.child === current.child, "Resuming work not yet implemented.");

      if (workInProgress.child === null) {
        return;
      }

      var currentChild = workInProgress.child;
      var newChild = createWorkInProgress(currentChild, currentChild.pendingProps, currentChild.expirationTime);
      workInProgress.child = newChild;

      newChild["return"] = workInProgress;
      while (currentChild.sibling !== null) {
        currentChild = currentChild.sibling;
        newChild = newChild.sibling = createWorkInProgress(currentChild, currentChild.pendingProps, currentChild.expirationTime);
        newChild["return"] = workInProgress;
      }
      newChild.sibling = null;
    }

    var changedBitsStack = [];
    var currentValueStack = [];
    var stack = [];
    var index$1 = -1;

    var rendererSigil = void 0;
    {
      rendererSigil = {};
    }

    function pushProvider(providerFiber) {
      var context = providerFiber.type.context;
      index$1 += 1;
      changedBitsStack[index$1] = context._changedBits;
      currentValueStack[index$1] = context._currentValue;
      stack[index$1] = providerFiber;
      context._currentValue = providerFiber.pendingProps.value;
      context._changedBits = providerFiber.stateNode;

      {
        warning(context._currentRenderer === null || context._currentRenderer === rendererSigil, "Detected multiple renderers concurrently rendering the " + "same context provider. This is currently unsupported.");
        context._currentRenderer = rendererSigil;
      }
    }

    function popProvider(providerFiber) {
      {
        warning(index$1 > -1 && providerFiber === stack[index$1], "Unexpected pop.");
      }
      var changedBits = changedBitsStack[index$1];
      var currentValue = currentValueStack[index$1];
      changedBitsStack[index$1] = null;
      currentValueStack[index$1] = null;
      stack[index$1] = null;
      index$1 -= 1;
      var context = providerFiber.type.context;
      context._currentValue = currentValue;
      context._changedBits = changedBits;
    }

    function resetProviderStack() {
      for (var i = index$1; i > -1; i--) {
        var providerFiber = stack[i];
        var context = providerFiber.type.context;
        context._currentValue = context._defaultValue;
        context._changedBits = 0;
        changedBitsStack[i] = null;
        currentValueStack[i] = null;
        stack[i] = null;
        {
          context._currentRenderer = null;
        }
      }
      index$1 = -1;
    }

    var didWarnAboutBadClass = void 0;
    var didWarnAboutGetDerivedStateOnFunctionalComponent = void 0;
    var didWarnAboutStatelessRefs = void 0;

    {
      didWarnAboutBadClass = {};
      didWarnAboutGetDerivedStateOnFunctionalComponent = {};
      didWarnAboutStatelessRefs = {};
    }

    var ReactFiberBeginWork = function ReactFiberBeginWork(config, hostContext, hydrationContext, scheduleWork, computeExpirationForFiber) {
      var shouldSetTextContent = config.shouldSetTextContent,
          shouldDeprioritizeSubtree = config.shouldDeprioritizeSubtree;
      var pushHostContext = hostContext.pushHostContext,
          pushHostContainer = hostContext.pushHostContainer;
      var enterHydrationState = hydrationContext.enterHydrationState,
          resetHydrationState = hydrationContext.resetHydrationState,
          tryToClaimNextHydratableInstance = hydrationContext.tryToClaimNextHydratableInstance;

      var _ReactFiberClassCompo = ReactFiberClassComponent(scheduleWork, computeExpirationForFiber, memoizeProps, memoizeState),
          adoptClassInstance = _ReactFiberClassCompo.adoptClassInstance,
          callGetDerivedStateFromProps = _ReactFiberClassCompo.callGetDerivedStateFromProps,
          constructClassInstance = _ReactFiberClassCompo.constructClassInstance,
          mountClassInstance = _ReactFiberClassCompo.mountClassInstance,
          resumeMountClassInstance = _ReactFiberClassCompo.resumeMountClassInstance,
          updateClassInstance = _ReactFiberClassCompo.updateClassInstance;

      function reconcileChildren(current, workInProgress, nextChildren) {
        reconcileChildrenAtExpirationTime(current, workInProgress, nextChildren, workInProgress.expirationTime);
      }

      function reconcileChildrenAtExpirationTime(current, workInProgress, nextChildren, renderExpirationTime) {
        if (current === null) {
          workInProgress.child = mountChildFibers(workInProgress, null, nextChildren, renderExpirationTime);
        } else {
          workInProgress.child = reconcileChildFibers(workInProgress, current.child, nextChildren, renderExpirationTime);
        }
      }

      function updateFragment(current, workInProgress) {
        var nextChildren = workInProgress.pendingProps;
        if (hasContextChanged()) {} else if (workInProgress.memoizedProps === nextChildren) {
          return bailoutOnAlreadyFinishedWork(current, workInProgress);
        }
        reconcileChildren(current, workInProgress, nextChildren);
        memoizeProps(workInProgress, nextChildren);
        return workInProgress.child;
      }

      function updateMode(current, workInProgress) {
        var nextChildren = workInProgress.pendingProps.children;
        if (hasContextChanged()) {} else if (nextChildren === null || workInProgress.memoizedProps === nextChildren) {
          return bailoutOnAlreadyFinishedWork(current, workInProgress);
        }
        reconcileChildren(current, workInProgress, nextChildren);
        memoizeProps(workInProgress, nextChildren);
        return workInProgress.child;
      }

      function markRef(current, workInProgress) {
        var ref = workInProgress.ref;
        if (current === null && ref !== null || current !== null && current.ref !== ref) {
          workInProgress.effectTag |= Ref;
        }
      }

      function updateFunctionalComponent(current, workInProgress) {
        var fn = workInProgress.type;
        var nextProps = workInProgress.pendingProps;

        if (hasContextChanged()) {} else {
          if (workInProgress.memoizedProps === nextProps) {
            return bailoutOnAlreadyFinishedWork(current, workInProgress);
          }
        }

        var unmaskedContext = getUnmaskedContext(workInProgress);
        var context = getMaskedContext(workInProgress, unmaskedContext);

        var nextChildren = void 0;

        {
          ReactCurrentOwner.current = workInProgress;
          ReactDebugCurrentFiber.setCurrentPhase("render");
          nextChildren = fn(nextProps, context);
          ReactDebugCurrentFiber.setCurrentPhase(null);
        }

        workInProgress.effectTag |= PerformedWork;
        reconcileChildren(current, workInProgress, nextChildren);
        memoizeProps(workInProgress, nextProps);
        return workInProgress.child;
      }

      function updateClassComponent(current, workInProgress, renderExpirationTime) {
        var hasContext = pushContextProvider(workInProgress);
        var shouldUpdate = void 0;
        if (current === null) {
          if (workInProgress.stateNode === null) {
            constructClassInstance(workInProgress, workInProgress.pendingProps);
            mountClassInstance(workInProgress, renderExpirationTime);

            shouldUpdate = true;
          } else {
            shouldUpdate = resumeMountClassInstance(workInProgress, renderExpirationTime);
          }
        } else {
          shouldUpdate = updateClassInstance(current, workInProgress, renderExpirationTime);
        }

        var didCaptureError = false;
        var updateQueue = workInProgress.updateQueue;
        if (updateQueue !== null && updateQueue.capturedValues !== null) {
          shouldUpdate = true;
          didCaptureError = true;
        }
        return finishClassComponent(current, workInProgress, shouldUpdate, hasContext, didCaptureError, renderExpirationTime);
      }

      function finishClassComponent(current, workInProgress, shouldUpdate, hasContext, didCaptureError, renderExpirationTime) {
        markRef(current, workInProgress);

        if (!shouldUpdate && !didCaptureError) {
          if (hasContext) {
            invalidateContextProvider(workInProgress, false);
          }

          return bailoutOnAlreadyFinishedWork(current, workInProgress);
        }

        var ctor = workInProgress.type;
        var instance = workInProgress.stateNode;

        ReactCurrentOwner.current = workInProgress;
        var nextChildren = void 0;
        if (didCaptureError && (!enableGetDerivedStateFromCatch || typeof ctor.getDerivedStateFromCatch !== "function")) {
          nextChildren = null;
        } else {
          {
            ReactDebugCurrentFiber.setCurrentPhase("render");
            nextChildren = instance.render();
            if (debugRenderPhaseSideEffects || debugRenderPhaseSideEffectsForStrictMode && workInProgress.mode & StrictMode) {
              instance.render();
            }
            ReactDebugCurrentFiber.setCurrentPhase(null);
          }
        }

        workInProgress.effectTag |= PerformedWork;
        if (didCaptureError) {
          reconcileChildrenAtExpirationTime(current, workInProgress, null, renderExpirationTime);
          workInProgress.child = null;
        }
        reconcileChildrenAtExpirationTime(current, workInProgress, nextChildren, renderExpirationTime);

        memoizeState(workInProgress, instance.state);
        memoizeProps(workInProgress, instance.props);

        if (hasContext) {
          invalidateContextProvider(workInProgress, true);
        }

        return workInProgress.child;
      }

      function pushHostRootContext(workInProgress) {
        var root = workInProgress.stateNode;
        if (root.pendingContext) {
          pushTopLevelContextObject(workInProgress, root.pendingContext, root.pendingContext !== root.context);
        } else if (root.context) {
          pushTopLevelContextObject(workInProgress, root.context, false);
        }
        pushHostContainer(workInProgress, root.containerInfo);
      }

      function updateHostRoot(current, workInProgress, renderExpirationTime) {
        pushHostRootContext(workInProgress);
        var updateQueue = workInProgress.updateQueue;
        if (updateQueue !== null) {
          var prevState = workInProgress.memoizedState;
          var state = processUpdateQueue(current, workInProgress, updateQueue, null, null, renderExpirationTime);
          memoizeState(workInProgress, state);
          updateQueue = workInProgress.updateQueue;

          var element = void 0;
          if (updateQueue !== null && updateQueue.capturedValues !== null) {
            element = null;
          } else if (prevState === state) {
            resetHydrationState();
            return bailoutOnAlreadyFinishedWork(current, workInProgress);
          } else {
            element = state.element;
          }
          var root = workInProgress.stateNode;
          if ((current === null || current.child === null) && root.hydrate && enterHydrationState(workInProgress)) {
            workInProgress.effectTag |= Placement;

            workInProgress.child = mountChildFibers(workInProgress, null, element, renderExpirationTime);
          } else {
            resetHydrationState();
            reconcileChildren(current, workInProgress, element);
          }
          memoizeState(workInProgress, state);
          return workInProgress.child;
        }
        resetHydrationState();

        return bailoutOnAlreadyFinishedWork(current, workInProgress);
      }

      function updateHostComponent(current, workInProgress, renderExpirationTime) {
        pushHostContext(workInProgress);

        if (current === null) {
          tryToClaimNextHydratableInstance(workInProgress);
        }

        var type = workInProgress.type;
        var memoizedProps = workInProgress.memoizedProps;
        var nextProps = workInProgress.pendingProps;
        var prevProps = current !== null ? current.memoizedProps : null;

        if (hasContextChanged()) {} else if (memoizedProps === nextProps) {
          var isHidden = workInProgress.mode & AsyncMode && shouldDeprioritizeSubtree(type, nextProps);
          if (isHidden) {
            workInProgress.expirationTime = Never;
          }
          if (!isHidden || renderExpirationTime !== Never) {
            return bailoutOnAlreadyFinishedWork(current, workInProgress);
          }
        }

        var nextChildren = nextProps.children;
        var isDirectTextChild = shouldSetTextContent(type, nextProps);

        if (isDirectTextChild) {
          nextChildren = null;
        } else if (prevProps && shouldSetTextContent(type, prevProps)) {
          workInProgress.effectTag |= ContentReset;
        }

        markRef(current, workInProgress);

        if (renderExpirationTime !== Never && workInProgress.mode & AsyncMode && shouldDeprioritizeSubtree(type, nextProps)) {
          workInProgress.expirationTime = Never;

          workInProgress.memoizedProps = nextProps;
          return null;
        }

        reconcileChildren(current, workInProgress, nextChildren);
        memoizeProps(workInProgress, nextProps);
        return workInProgress.child;
      }

      function updateHostText(current, workInProgress) {
        if (current === null) {
          tryToClaimNextHydratableInstance(workInProgress);
        }
        var nextProps = workInProgress.pendingProps;
        memoizeProps(workInProgress, nextProps);

        return null;
      }

      function mountIndeterminateComponent(current, workInProgress, renderExpirationTime) {
        invariant(current === null, "An indeterminate component should never have mounted. This error is " + "likely caused by a bug in React. Please file an issue.");
        var fn = workInProgress.type;
        var props = workInProgress.pendingProps;
        var unmaskedContext = getUnmaskedContext(workInProgress);
        var context = getMaskedContext(workInProgress, unmaskedContext);

        var value = void 0;

        {
          if (fn.prototype && typeof fn.prototype.render === "function") {
            var componentName = getComponentName(workInProgress) || "Unknown";

            if (!didWarnAboutBadClass[componentName]) {
              warning(false, "The <%s /> component appears to have a render method, but doesn't extend React.Component. " + "This is likely to cause errors. Change %s to extend React.Component instead.", componentName, componentName);
              didWarnAboutBadClass[componentName] = true;
            }
          }
          ReactCurrentOwner.current = workInProgress;
          value = fn(props, context);
        }

        workInProgress.effectTag |= PerformedWork;

        if (typeof value === "object" && value !== null && typeof value.render === "function" && value.$$typeof === undefined) {
          var Component = workInProgress.type;

          workInProgress.tag = ClassComponent;

          workInProgress.memoizedState = value.state !== null && value.state !== undefined ? value.state : null;

          if (typeof Component.getDerivedStateFromProps === "function") {
            var partialState = callGetDerivedStateFromProps(workInProgress, value, props);

            if (partialState !== null && partialState !== undefined) {
              workInProgress.memoizedState = _extends({}, workInProgress.memoizedState, partialState);
            }
          }

          var hasContext = pushContextProvider(workInProgress);
          adoptClassInstance(workInProgress, value);
          mountClassInstance(workInProgress, renderExpirationTime);
          return finishClassComponent(current, workInProgress, true, hasContext, false, renderExpirationTime);
        } else {
          workInProgress.tag = FunctionalComponent;
          {
            var _Component = workInProgress.type;

            if (_Component) {
              warning(!_Component.childContextTypes, "%s(...): childContextTypes cannot be defined on a functional component.", _Component.displayName || _Component.name || "Component");
            }
            if (workInProgress.ref !== null) {
              var info = "";
              var ownerName = ReactDebugCurrentFiber.getCurrentFiberOwnerName();
              if (ownerName) {
                info += "\n\nCheck the render method of `" + ownerName + "`.";
              }

              var warningKey = ownerName || workInProgress._debugID || "";
              var debugSource = workInProgress._debugSource;
              if (debugSource) {
                warningKey = debugSource.fileName + ":" + debugSource.lineNumber;
              }
              if (!didWarnAboutStatelessRefs[warningKey]) {
                didWarnAboutStatelessRefs[warningKey] = true;
                warning(false, "Stateless function components cannot be given refs. " + "Attempts to access this ref will fail.%s%s", info, ReactDebugCurrentFiber.getCurrentFiberStackAddendum());
              }
            }

            if (typeof fn.getDerivedStateFromProps === "function") {
              var _componentName = getComponentName(workInProgress) || "Unknown";

              if (!didWarnAboutGetDerivedStateOnFunctionalComponent[_componentName]) {
                warning(false, "%s: Stateless functional components do not support getDerivedStateFromProps.", _componentName);
                didWarnAboutGetDerivedStateOnFunctionalComponent[_componentName] = true;
              }
            }
          }
          reconcileChildren(current, workInProgress, value);
          memoizeProps(workInProgress, props);
          return workInProgress.child;
        }
      }

      function updateCallComponent(current, workInProgress, renderExpirationTime) {
        var nextProps = workInProgress.pendingProps;
        if (hasContextChanged()) {} else if (workInProgress.memoizedProps === nextProps) {
          nextProps = workInProgress.memoizedProps;
        }

        var nextChildren = nextProps.children;

        if (current === null) {
          workInProgress.stateNode = mountChildFibers(workInProgress, workInProgress.stateNode, nextChildren, renderExpirationTime);
        } else {
          workInProgress.stateNode = reconcileChildFibers(workInProgress, current.stateNode, nextChildren, renderExpirationTime);
        }

        memoizeProps(workInProgress, nextProps);

        return workInProgress.stateNode;
      }

      function updatePortalComponent(current, workInProgress, renderExpirationTime) {
        pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);
        var nextChildren = workInProgress.pendingProps;
        if (hasContextChanged()) {} else if (workInProgress.memoizedProps === nextChildren) {
          return bailoutOnAlreadyFinishedWork(current, workInProgress);
        }

        if (current === null) {
          workInProgress.child = reconcileChildFibers(workInProgress, null, nextChildren, renderExpirationTime);
          memoizeProps(workInProgress, nextChildren);
        } else {
          reconcileChildren(current, workInProgress, nextChildren);
          memoizeProps(workInProgress, nextChildren);
        }
        return workInProgress.child;
      }

      function propagateContextChange(workInProgress, context, changedBits, renderExpirationTime) {
        var fiber = workInProgress.child;
        while (fiber !== null) {
          var nextFiber = void 0;

          switch (fiber.tag) {
            case ContextConsumer:
              var observedBits = fiber.stateNode | 0;
              if (fiber.type === context && (observedBits & changedBits) !== 0) {
                var node = fiber;
                while (node !== null) {
                  var alternate = node.alternate;
                  if (node.expirationTime === NoWork || node.expirationTime > renderExpirationTime) {
                    node.expirationTime = renderExpirationTime;
                    if (alternate !== null && (alternate.expirationTime === NoWork || alternate.expirationTime > renderExpirationTime)) {
                      alternate.expirationTime = renderExpirationTime;
                    }
                  } else if (alternate !== null && (alternate.expirationTime === NoWork || alternate.expirationTime > renderExpirationTime)) {
                    alternate.expirationTime = renderExpirationTime;
                  } else {
                    break;
                  }
                  node = node["return"];
                }

                nextFiber = null;
              } else {
                nextFiber = fiber.child;
              }
              break;
            case ContextProvider:
              nextFiber = fiber.type === workInProgress.type ? null : fiber.child;
              break;
            default:
              nextFiber = fiber.child;
              break;
          }
          if (nextFiber !== null) {
            nextFiber["return"] = fiber;
          } else {
            nextFiber = fiber;
            while (nextFiber !== null) {
              if (nextFiber === workInProgress) {
                nextFiber = null;
                break;
              }
              var sibling = nextFiber.sibling;
              if (sibling !== null) {
                nextFiber = sibling;
                break;
              }

              nextFiber = nextFiber["return"];
            }
          }
          fiber = nextFiber;
        }
      }

      function updateContextProvider(current, workInProgress, renderExpirationTime) {
        var providerType = workInProgress.type;
        var context = providerType.context;

        var newProps = workInProgress.pendingProps;
        var oldProps = workInProgress.memoizedProps;

        if (hasContextChanged()) {} else if (oldProps === newProps) {
          workInProgress.stateNode = 0;
          pushProvider(workInProgress);
          return bailoutOnAlreadyFinishedWork(current, workInProgress);
        }

        var newValue = newProps.value;
        workInProgress.memoizedProps = newProps;

        var changedBits = void 0;
        if (oldProps === null) {
          changedBits = MAX_SIGNED_31_BIT_INT;
        } else {
          if (oldProps.value === newProps.value) {
            if (oldProps.children === newProps.children) {
              workInProgress.stateNode = 0;
              pushProvider(workInProgress);
              return bailoutOnAlreadyFinishedWork(current, workInProgress);
            }
            changedBits = 0;
          } else {
            var oldValue = oldProps.value;

            if (oldValue === newValue && (oldValue !== 0 || 1 / oldValue === 1 / newValue) || oldValue !== oldValue && newValue !== newValue) {
                if (oldProps.children === newProps.children) {
                  workInProgress.stateNode = 0;
                  pushProvider(workInProgress);
                  return bailoutOnAlreadyFinishedWork(current, workInProgress);
                }
                changedBits = 0;
              } else {
              changedBits = typeof context._calculateChangedBits === "function" ? context._calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;
              {
                warning((changedBits & MAX_SIGNED_31_BIT_INT) === changedBits, "calculateChangedBits: Expected the return value to be a " + "31-bit integer. Instead received: %s", changedBits);
              }
              changedBits |= 0;

              if (changedBits === 0) {
                if (oldProps.children === newProps.children) {
                  workInProgress.stateNode = 0;
                  pushProvider(workInProgress);
                  return bailoutOnAlreadyFinishedWork(current, workInProgress);
                }
              } else {
                propagateContextChange(workInProgress, context, changedBits, renderExpirationTime);
              }
            }
          }
        }

        workInProgress.stateNode = changedBits;
        pushProvider(workInProgress);

        var newChildren = newProps.children;
        reconcileChildren(current, workInProgress, newChildren);
        return workInProgress.child;
      }

      function updateContextConsumer(current, workInProgress, renderExpirationTime) {
        var context = workInProgress.type;
        var newProps = workInProgress.pendingProps;
        var oldProps = workInProgress.memoizedProps;

        var newValue = context._currentValue;
        var changedBits = context._changedBits;

        if (hasContextChanged()) {} else if (changedBits === 0 && oldProps === newProps) {
          return bailoutOnAlreadyFinishedWork(current, workInProgress);
        }
        workInProgress.memoizedProps = newProps;

        var observedBits = newProps.unstable_observedBits;
        if (observedBits === undefined || observedBits === null) {
          observedBits = MAX_SIGNED_31_BIT_INT;
        }

        workInProgress.stateNode = observedBits;

        if ((changedBits & observedBits) !== 0) {
          propagateContextChange(workInProgress, context, changedBits, renderExpirationTime);
        } else if (oldProps !== null && oldProps.children === newProps.children) {
          return bailoutOnAlreadyFinishedWork(current, workInProgress);
        }

        var render = newProps.children;

        {
          warning(typeof render === "function", "A context consumer was rendered with multiple children, or a child " + "that isn't a function. A context consumer expects a single child " + "that is a function. If you did pass a function, make sure there " + "is no trailing or leading whitespace around it.");
        }

        var newChildren = render(newValue);
        reconcileChildren(current, workInProgress, newChildren);
        return workInProgress.child;
      }

      function bailoutOnAlreadyFinishedWork(current, workInProgress) {
        cancelWorkTimer(workInProgress);

        cloneChildFibers(current, workInProgress);
        return workInProgress.child;
      }

      function bailoutOnLowPriority(current, workInProgress) {
        cancelWorkTimer(workInProgress);

        switch (workInProgress.tag) {
          case HostRoot:
            pushHostRootContext(workInProgress);
            break;
          case ClassComponent:
            pushContextProvider(workInProgress);
            break;
          case HostPortal:
            pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);
            break;
          case ContextProvider:
            pushProvider(workInProgress);
            break;
        }

        return null;
      }

      function memoizeProps(workInProgress, nextProps) {
        workInProgress.memoizedProps = nextProps;
      }

      function memoizeState(workInProgress, nextState) {
        workInProgress.memoizedState = nextState;
      }

      function beginWork(current, workInProgress, renderExpirationTime) {
        if (workInProgress.expirationTime === NoWork || workInProgress.expirationTime > renderExpirationTime) {
          return bailoutOnLowPriority(current, workInProgress);
        }

        switch (workInProgress.tag) {
          case IndeterminateComponent:
            return mountIndeterminateComponent(current, workInProgress, renderExpirationTime);
          case FunctionalComponent:
            return updateFunctionalComponent(current, workInProgress);
          case ClassComponent:
            return updateClassComponent(current, workInProgress, renderExpirationTime);
          case HostRoot:
            return updateHostRoot(current, workInProgress, renderExpirationTime);
          case HostComponent:
            return updateHostComponent(current, workInProgress, renderExpirationTime);
          case HostText:
            return updateHostText(current, workInProgress);
          case CallHandlerPhase:
            workInProgress.tag = CallComponent;

          case CallComponent:
            return updateCallComponent(current, workInProgress, renderExpirationTime);
          case ReturnComponent:
            return null;
          case HostPortal:
            return updatePortalComponent(current, workInProgress, renderExpirationTime);
          case Fragment:
            return updateFragment(current, workInProgress);
          case Mode:
            return updateMode(current, workInProgress);
          case ContextProvider:
            return updateContextProvider(current, workInProgress, renderExpirationTime);
          case ContextConsumer:
            return updateContextConsumer(current, workInProgress, renderExpirationTime);
          default:
            invariant(false, "Unknown unit of work tag. This error is likely caused by a bug in " + "React. Please file an issue.");
        }
      }

      return {
        beginWork: beginWork
      };
    };

    var ReactFiberCompleteWork = function ReactFiberCompleteWork(config, hostContext, hydrationContext) {
      var createInstance = config.createInstance,
          createTextInstance = config.createTextInstance,
          appendInitialChild = config.appendInitialChild,
          finalizeInitialChildren = config.finalizeInitialChildren,
          prepareUpdate = config.prepareUpdate,
          mutation = config.mutation,
          persistence = config.persistence;
      var getRootHostContainer = hostContext.getRootHostContainer,
          popHostContext = hostContext.popHostContext,
          getHostContext = hostContext.getHostContext,
          popHostContainer = hostContext.popHostContainer;
      var prepareToHydrateHostInstance = hydrationContext.prepareToHydrateHostInstance,
          prepareToHydrateHostTextInstance = hydrationContext.prepareToHydrateHostTextInstance,
          popHydrationState = hydrationContext.popHydrationState;

      function markUpdate(workInProgress) {
        workInProgress.effectTag |= Update;
      }

      function markRef(workInProgress) {
        workInProgress.effectTag |= Ref;
      }

      function appendAllReturns(returns, workInProgress) {
        var node = workInProgress.stateNode;
        if (node) {
          node["return"] = workInProgress;
        }
        while (node !== null) {
          if (node.tag === HostComponent || node.tag === HostText || node.tag === HostPortal) {
            invariant(false, "A call cannot have host component children.");
          } else if (node.tag === ReturnComponent) {
            returns.push(node.pendingProps.value);
          } else if (node.child !== null) {
            node.child["return"] = node;
            node = node.child;
            continue;
          }
          while (node.sibling === null) {
            if (node["return"] === null || node["return"] === workInProgress) {
              return;
            }
            node = node["return"];
          }
          node.sibling["return"] = node["return"];
          node = node.sibling;
        }
      }

      function moveCallToHandlerPhase(current, workInProgress, renderExpirationTime) {
        var props = workInProgress.memoizedProps;
        invariant(props, "Should be resolved by now. This error is likely caused by a bug in " + "React. Please file an issue.");

        workInProgress.tag = CallHandlerPhase;

        var returns = [];
        appendAllReturns(returns, workInProgress);
        var fn = props.handler;
        var childProps = props.props;
        var nextChildren = fn(childProps, returns);

        var currentFirstChild = current !== null ? current.child : null;
        workInProgress.child = reconcileChildFibers(workInProgress, currentFirstChild, nextChildren, renderExpirationTime);
        return workInProgress.child;
      }

      function appendAllChildren(parent, workInProgress) {
        var node = workInProgress.child;
        while (node !== null) {
          if (node.tag === HostComponent || node.tag === HostText) {
            appendInitialChild(parent, node.stateNode);
          } else if (node.tag === HostPortal) {} else if (node.child !== null) {
            node.child["return"] = node;
            node = node.child;
            continue;
          }
          if (node === workInProgress) {
            return;
          }
          while (node.sibling === null) {
            if (node["return"] === null || node["return"] === workInProgress) {
              return;
            }
            node = node["return"];
          }
          node.sibling["return"] = node["return"];
          node = node.sibling;
        }
      }

      var updateHostContainer = void 0;
      var updateHostComponent = void 0;
      var updateHostText = void 0;
      if (mutation) {
        if (enableMutatingReconciler) {
          updateHostContainer = function updateHostContainer(workInProgress) {};
          updateHostComponent = function updateHostComponent(current, workInProgress, updatePayload, type, oldProps, newProps, rootContainerInstance, currentHostContext) {
            workInProgress.updateQueue = updatePayload;

            if (updatePayload) {
              markUpdate(workInProgress);
            }
          };
          updateHostText = function updateHostText(current, workInProgress, oldText, newText) {
            if (oldText !== newText) {
              markUpdate(workInProgress);
            }
          };
        } else {
          invariant(false, "Mutating reconciler is disabled.");
        }
      } else if (persistence) {
        if (enablePersistentReconciler) {
          var cloneInstance = persistence.cloneInstance,
              createContainerChildSet = persistence.createContainerChildSet,
              appendChildToContainerChildSet = persistence.appendChildToContainerChildSet,
              finalizeContainerChildren = persistence.finalizeContainerChildren;

          var appendAllChildrenToContainer = function appendAllChildrenToContainer(containerChildSet, workInProgress) {
            var node = workInProgress.child;
            while (node !== null) {
              if (node.tag === HostComponent || node.tag === HostText) {
                appendChildToContainerChildSet(containerChildSet, node.stateNode);
              } else if (node.tag === HostPortal) {} else if (node.child !== null) {
                node.child["return"] = node;
                node = node.child;
                continue;
              }
              if (node === workInProgress) {
                return;
              }
              while (node.sibling === null) {
                if (node["return"] === null || node["return"] === workInProgress) {
                  return;
                }
                node = node["return"];
              }
              node.sibling["return"] = node["return"];
              node = node.sibling;
            }
          };
          updateHostContainer = function updateHostContainer(workInProgress) {
            var portalOrRoot = workInProgress.stateNode;
            var childrenUnchanged = workInProgress.firstEffect === null;
            if (childrenUnchanged) {} else {
              var container = portalOrRoot.containerInfo;
              var newChildSet = createContainerChildSet(container);

              appendAllChildrenToContainer(newChildSet, workInProgress);
              portalOrRoot.pendingChildren = newChildSet;

              markUpdate(workInProgress);
              finalizeContainerChildren(container, newChildSet);
            }
          };
          updateHostComponent = function updateHostComponent(current, workInProgress, updatePayload, type, oldProps, newProps, rootContainerInstance, currentHostContext) {
            var childrenUnchanged = workInProgress.firstEffect === null;
            var currentInstance = current.stateNode;
            if (childrenUnchanged && updatePayload === null) {
              workInProgress.stateNode = currentInstance;
            } else {
              var recyclableInstance = workInProgress.stateNode;
              var newInstance = cloneInstance(currentInstance, updatePayload, type, oldProps, newProps, workInProgress, childrenUnchanged, recyclableInstance);
              if (finalizeInitialChildren(newInstance, type, newProps, rootContainerInstance, currentHostContext)) {
                markUpdate(workInProgress);
              }
              workInProgress.stateNode = newInstance;
              if (childrenUnchanged) {
                markUpdate(workInProgress);
              } else {
                appendAllChildren(newInstance, workInProgress);
              }
            }
          };
          updateHostText = function updateHostText(current, workInProgress, oldText, newText) {
            if (oldText !== newText) {
              var rootContainerInstance = getRootHostContainer();
              var currentHostContext = getHostContext();
              workInProgress.stateNode = createTextInstance(newText, rootContainerInstance, currentHostContext, workInProgress);

              markUpdate(workInProgress);
            }
          };
        } else {
          invariant(false, "Persistent reconciler is disabled.");
        }
      } else {
        if (enableNoopReconciler) {
          updateHostContainer = function updateHostContainer(workInProgress) {};
          updateHostComponent = function updateHostComponent(current, workInProgress, updatePayload, type, oldProps, newProps, rootContainerInstance, currentHostContext) {};
          updateHostText = function updateHostText(current, workInProgress, oldText, newText) {};
        } else {
          invariant(false, "Noop reconciler is disabled.");
        }
      }

      function completeWork(current, workInProgress, renderExpirationTime) {
        var newProps = workInProgress.pendingProps;
        switch (workInProgress.tag) {
          case FunctionalComponent:
            return null;
          case ClassComponent:
            {
              popContextProvider(workInProgress);

              var instance = workInProgress.stateNode;
              var updateQueue = workInProgress.updateQueue;
              if (updateQueue !== null && updateQueue.capturedValues !== null) {
                workInProgress.effectTag &= ~DidCapture;
                if (typeof instance.componentDidCatch === "function") {
                  workInProgress.effectTag |= ErrLog;
                } else {
                  updateQueue.capturedValues = null;
                }
              }
              return null;
            }
          case HostRoot:
            {
              popHostContainer(workInProgress);
              popTopLevelContextObject(workInProgress);
              var fiberRoot = workInProgress.stateNode;
              if (fiberRoot.pendingContext) {
                fiberRoot.context = fiberRoot.pendingContext;
                fiberRoot.pendingContext = null;
              }
              if (current === null || current.child === null) {
                popHydrationState(workInProgress);

                workInProgress.effectTag &= ~Placement;
              }
              updateHostContainer(workInProgress);

              var _updateQueue = workInProgress.updateQueue;
              if (_updateQueue !== null && _updateQueue.capturedValues !== null) {
                workInProgress.effectTag |= ErrLog;
              }
              return null;
            }
          case HostComponent:
            {
              popHostContext(workInProgress);
              var rootContainerInstance = getRootHostContainer();
              var type = workInProgress.type;
              if (current !== null && workInProgress.stateNode != null) {
                var oldProps = current.memoizedProps;

                var _instance = workInProgress.stateNode;
                var currentHostContext = getHostContext();

                var updatePayload = prepareUpdate(_instance, type, oldProps, newProps, rootContainerInstance, currentHostContext);

                updateHostComponent(current, workInProgress, updatePayload, type, oldProps, newProps, rootContainerInstance, currentHostContext);

                if (current.ref !== workInProgress.ref) {
                  markRef(workInProgress);
                }
              } else {
                if (!newProps) {
                  invariant(workInProgress.stateNode !== null, "We must have new props for new mounts. This error is likely " + "caused by a bug in React. Please file an issue.");

                  return null;
                }

                var _currentHostContext = getHostContext();

                var wasHydrated = popHydrationState(workInProgress);
                if (wasHydrated) {
                  if (prepareToHydrateHostInstance(workInProgress, rootContainerInstance, _currentHostContext)) {
                    markUpdate(workInProgress);
                  }
                } else {
                  var _instance2 = createInstance(type, newProps, rootContainerInstance, _currentHostContext, workInProgress);

                  appendAllChildren(_instance2, workInProgress);

                  if (finalizeInitialChildren(_instance2, type, newProps, rootContainerInstance, _currentHostContext)) {
                    markUpdate(workInProgress);
                  }
                  workInProgress.stateNode = _instance2;
                }

                if (workInProgress.ref !== null) {
                  markRef(workInProgress);
                }
              }
              return null;
            }
          case HostText:
            {
              var newText = newProps;
              if (current && workInProgress.stateNode != null) {
                var oldText = current.memoizedProps;

                updateHostText(current, workInProgress, oldText, newText);
              } else {
                if (typeof newText !== "string") {
                  invariant(workInProgress.stateNode !== null, "We must have new props for new mounts. This error is likely " + "caused by a bug in React. Please file an issue.");

                  return null;
                }
                var _rootContainerInstance = getRootHostContainer();
                var _currentHostContext2 = getHostContext();
                var _wasHydrated = popHydrationState(workInProgress);
                if (_wasHydrated) {
                  if (prepareToHydrateHostTextInstance(workInProgress)) {
                    markUpdate(workInProgress);
                  }
                } else {
                  workInProgress.stateNode = createTextInstance(newText, _rootContainerInstance, _currentHostContext2, workInProgress);
                }
              }
              return null;
            }
          case CallComponent:
            return moveCallToHandlerPhase(current, workInProgress, renderExpirationTime);
          case CallHandlerPhase:
            workInProgress.tag = CallComponent;
            return null;
          case ReturnComponent:
            return null;
          case Fragment:
            return null;
          case Mode:
            return null;
          case HostPortal:
            popHostContainer(workInProgress);
            updateHostContainer(workInProgress);
            return null;
          case ContextProvider:
            popProvider(workInProgress);
            return null;
          case ContextConsumer:
            return null;

          case IndeterminateComponent:
            invariant(false, "An indeterminate component should have become determinate before " + "completing. This error is likely caused by a bug in React. Please " + "file an issue.");

          default:
            invariant(false, "Unknown unit of work tag. This error is likely caused by a bug in " + "React. Please file an issue.");
        }
      }

      return {
        completeWork: completeWork
      };
    };

    function createCapturedValue(value, source) {
      return {
        value: value,
        source: source,
        stack: getStackAddendumByWorkInProgressFiber(source)
      };
    }

    var ReactFiberUnwindWork = function ReactFiberUnwindWork(hostContext, scheduleWork, isAlreadyFailedLegacyErrorBoundary) {
      var popHostContainer = hostContext.popHostContainer,
          popHostContext = hostContext.popHostContext;

      function throwException(returnFiber, sourceFiber, rawValue) {
        sourceFiber.effectTag |= Incomplete;

        sourceFiber.firstEffect = sourceFiber.lastEffect = null;

        var value = createCapturedValue(rawValue, sourceFiber);

        var workInProgress = returnFiber;
        do {
          switch (workInProgress.tag) {
            case HostRoot:
              {
                var errorInfo = value;
                ensureUpdateQueues(workInProgress);
                var updateQueue = workInProgress.updateQueue;
                updateQueue.capturedValues = [errorInfo];
                workInProgress.effectTag |= ShouldCapture;
                return;
              }
            case ClassComponent:
              var ctor = workInProgress.type;
              var _instance = workInProgress.stateNode;
              if ((workInProgress.effectTag & DidCapture) === NoEffect && (typeof ctor.getDerivedStateFromCatch === "function" && enableGetDerivedStateFromCatch || _instance !== null && typeof _instance.componentDidCatch === "function" && !isAlreadyFailedLegacyErrorBoundary(_instance))) {
                ensureUpdateQueues(workInProgress);
                var _updateQueue = workInProgress.updateQueue;
                var capturedValues = _updateQueue.capturedValues;
                if (capturedValues === null) {
                  _updateQueue.capturedValues = [value];
                } else {
                  capturedValues.push(value);
                }
                workInProgress.effectTag |= ShouldCapture;
                return;
              }
              break;
            default:
              break;
          }
          workInProgress = workInProgress["return"];
        } while (workInProgress !== null);
      }

      function unwindWork(workInProgress) {
        switch (workInProgress.tag) {
          case ClassComponent:
            {
              popContextProvider(workInProgress);
              var effectTag = workInProgress.effectTag;
              if (effectTag & ShouldCapture) {
                workInProgress.effectTag = effectTag & ~ShouldCapture | DidCapture;
                return workInProgress;
              }
              return null;
            }
          case HostRoot:
            {
              popHostContainer(workInProgress);
              popTopLevelContextObject(workInProgress);
              var _effectTag = workInProgress.effectTag;
              if (_effectTag & ShouldCapture) {
                workInProgress.effectTag = _effectTag & ~ShouldCapture | DidCapture;
                return workInProgress;
              }
              return null;
            }
          case HostComponent:
            {
              popHostContext(workInProgress);
              return null;
            }
          case HostPortal:
            popHostContainer(workInProgress);
            return null;
          case ContextProvider:
            popProvider(workInProgress);
            return null;
          default:
            return null;
        }
      }
      return {
        throwException: throwException,
        unwindWork: unwindWork
      };
    };

    function showErrorDialog(capturedError) {
      var componentStack = capturedError.componentStack,
          error = capturedError.error;

      var errorToHandle = void 0;

      if (error instanceof Error) {
        var message = error.message,
            name = error.name;

        var summary = message ? name + ": " + message : name;

        errorToHandle = error;

        try {
          errorToHandle.message = summary + "\n\nThis error is located at:" + componentStack;
        } catch (e) {}
      } else if (typeof error === "string") {
        errorToHandle = new Error(error + "\n\nThis error is located at:" + componentStack);
      } else {
        errorToHandle = new Error("Unspecified error at:" + componentStack);
      }

      ExceptionsManager.handleException(errorToHandle, false);

      return false;
    }

    function logCapturedError(capturedError) {
      var logError = showErrorDialog(capturedError);

      if (logError === false) {
        return;
      }

      var error = capturedError.error;
      var suppressLogging = error && error.suppressReactErrorLogging;
      if (suppressLogging) {
        return;
      }

      {
        var componentName = capturedError.componentName,
            componentStack = capturedError.componentStack,
            errorBoundaryName = capturedError.errorBoundaryName,
            errorBoundaryFound = capturedError.errorBoundaryFound,
            willRetry = capturedError.willRetry;

        var componentNameMessage = componentName ? "The above error occurred in the <" + componentName + "> component:" : "The above error occurred in one of your React components:";

        var errorBoundaryMessage = void 0;

        if (errorBoundaryFound && errorBoundaryName) {
          if (willRetry) {
            errorBoundaryMessage = "React will try to recreate this component tree from scratch " + ("using the error boundary you provided, " + errorBoundaryName + ".");
          } else {
            errorBoundaryMessage = "This error was initially handled by the error boundary " + errorBoundaryName + ".\n" + "Recreating the tree from scratch failed so React will unmount the tree.";
          }
        } else {
          errorBoundaryMessage = "Consider adding an error boundary to your tree to customize error handling behavior.\n" + "Visit https://fb.me/react-error-boundaries to learn more about error boundaries.";
        }
        var combinedMessage = "" + componentNameMessage + componentStack + "\n\n" + ("" + errorBoundaryMessage);

        console.error(combinedMessage);
      }
    }

    var invokeGuardedCallback$3 = ReactErrorUtils.invokeGuardedCallback;
    var hasCaughtError$1 = ReactErrorUtils.hasCaughtError;
    var clearCaughtError$1 = ReactErrorUtils.clearCaughtError;

    function logError(boundary, errorInfo) {
      var source = errorInfo.source;
      var stack = errorInfo.stack;
      if (stack === null) {
        stack = getStackAddendumByWorkInProgressFiber(source);
      }

      var capturedError = {
        componentName: source !== null ? getComponentName(source) : null,
        error: errorInfo.value,
        errorBoundary: boundary,
        componentStack: stack !== null ? stack : "",
        errorBoundaryName: null,
        errorBoundaryFound: false,
        willRetry: false
      };

      if (boundary !== null) {
        capturedError.errorBoundaryName = getComponentName(boundary);
        capturedError.errorBoundaryFound = capturedError.willRetry = boundary.tag === ClassComponent;
      } else {
        capturedError.errorBoundaryName = null;
        capturedError.errorBoundaryFound = capturedError.willRetry = false;
      }

      try {
        logCapturedError(capturedError);
      } catch (e) {
        var suppressLogging = e && e.suppressReactErrorLogging;
        if (!suppressLogging) {
          console.error(e);
        }
      }
    }

    var ReactFiberCommitWork = function ReactFiberCommitWork(config, captureError, scheduleWork, computeExpirationForFiber, markLegacyErrorBoundaryAsFailed, recalculateCurrentTime) {
      var getPublicInstance = config.getPublicInstance,
          mutation = config.mutation,
          persistence = config.persistence;

      var callComponentWillUnmountWithTimer = function callComponentWillUnmountWithTimer(current, instance) {
        startPhaseTimer(current, "componentWillUnmount");
        instance.props = current.memoizedProps;
        instance.state = current.memoizedState;
        instance.componentWillUnmount();
        stopPhaseTimer();
      };

      function safelyCallComponentWillUnmount(current, instance) {
        {
          invokeGuardedCallback$3(null, callComponentWillUnmountWithTimer, null, current, instance);
          if (hasCaughtError$1()) {
            var unmountError = clearCaughtError$1();
            captureError(current, unmountError);
          }
        }
      }

      function safelyDetachRef(current) {
        var ref = current.ref;
        if (ref !== null) {
          if (typeof ref === "function") {
            {
              invokeGuardedCallback$3(null, ref, null, null);
              if (hasCaughtError$1()) {
                var refError = clearCaughtError$1();
                captureError(current, refError);
              }
            }
          } else {
            ref.value = null;
          }
        }
      }

      function commitLifeCycles(finishedRoot, current, finishedWork, currentTime, committedExpirationTime) {
        switch (finishedWork.tag) {
          case ClassComponent:
            {
              var _instance = finishedWork.stateNode;
              if (finishedWork.effectTag & Update) {
                if (current === null) {
                  startPhaseTimer(finishedWork, "componentDidMount");
                  _instance.props = finishedWork.memoizedProps;
                  _instance.state = finishedWork.memoizedState;
                  _instance.componentDidMount();
                  stopPhaseTimer();
                } else {
                  var prevProps = current.memoizedProps;
                  var prevState = current.memoizedState;
                  startPhaseTimer(finishedWork, "componentDidUpdate");
                  _instance.props = finishedWork.memoizedProps;
                  _instance.state = finishedWork.memoizedState;
                  _instance.componentDidUpdate(prevProps, prevState);
                  stopPhaseTimer();
                }
              }
              var updateQueue = finishedWork.updateQueue;
              if (updateQueue !== null) {
                commitCallbacks(updateQueue, _instance);
              }
              return;
            }
          case HostRoot:
            {
              var _updateQueue = finishedWork.updateQueue;
              if (_updateQueue !== null) {
                var _instance2 = null;
                if (finishedWork.child !== null) {
                  switch (finishedWork.child.tag) {
                    case HostComponent:
                      _instance2 = getPublicInstance(finishedWork.child.stateNode);
                      break;
                    case ClassComponent:
                      _instance2 = finishedWork.child.stateNode;
                      break;
                  }
                }
                commitCallbacks(_updateQueue, _instance2);
              }
              return;
            }
          case HostComponent:
            {
              var _instance3 = finishedWork.stateNode;

              if (current === null && finishedWork.effectTag & Update) {
                var type = finishedWork.type;
                var props = finishedWork.memoizedProps;
                commitMount(_instance3, type, props, finishedWork);
              }

              return;
            }
          case HostText:
            {
              return;
            }
          case HostPortal:
            {
              return;
            }
          default:
            {
              invariant(false, "This unit of work tag should not have side-effects. This error is " + "likely caused by a bug in React. Please file an issue.");
            }
        }
      }

      function commitErrorLogging(finishedWork, onUncaughtError) {
        switch (finishedWork.tag) {
          case ClassComponent:
            {
              var ctor = finishedWork.type;
              var _instance4 = finishedWork.stateNode;
              var updateQueue = finishedWork.updateQueue;
              invariant(updateQueue !== null && updateQueue.capturedValues !== null, "An error logging effect should not have been scheduled if no errors " + "were captured. This error is likely caused by a bug in React. " + "Please file an issue.");
              var capturedErrors = updateQueue.capturedValues;
              updateQueue.capturedValues = null;

              if (typeof ctor.getDerivedStateFromCatch !== "function") {
                markLegacyErrorBoundaryAsFailed(_instance4);
              }

              _instance4.props = finishedWork.memoizedProps;
              _instance4.state = finishedWork.memoizedState;
              for (var i = 0; i < capturedErrors.length; i++) {
                var errorInfo = capturedErrors[i];
                var _error = errorInfo.value;
                logError(finishedWork, errorInfo);
                _instance4.componentDidCatch(_error);
              }
            }
            break;
          case HostRoot:
            {
              var _updateQueue2 = finishedWork.updateQueue;
              invariant(_updateQueue2 !== null && _updateQueue2.capturedValues !== null, "An error logging effect should not have been scheduled if no errors " + "were captured. This error is likely caused by a bug in React. " + "Please file an issue.");
              var _capturedErrors = _updateQueue2.capturedValues;
              _updateQueue2.capturedValues = null;
              for (var _i = 0; _i < _capturedErrors.length; _i++) {
                var _errorInfo = _capturedErrors[_i];
                logError(finishedWork, _errorInfo);
                onUncaughtError(_errorInfo.value);
              }
              break;
            }
          default:
            invariant(false, "This unit of work tag cannot capture errors.  This error is " + "likely caused by a bug in React. Please file an issue.");
        }
      }

      function commitAttachRef(finishedWork) {
        var ref = finishedWork.ref;
        if (ref !== null) {
          var _instance5 = finishedWork.stateNode;
          var instanceToUse = void 0;
          switch (finishedWork.tag) {
            case HostComponent:
              instanceToUse = getPublicInstance(_instance5);
              break;
            default:
              instanceToUse = _instance5;
          }
          if (typeof ref === "function") {
            ref(instanceToUse);
          } else {
            ref.value = instanceToUse;
          }
        }
      }

      function commitDetachRef(current) {
        var currentRef = current.ref;
        if (currentRef !== null) {
          if (typeof currentRef === "function") {
            currentRef(null);
          } else {
            currentRef.value = null;
          }
        }
      }

      function commitUnmount(current) {
        if (typeof onCommitUnmount === "function") {
          onCommitUnmount(current);
        }

        switch (current.tag) {
          case ClassComponent:
            {
              safelyDetachRef(current);
              var _instance6 = current.stateNode;
              if (typeof _instance6.componentWillUnmount === "function") {
                safelyCallComponentWillUnmount(current, _instance6);
              }
              return;
            }
          case HostComponent:
            {
              safelyDetachRef(current);
              return;
            }
          case CallComponent:
            {
              commitNestedUnmounts(current.stateNode);
              return;
            }
          case HostPortal:
            {
              if (enableMutatingReconciler && mutation) {
                unmountHostComponents(current);
              } else if (enablePersistentReconciler && persistence) {
                emptyPortalContainer(current);
              }
              return;
            }
        }
      }

      function commitNestedUnmounts(root) {
        var node = root;
        while (true) {
          commitUnmount(node);

          if (node.child !== null && (!mutation || node.tag !== HostPortal)) {
            node.child["return"] = node;
            node = node.child;
            continue;
          }
          if (node === root) {
            return;
          }
          while (node.sibling === null) {
            if (node["return"] === null || node["return"] === root) {
              return;
            }
            node = node["return"];
          }
          node.sibling["return"] = node["return"];
          node = node.sibling;
        }
      }

      function detachFiber(current) {
        current["return"] = null;
        current.child = null;
        if (current.alternate) {
          current.alternate.child = null;
          current.alternate["return"] = null;
        }
      }

      var emptyPortalContainer = void 0;

      if (!mutation) {
        var commitContainer = void 0;
        if (persistence) {
          var replaceContainerChildren = persistence.replaceContainerChildren,
              createContainerChildSet = persistence.createContainerChildSet;

          emptyPortalContainer = function emptyPortalContainer(current) {
            var portal = current.stateNode;
            var containerInfo = portal.containerInfo;

            var emptyChildSet = createContainerChildSet(containerInfo);
            replaceContainerChildren(containerInfo, emptyChildSet);
          };
          commitContainer = function commitContainer(finishedWork) {
            switch (finishedWork.tag) {
              case ClassComponent:
                {
                  return;
                }
              case HostComponent:
                {
                  return;
                }
              case HostText:
                {
                  return;
                }
              case HostRoot:
              case HostPortal:
                {
                  var portalOrRoot = finishedWork.stateNode;
                  var containerInfo = portalOrRoot.containerInfo,
                      _pendingChildren = portalOrRoot.pendingChildren;

                  replaceContainerChildren(containerInfo, _pendingChildren);
                  return;
                }
              default:
                {
                  invariant(false, "This unit of work tag should not have side-effects. This error is " + "likely caused by a bug in React. Please file an issue.");
                }
            }
          };
        } else {
          commitContainer = function commitContainer(finishedWork) {};
        }
        if (enablePersistentReconciler || enableNoopReconciler) {
          return {
            commitResetTextContent: function commitResetTextContent(finishedWork) {},
            commitPlacement: function commitPlacement(finishedWork) {},
            commitDeletion: function commitDeletion(current) {
              commitNestedUnmounts(current);
              detachFiber(current);
            },
            commitWork: function commitWork(current, finishedWork) {
              commitContainer(finishedWork);
            },

            commitLifeCycles: commitLifeCycles,
            commitErrorLogging: commitErrorLogging,
            commitAttachRef: commitAttachRef,
            commitDetachRef: commitDetachRef
          };
        } else if (persistence) {
          invariant(false, "Persistent reconciler is disabled.");
        } else {
          invariant(false, "Noop reconciler is disabled.");
        }
      }
      var commitMount = mutation.commitMount,
          commitUpdate = mutation.commitUpdate,
          resetTextContent = mutation.resetTextContent,
          commitTextUpdate = mutation.commitTextUpdate,
          appendChild = mutation.appendChild,
          appendChildToContainer = mutation.appendChildToContainer,
          insertBefore = mutation.insertBefore,
          insertInContainerBefore = mutation.insertInContainerBefore,
          removeChild = mutation.removeChild,
          removeChildFromContainer = mutation.removeChildFromContainer;

      function getHostParentFiber(fiber) {
        var parent = fiber["return"];
        while (parent !== null) {
          if (isHostParent(parent)) {
            return parent;
          }
          parent = parent["return"];
        }
        invariant(false, "Expected to find a host parent. This error is likely caused by a bug " + "in React. Please file an issue.");
      }

      function isHostParent(fiber) {
        return fiber.tag === HostComponent || fiber.tag === HostRoot || fiber.tag === HostPortal;
      }

      function getHostSibling(fiber) {
        var node = fiber;
        siblings: while (true) {
          while (node.sibling === null) {
            if (node["return"] === null || isHostParent(node["return"])) {
              return null;
            }
            node = node["return"];
          }
          node.sibling["return"] = node["return"];
          node = node.sibling;
          while (node.tag !== HostComponent && node.tag !== HostText) {
            if (node.effectTag & Placement) {
              continue siblings;
            }

            if (node.child === null || node.tag === HostPortal) {
              continue siblings;
            } else {
              node.child["return"] = node;
              node = node.child;
            }
          }

          if (!(node.effectTag & Placement)) {
            return node.stateNode;
          }
        }
      }

      function commitPlacement(finishedWork) {
        var parentFiber = getHostParentFiber(finishedWork);
        var parent = void 0;
        var isContainer = void 0;
        switch (parentFiber.tag) {
          case HostComponent:
            parent = parentFiber.stateNode;
            isContainer = false;
            break;
          case HostRoot:
            parent = parentFiber.stateNode.containerInfo;
            isContainer = true;
            break;
          case HostPortal:
            parent = parentFiber.stateNode.containerInfo;
            isContainer = true;
            break;
          default:
            invariant(false, "Invalid host parent fiber. This error is likely caused by a bug " + "in React. Please file an issue.");
        }
        if (parentFiber.effectTag & ContentReset) {
          resetTextContent(parent);

          parentFiber.effectTag &= ~ContentReset;
        }

        var before = getHostSibling(finishedWork);

        var node = finishedWork;
        while (true) {
          if (node.tag === HostComponent || node.tag === HostText) {
            if (before) {
              if (isContainer) {
                insertInContainerBefore(parent, node.stateNode, before);
              } else {
                insertBefore(parent, node.stateNode, before);
              }
            } else {
              if (isContainer) {
                appendChildToContainer(parent, node.stateNode);
              } else {
                appendChild(parent, node.stateNode);
              }
            }
          } else if (node.tag === HostPortal) {} else if (node.child !== null) {
            node.child["return"] = node;
            node = node.child;
            continue;
          }
          if (node === finishedWork) {
            return;
          }
          while (node.sibling === null) {
            if (node["return"] === null || node["return"] === finishedWork) {
              return;
            }
            node = node["return"];
          }
          node.sibling["return"] = node["return"];
          node = node.sibling;
        }
      }

      function unmountHostComponents(current) {
        var node = current;

        var currentParentIsValid = false;
        var currentParent = void 0;
        var currentParentIsContainer = void 0;

        while (true) {
          if (!currentParentIsValid) {
            var parent = node["return"];
            findParent: while (true) {
              invariant(parent !== null, "Expected to find a host parent. This error is likely caused by " + "a bug in React. Please file an issue.");
              switch (parent.tag) {
                case HostComponent:
                  currentParent = parent.stateNode;
                  currentParentIsContainer = false;
                  break findParent;
                case HostRoot:
                  currentParent = parent.stateNode.containerInfo;
                  currentParentIsContainer = true;
                  break findParent;
                case HostPortal:
                  currentParent = parent.stateNode.containerInfo;
                  currentParentIsContainer = true;
                  break findParent;
              }
              parent = parent["return"];
            }
            currentParentIsValid = true;
          }

          if (node.tag === HostComponent || node.tag === HostText) {
            commitNestedUnmounts(node);

            if (currentParentIsContainer) {
              removeChildFromContainer(currentParent, node.stateNode);
            } else {
              removeChild(currentParent, node.stateNode);
            }
          } else if (node.tag === HostPortal) {
            currentParent = node.stateNode.containerInfo;

            if (node.child !== null) {
              node.child["return"] = node;
              node = node.child;
              continue;
            }
          } else {
            commitUnmount(node);

            if (node.child !== null) {
              node.child["return"] = node;
              node = node.child;
              continue;
            }
          }
          if (node === current) {
            return;
          }
          while (node.sibling === null) {
            if (node["return"] === null || node["return"] === current) {
              return;
            }
            node = node["return"];
            if (node.tag === HostPortal) {
              currentParentIsValid = false;
            }
          }
          node.sibling["return"] = node["return"];
          node = node.sibling;
        }
      }

      function commitDeletion(current) {
        unmountHostComponents(current);
        detachFiber(current);
      }

      function commitWork(current, finishedWork) {
        switch (finishedWork.tag) {
          case ClassComponent:
            {
              return;
            }
          case HostComponent:
            {
              var _instance7 = finishedWork.stateNode;
              if (_instance7 != null) {
                var newProps = finishedWork.memoizedProps;

                var oldProps = current !== null ? current.memoizedProps : newProps;
                var type = finishedWork.type;

                var updatePayload = finishedWork.updateQueue;
                finishedWork.updateQueue = null;
                if (updatePayload !== null) {
                  commitUpdate(_instance7, updatePayload, type, oldProps, newProps, finishedWork);
                }
              }
              return;
            }
          case HostText:
            {
              invariant(finishedWork.stateNode !== null, "This should have a text node initialized. This error is likely " + "caused by a bug in React. Please file an issue.");
              var textInstance = finishedWork.stateNode;
              var newText = finishedWork.memoizedProps;

              var oldText = current !== null ? current.memoizedProps : newText;
              commitTextUpdate(textInstance, oldText, newText);
              return;
            }
          case HostRoot:
            {
              return;
            }
          default:
            {
              invariant(false, "This unit of work tag should not have side-effects. This error is " + "likely caused by a bug in React. Please file an issue.");
            }
        }
      }

      function commitResetTextContent(current) {
        resetTextContent(current.stateNode);
      }

      if (enableMutatingReconciler) {
        return {
          commitResetTextContent: commitResetTextContent,
          commitPlacement: commitPlacement,
          commitDeletion: commitDeletion,
          commitWork: commitWork,
          commitLifeCycles: commitLifeCycles,
          commitErrorLogging: commitErrorLogging,
          commitAttachRef: commitAttachRef,
          commitDetachRef: commitDetachRef
        };
      } else {
        invariant(false, "Mutating reconciler is disabled.");
      }
    };

    var NO_CONTEXT = {};

    var ReactFiberHostContext = function ReactFiberHostContext(config) {
      var getChildHostContext = config.getChildHostContext,
          getRootHostContext = config.getRootHostContext;

      var contextStackCursor = createCursor(NO_CONTEXT);
      var contextFiberStackCursor = createCursor(NO_CONTEXT);
      var rootInstanceStackCursor = createCursor(NO_CONTEXT);

      function requiredContext(c) {
        invariant(c !== NO_CONTEXT, "Expected host context to exist. This error is likely caused by a bug " + "in React. Please file an issue.");
        return c;
      }

      function getRootHostContainer() {
        var rootInstance = requiredContext(rootInstanceStackCursor.current);
        return rootInstance;
      }

      function pushHostContainer(fiber, nextRootInstance) {
        push(rootInstanceStackCursor, nextRootInstance, fiber);

        var nextRootContext = getRootHostContext(nextRootInstance);

        push(contextFiberStackCursor, fiber, fiber);
        push(contextStackCursor, nextRootContext, fiber);
      }

      function popHostContainer(fiber) {
        pop(contextStackCursor, fiber);
        pop(contextFiberStackCursor, fiber);
        pop(rootInstanceStackCursor, fiber);
      }

      function getHostContext() {
        var context = requiredContext(contextStackCursor.current);
        return context;
      }

      function pushHostContext(fiber) {
        var rootInstance = requiredContext(rootInstanceStackCursor.current);
        var context = requiredContext(contextStackCursor.current);
        var nextContext = getChildHostContext(context, fiber.type, rootInstance);

        if (context === nextContext) {
          return;
        }

        push(contextFiberStackCursor, fiber, fiber);
        push(contextStackCursor, nextContext, fiber);
      }

      function popHostContext(fiber) {
        if (contextFiberStackCursor.current !== fiber) {
          return;
        }

        pop(contextStackCursor, fiber);
        pop(contextFiberStackCursor, fiber);
      }

      function resetHostContainer() {
        contextStackCursor.current = NO_CONTEXT;
        rootInstanceStackCursor.current = NO_CONTEXT;
      }

      return {
        getHostContext: getHostContext,
        getRootHostContainer: getRootHostContainer,
        popHostContainer: popHostContainer,
        popHostContext: popHostContext,
        pushHostContainer: pushHostContainer,
        pushHostContext: pushHostContext,
        resetHostContainer: resetHostContainer
      };
    };

    var ReactFiberHydrationContext = function ReactFiberHydrationContext(config) {
      var shouldSetTextContent = config.shouldSetTextContent,
          hydration = config.hydration;

      if (!hydration) {
        return {
          enterHydrationState: function enterHydrationState() {
            return false;
          },
          resetHydrationState: function resetHydrationState() {},
          tryToClaimNextHydratableInstance: function tryToClaimNextHydratableInstance() {},
          prepareToHydrateHostInstance: function prepareToHydrateHostInstance() {
            invariant(false, "Expected prepareToHydrateHostInstance() to never be called. " + "This error is likely caused by a bug in React. Please file an issue.");
          },
          prepareToHydrateHostTextInstance: function prepareToHydrateHostTextInstance() {
            invariant(false, "Expected prepareToHydrateHostTextInstance() to never be called. " + "This error is likely caused by a bug in React. Please file an issue.");
          },
          popHydrationState: function popHydrationState(fiber) {
            return false;
          }
        };
      }

      var canHydrateInstance = hydration.canHydrateInstance,
          canHydrateTextInstance = hydration.canHydrateTextInstance,
          getNextHydratableSibling = hydration.getNextHydratableSibling,
          getFirstHydratableChild = hydration.getFirstHydratableChild,
          hydrateInstance = hydration.hydrateInstance,
          hydrateTextInstance = hydration.hydrateTextInstance,
          didNotMatchHydratedContainerTextInstance = hydration.didNotMatchHydratedContainerTextInstance,
          didNotMatchHydratedTextInstance = hydration.didNotMatchHydratedTextInstance,
          didNotHydrateContainerInstance = hydration.didNotHydrateContainerInstance,
          didNotHydrateInstance = hydration.didNotHydrateInstance,
          didNotFindHydratableContainerInstance = hydration.didNotFindHydratableContainerInstance,
          didNotFindHydratableContainerTextInstance = hydration.didNotFindHydratableContainerTextInstance,
          didNotFindHydratableInstance = hydration.didNotFindHydratableInstance,
          didNotFindHydratableTextInstance = hydration.didNotFindHydratableTextInstance;

      var hydrationParentFiber = null;
      var nextHydratableInstance = null;
      var isHydrating = false;

      function enterHydrationState(fiber) {
        var parentInstance = fiber.stateNode.containerInfo;
        nextHydratableInstance = getFirstHydratableChild(parentInstance);
        hydrationParentFiber = fiber;
        isHydrating = true;
        return true;
      }

      function deleteHydratableInstance(returnFiber, instance) {
        {
          switch (returnFiber.tag) {
            case HostRoot:
              didNotHydrateContainerInstance(returnFiber.stateNode.containerInfo, instance);
              break;
            case HostComponent:
              didNotHydrateInstance(returnFiber.type, returnFiber.memoizedProps, returnFiber.stateNode, instance);
              break;
          }
        }

        var childToDelete = createFiberFromHostInstanceForDeletion();
        childToDelete.stateNode = instance;
        childToDelete["return"] = returnFiber;
        childToDelete.effectTag = Deletion;

        if (returnFiber.lastEffect !== null) {
          returnFiber.lastEffect.nextEffect = childToDelete;
          returnFiber.lastEffect = childToDelete;
        } else {
          returnFiber.firstEffect = returnFiber.lastEffect = childToDelete;
        }
      }

      function insertNonHydratedInstance(returnFiber, fiber) {
        fiber.effectTag |= Placement;
        {
          switch (returnFiber.tag) {
            case HostRoot:
              {
                var parentContainer = returnFiber.stateNode.containerInfo;
                switch (fiber.tag) {
                  case HostComponent:
                    var type = fiber.type;
                    var props = fiber.pendingProps;
                    didNotFindHydratableContainerInstance(parentContainer, type, props);
                    break;
                  case HostText:
                    var text = fiber.pendingProps;
                    didNotFindHydratableContainerTextInstance(parentContainer, text);
                    break;
                }
                break;
              }
            case HostComponent:
              {
                var parentType = returnFiber.type;
                var parentProps = returnFiber.memoizedProps;
                var parentInstance = returnFiber.stateNode;
                switch (fiber.tag) {
                  case HostComponent:
                    var _type = fiber.type;
                    var _props = fiber.pendingProps;
                    didNotFindHydratableInstance(parentType, parentProps, parentInstance, _type, _props);
                    break;
                  case HostText:
                    var _text = fiber.pendingProps;
                    didNotFindHydratableTextInstance(parentType, parentProps, parentInstance, _text);
                    break;
                }
                break;
              }
            default:
              return;
          }
        }
      }

      function tryHydrate(fiber, nextInstance) {
        switch (fiber.tag) {
          case HostComponent:
            {
              var type = fiber.type;
              var props = fiber.pendingProps;
              var instance = canHydrateInstance(nextInstance, type, props);
              if (instance !== null) {
                fiber.stateNode = instance;
                return true;
              }
              return false;
            }
          case HostText:
            {
              var text = fiber.pendingProps;
              var textInstance = canHydrateTextInstance(nextInstance, text);
              if (textInstance !== null) {
                fiber.stateNode = textInstance;
                return true;
              }
              return false;
            }
          default:
            return false;
        }
      }

      function tryToClaimNextHydratableInstance(fiber) {
        if (!isHydrating) {
          return;
        }
        var nextInstance = nextHydratableInstance;
        if (!nextInstance) {
          insertNonHydratedInstance(hydrationParentFiber, fiber);
          isHydrating = false;
          hydrationParentFiber = fiber;
          return;
        }
        if (!tryHydrate(fiber, nextInstance)) {
          nextInstance = getNextHydratableSibling(nextInstance);
          if (!nextInstance || !tryHydrate(fiber, nextInstance)) {
            insertNonHydratedInstance(hydrationParentFiber, fiber);
            isHydrating = false;
            hydrationParentFiber = fiber;
            return;
          }

          deleteHydratableInstance(hydrationParentFiber, nextHydratableInstance);
        }
        hydrationParentFiber = fiber;
        nextHydratableInstance = getFirstHydratableChild(nextInstance);
      }

      function prepareToHydrateHostInstance(fiber, rootContainerInstance, hostContext) {
        var instance = fiber.stateNode;
        var updatePayload = hydrateInstance(instance, fiber.type, fiber.memoizedProps, rootContainerInstance, hostContext, fiber);

        fiber.updateQueue = updatePayload;

        if (updatePayload !== null) {
          return true;
        }
        return false;
      }

      function prepareToHydrateHostTextInstance(fiber) {
        var textInstance = fiber.stateNode;
        var textContent = fiber.memoizedProps;
        var shouldUpdate = hydrateTextInstance(textInstance, textContent, fiber);
        {
          if (shouldUpdate) {
            var returnFiber = hydrationParentFiber;
            if (returnFiber !== null) {
              switch (returnFiber.tag) {
                case HostRoot:
                  {
                    var parentContainer = returnFiber.stateNode.containerInfo;
                    didNotMatchHydratedContainerTextInstance(parentContainer, textInstance, textContent);
                    break;
                  }
                case HostComponent:
                  {
                    var parentType = returnFiber.type;
                    var parentProps = returnFiber.memoizedProps;
                    var parentInstance = returnFiber.stateNode;
                    didNotMatchHydratedTextInstance(parentType, parentProps, parentInstance, textInstance, textContent);
                    break;
                  }
              }
            }
          }
        }
        return shouldUpdate;
      }

      function popToNextHostParent(fiber) {
        var parent = fiber["return"];
        while (parent !== null && parent.tag !== HostComponent && parent.tag !== HostRoot) {
          parent = parent["return"];
        }
        hydrationParentFiber = parent;
      }

      function popHydrationState(fiber) {
        if (fiber !== hydrationParentFiber) {
          return false;
        }
        if (!isHydrating) {
          popToNextHostParent(fiber);
          isHydrating = true;
          return false;
        }

        var type = fiber.type;

        if (fiber.tag !== HostComponent || type !== "head" && type !== "body" && !shouldSetTextContent(type, fiber.memoizedProps)) {
          var nextInstance = nextHydratableInstance;
          while (nextInstance) {
            deleteHydratableInstance(fiber, nextInstance);
            nextInstance = getNextHydratableSibling(nextInstance);
          }
        }

        popToNextHostParent(fiber);
        nextHydratableInstance = hydrationParentFiber ? getNextHydratableSibling(fiber.stateNode) : null;
        return true;
      }

      function resetHydrationState() {
        hydrationParentFiber = null;
        nextHydratableInstance = null;
        isHydrating = false;
      }

      return {
        enterHydrationState: enterHydrationState,
        resetHydrationState: resetHydrationState,
        tryToClaimNextHydratableInstance: tryToClaimNextHydratableInstance,
        prepareToHydrateHostInstance: prepareToHydrateHostInstance,
        prepareToHydrateHostTextInstance: prepareToHydrateHostTextInstance,
        popHydrationState: popHydrationState
      };
    };

    var ReactFiberInstrumentation = {
      debugTool: null
    };

    var ReactFiberInstrumentation_1 = ReactFiberInstrumentation;

    var invokeGuardedCallback$2 = ReactErrorUtils.invokeGuardedCallback;
    var hasCaughtError = ReactErrorUtils.hasCaughtError;
    var clearCaughtError = ReactErrorUtils.clearCaughtError;

    var didWarnAboutStateTransition = void 0;
    var didWarnSetStateChildContext = void 0;
    var warnAboutUpdateOnUnmounted = void 0;
    var warnAboutInvalidUpdates = void 0;

    {
      didWarnAboutStateTransition = false;
      didWarnSetStateChildContext = false;
      var didWarnStateUpdateForUnmountedComponent = {};

      warnAboutUpdateOnUnmounted = function warnAboutUpdateOnUnmounted(fiber) {
        var componentName = getComponentName(fiber) || "ReactClass";
        if (didWarnStateUpdateForUnmountedComponent[componentName]) {
          return;
        }
        warning(false, "Can only update a mounted or mounting " + "component. This usually means you called setState, replaceState, " + "or forceUpdate on an unmounted component. This is a no-op.\n\nPlease " + "check the code for the %s component.", componentName);
        didWarnStateUpdateForUnmountedComponent[componentName] = true;
      };

      warnAboutInvalidUpdates = function warnAboutInvalidUpdates(instance) {
        switch (ReactDebugCurrentFiber.phase) {
          case "getChildContext":
            if (didWarnSetStateChildContext) {
              return;
            }
            warning(false, "setState(...): Cannot call setState() inside getChildContext()");
            didWarnSetStateChildContext = true;
            break;
          case "render":
            if (didWarnAboutStateTransition) {
              return;
            }
            warning(false, "Cannot update during an existing state transition (such as within " + "`render` or another component's constructor). Render methods should " + "be a pure function of props and state; constructor side-effects are " + "an anti-pattern, but can be moved to `componentWillMount`.");
            didWarnAboutStateTransition = true;
            break;
        }
      };
    }

    var ReactFiberScheduler = function ReactFiberScheduler(config) {
      var hostContext = ReactFiberHostContext(config);
      var popHostContext = hostContext.popHostContext,
          popHostContainer = hostContext.popHostContainer;

      var hydrationContext = ReactFiberHydrationContext(config);
      var resetHostContainer = hostContext.resetHostContainer;

      var _ReactFiberBeginWork = ReactFiberBeginWork(config, hostContext, hydrationContext, scheduleWork, computeExpirationForFiber),
          beginWork = _ReactFiberBeginWork.beginWork;

      var _ReactFiberCompleteWo = ReactFiberCompleteWork(config, hostContext, hydrationContext),
          completeWork = _ReactFiberCompleteWo.completeWork;

      var _ReactFiberUnwindWork = ReactFiberUnwindWork(hostContext, scheduleWork, isAlreadyFailedLegacyErrorBoundary),
          throwException = _ReactFiberUnwindWork.throwException,
          unwindWork = _ReactFiberUnwindWork.unwindWork;

      var _ReactFiberCommitWork = ReactFiberCommitWork(config, onCommitPhaseError, scheduleWork, computeExpirationForFiber, markLegacyErrorBoundaryAsFailed, recalculateCurrentTime),
          commitResetTextContent = _ReactFiberCommitWork.commitResetTextContent,
          commitPlacement = _ReactFiberCommitWork.commitPlacement,
          commitDeletion = _ReactFiberCommitWork.commitDeletion,
          commitWork = _ReactFiberCommitWork.commitWork,
          commitLifeCycles = _ReactFiberCommitWork.commitLifeCycles,
          commitErrorLogging = _ReactFiberCommitWork.commitErrorLogging,
          commitAttachRef = _ReactFiberCommitWork.commitAttachRef,
          commitDetachRef = _ReactFiberCommitWork.commitDetachRef;

      var now = config.now,
          scheduleDeferredCallback = config.scheduleDeferredCallback,
          cancelDeferredCallback = config.cancelDeferredCallback,
          prepareForCommit = config.prepareForCommit,
          resetAfterCommit = config.resetAfterCommit;

      var originalStartTimeMs = now();
      var mostRecentCurrentTime = msToExpirationTime(0);
      var mostRecentCurrentTimeMs = originalStartTimeMs;

      var lastUniqueAsyncExpiration = 0;

      var expirationContext = NoWork;

      var isWorking = false;

      var nextUnitOfWork = null;
      var nextRoot = null;

      var nextRenderExpirationTime = NoWork;

      var nextEffect = null;

      var isCommitting = false;

      var isRootReadyForCommit = false;

      var legacyErrorBoundariesThatAlreadyFailed = null;

      var interruptedBy = null;

      var stashedWorkInProgressProperties = void 0;
      var replayUnitOfWork = void 0;
      if (true && replayFailedUnitOfWorkWithInvokeGuardedCallback) {
        stashedWorkInProgressProperties = null;
        replayUnitOfWork = function replayUnitOfWork(failedUnitOfWork, isAsync) {
          _extends(failedUnitOfWork, stashedWorkInProgressProperties);
          switch (failedUnitOfWork.tag) {
            case HostRoot:
              popHostContainer(failedUnitOfWork);
              popTopLevelContextObject(failedUnitOfWork);
              break;
            case HostComponent:
              popHostContext(failedUnitOfWork);
              break;
            case ClassComponent:
              popContextProvider(failedUnitOfWork);
              break;
            case HostPortal:
              popHostContainer(failedUnitOfWork);
              break;
            case ContextProvider:
              popProvider(failedUnitOfWork);
              break;
          }

          invokeGuardedCallback$2(null, workLoop, null, isAsync);
          if (hasCaughtError()) {
            clearCaughtError();
          } else {}
        };
      }

      function resetContextStack() {
        reset();

        resetContext();
        resetHostContainer();

        resetProviderStack();

        {
          ReactStrictModeWarnings.discardPendingWarnings();
        }

        nextRoot = null;
        nextRenderExpirationTime = NoWork;
        nextUnitOfWork = null;

        isRootReadyForCommit = false;
      }

      function commitAllHostEffects() {
        while (nextEffect !== null) {
          {
            ReactDebugCurrentFiber.setCurrentFiber(nextEffect);
          }
          recordEffect();

          var effectTag = nextEffect.effectTag;
          if (effectTag & ContentReset) {
            commitResetTextContent(nextEffect);
          }

          if (effectTag & Ref) {
            var current = nextEffect.alternate;
            if (current !== null) {
              commitDetachRef(current);
            }
          }

          var primaryEffectTag = effectTag & (Placement | Update | Deletion);
          switch (primaryEffectTag) {
            case Placement:
              {
                commitPlacement(nextEffect);

                nextEffect.effectTag &= ~Placement;
                break;
              }
            case PlacementAndUpdate:
              {
                commitPlacement(nextEffect);

                nextEffect.effectTag &= ~Placement;

                var _current = nextEffect.alternate;
                commitWork(_current, nextEffect);
                break;
              }
            case Update:
              {
                var _current2 = nextEffect.alternate;
                commitWork(_current2, nextEffect);
                break;
              }
            case Deletion:
              {
                commitDeletion(nextEffect);
                break;
              }
          }
          nextEffect = nextEffect.nextEffect;
        }

        {
          ReactDebugCurrentFiber.resetCurrentFiber();
        }
      }

      function commitAllLifeCycles(finishedRoot, currentTime, committedExpirationTime) {
        {
          ReactStrictModeWarnings.flushPendingUnsafeLifecycleWarnings();

          if (warnAboutDeprecatedLifecycles) {
            ReactStrictModeWarnings.flushPendingDeprecationWarnings();
          }
        }
        while (nextEffect !== null) {
          var effectTag = nextEffect.effectTag;

          if (effectTag & (Update | Callback)) {
            recordEffect();
            var current = nextEffect.alternate;
            commitLifeCycles(finishedRoot, current, nextEffect, currentTime, committedExpirationTime);
          }

          if (effectTag & ErrLog) {
            commitErrorLogging(nextEffect, onUncaughtError);
          }

          if (effectTag & Ref) {
            recordEffect();
            commitAttachRef(nextEffect);
          }

          var next = nextEffect.nextEffect;

          nextEffect.nextEffect = null;

          nextEffect = next;
        }
      }

      function isAlreadyFailedLegacyErrorBoundary(instance) {
        return legacyErrorBoundariesThatAlreadyFailed !== null && legacyErrorBoundariesThatAlreadyFailed.has(instance);
      }

      function markLegacyErrorBoundaryAsFailed(instance) {
        if (legacyErrorBoundariesThatAlreadyFailed === null) {
          legacyErrorBoundariesThatAlreadyFailed = new Set([instance]);
        } else {
          legacyErrorBoundariesThatAlreadyFailed.add(instance);
        }
      }

      function commitRoot(finishedWork) {
        isWorking = true;
        isCommitting = true;
        startCommitTimer();

        var root = finishedWork.stateNode;
        invariant(root.current !== finishedWork, "Cannot commit the same tree as before. This is probably a bug " + "related to the return field. This error is likely caused by a bug " + "in React. Please file an issue.");
        var committedExpirationTime = root.pendingCommitExpirationTime;
        invariant(committedExpirationTime !== NoWork, "Cannot commit an incomplete root. This error is likely caused by a " + "bug in React. Please file an issue.");
        root.pendingCommitExpirationTime = NoWork;

        var currentTime = recalculateCurrentTime();

        ReactCurrentOwner.current = null;

        var firstEffect = void 0;
        if (finishedWork.effectTag > PerformedWork) {
          if (finishedWork.lastEffect !== null) {
            finishedWork.lastEffect.nextEffect = finishedWork;
            firstEffect = finishedWork.firstEffect;
          } else {
            firstEffect = finishedWork;
          }
        } else {
          firstEffect = finishedWork.firstEffect;
        }

        prepareForCommit(root.containerInfo);

        nextEffect = firstEffect;
        startCommitHostEffectsTimer();
        while (nextEffect !== null) {
          var didError = false;
          var error = void 0;
          {
            invokeGuardedCallback$2(null, commitAllHostEffects, null);
            if (hasCaughtError()) {
              didError = true;
              error = clearCaughtError();
            }
          }
          if (didError) {
            invariant(nextEffect !== null, "Should have next effect. This error is likely caused by a bug " + "in React. Please file an issue.");
            onCommitPhaseError(nextEffect, error);

            if (nextEffect !== null) {
              nextEffect = nextEffect.nextEffect;
            }
          }
        }
        stopCommitHostEffectsTimer();

        resetAfterCommit(root.containerInfo);

        root.current = finishedWork;

        nextEffect = firstEffect;
        startCommitLifeCyclesTimer();
        while (nextEffect !== null) {
          var _didError = false;
          var _error = void 0;
          {
            invokeGuardedCallback$2(null, commitAllLifeCycles, null, root, currentTime, committedExpirationTime);
            if (hasCaughtError()) {
              _didError = true;
              _error = clearCaughtError();
            }
          }
          if (_didError) {
            invariant(nextEffect !== null, "Should have next effect. This error is likely caused by a bug " + "in React. Please file an issue.");
            onCommitPhaseError(nextEffect, _error);
            if (nextEffect !== null) {
              nextEffect = nextEffect.nextEffect;
            }
          }
        }

        isCommitting = false;
        isWorking = false;
        stopCommitLifeCyclesTimer();
        stopCommitTimer();
        if (typeof onCommitRoot === "function") {
          onCommitRoot(finishedWork.stateNode);
        }
        if (true && ReactFiberInstrumentation_1.debugTool) {
          ReactFiberInstrumentation_1.debugTool.onCommitWork(finishedWork);
        }

        var remainingTime = root.current.expirationTime;
        if (remainingTime === NoWork) {
          legacyErrorBoundariesThatAlreadyFailed = null;
        }
        return remainingTime;
      }

      function resetExpirationTime(workInProgress, renderTime) {
        if (renderTime !== Never && workInProgress.expirationTime === Never) {
          return;
        }

        var newExpirationTime = getUpdateExpirationTime(workInProgress);

        var child = workInProgress.child;
        while (child !== null) {
          if (child.expirationTime !== NoWork && (newExpirationTime === NoWork || newExpirationTime > child.expirationTime)) {
            newExpirationTime = child.expirationTime;
          }
          child = child.sibling;
        }
        workInProgress.expirationTime = newExpirationTime;
      }

      function completeUnitOfWork(workInProgress) {
        while (true) {
          var current = workInProgress.alternate;
          {
            ReactDebugCurrentFiber.setCurrentFiber(workInProgress);
          }

          var returnFiber = workInProgress["return"];
          var siblingFiber = workInProgress.sibling;

          if ((workInProgress.effectTag & Incomplete) === NoEffect) {
            var next = completeWork(current, workInProgress, nextRenderExpirationTime);
            stopWorkTimer(workInProgress);
            resetExpirationTime(workInProgress, nextRenderExpirationTime);
            {
              ReactDebugCurrentFiber.resetCurrentFiber();
            }

            if (next !== null) {
              stopWorkTimer(workInProgress);
              if (true && ReactFiberInstrumentation_1.debugTool) {
                ReactFiberInstrumentation_1.debugTool.onCompleteWork(workInProgress);
              }

              return next;
            }

            if (returnFiber !== null && (returnFiber.effectTag & Incomplete) === NoEffect) {
              if (returnFiber.firstEffect === null) {
                returnFiber.firstEffect = workInProgress.firstEffect;
              }
              if (workInProgress.lastEffect !== null) {
                if (returnFiber.lastEffect !== null) {
                  returnFiber.lastEffect.nextEffect = workInProgress.firstEffect;
                }
                returnFiber.lastEffect = workInProgress.lastEffect;
              }

              var effectTag = workInProgress.effectTag;

              if (effectTag > PerformedWork) {
                if (returnFiber.lastEffect !== null) {
                  returnFiber.lastEffect.nextEffect = workInProgress;
                } else {
                  returnFiber.firstEffect = workInProgress;
                }
                returnFiber.lastEffect = workInProgress;
              }
            }

            if (true && ReactFiberInstrumentation_1.debugTool) {
              ReactFiberInstrumentation_1.debugTool.onCompleteWork(workInProgress);
            }

            if (siblingFiber !== null) {
              return siblingFiber;
            } else if (returnFiber !== null) {
              workInProgress = returnFiber;
              continue;
            } else {
              isRootReadyForCommit = true;
              return null;
            }
          } else {
            var _next = unwindWork(workInProgress);

            if (workInProgress.effectTag & DidCapture) {
              stopFailedWorkTimer(workInProgress);
            } else {
              stopWorkTimer(workInProgress);
            }

            {
              ReactDebugCurrentFiber.resetCurrentFiber();
            }

            if (_next !== null) {
              stopWorkTimer(workInProgress);
              if (true && ReactFiberInstrumentation_1.debugTool) {
                ReactFiberInstrumentation_1.debugTool.onCompleteWork(workInProgress);
              }

              _next.effectTag &= HostEffectMask;
              return _next;
            }

            if (returnFiber !== null) {
              returnFiber.firstEffect = returnFiber.lastEffect = null;
              returnFiber.effectTag |= Incomplete;
            }

            if (true && ReactFiberInstrumentation_1.debugTool) {
              ReactFiberInstrumentation_1.debugTool.onCompleteWork(workInProgress);
            }

            if (siblingFiber !== null) {
              return siblingFiber;
            } else if (returnFiber !== null) {
              workInProgress = returnFiber;
              continue;
            } else {
              return null;
            }
          }
        }

        return null;
      }

      function performUnitOfWork(workInProgress) {
        var current = workInProgress.alternate;

        startWorkTimer(workInProgress);
        {
          ReactDebugCurrentFiber.setCurrentFiber(workInProgress);
        }

        if (true && replayFailedUnitOfWorkWithInvokeGuardedCallback) {
          stashedWorkInProgressProperties = _extends({}, workInProgress);
        }
        var next = beginWork(current, workInProgress, nextRenderExpirationTime);

        {
          ReactDebugCurrentFiber.resetCurrentFiber();
        }
        if (true && ReactFiberInstrumentation_1.debugTool) {
          ReactFiberInstrumentation_1.debugTool.onBeginWork(workInProgress);
        }

        if (next === null) {
          next = completeUnitOfWork(workInProgress);
        }

        ReactCurrentOwner.current = null;

        return next;
      }

      function workLoop(isAsync) {
        if (!isAsync) {
          while (nextUnitOfWork !== null) {
            nextUnitOfWork = performUnitOfWork(nextUnitOfWork);
          }
        } else {
          while (nextUnitOfWork !== null && !shouldYield()) {
            nextUnitOfWork = performUnitOfWork(nextUnitOfWork);
          }
        }
      }

      function renderRoot(root, expirationTime, isAsync) {
        invariant(!isWorking, "renderRoot was called recursively. This error is likely caused " + "by a bug in React. Please file an issue.");
        isWorking = true;

        if (expirationTime !== nextRenderExpirationTime || root !== nextRoot || nextUnitOfWork === null) {
          resetContextStack();
          nextRoot = root;
          nextRenderExpirationTime = expirationTime;
          nextUnitOfWork = createWorkInProgress(nextRoot.current, null, nextRenderExpirationTime);
          root.pendingCommitExpirationTime = NoWork;
        }

        var didFatal = false;

        startWorkLoopTimer(nextUnitOfWork);

        do {
          try {
            workLoop(isAsync);
          } catch (thrownValue) {
            if (nextUnitOfWork === null) {
              didFatal = true;
              onUncaughtError(thrownValue);
              break;
            }

            if (true && replayFailedUnitOfWorkWithInvokeGuardedCallback) {
              var failedUnitOfWork = nextUnitOfWork;
              replayUnitOfWork(failedUnitOfWork, isAsync);
            }

            var sourceFiber = nextUnitOfWork;
            var returnFiber = sourceFiber["return"];
            if (returnFiber === null) {
              didFatal = true;
              onUncaughtError(thrownValue);
              break;
            }
            throwException(returnFiber, sourceFiber, thrownValue);
            nextUnitOfWork = completeUnitOfWork(sourceFiber);
          }
          break;
        } while (true);

        stopWorkLoopTimer(interruptedBy);
        interruptedBy = null;
        isWorking = false;

        if (didFatal) {
          return null;
        } else if (nextUnitOfWork === null) {
          if (isRootReadyForCommit) {
            root.pendingCommitExpirationTime = expirationTime;
            var finishedWork = root.current.alternate;
            return finishedWork;
          } else {
            invariant(false, "Expired work should have completed. This error is likely caused " + "by a bug in React. Please file an issue.");
          }
        } else {
          return null;
        }
      }

      function scheduleCapture(sourceFiber, boundaryFiber, value, expirationTime) {
        var capturedValue = createCapturedValue(value, sourceFiber);
        var update = {
          expirationTime: expirationTime,
          partialState: null,
          callback: null,
          isReplace: false,
          isForced: false,
          capturedValue: capturedValue,
          next: null
        };
        insertUpdateIntoFiber(boundaryFiber, update);
        scheduleWork(boundaryFiber, expirationTime);
      }

      function dispatch(sourceFiber, value, expirationTime) {
        invariant(!isWorking || isCommitting, "dispatch: Cannot dispatch during the render phase.");

        var fiber = sourceFiber["return"];
        while (fiber !== null) {
          switch (fiber.tag) {
            case ClassComponent:
              var ctor = fiber.type;
              var instance = fiber.stateNode;
              if (typeof ctor.getDerivedStateFromCatch === "function" || typeof instance.componentDidCatch === "function" && !isAlreadyFailedLegacyErrorBoundary(instance)) {
                scheduleCapture(sourceFiber, fiber, value, expirationTime);
                return;
              }
              break;

            case HostRoot:
              scheduleCapture(sourceFiber, fiber, value, expirationTime);
              return;
          }
          fiber = fiber["return"];
        }

        if (sourceFiber.tag === HostRoot) {
          scheduleCapture(sourceFiber, sourceFiber, value, expirationTime);
        }
      }

      function onCommitPhaseError(fiber, error) {
        return dispatch(fiber, error, Sync);
      }

      function computeAsyncExpiration(currentTime) {
        var expirationMs = 5000;
        var bucketSizeMs = 250;
        return computeExpirationBucket(currentTime, expirationMs, bucketSizeMs);
      }

      function computeInteractiveExpiration(currentTime) {
        var expirationMs = 500;
        var bucketSizeMs = 100;
        return computeExpirationBucket(currentTime, expirationMs, bucketSizeMs);
      }

      function computeUniqueAsyncExpiration() {
        var currentTime = recalculateCurrentTime();
        var result = computeAsyncExpiration(currentTime);
        if (result <= lastUniqueAsyncExpiration) {
          result = lastUniqueAsyncExpiration + 1;
        }
        lastUniqueAsyncExpiration = result;
        return lastUniqueAsyncExpiration;
      }

      function computeExpirationForFiber(fiber) {
        var expirationTime = void 0;
        if (expirationContext !== NoWork) {
          expirationTime = expirationContext;
        } else if (isWorking) {
          if (isCommitting) {
            expirationTime = Sync;
          } else {
            expirationTime = nextRenderExpirationTime;
          }
        } else {
          if (fiber.mode & AsyncMode) {
            if (isBatchingInteractiveUpdates) {
              var currentTime = recalculateCurrentTime();
              expirationTime = computeInteractiveExpiration(currentTime);
            } else {
              var _currentTime = recalculateCurrentTime();
              expirationTime = computeAsyncExpiration(_currentTime);
            }
          } else {
            expirationTime = Sync;
          }
        }
        if (isBatchingInteractiveUpdates) {
          if (lowestPendingInteractiveExpirationTime === NoWork || expirationTime > lowestPendingInteractiveExpirationTime) {
            lowestPendingInteractiveExpirationTime = expirationTime;
          }
        }
        return expirationTime;
      }

      function scheduleWork(fiber, expirationTime) {
        return scheduleWorkImpl(fiber, expirationTime, false);
      }

      function scheduleWorkImpl(fiber, expirationTime, isErrorRecovery) {
        recordScheduleUpdate();

        {
          if (!isErrorRecovery && fiber.tag === ClassComponent) {
            var instance = fiber.stateNode;
            warnAboutInvalidUpdates(instance);
          }
        }

        var node = fiber;
        while (node !== null) {
          if (node.expirationTime === NoWork || node.expirationTime > expirationTime) {
            node.expirationTime = expirationTime;
          }
          if (node.alternate !== null) {
            if (node.alternate.expirationTime === NoWork || node.alternate.expirationTime > expirationTime) {
              node.alternate.expirationTime = expirationTime;
            }
          }
          if (node["return"] === null) {
            if (node.tag === HostRoot) {
              var root = node.stateNode;
              if (!isWorking && nextRenderExpirationTime !== NoWork && expirationTime < nextRenderExpirationTime) {
                interruptedBy = fiber;
                resetContextStack();
              }
              if (nextRoot !== root || !isWorking) {
                requestWork(root, expirationTime);
              }
              if (nestedUpdateCount > NESTED_UPDATE_LIMIT) {
                invariant(false, "Maximum update depth exceeded. This can happen when a " + "component repeatedly calls setState inside " + "componentWillUpdate or componentDidUpdate. React limits " + "the number of nested updates to prevent infinite loops.");
              }
            } else {
              {
                if (!isErrorRecovery && fiber.tag === ClassComponent) {
                  warnAboutUpdateOnUnmounted(fiber);
                }
              }
              return;
            }
          }
          node = node["return"];
        }
      }

      function recalculateCurrentTime() {
        mostRecentCurrentTimeMs = now() - originalStartTimeMs;
        mostRecentCurrentTime = msToExpirationTime(mostRecentCurrentTimeMs);
        return mostRecentCurrentTime;
      }

      function deferredUpdates(fn) {
        var previousExpirationContext = expirationContext;
        var currentTime = recalculateCurrentTime();
        expirationContext = computeAsyncExpiration(currentTime);
        try {
          return fn();
        } finally {
          expirationContext = previousExpirationContext;
        }
      }
      function syncUpdates(fn, a, b, c, d) {
        var previousExpirationContext = expirationContext;
        expirationContext = Sync;
        try {
          return fn(a, b, c, d);
        } finally {
          expirationContext = previousExpirationContext;
        }
      }

      var firstScheduledRoot = null;
      var lastScheduledRoot = null;

      var callbackExpirationTime = NoWork;
      var callbackID = -1;
      var isRendering = false;
      var nextFlushedRoot = null;
      var nextFlushedExpirationTime = NoWork;
      var lowestPendingInteractiveExpirationTime = NoWork;
      var deadlineDidExpire = false;
      var hasUnhandledError = false;
      var unhandledError = null;
      var deadline = null;

      var isBatchingUpdates = false;
      var isUnbatchingUpdates = false;
      var isBatchingInteractiveUpdates = false;

      var completedBatches = null;

      var NESTED_UPDATE_LIMIT = 1000;
      var nestedUpdateCount = 0;

      var timeHeuristicForUnitOfWork = 1;

      function scheduleCallbackWithExpiration(expirationTime) {
        if (callbackExpirationTime !== NoWork) {
          if (expirationTime > callbackExpirationTime) {
            return;
          } else {
            cancelDeferredCallback(callbackID);
          }
        } else {
          startRequestCallbackTimer();
        }

        var currentMs = now() - originalStartTimeMs;
        var expirationMs = expirationTimeToMs(expirationTime);
        var timeout = expirationMs - currentMs;

        callbackExpirationTime = expirationTime;
        callbackID = scheduleDeferredCallback(performAsyncWork, {
          timeout: timeout
        });
      }

      function requestWork(root, expirationTime) {
        addRootToSchedule(root, expirationTime);

        if (isRendering) {
          return;
        }

        if (isBatchingUpdates) {
          if (isUnbatchingUpdates) {
            nextFlushedRoot = root;
            nextFlushedExpirationTime = Sync;
            performWorkOnRoot(root, Sync, false);
          }
          return;
        }

        if (expirationTime === Sync) {
          performSyncWork();
        } else {
          scheduleCallbackWithExpiration(expirationTime);
        }
      }

      function addRootToSchedule(root, expirationTime) {
        if (root.nextScheduledRoot === null) {
          root.remainingExpirationTime = expirationTime;
          if (lastScheduledRoot === null) {
            firstScheduledRoot = lastScheduledRoot = root;
            root.nextScheduledRoot = root;
          } else {
            lastScheduledRoot.nextScheduledRoot = root;
            lastScheduledRoot = root;
            lastScheduledRoot.nextScheduledRoot = firstScheduledRoot;
          }
        } else {
          var remainingExpirationTime = root.remainingExpirationTime;
          if (remainingExpirationTime === NoWork || expirationTime < remainingExpirationTime) {
            root.remainingExpirationTime = expirationTime;
          }
        }
      }

      function findHighestPriorityRoot() {
        var highestPriorityWork = NoWork;
        var highestPriorityRoot = null;
        if (lastScheduledRoot !== null) {
          var previousScheduledRoot = lastScheduledRoot;
          var root = firstScheduledRoot;
          while (root !== null) {
            var remainingExpirationTime = root.remainingExpirationTime;
            if (remainingExpirationTime === NoWork) {
              invariant(previousScheduledRoot !== null && lastScheduledRoot !== null, "Should have a previous and last root. This error is likely " + "caused by a bug in React. Please file an issue.");
              if (root === root.nextScheduledRoot) {
                root.nextScheduledRoot = null;
                firstScheduledRoot = lastScheduledRoot = null;
                break;
              } else if (root === firstScheduledRoot) {
                var next = root.nextScheduledRoot;
                firstScheduledRoot = next;
                lastScheduledRoot.nextScheduledRoot = next;
                root.nextScheduledRoot = null;
              } else if (root === lastScheduledRoot) {
                lastScheduledRoot = previousScheduledRoot;
                lastScheduledRoot.nextScheduledRoot = firstScheduledRoot;
                root.nextScheduledRoot = null;
                break;
              } else {
                previousScheduledRoot.nextScheduledRoot = root.nextScheduledRoot;
                root.nextScheduledRoot = null;
              }
              root = previousScheduledRoot.nextScheduledRoot;
            } else {
              if (highestPriorityWork === NoWork || remainingExpirationTime < highestPriorityWork) {
                highestPriorityWork = remainingExpirationTime;
                highestPriorityRoot = root;
              }
              if (root === lastScheduledRoot) {
                break;
              }
              previousScheduledRoot = root;
              root = root.nextScheduledRoot;
            }
          }
        }

        var previousFlushedRoot = nextFlushedRoot;
        if (previousFlushedRoot !== null && previousFlushedRoot === highestPriorityRoot && highestPriorityWork === Sync) {
          nestedUpdateCount++;
        } else {
          nestedUpdateCount = 0;
        }
        nextFlushedRoot = highestPriorityRoot;
        nextFlushedExpirationTime = highestPriorityWork;
      }

      function performAsyncWork(dl) {
        performWork(NoWork, true, dl);
      }

      function performSyncWork() {
        performWork(Sync, false, null);
      }

      function performWork(minExpirationTime, isAsync, dl) {
        deadline = dl;

        findHighestPriorityRoot();

        if (enableUserTimingAPI && deadline !== null) {
          var didExpire = nextFlushedExpirationTime < recalculateCurrentTime();
          stopRequestCallbackTimer(didExpire);
        }

        if (isAsync) {
          while (nextFlushedRoot !== null && nextFlushedExpirationTime !== NoWork && (minExpirationTime === NoWork || minExpirationTime >= nextFlushedExpirationTime) && (!deadlineDidExpire || recalculateCurrentTime() >= nextFlushedExpirationTime)) {
            performWorkOnRoot(nextFlushedRoot, nextFlushedExpirationTime, !deadlineDidExpire);
            findHighestPriorityRoot();
          }
        } else {
          while (nextFlushedRoot !== null && nextFlushedExpirationTime !== NoWork && (minExpirationTime === NoWork || minExpirationTime >= nextFlushedExpirationTime)) {
            performWorkOnRoot(nextFlushedRoot, nextFlushedExpirationTime, false);
            findHighestPriorityRoot();
          }
        }

        if (deadline !== null) {
          callbackExpirationTime = NoWork;
          callbackID = -1;
        }

        if (nextFlushedExpirationTime !== NoWork) {
          scheduleCallbackWithExpiration(nextFlushedExpirationTime);
        }

        deadline = null;
        deadlineDidExpire = false;

        finishRendering();
      }

      function flushRoot(root, expirationTime) {
        invariant(!isRendering, "work.commit(): Cannot commit while already rendering. This likely " + "means you attempted to commit from inside a lifecycle method.");

        performWorkOnRoot(root, expirationTime, false);
        finishRendering();
      }

      function finishRendering() {
        nestedUpdateCount = 0;

        if (completedBatches !== null) {
          var batches = completedBatches;
          completedBatches = null;
          for (var i = 0; i < batches.length; i++) {
            var batch = batches[i];
            try {
              batch._onComplete();
            } catch (error) {
              if (!hasUnhandledError) {
                hasUnhandledError = true;
                unhandledError = error;
              }
            }
          }
        }

        if (hasUnhandledError) {
          var error = unhandledError;
          unhandledError = null;
          hasUnhandledError = false;
          throw error;
        }
      }

      function performWorkOnRoot(root, expirationTime, isAsync) {
        invariant(!isRendering, "performWorkOnRoot was called recursively. This error is likely caused " + "by a bug in React. Please file an issue.");

        isRendering = true;

        if (!isAsync) {
          var finishedWork = root.finishedWork;
          if (finishedWork !== null) {
            completeRoot(root, finishedWork, expirationTime);
          } else {
            root.finishedWork = null;
            finishedWork = renderRoot(root, expirationTime, false);
            if (finishedWork !== null) {
              completeRoot(root, finishedWork, expirationTime);
            }
          }
        } else {
          var _finishedWork = root.finishedWork;
          if (_finishedWork !== null) {
            completeRoot(root, _finishedWork, expirationTime);
          } else {
            root.finishedWork = null;
            _finishedWork = renderRoot(root, expirationTime, true);
            if (_finishedWork !== null) {
              if (!shouldYield()) {
                completeRoot(root, _finishedWork, expirationTime);
              } else {
                root.finishedWork = _finishedWork;
              }
            }
          }
        }

        isRendering = false;
      }

      function completeRoot(root, finishedWork, expirationTime) {
        var firstBatch = root.firstBatch;
        if (firstBatch !== null && firstBatch._expirationTime <= expirationTime) {
          if (completedBatches === null) {
            completedBatches = [firstBatch];
          } else {
            completedBatches.push(firstBatch);
          }
          if (firstBatch._defer) {
            root.finishedWork = finishedWork;
            root.remainingExpirationTime = NoWork;
            return;
          }
        }

        root.finishedWork = null;
        root.remainingExpirationTime = commitRoot(finishedWork);
      }

      function shouldYield() {
        if (deadline === null) {
          return false;
        }
        if (deadline.timeRemaining() > timeHeuristicForUnitOfWork) {
          return false;
        }
        deadlineDidExpire = true;
        return true;
      }

      function onUncaughtError(error) {
        invariant(nextFlushedRoot !== null, "Should be working on a root. This error is likely caused by a bug in " + "React. Please file an issue.");

        nextFlushedRoot.remainingExpirationTime = NoWork;
        if (!hasUnhandledError) {
          hasUnhandledError = true;
          unhandledError = error;
        }
      }

      function batchedUpdates(fn, a) {
        var previousIsBatchingUpdates = isBatchingUpdates;
        isBatchingUpdates = true;
        try {
          return fn(a);
        } finally {
          isBatchingUpdates = previousIsBatchingUpdates;
          if (!isBatchingUpdates && !isRendering) {
            performSyncWork();
          }
        }
      }

      function unbatchedUpdates(fn, a) {
        if (isBatchingUpdates && !isUnbatchingUpdates) {
          isUnbatchingUpdates = true;
          try {
            return fn(a);
          } finally {
            isUnbatchingUpdates = false;
          }
        }
        return fn(a);
      }

      function flushSync(fn, a) {
        invariant(!isRendering, "flushSync was called from inside a lifecycle method. It cannot be " + "called when React is already rendering.");
        var previousIsBatchingUpdates = isBatchingUpdates;
        isBatchingUpdates = true;
        try {
          return syncUpdates(fn, a);
        } finally {
          isBatchingUpdates = previousIsBatchingUpdates;
          performSyncWork();
        }
      }

      function interactiveUpdates(fn, a, b) {
        if (isBatchingInteractiveUpdates) {
          return fn(a, b);
        }

        if (!isBatchingUpdates && !isRendering && lowestPendingInteractiveExpirationTime !== NoWork) {
          performWork(lowestPendingInteractiveExpirationTime, false, null);
          lowestPendingInteractiveExpirationTime = NoWork;
        }
        var previousIsBatchingInteractiveUpdates = isBatchingInteractiveUpdates;
        var previousIsBatchingUpdates = isBatchingUpdates;
        isBatchingInteractiveUpdates = true;
        isBatchingUpdates = true;
        try {
          return fn(a, b);
        } finally {
          isBatchingInteractiveUpdates = previousIsBatchingInteractiveUpdates;
          isBatchingUpdates = previousIsBatchingUpdates;
          if (!isBatchingUpdates && !isRendering) {
            performSyncWork();
          }
        }
      }

      function flushInteractiveUpdates() {
        if (!isRendering && lowestPendingInteractiveExpirationTime !== NoWork) {
          performWork(lowestPendingInteractiveExpirationTime, false, null);
          lowestPendingInteractiveExpirationTime = NoWork;
        }
      }

      function flushControlled(fn) {
        var previousIsBatchingUpdates = isBatchingUpdates;
        isBatchingUpdates = true;
        try {
          syncUpdates(fn);
        } finally {
          isBatchingUpdates = previousIsBatchingUpdates;
          if (!isBatchingUpdates && !isRendering) {
            performWork(Sync, false, null);
          }
        }
      }

      return {
        recalculateCurrentTime: recalculateCurrentTime,
        computeExpirationForFiber: computeExpirationForFiber,
        scheduleWork: scheduleWork,
        requestWork: requestWork,
        flushRoot: flushRoot,
        batchedUpdates: batchedUpdates,
        unbatchedUpdates: unbatchedUpdates,
        flushSync: flushSync,
        flushControlled: flushControlled,
        deferredUpdates: deferredUpdates,
        syncUpdates: syncUpdates,
        interactiveUpdates: interactiveUpdates,
        flushInteractiveUpdates: flushInteractiveUpdates,
        computeUniqueAsyncExpiration: computeUniqueAsyncExpiration
      };
    };

    var didWarnAboutNestedUpdates = void 0;

    {
      didWarnAboutNestedUpdates = false;
    }

    function getContextForSubtree(parentComponent) {
      if (!parentComponent) {
        return emptyObject;
      }

      var fiber = get(parentComponent);
      var parentContext = findCurrentUnmaskedContext(fiber);
      return isContextProvider(fiber) ? processChildContext(fiber, parentContext) : parentContext;
    }

    var ReactFiberReconciler$1 = function ReactFiberReconciler$1(config) {
      var getPublicInstance = config.getPublicInstance;

      var _ReactFiberScheduler = ReactFiberScheduler(config),
          computeUniqueAsyncExpiration = _ReactFiberScheduler.computeUniqueAsyncExpiration,
          recalculateCurrentTime = _ReactFiberScheduler.recalculateCurrentTime,
          computeExpirationForFiber = _ReactFiberScheduler.computeExpirationForFiber,
          scheduleWork = _ReactFiberScheduler.scheduleWork,
          requestWork = _ReactFiberScheduler.requestWork,
          flushRoot = _ReactFiberScheduler.flushRoot,
          batchedUpdates = _ReactFiberScheduler.batchedUpdates,
          unbatchedUpdates = _ReactFiberScheduler.unbatchedUpdates,
          flushSync = _ReactFiberScheduler.flushSync,
          flushControlled = _ReactFiberScheduler.flushControlled,
          deferredUpdates = _ReactFiberScheduler.deferredUpdates,
          syncUpdates = _ReactFiberScheduler.syncUpdates,
          interactiveUpdates = _ReactFiberScheduler.interactiveUpdates,
          flushInteractiveUpdates = _ReactFiberScheduler.flushInteractiveUpdates;

      function scheduleRootUpdate(current, element, currentTime, expirationTime, callback) {
        {
          if (ReactDebugCurrentFiber.phase === "render" && ReactDebugCurrentFiber.current !== null && !didWarnAboutNestedUpdates) {
            didWarnAboutNestedUpdates = true;
            warning(false, "Render methods should be a pure function of props and state; " + "triggering nested component updates from render is not allowed. " + "If necessary, trigger nested updates in componentDidUpdate.\n\n" + "Check the render method of %s.", getComponentName(ReactDebugCurrentFiber.current) || "Unknown");
          }
        }

        callback = callback === undefined ? null : callback;
        {
          warning(callback === null || typeof callback === "function", "render(...): Expected the last optional `callback` argument to be a " + "function. Instead received: %s.", callback);
        }

        var update = {
          expirationTime: expirationTime,
          partialState: { element: element },
          callback: callback,
          isReplace: false,
          isForced: false,
          capturedValue: null,
          next: null
        };
        insertUpdateIntoFiber(current, update);
        scheduleWork(current, expirationTime);

        return expirationTime;
      }

      function _updateContainerAtExpirationTime(element, container, parentComponent, currentTime, expirationTime, callback) {
        var current = container.current;

        {
          if (ReactFiberInstrumentation_1.debugTool) {
            if (current.alternate === null) {
              ReactFiberInstrumentation_1.debugTool.onMountContainer(container);
            } else if (element === null) {
              ReactFiberInstrumentation_1.debugTool.onUnmountContainer(container);
            } else {
              ReactFiberInstrumentation_1.debugTool.onUpdateContainer(container);
            }
          }
        }

        var context = getContextForSubtree(parentComponent);
        if (container.context === null) {
          container.context = context;
        } else {
          container.pendingContext = context;
        }

        return scheduleRootUpdate(current, element, currentTime, expirationTime, callback);
      }

      function findHostInstance(fiber) {
        var hostFiber = findCurrentHostFiber(fiber);
        if (hostFiber === null) {
          return null;
        }
        return hostFiber.stateNode;
      }

      return {
        createContainer: function createContainer(containerInfo, isAsync, hydrate) {
          return createFiberRoot(containerInfo, isAsync, hydrate);
        },
        updateContainer: function updateContainer(element, container, parentComponent, callback) {
          var current = container.current;
          var currentTime = recalculateCurrentTime();
          var expirationTime = computeExpirationForFiber(current);
          return _updateContainerAtExpirationTime(element, container, parentComponent, currentTime, expirationTime, callback);
        },
        updateContainerAtExpirationTime: function updateContainerAtExpirationTime(element, container, parentComponent, expirationTime, callback) {
          var currentTime = recalculateCurrentTime();
          return _updateContainerAtExpirationTime(element, container, parentComponent, currentTime, expirationTime, callback);
        },

        flushRoot: flushRoot,

        requestWork: requestWork,

        computeUniqueAsyncExpiration: computeUniqueAsyncExpiration,

        batchedUpdates: batchedUpdates,

        unbatchedUpdates: unbatchedUpdates,

        deferredUpdates: deferredUpdates,

        syncUpdates: syncUpdates,

        interactiveUpdates: interactiveUpdates,

        flushInteractiveUpdates: flushInteractiveUpdates,

        flushControlled: flushControlled,

        flushSync: flushSync,

        getPublicRootInstance: function getPublicRootInstance(container) {
          var containerFiber = container.current;
          if (!containerFiber.child) {
            return null;
          }
          switch (containerFiber.child.tag) {
            case HostComponent:
              return getPublicInstance(containerFiber.child.stateNode);
            default:
              return containerFiber.child.stateNode;
          }
        },

        findHostInstance: findHostInstance,

        findHostInstanceWithNoPortals: function findHostInstanceWithNoPortals(fiber) {
          var hostFiber = findCurrentHostFiberWithNoPortals(fiber);
          if (hostFiber === null) {
            return null;
          }
          return hostFiber.stateNode;
        },
        injectIntoDevTools: function injectIntoDevTools(devToolsConfig) {
          var _findFiberByHostInstance = devToolsConfig.findFiberByHostInstance;

          return injectInternals(_extends({}, devToolsConfig, {
            findHostInstanceByFiber: function findHostInstanceByFiber(fiber) {
              return findHostInstance(fiber);
            },
            findFiberByHostInstance: function findFiberByHostInstance(instance) {
              if (!_findFiberByHostInstance) {
                return null;
              }
              return _findFiberByHostInstance(instance);
            }
          }));
        }
      };
    };

    var ReactFiberReconciler$2 = Object.freeze({
      default: ReactFiberReconciler$1
    });

    var ReactFiberReconciler$3 = ReactFiberReconciler$2 && ReactFiberReconciler$1 || ReactFiberReconciler$2;

    var reactReconciler = ReactFiberReconciler$3["default"] ? ReactFiberReconciler$3["default"] : ReactFiberReconciler$3;

    var viewConfigCallbacks = new Map();
    var viewConfigs = new Map();

    function register(name, callback) {
      invariant(!viewConfigCallbacks.has(name), "Tried to register two views with the same name %s", name);
      viewConfigCallbacks.set(name, callback);
      return name;
    }

    function get$1(name) {
      var viewConfig = void 0;
      if (!viewConfigs.has(name)) {
        var callback = viewConfigCallbacks.get(name);
        invariant(typeof callback === "function", "View config not found for name %s", name);
        viewConfigCallbacks.set(name, null);
        viewConfig = callback();
        viewConfigs.set(name, viewConfig);
      } else {
        viewConfig = viewConfigs.get(name);
      }
      invariant(viewConfig, "View config not found for name %s", name);
      return viewConfig;
    }

    function _classCallCheck$2(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }

    var ReactNativeFiberHostComponent = function () {
      function ReactNativeFiberHostComponent(tag, viewConfig) {
        _classCallCheck$2(this, ReactNativeFiberHostComponent);

        this._nativeTag = tag;
        this._children = [];
        this.viewConfig = viewConfig;
      }

      ReactNativeFiberHostComponent.prototype.blur = function blur() {
        TextInputState.blurTextInput(this._nativeTag);
      };

      ReactNativeFiberHostComponent.prototype.focus = function focus() {
        TextInputState.focusTextInput(this._nativeTag);
      };

      ReactNativeFiberHostComponent.prototype.measure = function measure(callback) {
        UIManager.measure(this._nativeTag, mountSafeCallback(this, callback));
      };

      ReactNativeFiberHostComponent.prototype.measureInWindow = function measureInWindow(callback) {
        UIManager.measureInWindow(this._nativeTag, mountSafeCallback(this, callback));
      };

      ReactNativeFiberHostComponent.prototype.measureLayout = function measureLayout(relativeToNativeNode, onSuccess, onFail) {
        UIManager.measureLayout(this._nativeTag, relativeToNativeNode, mountSafeCallback(this, onFail), mountSafeCallback(this, onSuccess));
      };

      ReactNativeFiberHostComponent.prototype.setNativeProps = function setNativeProps(nativeProps) {
        {
          warnForStyleProps(nativeProps, this.viewConfig.validAttributes);
        }

        var updatePayload = create(nativeProps, this.viewConfig.validAttributes);

        if (updatePayload != null) {
          UIManager.updateView(this._nativeTag, this.viewConfig.uiViewClassName, updatePayload);
        }
      };

      return ReactNativeFiberHostComponent;
    }();

    var hasNativePerformanceNow = typeof performance === "object" && typeof performance.now === "function";

    var now = hasNativePerformanceNow ? function () {
      return performance.now();
    } : function () {
      return Date.now();
    };

    var scheduledCallback = null;
    var frameDeadline = 0;

    var frameDeadlineObject = {
      timeRemaining: function timeRemaining() {
        return frameDeadline - now();
      }
    };

    function setTimeoutCallback() {
      frameDeadline = now() + 5;

      var callback = scheduledCallback;
      scheduledCallback = null;
      if (callback !== null) {
        callback(frameDeadlineObject);
      }
    }

    function scheduleDeferredCallback(callback) {
      scheduledCallback = callback;
      return setTimeout(setTimeoutCallback, 1);
    }

    function cancelDeferredCallback(callbackID) {
      scheduledCallback = null;
      clearTimeout(callbackID);
    }

    function recursivelyUncacheFiberNode(node) {
      if (typeof node === "number") {
        uncacheFiberNode(node);
      } else {
        uncacheFiberNode(node._nativeTag);

        node._children.forEach(recursivelyUncacheFiberNode);
      }
    }

    var NativeRenderer = reactReconciler({
      appendInitialChild: function appendInitialChild(parentInstance, child) {
        parentInstance._children.push(child);
      },
      createInstance: function createInstance(type, props, rootContainerInstance, hostContext, internalInstanceHandle) {
        var tag = ReactNativeTagHandles.allocateTag();
        var viewConfig = get$1(type);

        {
          for (var key in viewConfig.validAttributes) {
            if (props.hasOwnProperty(key)) {
              deepFreezeAndThrowOnMutationInDev(props[key]);
            }
          }
        }

        var updatePayload = create(props, viewConfig.validAttributes);

        UIManager.createView(tag, viewConfig.uiViewClassName, rootContainerInstance, updatePayload);

        var component = new ReactNativeFiberHostComponent(tag, viewConfig);

        precacheFiberNode(internalInstanceHandle, tag);
        updateFiberProps(tag, props);

        return component;
      },
      createTextInstance: function createTextInstance(text, rootContainerInstance, hostContext, internalInstanceHandle) {
        var tag = ReactNativeTagHandles.allocateTag();

        UIManager.createView(tag, "RCTRawText", rootContainerInstance, { text: text });

        precacheFiberNode(internalInstanceHandle, tag);

        return tag;
      },
      finalizeInitialChildren: function finalizeInitialChildren(parentInstance, type, props, rootContainerInstance) {
        if (parentInstance._children.length === 0) {
          return false;
        }

        var nativeTags = parentInstance._children.map(function (child) {
          return typeof child === "number" ? child : child._nativeTag;
        });

        UIManager.setChildren(parentInstance._nativeTag, nativeTags);

        return false;
      },
      getRootHostContext: function getRootHostContext() {
        return emptyObject;
      },
      getChildHostContext: function getChildHostContext() {
        return emptyObject;
      },
      getPublicInstance: function getPublicInstance(instance) {
        return instance;
      },

      now: now,

      prepareForCommit: function prepareForCommit() {},
      prepareUpdate: function prepareUpdate(instance, type, oldProps, newProps, rootContainerInstance, hostContext) {
        return emptyObject;
      },
      resetAfterCommit: function resetAfterCommit() {},

      scheduleDeferredCallback: scheduleDeferredCallback,
      cancelDeferredCallback: cancelDeferredCallback,

      shouldDeprioritizeSubtree: function shouldDeprioritizeSubtree(type, props) {
        return false;
      },
      shouldSetTextContent: function shouldSetTextContent(type, props) {
        return false;
      },

      mutation: {
        appendChild: function appendChild(parentInstance, child) {
          var childTag = typeof child === "number" ? child : child._nativeTag;
          var children = parentInstance._children;
          var index = children.indexOf(child);

          if (index >= 0) {
            children.splice(index, 1);
            children.push(child);

            UIManager.manageChildren(parentInstance._nativeTag, [index], [children.length - 1], [], [], []);
          } else {
            children.push(child);

            UIManager.manageChildren(parentInstance._nativeTag, [], [], [childTag], [children.length - 1], []);
          }
        },
        appendChildToContainer: function appendChildToContainer(parentInstance, child) {
          var childTag = typeof child === "number" ? child : child._nativeTag;
          UIManager.setChildren(parentInstance, [childTag]);
        },
        commitTextUpdate: function commitTextUpdate(textInstance, oldText, newText) {
          UIManager.updateView(textInstance, "RCTRawText", { text: newText });
        },
        commitMount: function commitMount(instance, type, newProps, internalInstanceHandle) {},
        commitUpdate: function commitUpdate(instance, updatePayloadTODO, type, oldProps, newProps, internalInstanceHandle) {
          var viewConfig = instance.viewConfig;

          updateFiberProps(instance._nativeTag, newProps);

          var updatePayload = diff(oldProps, newProps, viewConfig.validAttributes);

          if (updatePayload != null) {
            UIManager.updateView(instance._nativeTag, viewConfig.uiViewClassName, updatePayload);
          }
        },
        insertBefore: function insertBefore(parentInstance, child, beforeChild) {
          var children = parentInstance._children;
          var index = children.indexOf(child);

          if (index >= 0) {
            children.splice(index, 1);
            var beforeChildIndex = children.indexOf(beforeChild);
            children.splice(beforeChildIndex, 0, child);

            UIManager.manageChildren(parentInstance._nativeTag, [index], [beforeChildIndex], [], [], []);
          } else {
            var _beforeChildIndex = children.indexOf(beforeChild);
            children.splice(_beforeChildIndex, 0, child);

            var childTag = typeof child === "number" ? child : child._nativeTag;

            UIManager.manageChildren(parentInstance._nativeTag, [], [], [childTag], [_beforeChildIndex], []);
          }
        },
        insertInContainerBefore: function insertInContainerBefore(parentInstance, child, beforeChild) {
          invariant(typeof parentInstance !== "number", "Container does not support insertBefore operation");
        },
        removeChild: function removeChild(parentInstance, child) {
          recursivelyUncacheFiberNode(child);
          var children = parentInstance._children;
          var index = children.indexOf(child);

          children.splice(index, 1);

          UIManager.manageChildren(parentInstance._nativeTag, [], [], [], [], [index]);
        },
        removeChildFromContainer: function removeChildFromContainer(parentInstance, child) {
          recursivelyUncacheFiberNode(child);
          UIManager.manageChildren(parentInstance, [], [], [], [], [0]);
        },
        resetTextContent: function resetTextContent(instance) {}
      }
    });

    var getInspectorDataForViewTag = void 0;

    {
      var traverseOwnerTreeUp = function traverseOwnerTreeUp(hierarchy, instance) {
        if (instance) {
          hierarchy.unshift(instance);
          traverseOwnerTreeUp(hierarchy, instance._debugOwner);
        }
      };

      var getOwnerHierarchy = function getOwnerHierarchy(instance) {
        var hierarchy = [];
        traverseOwnerTreeUp(hierarchy, instance);
        return hierarchy;
      };

      var lastNonHostInstance = function lastNonHostInstance(hierarchy) {
        for (var i = hierarchy.length - 1; i > 1; i--) {
          var instance = hierarchy[i];

          if (instance.tag !== HostComponent) {
            return instance;
          }
        }
        return hierarchy[0];
      };

      var getHostProps = function getHostProps(fiber) {
        var host = findCurrentHostFiber(fiber);
        if (host) {
          return host.memoizedProps || emptyObject;
        }
        return emptyObject;
      };

      var getHostNode = function getHostNode(fiber, findNodeHandle) {
        var hostNode = void 0;

        while (fiber) {
          if (fiber.stateNode !== null && fiber.tag === HostComponent) {
            hostNode = findNodeHandle(fiber.stateNode);
          }
          if (hostNode) {
            return hostNode;
          }
          fiber = fiber.child;
        }
        return null;
      };

      var createHierarchy = function createHierarchy(fiberHierarchy) {
        return fiberHierarchy.map(function (fiber) {
          return {
            name: getComponentName(fiber),
            getInspectorData: function getInspectorData(findNodeHandle) {
              return {
                measure: function measure(callback) {
                  return UIManager.measure(getHostNode(fiber, findNodeHandle), callback);
                },
                props: getHostProps(fiber),
                source: fiber._debugSource
              };
            }
          };
        });
      };

      getInspectorDataForViewTag = function getInspectorDataForViewTag(viewTag) {
        var closestInstance = getInstanceFromTag(viewTag);

        if (!closestInstance) {
          return {
            hierarchy: [],
            props: emptyObject,
            selection: null,
            source: null
          };
        }

        var fiber = findCurrentFiberUsingSlowPath(closestInstance);
        var fiberHierarchy = getOwnerHierarchy(fiber);
        var instance = lastNonHostInstance(fiberHierarchy);
        var hierarchy = createHierarchy(fiberHierarchy);
        var props = getHostProps(instance);
        var source = instance._debugSource;
        var selection = fiberHierarchy.indexOf(instance);

        return {
          hierarchy: hierarchy,
          props: props,
          selection: selection,
          source: source
        };
      };
    }

    var createReactNativeComponentClass = function createReactNativeComponentClass(name, callback) {
      return register(name, callback);
    };

    function takeSnapshot(view, options) {
      if (typeof view !== "number" && view !== "window") {
        view = findNumericNodeHandleFiber(view) || "window";
      }

      return UIManager.__takeSnapshot(view, options);
    }

    injectFindHostInstance(NativeRenderer.findHostInstance);

    injection$2.injectRenderer(NativeRenderer);

    var roots = new Map();

    var ReactNativeRenderer = {
      NativeComponent: ReactNativeComponent,

      findNodeHandle: findNumericNodeHandleFiber,

      render: function render(element, containerTag, callback) {
        var root = roots.get(containerTag);

        if (!root) {
          root = NativeRenderer.createContainer(containerTag, false, false);
          roots.set(containerTag, root);
        }
        NativeRenderer.updateContainer(element, root, null, callback);

        return NativeRenderer.getPublicRootInstance(root);
      },
      unmountComponentAtNode: function unmountComponentAtNode(containerTag) {
        var root = roots.get(containerTag);
        if (root) {
          NativeRenderer.updateContainer(null, root, null, function () {
            roots["delete"](containerTag);
          });
        }
      },
      unmountComponentAtNodeAndRemoveContainer: function unmountComponentAtNodeAndRemoveContainer(containerTag) {
        ReactNativeRenderer.unmountComponentAtNode(containerTag);

        UIManager.removeRootView(containerTag);
      },
      createPortal: function createPortal(children, containerTag) {
        var key = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

        return _createPortal(children, containerTag, null, key);
      },

      unstable_batchedUpdates: batchedUpdates,

      flushSync: NativeRenderer.flushSync,

      __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: {
        NativeMethodsMixin: NativeMethodsMixin,

        ReactNativeBridgeEventPlugin: ReactNativeBridgeEventPlugin,
        ReactNativeComponentTree: ReactNativeComponentTree,
        ReactNativePropRegistry: ReactNativePropRegistry,
        TouchHistoryMath: TouchHistoryMath,
        createReactNativeComponentClass: createReactNativeComponentClass,
        takeSnapshot: takeSnapshot
      }
    };

    {
      _extends(ReactNativeRenderer.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED, {
        ReactDebugTool: {
          addHook: function addHook() {},
          removeHook: function removeHook() {}
        },

        ReactPerf: {
          start: function start() {},
          stop: function stop() {},
          printInclusive: function printInclusive() {},
          printWasted: function printWasted() {}
        }
      });
    }

    NativeRenderer.injectIntoDevTools({
      findFiberByHostInstance: getInstanceFromTag,
      getInspectorDataForViewTag: getInspectorDataForViewTag,
      bundleType: 1,
      version: ReactVersion,
      rendererPackageName: "react-native-renderer"
    });

    var ReactNativeRenderer$2 = Object.freeze({
      default: ReactNativeRenderer
    });

    var ReactNativeRenderer$3 = ReactNativeRenderer$2 && ReactNativeRenderer || ReactNativeRenderer$2;

    var reactNativeRenderer = ReactNativeRenderer$3["default"] ? ReactNativeRenderer$3["default"] : ReactNativeRenderer$3;

    module.exports = reactNativeRenderer;
  })();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlYWN0TmF0aXZlUmVuZGVyZXItZGV2LmpzIl0sIm5hbWVzIjpbIl9fREVWX18iLCJyZXF1aXJlIiwiaW52YXJpYW50Iiwid2FybmluZyIsImVtcHR5RnVuY3Rpb24iLCJVSU1hbmFnZXIiLCJSQ1RFdmVudEVtaXR0ZXIiLCJUZXh0SW5wdXRTdGF0ZSIsImRlZXBEaWZmZXIiLCJmbGF0dGVuU3R5bGUiLCJSZWFjdCIsImVtcHR5T2JqZWN0IiwiY2hlY2tQcm9wVHlwZXMiLCJzaGFsbG93RXF1YWwiLCJFeGNlcHRpb25zTWFuYWdlciIsImRlZXBGcmVlemVBbmRUaHJvd09uTXV0YXRpb25JbkRldiIsImludm9rZUd1YXJkZWRDYWxsYmFjayIsIm5hbWUiLCJmdW5jIiwiY29udGV4dCIsImEiLCJiIiwiYyIsImQiLCJlIiwiZiIsIl9oYXNDYXVnaHRFcnJvciIsIl9jYXVnaHRFcnJvciIsImZ1bmNBcmdzIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsImNhbGwiLCJhcmd1bWVudHMiLCJhcHBseSIsImVycm9yIiwid2luZG93IiwiZGlzcGF0Y2hFdmVudCIsImRvY3VtZW50IiwiY3JlYXRlRXZlbnQiLCJmYWtlTm9kZSIsImNyZWF0ZUVsZW1lbnQiLCJpbnZva2VHdWFyZGVkQ2FsbGJhY2tEZXYiLCJldnQiLCJkaWRFcnJvciIsImNhbGxDYWxsYmFjayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnRUeXBlIiwiZGlkU2V0RXJyb3IiLCJpc0Nyb3NzT3JpZ2luRXJyb3IiLCJvbkVycm9yIiwiZXZlbnQiLCJjb2xubyIsImxpbmVubyIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbml0RXZlbnQiLCJFcnJvciIsImludm9rZUd1YXJkZWRDYWxsYmFjayQxIiwiUmVhY3RFcnJvclV0aWxzIiwiX3JldGhyb3dFcnJvciIsIl9oYXNSZXRocm93RXJyb3IiLCJpbnZva2VHdWFyZGVkQ2FsbGJhY2tBbmRDYXRjaEZpcnN0RXJyb3IiLCJoYXNDYXVnaHRFcnJvciIsImNsZWFyQ2F1Z2h0RXJyb3IiLCJyZXRocm93Q2F1Z2h0RXJyb3IiLCJldmVudFBsdWdpbk9yZGVyIiwibmFtZXNUb1BsdWdpbnMiLCJyZWNvbXB1dGVQbHVnaW5PcmRlcmluZyIsInBsdWdpbk5hbWUiLCJwbHVnaW5Nb2R1bGUiLCJwbHVnaW5JbmRleCIsImluZGV4T2YiLCJwbHVnaW5zIiwiZXh0cmFjdEV2ZW50cyIsInB1Ymxpc2hlZEV2ZW50cyIsImV2ZW50VHlwZXMiLCJldmVudE5hbWUiLCJwdWJsaXNoRXZlbnRGb3JQbHVnaW4iLCJkaXNwYXRjaENvbmZpZyIsImV2ZW50TmFtZURpc3BhdGNoQ29uZmlncyIsImhhc093blByb3BlcnR5IiwicGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMiLCJwaGFzZU5hbWUiLCJwaGFzZWRSZWdpc3RyYXRpb25OYW1lIiwicHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUiLCJyZWdpc3RyYXRpb25OYW1lIiwicmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMiLCJyZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzIiwiZGVwZW5kZW5jaWVzIiwibG93ZXJDYXNlZE5hbWUiLCJ0b0xvd2VyQ2FzZSIsImluamVjdEV2ZW50UGx1Z2luT3JkZXIiLCJpbmplY3RlZEV2ZW50UGx1Z2luT3JkZXIiLCJpbmplY3RFdmVudFBsdWdpbnNCeU5hbWUiLCJpbmplY3RlZE5hbWVzVG9QbHVnaW5zIiwiaXNPcmRlcmluZ0RpcnR5IiwiZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSIsImdldEluc3RhbmNlRnJvbU5vZGUiLCJnZXROb2RlRnJvbUluc3RhbmNlIiwiaW5qZWN0aW9uJDEiLCJpbmplY3RDb21wb25lbnRUcmVlIiwiSW5qZWN0ZWQiLCJpc0VuZGlzaCIsInRvcExldmVsVHlwZSIsImlzTW92ZWlzaCIsImlzU3RhcnRpc2giLCJ2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyIsImRpc3BhdGNoTGlzdGVuZXJzIiwiX2Rpc3BhdGNoTGlzdGVuZXJzIiwiZGlzcGF0Y2hJbnN0YW5jZXMiLCJfZGlzcGF0Y2hJbnN0YW5jZXMiLCJsaXN0ZW5lcnNJc0FyciIsImlzQXJyYXkiLCJsaXN0ZW5lcnNMZW4iLCJsZW5ndGgiLCJpbnN0YW5jZXNJc0FyciIsImluc3RhbmNlc0xlbiIsImV4ZWN1dGVEaXNwYXRjaCIsInNpbXVsYXRlZCIsImxpc3RlbmVyIiwiaW5zdCIsInR5cGUiLCJjdXJyZW50VGFyZ2V0IiwidW5kZWZpbmVkIiwiZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyIiwiaSIsImlzUHJvcGFnYXRpb25TdG9wcGVkIiwiZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZUltcGwiLCJleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlIiwicmV0IiwiZXhlY3V0ZURpcmVjdERpc3BhdGNoIiwiZGlzcGF0Y2hMaXN0ZW5lciIsImRpc3BhdGNoSW5zdGFuY2UiLCJyZXMiLCJoYXNEaXNwYXRjaGVzIiwiYWNjdW11bGF0ZUludG8iLCJjdXJyZW50IiwibmV4dCIsInB1c2giLCJjb25jYXQiLCJmb3JFYWNoQWNjdW11bGF0ZWQiLCJhcnIiLCJjYiIsInNjb3BlIiwiZm9yRWFjaCIsImV2ZW50UXVldWUiLCJleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UiLCJpc1BlcnNpc3RlbnQiLCJjb25zdHJ1Y3RvciIsInJlbGVhc2UiLCJleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VTaW11bGF0ZWQiLCJleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VUb3BMZXZlbCIsImlzSW50ZXJhY3RpdmUiLCJ0YWciLCJzaG91bGRQcmV2ZW50TW91c2VFdmVudCIsInByb3BzIiwiZGlzYWJsZWQiLCJpbmplY3Rpb24iLCJnZXRMaXN0ZW5lciIsInN0YXRlTm9kZSIsInRhcmdldEluc3QiLCJuYXRpdmVFdmVudCIsIm5hdGl2ZUV2ZW50VGFyZ2V0IiwiZXZlbnRzIiwicG9zc2libGVQbHVnaW4iLCJleHRyYWN0ZWRFdmVudHMiLCJydW5FdmVudHNJbkJhdGNoIiwicHJvY2Vzc2luZ0V2ZW50UXVldWUiLCJydW5FeHRyYWN0ZWRFdmVudHNJbkJhdGNoIiwiSW5kZXRlcm1pbmF0ZUNvbXBvbmVudCIsIkZ1bmN0aW9uYWxDb21wb25lbnQiLCJDbGFzc0NvbXBvbmVudCIsIkhvc3RSb290IiwiSG9zdFBvcnRhbCIsIkhvc3RDb21wb25lbnQiLCJIb3N0VGV4dCIsIkNhbGxDb21wb25lbnQiLCJDYWxsSGFuZGxlclBoYXNlIiwiUmV0dXJuQ29tcG9uZW50IiwiRnJhZ21lbnQiLCJNb2RlIiwiQ29udGV4dENvbnN1bWVyIiwiQ29udGV4dFByb3ZpZGVyIiwiZ2V0UGFyZW50IiwiZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3IiLCJpbnN0QSIsImluc3RCIiwiZGVwdGhBIiwidGVtcEEiLCJkZXB0aEIiLCJ0ZW1wQiIsImRlcHRoIiwiYWx0ZXJuYXRlIiwiaXNBbmNlc3RvciIsImdldFBhcmVudEluc3RhbmNlIiwidHJhdmVyc2VUd29QaGFzZSIsImZuIiwiYXJnIiwicGF0aCIsImxpc3RlbmVyQXRQaGFzZSIsInByb3BhZ2F0aW9uUGhhc2UiLCJhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzIiwicGhhc2UiLCJhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlIiwiX3RhcmdldEluc3QiLCJhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlU2tpcFRhcmdldCIsInBhcmVudEluc3QiLCJhY2N1bXVsYXRlRGlzcGF0Y2hlcyIsImlnbm9yZWREaXJlY3Rpb24iLCJhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlc1NpbmdsZSIsImFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMiLCJhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2tpcFRhcmdldCIsImFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzIiwiZGlkV2FybkZvckFkZGVkTmV3UHJvcGVydHkiLCJFVkVOVF9QT09MX1NJWkUiLCJzaG91bGRCZVJlbGVhc2VkUHJvcGVydGllcyIsIkV2ZW50SW50ZXJmYWNlIiwidGFyZ2V0IiwidGhhdFJldHVybnNOdWxsIiwiZXZlbnRQaGFzZSIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwidGltZVN0YW1wIiwiRGF0ZSIsIm5vdyIsImRlZmF1bHRQcmV2ZW50ZWQiLCJpc1RydXN0ZWQiLCJTeW50aGV0aWNFdmVudCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiSW50ZXJmYWNlIiwicHJvcE5hbWUiLCJub3JtYWxpemUiLCJyZXR1cm5WYWx1ZSIsImlzRGVmYXVsdFByZXZlbnRlZCIsInRoYXRSZXR1cm5zVHJ1ZSIsInRoYXRSZXR1cm5zRmFsc2UiLCJjYW5jZWxCdWJibGUiLCJwZXJzaXN0IiwiZGVzdHJ1Y3RvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbiIsImV4dGVuZCIsIlN1cGVyIiwiRSIsIkNsYXNzIiwiYWRkRXZlbnRQb29saW5nVG8iLCJpc1Byb3h5U3VwcG9ydGVkIiwiUHJveHkiLCJpc1NlYWxlZCIsImNvbnN0cnVjdCIsImFyZ3MiLCJjcmVhdGUiLCJ0aGF0Iiwic2V0IiwicHJvcCIsInZhbHVlIiwiZ2V0VmFsIiwiaXNGdW5jdGlvbiIsImNvbmZpZ3VyYWJsZSIsImdldCIsInZhbCIsImFjdGlvbiIsIndhcm4iLCJyZXN1bHQiLCJ3YXJuaW5nQ29uZGl0aW9uIiwiZ2V0UG9vbGVkRXZlbnQiLCJuYXRpdmVJbnN0IiwiRXZlbnRDb25zdHJ1Y3RvciIsImV2ZW50UG9vbCIsImluc3RhbmNlIiwicG9wIiwicmVsZWFzZVBvb2xlZEV2ZW50IiwiZ2V0UG9vbGVkIiwiU3ludGhldGljRXZlbnQkMSIsIlJlc3BvbmRlclN5bnRoZXRpY0V2ZW50IiwidG91Y2hIaXN0b3J5IiwiTUFYX1RPVUNIX0JBTksiLCJ0b3VjaEJhbmsiLCJudW1iZXJBY3RpdmVUb3VjaGVzIiwiaW5kZXhPZlNpbmdsZUFjdGl2ZVRvdWNoIiwibW9zdFJlY2VudFRpbWVTdGFtcCIsInRpbWVzdGFtcEZvclRvdWNoIiwidG91Y2giLCJ0aW1lc3RhbXAiLCJjcmVhdGVUb3VjaFJlY29yZCIsInRvdWNoQWN0aXZlIiwic3RhcnRQYWdlWCIsInBhZ2VYIiwic3RhcnRQYWdlWSIsInBhZ2VZIiwic3RhcnRUaW1lU3RhbXAiLCJjdXJyZW50UGFnZVgiLCJjdXJyZW50UGFnZVkiLCJjdXJyZW50VGltZVN0YW1wIiwicHJldmlvdXNQYWdlWCIsInByZXZpb3VzUGFnZVkiLCJwcmV2aW91c1RpbWVTdGFtcCIsInJlc2V0VG91Y2hSZWNvcmQiLCJ0b3VjaFJlY29yZCIsImdldFRvdWNoSWRlbnRpZmllciIsIl9yZWYiLCJpZGVudGlmaWVyIiwicmVjb3JkVG91Y2hTdGFydCIsInJlY29yZFRvdWNoTW92ZSIsImNvbnNvbGUiLCJwcmludFRvdWNoIiwicHJpbnRUb3VjaEJhbmsiLCJyZWNvcmRUb3VjaEVuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcmludGVkIiwiUmVzcG9uZGVyVG91Y2hIaXN0b3J5U3RvcmUiLCJyZWNvcmRUb3VjaFRyYWNrIiwiY2hhbmdlZFRvdWNoZXMiLCJ0b3VjaGVzIiwidG91Y2hUcmFja1RvQ2hlY2siLCJhY3RpdmVSZWNvcmQiLCJhY2N1bXVsYXRlIiwicmVzcG9uZGVySW5zdCIsInRyYWNrZWRUb3VjaENvdW50IiwicHJldmlvdXNBY3RpdmVUb3VjaGVzIiwiY2hhbmdlUmVzcG9uZGVyIiwibmV4dFJlc3BvbmRlckluc3QiLCJibG9ja0hvc3RSZXNwb25kZXIiLCJvbGRSZXNwb25kZXJJbnN0IiwiUmVzcG9uZGVyRXZlbnRQbHVnaW4iLCJHbG9iYWxSZXNwb25kZXJIYW5kbGVyIiwib25DaGFuZ2UiLCJzdGFydFNob3VsZFNldFJlc3BvbmRlciIsImJ1YmJsZWQiLCJjYXB0dXJlZCIsInNjcm9sbFNob3VsZFNldFJlc3BvbmRlciIsInNlbGVjdGlvbkNoYW5nZVNob3VsZFNldFJlc3BvbmRlciIsIm1vdmVTaG91bGRTZXRSZXNwb25kZXIiLCJyZXNwb25kZXJTdGFydCIsInJlc3BvbmRlck1vdmUiLCJyZXNwb25kZXJFbmQiLCJyZXNwb25kZXJSZWxlYXNlIiwicmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0IiwicmVzcG9uZGVyR3JhbnQiLCJyZXNwb25kZXJSZWplY3QiLCJyZXNwb25kZXJUZXJtaW5hdGUiLCJzZXRSZXNwb25kZXJBbmRFeHRyYWN0VHJhbnNmZXIiLCJzaG91bGRTZXRFdmVudFR5cGUiLCJidWJibGVTaG91bGRTZXRGcm9tIiwic2tpcE92ZXJCdWJibGVTaG91bGRTZXRGcm9tIiwic2hvdWxkU2V0RXZlbnQiLCJ3YW50c1Jlc3BvbmRlckluc3QiLCJleHRyYWN0ZWQiLCJncmFudEV2ZW50IiwidGVybWluYXRpb25SZXF1ZXN0RXZlbnQiLCJzaG91bGRTd2l0Y2giLCJ0ZXJtaW5hdGVFdmVudCIsInJlamVjdEV2ZW50IiwiY2FuVHJpZ2dlclRyYW5zZmVyIiwidG9wTGV2ZWxJbnN0IiwicmVzcG9uZGVySWdub3JlU2Nyb2xsIiwibm9SZXNwb25kZXJUb3VjaGVzIiwiYWN0aXZlVG91Y2giLCJfZ2V0UmVzcG9uZGVyIiwiaXNSZXNwb25kZXJUb3VjaFN0YXJ0IiwiaXNSZXNwb25kZXJUb3VjaE1vdmUiLCJpc1Jlc3BvbmRlclRvdWNoRW5kIiwiaW5jcmVtZW50YWxUb3VjaCIsImdlc3R1cmUiLCJpc1Jlc3BvbmRlclRlcm1pbmF0ZSIsImlzUmVzcG9uZGVyUmVsZWFzZSIsImZpbmFsVG91Y2giLCJmaW5hbEV2ZW50IiwiR2xvYmFsSW50ZXJhY3Rpb25IYW5kbGVyIiwiaW5qZWN0R2xvYmFsUmVzcG9uZGVySGFuZGxlciIsImluamVjdEdsb2JhbEludGVyYWN0aW9uSGFuZGxlciIsImN1c3RvbUJ1YmJsaW5nRXZlbnRUeXBlcyIsImN1c3RvbURpcmVjdEV2ZW50VHlwZXMiLCJSZWFjdE5hdGl2ZUJyaWRnZUV2ZW50UGx1Z2luIiwiYnViYmxlRGlzcGF0Y2hDb25maWciLCJkaXJlY3REaXNwYXRjaENvbmZpZyIsInByb2Nlc3NFdmVudFR5cGVzIiwidmlld0NvbmZpZyIsImJ1YmJsaW5nRXZlbnRUeXBlcyIsImRpcmVjdEV2ZW50VHlwZXMiLCJfdG9wTGV2ZWxUeXBlIiwiX3RvcExldmVsVHlwZTIiLCJpbnN0YW5jZUNhY2hlIiwiaW5zdGFuY2VQcm9wcyIsInByZWNhY2hlRmliZXJOb2RlIiwiaG9zdEluc3QiLCJ1bmNhY2hlRmliZXJOb2RlIiwiZ2V0SW5zdGFuY2VGcm9tVGFnIiwiZ2V0VGFnRnJvbUluc3RhbmNlIiwiX25hdGl2ZVRhZyIsImNhbm9uaWNhbCIsImdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUkMSIsInVwZGF0ZUZpYmVyUHJvcHMiLCJSZWFjdE5hdGl2ZUNvbXBvbmVudFRyZWUiLCJmcmVlemUiLCJnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZSIsIlJlYWN0TmF0aXZlRXZlbnRQbHVnaW5PcmRlciIsIlJlYWN0TmF0aXZlR2xvYmFsUmVzcG9uZGVySGFuZGxlciIsImZyb20iLCJ0byIsImJsb2NrTmF0aXZlUmVzcG9uZGVyIiwic2V0SlNSZXNwb25kZXIiLCJjbGVhckpTUmVzcG9uZGVyIiwiZmliZXJIb3N0Q29tcG9uZW50IiwicmVzdG9yZVRhcmdldCIsInJlc3RvcmVRdWV1ZSIsInJlc3RvcmVTdGF0ZU9mVGFyZ2V0IiwiaW50ZXJuYWxJbnN0YW5jZSIsInJlc3RvcmVDb250cm9sbGVkU3RhdGUiLCJuZWVkc1N0YXRlUmVzdG9yZSIsInJlc3RvcmVTdGF0ZUlmTmVlZGVkIiwicXVldWVkVGFyZ2V0cyIsIl9iYXRjaGVkVXBkYXRlcyIsImJvb2trZWVwaW5nIiwiX2ludGVyYWN0aXZlVXBkYXRlcyIsIl9mbHVzaEludGVyYWN0aXZlVXBkYXRlcyIsImlzQmF0Y2hpbmciLCJiYXRjaGVkVXBkYXRlcyIsImNvbnRyb2xsZWRDb21wb25lbnRzSGF2ZVBlbmRpbmdVcGRhdGVzIiwiaW5qZWN0aW9uJDIiLCJpbmplY3RSZW5kZXJlciIsInJlbmRlcmVyIiwiaW50ZXJhY3RpdmVVcGRhdGVzIiwiZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMiLCJJTklUSUFMX1RBR19DT1VOVCIsIlJlYWN0TmF0aXZlVGFnSGFuZGxlcyIsInRhZ3NTdGFydEF0IiwidGFnQ291bnQiLCJhbGxvY2F0ZVRhZyIsInJlYWN0VGFnSXNOYXRpdmVUb3BSb290SUQiLCJhc3NlcnRSb290VGFnIiwicmVhY3RUYWciLCJFTVBUWV9OQVRJVkVfRVZFTlQiLCJ0b3VjaFN1YnNlcXVlbmNlIiwiaW5kaWNlcyIsInJlbW92ZVRvdWNoZXNBdEluZGljZXMiLCJyaXBwZWRPdXQiLCJ0ZW1wIiwiaW5kZXgiLCJmaWxsQXQiLCJqIiwiY3VyIiwiX3JlY2VpdmVSb290Tm9kZUlERXZlbnQiLCJyb290Tm9kZUlEIiwibmF0aXZlRXZlbnRQYXJhbSIsInJlY2VpdmVFdmVudCIsInJlY2VpdmVUb3VjaGVzIiwiZXZlbnRUb3BMZXZlbFR5cGUiLCJjaGFuZ2VkSW5kaWNlcyIsImpqIiwiUmVhY3ROYXRpdmVFdmVudEVtaXR0ZXIiLCJyZWdpc3RyYXRpb25OYW1lcyIsInJlZ2lzdGVyIiwiaGFzU3ltYm9sIiwiU3ltYm9sIiwiUkVBQ1RfRUxFTUVOVF9UWVBFIiwiUkVBQ1RfQ0FMTF9UWVBFIiwiUkVBQ1RfUkVUVVJOX1RZUEUiLCJSRUFDVF9QT1JUQUxfVFlQRSIsIlJFQUNUX0ZSQUdNRU5UX1RZUEUiLCJSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFIiwiUkVBQ1RfUFJPVklERVJfVFlQRSIsIlJFQUNUX0NPTlRFWFRfVFlQRSIsIlJFQUNUX0FTWU5DX01PREVfVFlQRSIsIk1BWUJFX0lURVJBVE9SX1NZTUJPTCIsIml0ZXJhdG9yIiwiRkFVWF9JVEVSQVRPUl9TWU1CT0wiLCJnZXRJdGVyYXRvckZuIiwibWF5YmVJdGVyYWJsZSIsIm1heWJlSXRlcmF0b3IiLCJjcmVhdGVQb3J0YWwiLCJjaGlsZHJlbiIsImNvbnRhaW5lckluZm8iLCJpbXBsZW1lbnRhdGlvbiIsImtleSIsIiQkdHlwZW9mIiwiVG91Y2hIaXN0b3J5TWF0aCIsImNlbnRyb2lkRGltZW5zaW9uIiwidG91Y2hlc0NoYW5nZWRBZnRlciIsImlzWEF4aXMiLCJvZkN1cnJlbnQiLCJ0b3RhbCIsImNvdW50Iiwib25lVG91Y2hEYXRhIiwidG91Y2hUcmFjayIsInRvQWRkIiwibm9DZW50cm9pZCIsImN1cnJlbnRDZW50cm9pZFhPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXIiLCJjdXJyZW50Q2VudHJvaWRZT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyIiwicHJldmlvdXNDZW50cm9pZFhPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXIiLCJwcmV2aW91c0NlbnRyb2lkWU9mVG91Y2hlc0NoYW5nZWRBZnRlciIsImN1cnJlbnRDZW50cm9pZFgiLCJjdXJyZW50Q2VudHJvaWRZIiwiUmVhY3RWZXJzaW9uIiwiX2NsYXNzQ2FsbENoZWNrIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJvYmplY3RzIiwidW5pcXVlSUQiLCJlbXB0eU9iamVjdCQyIiwiUmVhY3ROYXRpdmVQcm9wUmVnaXN0cnkiLCJvYmplY3QiLCJpZCIsImdldEJ5SUQiLCJlbXB0eU9iamVjdCQxIiwicmVtb3ZlZEtleXMiLCJyZW1vdmVkS2V5Q291bnQiLCJkZWZhdWx0RGlmZmVyIiwicHJldlByb3AiLCJuZXh0UHJvcCIsInJlc29sdmVPYmplY3QiLCJpZE9yT2JqZWN0IiwicmVzdG9yZURlbGV0ZWRWYWx1ZXNJbk5lc3RlZEFycmF5IiwidXBkYXRlUGF5bG9hZCIsIm5vZGUiLCJ2YWxpZEF0dHJpYnV0ZXMiLCJvYmoiLCJwcm9wS2V5IiwiX25leHRQcm9wIiwiYXR0cmlidXRlQ29uZmlnIiwiZGlmZiIsInByb2Nlc3MiLCJuZXh0VmFsdWUiLCJkaWZmTmVzdGVkQXJyYXlQcm9wZXJ0eSIsInByZXZBcnJheSIsIm5leHRBcnJheSIsIm1pbkxlbmd0aCIsImRpZmZOZXN0ZWRQcm9wZXJ0eSIsImNsZWFyTmVzdGVkUHJvcGVydHkiLCJhZGROZXN0ZWRQcm9wZXJ0eSIsImRpZmZQcm9wZXJ0aWVzIiwiYWRkUHJvcGVydGllcyIsImNsZWFyUHJvcGVydGllcyIsInByZXZQcm9wcyIsIm5leHRQcm9wcyIsInNob3VsZFVwZGF0ZSIsIl9uZXh0VmFsdWUiLCJfcHJvcEtleSIsIm1vdW50U2FmZUNhbGxiYWNrIiwiY2FsbGJhY2siLCJfX2lzTW91bnRlZCIsImlzTW91bnRlZCIsInRocm93T25TdHlsZXNQcm9wIiwiY29tcG9uZW50Iiwic3R5bGVzIiwib3duZXIiLCJfb3duZXIiLCJkaXNwbGF5TmFtZSIsIm1zZyIsIndhcm5Gb3JTdHlsZVByb3BzIiwic3R5bGUiLCJfcmVhY3RJbnRlcm5hbEZpYmVyIiwiUmVhY3RJbnRlcm5hbHMiLCJfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCIsIlJlYWN0Q3VycmVudE93bmVyIiwiUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSIsImdldENvbXBvbmVudE5hbWUiLCJmaWJlciIsImZpbmRIb3N0SW5zdGFuY2UiLCJmaW5kSG9zdEluc3RhbmNlRmFicmljIiwiaW5qZWN0RmluZEhvc3RJbnN0YW5jZSIsImltcGwiLCJmaW5kTm9kZUhhbmRsZSIsImNvbXBvbmVudE9ySGFuZGxlIiwiX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyIiwicmVuZGVyIiwia2V5cyIsImZpbmROdW1lcmljTm9kZUhhbmRsZUZpYmVyIiwiTmF0aXZlTWV0aG9kc01peGluIiwibWVhc3VyZSIsIm1lYXN1cmVJbldpbmRvdyIsIm1lYXN1cmVMYXlvdXQiLCJyZWxhdGl2ZVRvTmF0aXZlTm9kZSIsIm9uU3VjY2VzcyIsIm9uRmFpbCIsInNldE5hdGl2ZVByb3BzIiwibmF0aXZlUHJvcHMiLCJtYXliZUluc3RhbmNlIiwidXBkYXRlVmlldyIsInVpVmlld0NsYXNzTmFtZSIsImZvY3VzIiwiZm9jdXNUZXh0SW5wdXQiLCJibHVyIiwiYmx1clRleHRJbnB1dCIsIk5hdGl2ZU1ldGhvZHNNaXhpbl9ERVYiLCJjb21wb25lbnRXaWxsTW91bnQiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwiVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCIsIlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV3UHJvcHMiLCJfX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nIiwiX2NsYXNzQ2FsbENoZWNrJDEiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiUmVhY3ROYXRpdmVDb21wb25lbnQiLCJfUmVhY3QkQ29tcG9uZW50IiwiQ29tcG9uZW50IiwiTm9FZmZlY3QiLCJQZXJmb3JtZWRXb3JrIiwiUGxhY2VtZW50IiwiVXBkYXRlIiwiUGxhY2VtZW50QW5kVXBkYXRlIiwiRGVsZXRpb24iLCJDb250ZW50UmVzZXQiLCJDYWxsYmFjayIsIkRpZENhcHR1cmUiLCJSZWYiLCJFcnJMb2ciLCJIb3N0RWZmZWN0TWFzayIsIkluY29tcGxldGUiLCJTaG91bGRDYXB0dXJlIiwiTU9VTlRJTkciLCJNT1VOVEVEIiwiVU5NT1VOVEVEIiwiaXNGaWJlck1vdW50ZWRJbXBsIiwiZWZmZWN0VGFnIiwiaXNGaWJlck1vdW50ZWQiLCJvd25lckZpYmVyIiwiYXNzZXJ0SXNNb3VudGVkIiwiZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgiLCJzdGF0ZSIsInBhcmVudEEiLCJwYXJlbnRCIiwiY2hpbGQiLCJzaWJsaW5nIiwiZGlkRmluZENoaWxkIiwiX2NoaWxkIiwiZmluZEN1cnJlbnRIb3N0RmliZXIiLCJwYXJlbnQiLCJjdXJyZW50UGFyZW50IiwiZmluZEN1cnJlbnRIb3N0RmliZXJXaXRoTm9Qb3J0YWxzIiwidmFsdWVTdGFjayIsImZpYmVyU3RhY2siLCJjcmVhdGVDdXJzb3IiLCJkZWZhdWx0VmFsdWUiLCJjdXJzb3IiLCJyZXNldCIsImRlc2NyaWJlQ29tcG9uZW50RnJhbWUiLCJzb3VyY2UiLCJvd25lck5hbWUiLCJmaWxlTmFtZSIsInJlcGxhY2UiLCJsaW5lTnVtYmVyIiwiZGVzY3JpYmVGaWJlciIsIl9kZWJ1Z093bmVyIiwiX2RlYnVnU291cmNlIiwiZ2V0U3RhY2tBZGRlbmR1bUJ5V29ya0luUHJvZ3Jlc3NGaWJlciIsIndvcmtJblByb2dyZXNzIiwiaW5mbyIsImdldEN1cnJlbnRGaWJlck93bmVyTmFtZSIsIlJlYWN0RGVidWdDdXJyZW50RmliZXIiLCJnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtIiwicmVzZXRDdXJyZW50RmliZXIiLCJnZXRDdXJyZW50U3RhY2siLCJzZXRDdXJyZW50RmliZXIiLCJzZXRDdXJyZW50UGhhc2UiLCJfcmVxdWlyZSIsImVuYWJsZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCIsImRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0cyIsImRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0c0ZvclN0cmljdE1vZGUiLCJ3YXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcyIsInJlcGxheUZhaWxlZFVuaXRPZldvcmtXaXRoSW52b2tlR3VhcmRlZENhbGxiYWNrIiwiZW5hYmxlVXNlclRpbWluZ0FQSSIsImVuYWJsZU11dGF0aW5nUmVjb25jaWxlciIsImVuYWJsZU5vb3BSZWNvbmNpbGVyIiwiZW5hYmxlUGVyc2lzdGVudFJlY29uY2lsZXIiLCJyZWFjdEVtb2ppIiwid2FybmluZ0Vtb2ppIiwic3VwcG9ydHNVc2VyVGltaW5nIiwicGVyZm9ybWFuY2UiLCJtYXJrIiwiY2xlYXJNYXJrcyIsImNsZWFyTWVhc3VyZXMiLCJjdXJyZW50RmliZXIiLCJjdXJyZW50UGhhc2UiLCJjdXJyZW50UGhhc2VGaWJlciIsImlzQ29tbWl0dGluZyIsImhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCIsImhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlIiwiY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCIsImVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0IiwiaXNXYWl0aW5nRm9yQ2FsbGJhY2siLCJsYWJlbHNJbkN1cnJlbnRDb21taXQiLCJTZXQiLCJmb3JtYXRNYXJrTmFtZSIsIm1hcmtOYW1lIiwiZm9ybWF0TGFiZWwiLCJsYWJlbCIsIndhcm5pbmckJDEiLCJwcmVmaXgiLCJzdWZmaXgiLCJiZWdpbk1hcmsiLCJjbGVhck1hcmsiLCJlbmRNYXJrIiwiZm9ybWF0dGVkTWFya05hbWUiLCJmb3JtYXR0ZWRMYWJlbCIsImVyciIsImdldEZpYmVyTWFya05hbWUiLCJkZWJ1Z0lEIiwiZ2V0RmliZXJMYWJlbCIsImNvbXBvbmVudE5hbWUiLCJiZWdpbkZpYmVyTWFyayIsIl9kZWJ1Z0lEIiwiaGFzIiwiYWRkIiwiY2xlYXJGaWJlck1hcmsiLCJlbmRGaWJlck1hcmsiLCJzaG91bGRJZ25vcmVGaWJlciIsImNsZWFyUGVuZGluZ1BoYXNlTWVhc3VyZW1lbnQiLCJwYXVzZVRpbWVycyIsIl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nIiwicmVzdW1lVGltZXJzUmVjdXJzaXZlbHkiLCJyZXN1bWVUaW1lcnMiLCJyZWNvcmRFZmZlY3QiLCJyZWNvcmRTY2hlZHVsZVVwZGF0ZSIsInN0YXJ0UmVxdWVzdENhbGxiYWNrVGltZXIiLCJzdG9wUmVxdWVzdENhbGxiYWNrVGltZXIiLCJkaWRFeHBpcmUiLCJzdGFydFdvcmtUaW1lciIsImNhbmNlbFdvcmtUaW1lciIsInN0b3BXb3JrVGltZXIiLCJzdG9wRmFpbGVkV29ya1RpbWVyIiwic3RhcnRQaGFzZVRpbWVyIiwic3RvcFBoYXNlVGltZXIiLCJzdGFydFdvcmtMb29wVGltZXIiLCJuZXh0VW5pdE9mV29yayIsInN0b3BXb3JrTG9vcFRpbWVyIiwiaW50ZXJydXB0ZWRCeSIsInN0YXJ0Q29tbWl0VGltZXIiLCJjbGVhciIsInN0b3BDb21taXRUaW1lciIsInN0YXJ0Q29tbWl0SG9zdEVmZmVjdHNUaW1lciIsInN0b3BDb21taXRIb3N0RWZmZWN0c1RpbWVyIiwic3RhcnRDb21taXRMaWZlQ3ljbGVzVGltZXIiLCJzdG9wQ29tbWl0TGlmZUN5Y2xlc1RpbWVyIiwid2FybmVkQWJvdXRNaXNzaW5nR2V0Q2hpbGRDb250ZXh0IiwiY29udGV4dFN0YWNrQ3Vyc29yIiwiZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciIsInByZXZpb3VzQ29udGV4dCIsImdldFVubWFza2VkQ29udGV4dCIsImhhc093bkNvbnRleHQiLCJpc0NvbnRleHRQcm92aWRlciIsImNhY2hlQ29udGV4dCIsInVubWFza2VkQ29udGV4dCIsIm1hc2tlZENvbnRleHQiLCJfX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0IiwiX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQiLCJnZXRNYXNrZWRDb250ZXh0IiwiY29udGV4dFR5cGVzIiwiaGFzQ29udGV4dENoYW5nZWQiLCJpc0NvbnRleHRDb25zdW1lciIsImNoaWxkQ29udGV4dFR5cGVzIiwicG9wQ29udGV4dFByb3ZpZGVyIiwicG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0IiwicHVzaFRvcExldmVsQ29udGV4dE9iamVjdCIsImRpZENoYW5nZSIsInByb2Nlc3NDaGlsZENvbnRleHQiLCJwYXJlbnRDb250ZXh0IiwiZ2V0Q2hpbGRDb250ZXh0IiwiY2hpbGRDb250ZXh0IiwiY29udGV4dEtleSIsInB1c2hDb250ZXh0UHJvdmlkZXIiLCJtZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dCIsIl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0IiwiaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlciIsIm1lcmdlZENvbnRleHQiLCJyZXNldENvbnRleHQiLCJmaW5kQ3VycmVudFVubWFza2VkQ29udGV4dCIsIk1BWF9TSUdORURfMzFfQklUX0lOVCIsIk5vV29yayIsIlN5bmMiLCJOZXZlciIsIlVOSVRfU0laRSIsIk1BR0lDX05VTUJFUl9PRkZTRVQiLCJtc1RvRXhwaXJhdGlvblRpbWUiLCJtcyIsImV4cGlyYXRpb25UaW1lVG9NcyIsImV4cGlyYXRpb25UaW1lIiwiY2VpbGluZyIsIm51bSIsInByZWNpc2lvbiIsImNvbXB1dGVFeHBpcmF0aW9uQnVja2V0IiwiY3VycmVudFRpbWUiLCJleHBpcmF0aW9uSW5NcyIsImJ1Y2tldFNpemVNcyIsIk5vQ29udGV4dCIsIkFzeW5jTW9kZSIsIlN0cmljdE1vZGUiLCJoYXNCYWRNYXBQb2x5ZmlsbCIsIm5vbkV4dGVuc2libGVPYmplY3QiLCJwcmV2ZW50RXh0ZW5zaW9ucyIsInRlc3RNYXAiLCJNYXAiLCJ0ZXN0U2V0IiwiZGVidWdDb3VudGVyIiwiRmliZXJOb2RlIiwicGVuZGluZ1Byb3BzIiwibW9kZSIsInJlZiIsIm1lbW9pemVkUHJvcHMiLCJ1cGRhdGVRdWV1ZSIsIm1lbW9pemVkU3RhdGUiLCJuZXh0RWZmZWN0IiwiZmlyc3RFZmZlY3QiLCJsYXN0RWZmZWN0IiwiY3JlYXRlRmliZXIiLCJzaG91bGRDb25zdHJ1Y3QiLCJpc1JlYWN0Q29tcG9uZW50IiwiY3JlYXRlV29ya0luUHJvZ3Jlc3MiLCJjcmVhdGVIb3N0Um9vdEZpYmVyIiwiaXNBc3luYyIsImNyZWF0ZUZpYmVyRnJvbUVsZW1lbnQiLCJlbGVtZW50IiwiZmliZXJUYWciLCJjcmVhdGVGaWJlckZyb21GcmFnbWVudCIsInRocm93T25JbnZhbGlkRWxlbWVudFR5cGUiLCJfc291cmNlIiwiZWxlbWVudHMiLCJjcmVhdGVGaWJlckZyb21UZXh0IiwiY29udGVudCIsImNyZWF0ZUZpYmVyRnJvbUhvc3RJbnN0YW5jZUZvckRlbGV0aW9uIiwiY3JlYXRlRmliZXJGcm9tUG9ydGFsIiwicG9ydGFsIiwicGVuZGluZ0NoaWxkcmVuIiwiY3JlYXRlRmliZXJSb290IiwiaHlkcmF0ZSIsInVuaW5pdGlhbGl6ZWRGaWJlciIsInJvb3QiLCJwZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWUiLCJmaW5pc2hlZFdvcmsiLCJwZW5kaW5nQ29udGV4dCIsInJlbWFpbmluZ0V4cGlyYXRpb25UaW1lIiwiZmlyc3RCYXRjaCIsIm5leHRTY2hlZHVsZWRSb290Iiwib25Db21taXRGaWJlclJvb3QiLCJvbkNvbW1pdEZpYmVyVW5tb3VudCIsImhhc0xvZ2dlZEVycm9yIiwiY2F0Y2hFcnJvcnMiLCJpbmplY3RJbnRlcm5hbHMiLCJpbnRlcm5hbHMiLCJfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18iLCJob29rIiwiaXNEaXNhYmxlZCIsInN1cHBvcnRzRmliZXIiLCJyZW5kZXJlcklEIiwiaW5qZWN0Iiwib25Db21taXRSb290Iiwib25Db21taXRVbm1vdW50IiwibG93UHJpb3JpdHlXYXJuaW5nIiwicHJpbnRXYXJuaW5nIiwiZm9ybWF0IiwiX2xlbiIsIl9rZXkiLCJhcmdJbmRleCIsIm1lc3NhZ2UiLCJ4IiwiY29uZGl0aW9uIiwiX2xlbjIiLCJfa2V5MiIsImxvd1ByaW9yaXR5V2FybmluZyQxIiwiUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MiLCJkaXNjYXJkUGVuZGluZ1dhcm5pbmdzIiwiZmx1c2hQZW5kaW5nRGVwcmVjYXRpb25XYXJuaW5ncyIsImZsdXNoUGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzIiwicmVjb3JkRGVwcmVjYXRpb25XYXJuaW5ncyIsInJlY29yZFVuc2FmZUxpZmVjeWNsZVdhcm5pbmdzIiwiTElGRUNZQ0xFX1NVR0dFU1RJT05TIiwiVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUiLCJwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MiLCJwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzIiwicGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyIsInBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyIsImRpZFdhcm5BYm91dERlcHJlY2F0ZWRMaWZlY3ljbGVzIiwiZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcyIsImxpZmVjeWNsZVdhcm5pbmdzTWFwIiwic3RyaWN0Um9vdCIsImxpZmVjeWNsZXNXYXJuaW5nTWVzYWdlcyIsImxpZmVjeWNsZSIsImxpZmVjeWNsZVdhcm5pbmdzIiwiY29tcG9uZW50TmFtZXMiLCJmb3JtYXR0ZWQiLCJzdWdnZXN0aW9uIiwic29ydGVkQ29tcG9uZW50TmFtZXMiLCJzb3J0Iiwiam9pbiIsInN0cmljdFJvb3RDb21wb25lbnRTdGFjayIsImdldFN0cmljdFJvb3QiLCJtYXliZVN0cmljdFJvb3QiLCJ1bmlxdWVOYW1lcyIsInNvcnRlZE5hbWVzIiwiX3VuaXF1ZU5hbWVzIiwiX3NvcnRlZE5hbWVzIiwiX3VuaXF1ZU5hbWVzMiIsIl9zb3J0ZWROYW1lczIiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwid2FybmluZ3NGb3JSb290IiwidW5zYWZlTGlmZWN5Y2xlcyIsImRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGUiLCJjcmVhdGVVcGRhdGVRdWV1ZSIsImJhc2VTdGF0ZSIsInF1ZXVlIiwiZmlyc3QiLCJsYXN0IiwiY2FsbGJhY2tMaXN0IiwiaGFzRm9yY2VVcGRhdGUiLCJpc0luaXRpYWxpemVkIiwiY2FwdHVyZWRWYWx1ZXMiLCJpc1Byb2Nlc3NpbmciLCJpbnNlcnRVcGRhdGVJbnRvUXVldWUiLCJ1cGRhdGUiLCJxMSIsInEyIiwiZW5zdXJlVXBkYXRlUXVldWVzIiwiYWx0ZXJuYXRlRmliZXIiLCJxdWV1ZTEiLCJxdWV1ZTIiLCJpbnNlcnRVcGRhdGVJbnRvRmliZXIiLCJnZXRVcGRhdGVFeHBpcmF0aW9uVGltZSIsImdldFN0YXRlRnJvbVVwZGF0ZSIsInByZXZTdGF0ZSIsInBhcnRpYWxTdGF0ZSIsInByb2Nlc3NVcGRhdGVRdWV1ZSIsInJlbmRlckV4cGlyYXRpb25UaW1lIiwiY3VycmVudFF1ZXVlIiwiZG9udE11dGF0ZVByZXZTdGF0ZSIsImRpZFNraXAiLCJ1cGRhdGVFeHBpcmF0aW9uVGltZSIsIl9wYXJ0aWFsU3RhdGUiLCJpc1JlcGxhY2UiLCJpc0ZvcmNlZCIsIl9jYWxsYmFja0xpc3QiLCJjYXB0dXJlZFZhbHVlIiwiX2NhcHR1cmVkVmFsdWVzIiwiY29tbWl0Q2FsbGJhY2tzIiwiX2NhbGxiYWNrIiwiZmFrZUludGVybmFsSW5zdGFuY2UiLCJkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQiLCJkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUiLCJkaWRXYXJuQWJvdXRVbmluaXRpYWxpemVkU3RhdGUiLCJkaWRXYXJuQWJvdXRXaWxsUmVjZWl2ZVByb3BzQW5kRGVyaXZlZFN0YXRlIiwid2Fybk9uSW52YWxpZENhbGxiYWNrIiwiZGlkV2Fybk9uSW52YWxpZENhbGxiYWNrIiwiY2FsbGVyTmFtZSIsImNhbGxHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2giLCJjdG9yIiwicmVzdWx0U3RhdGUiLCJnZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2giLCJSZWFjdEZpYmVyQ2xhc3NDb21wb25lbnQiLCJzY2hlZHVsZVdvcmsiLCJjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyIiwibWVtb2l6ZVByb3BzIiwibWVtb2l6ZVN0YXRlIiwidXBkYXRlciIsImVucXVldWVTZXRTdGF0ZSIsImVucXVldWVSZXBsYWNlU3RhdGUiLCJlbnF1ZXVlRm9yY2VVcGRhdGUiLCJjaGVja1Nob3VsZENvbXBvbmVudFVwZGF0ZSIsIm9sZFByb3BzIiwib2xkU3RhdGUiLCJuZXdTdGF0ZSIsIm5ld0NvbnRleHQiLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJpc1B1cmVSZWFjdENvbXBvbmVudCIsImNoZWNrQ2xhc3NJbnN0YW5jZSIsInJlbmRlclByZXNlbnQiLCJub0dldEluaXRpYWxTdGF0ZU9uRVM2IiwiZ2V0SW5pdGlhbFN0YXRlIiwiaXNSZWFjdENsYXNzQXBwcm92ZWQiLCJub0dldERlZmF1bHRQcm9wc09uRVM2IiwiZ2V0RGVmYXVsdFByb3BzIiwibm9JbnN0YW5jZVByb3BUeXBlcyIsInByb3BUeXBlcyIsIm5vSW5zdGFuY2VDb250ZXh0VHlwZXMiLCJub0NvbXBvbmVudFNob3VsZFVwZGF0ZSIsImNvbXBvbmVudFNob3VsZFVwZGF0ZSIsIm5vQ29tcG9uZW50RGlkVW5tb3VudCIsImNvbXBvbmVudERpZFVubW91bnQiLCJub0NvbXBvbmVudERpZFJlY2VpdmVQcm9wcyIsImNvbXBvbmVudERpZFJlY2VpdmVQcm9wcyIsIm5vQ29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyIsImNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMiLCJub1Vuc2FmZUNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMiLCJVTlNBRkVfY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyIsImhhc011dGF0ZWRQcm9wcyIsIm5vSW5zdGFuY2VEZWZhdWx0UHJvcHMiLCJkZWZhdWx0UHJvcHMiLCJyZXNldElucHV0UG9pbnRlcnMiLCJhZG9wdENsYXNzSW5zdGFuY2UiLCJfcmVhY3RJbnRlcm5hbEluc3RhbmNlIiwiY29uc3RydWN0Q2xhc3NJbnN0YW5jZSIsIm5lZWRzQ29udGV4dCIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsImNhbGxHZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJjYWxsQ29tcG9uZW50V2lsbE1vdW50IiwiY2FsbENvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJfY29tcG9uZW50TmFtZSIsIm1vdW50Q2xhc3NJbnN0YW5jZSIsInJlZnMiLCJjb21wb25lbnREaWRNb3VudCIsInJlc3VtZU1vdW50Q2xhc3NJbnN0YW5jZSIsIm9sZENvbnRleHQiLCJuZXdVbm1hc2tlZENvbnRleHQiLCJkZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJkZXJpdmVkU3RhdGVGcm9tQ2F0Y2giLCJjb21wb25lbnREaWRVcGRhdGUiLCJ1cGRhdGVDbGFzc0luc3RhbmNlIiwiZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQxIiwiZGlkV2FybkFib3V0TWFwcyIsImRpZFdhcm5BYm91dFN0cmluZ1JlZkluU3RyaWN0TW9kZSIsIm93bmVySGFzS2V5VXNlV2FybmluZyIsIm93bmVySGFzRnVuY3Rpb25UeXBlV2FybmluZyIsIndhcm5Gb3JNaXNzaW5nS2V5IiwiX3N0b3JlIiwidmFsaWRhdGVkIiwiY3VycmVudENvbXBvbmVudEVycm9ySW5mbyIsImlzQXJyYXkkMSIsImNvZXJjZVJlZiIsInJldHVybkZpYmVyIiwibWl4ZWRSZWYiLCJzdHJpbmdSZWYiLCJfc3RyaW5nUmVmIiwidGhyb3dPbkludmFsaWRPYmplY3RUeXBlIiwibmV3Q2hpbGQiLCJhZGRlbmR1bSIsInRvU3RyaW5nIiwid2Fybk9uRnVuY3Rpb25UeXBlIiwiQ2hpbGRSZWNvbmNpbGVyIiwic2hvdWxkVHJhY2tTaWRlRWZmZWN0cyIsImRlbGV0ZUNoaWxkIiwiY2hpbGRUb0RlbGV0ZSIsImRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuIiwiY3VycmVudEZpcnN0Q2hpbGQiLCJtYXBSZW1haW5pbmdDaGlsZHJlbiIsImV4aXN0aW5nQ2hpbGRyZW4iLCJleGlzdGluZ0NoaWxkIiwidXNlRmliZXIiLCJjbG9uZSIsInBsYWNlQ2hpbGQiLCJuZXdGaWJlciIsImxhc3RQbGFjZWRJbmRleCIsIm5ld0luZGV4Iiwib2xkSW5kZXgiLCJwbGFjZVNpbmdsZUNoaWxkIiwidXBkYXRlVGV4dE5vZGUiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZWQiLCJleGlzdGluZyIsInVwZGF0ZUVsZW1lbnQiLCJ1cGRhdGVQb3J0YWwiLCJ1cGRhdGVGcmFnbWVudCIsImZyYWdtZW50IiwiY3JlYXRlQ2hpbGQiLCJfY3JlYXRlZCIsIl9jcmVhdGVkMiIsIl9jcmVhdGVkMyIsInVwZGF0ZVNsb3QiLCJvbGRGaWJlciIsInVwZGF0ZUZyb21NYXAiLCJuZXdJZHgiLCJtYXRjaGVkRmliZXIiLCJfbWF0Y2hlZEZpYmVyIiwiX21hdGNoZWRGaWJlcjIiLCJfbWF0Y2hlZEZpYmVyMyIsIndhcm5PbkludmFsaWRLZXkiLCJrbm93bktleXMiLCJyZWNvbmNpbGVDaGlsZHJlbkFycmF5IiwibmV3Q2hpbGRyZW4iLCJyZXN1bHRpbmdGaXJzdENoaWxkIiwicHJldmlvdXNOZXdGaWJlciIsIm5leHRPbGRGaWJlciIsIl9uZXdGaWJlciIsIl9uZXdGaWJlcjIiLCJyZWNvbmNpbGVDaGlsZHJlbkl0ZXJhdG9yIiwibmV3Q2hpbGRyZW5JdGVyYWJsZSIsIml0ZXJhdG9yRm4iLCJlbnRyaWVzIiwicG9zc2libGVNYXAiLCJfbmV3Q2hpbGRyZW4iLCJfc3RlcCIsImRvbmUiLCJzdGVwIiwiX25ld0ZpYmVyMyIsIl9uZXdGaWJlcjQiLCJyZWNvbmNpbGVTaW5nbGVUZXh0Tm9kZSIsInJlY29uY2lsZVNpbmdsZUVsZW1lbnQiLCJfY3JlYXRlZDQiLCJyZWNvbmNpbGVTaW5nbGVQb3J0YWwiLCJyZWNvbmNpbGVDaGlsZEZpYmVycyIsImlzT2JqZWN0IiwiX2lzTW9ja0Z1bmN0aW9uIiwibW91bnRDaGlsZEZpYmVycyIsImNsb25lQ2hpbGRGaWJlcnMiLCJjdXJyZW50Q2hpbGQiLCJjaGFuZ2VkQml0c1N0YWNrIiwiY3VycmVudFZhbHVlU3RhY2siLCJzdGFjayIsImluZGV4JDEiLCJyZW5kZXJlclNpZ2lsIiwicHVzaFByb3ZpZGVyIiwicHJvdmlkZXJGaWJlciIsIl9jaGFuZ2VkQml0cyIsIl9jdXJyZW50VmFsdWUiLCJfY3VycmVudFJlbmRlcmVyIiwicG9wUHJvdmlkZXIiLCJjaGFuZ2VkQml0cyIsImN1cnJlbnRWYWx1ZSIsInJlc2V0UHJvdmlkZXJTdGFjayIsIl9kZWZhdWx0VmFsdWUiLCJkaWRXYXJuQWJvdXRCYWRDbGFzcyIsImRpZFdhcm5BYm91dEdldERlcml2ZWRTdGF0ZU9uRnVuY3Rpb25hbENvbXBvbmVudCIsImRpZFdhcm5BYm91dFN0YXRlbGVzc1JlZnMiLCJSZWFjdEZpYmVyQmVnaW5Xb3JrIiwiY29uZmlnIiwiaG9zdENvbnRleHQiLCJoeWRyYXRpb25Db250ZXh0Iiwic2hvdWxkU2V0VGV4dENvbnRlbnQiLCJzaG91bGREZXByaW9yaXRpemVTdWJ0cmVlIiwicHVzaEhvc3RDb250ZXh0IiwicHVzaEhvc3RDb250YWluZXIiLCJlbnRlckh5ZHJhdGlvblN0YXRlIiwicmVzZXRIeWRyYXRpb25TdGF0ZSIsInRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlIiwiX1JlYWN0RmliZXJDbGFzc0NvbXBvIiwicmVjb25jaWxlQ2hpbGRyZW4iLCJuZXh0Q2hpbGRyZW4iLCJyZWNvbmNpbGVDaGlsZHJlbkF0RXhwaXJhdGlvblRpbWUiLCJiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrIiwidXBkYXRlTW9kZSIsIm1hcmtSZWYiLCJ1cGRhdGVGdW5jdGlvbmFsQ29tcG9uZW50IiwidXBkYXRlQ2xhc3NDb21wb25lbnQiLCJoYXNDb250ZXh0IiwiZGlkQ2FwdHVyZUVycm9yIiwiZmluaXNoQ2xhc3NDb21wb25lbnQiLCJwdXNoSG9zdFJvb3RDb250ZXh0IiwidXBkYXRlSG9zdFJvb3QiLCJ1cGRhdGVIb3N0Q29tcG9uZW50IiwiaXNIaWRkZW4iLCJpc0RpcmVjdFRleHRDaGlsZCIsInVwZGF0ZUhvc3RUZXh0IiwibW91bnRJbmRldGVybWluYXRlQ29tcG9uZW50IiwiX0NvbXBvbmVudCIsIndhcm5pbmdLZXkiLCJkZWJ1Z1NvdXJjZSIsInVwZGF0ZUNhbGxDb21wb25lbnQiLCJ1cGRhdGVQb3J0YWxDb21wb25lbnQiLCJwcm9wYWdhdGVDb250ZXh0Q2hhbmdlIiwibmV4dEZpYmVyIiwib2JzZXJ2ZWRCaXRzIiwidXBkYXRlQ29udGV4dFByb3ZpZGVyIiwicHJvdmlkZXJUeXBlIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsIl9jYWxjdWxhdGVDaGFuZ2VkQml0cyIsInVwZGF0ZUNvbnRleHRDb25zdW1lciIsInVuc3RhYmxlX29ic2VydmVkQml0cyIsImJhaWxvdXRPbkxvd1ByaW9yaXR5IiwibmV4dFN0YXRlIiwiYmVnaW5Xb3JrIiwiUmVhY3RGaWJlckNvbXBsZXRlV29yayIsImNyZWF0ZUluc3RhbmNlIiwiY3JlYXRlVGV4dEluc3RhbmNlIiwiYXBwZW5kSW5pdGlhbENoaWxkIiwiZmluYWxpemVJbml0aWFsQ2hpbGRyZW4iLCJwcmVwYXJlVXBkYXRlIiwibXV0YXRpb24iLCJwZXJzaXN0ZW5jZSIsImdldFJvb3RIb3N0Q29udGFpbmVyIiwicG9wSG9zdENvbnRleHQiLCJnZXRIb3N0Q29udGV4dCIsInBvcEhvc3RDb250YWluZXIiLCJwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlIiwicHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UiLCJwb3BIeWRyYXRpb25TdGF0ZSIsIm1hcmtVcGRhdGUiLCJhcHBlbmRBbGxSZXR1cm5zIiwicmV0dXJucyIsIm1vdmVDYWxsVG9IYW5kbGVyUGhhc2UiLCJoYW5kbGVyIiwiY2hpbGRQcm9wcyIsImFwcGVuZEFsbENoaWxkcmVuIiwidXBkYXRlSG9zdENvbnRhaW5lciIsInJvb3RDb250YWluZXJJbnN0YW5jZSIsImN1cnJlbnRIb3N0Q29udGV4dCIsIm9sZFRleHQiLCJuZXdUZXh0IiwiY2xvbmVJbnN0YW5jZSIsImNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0IiwiYXBwZW5kQ2hpbGRUb0NvbnRhaW5lckNoaWxkU2V0IiwiZmluYWxpemVDb250YWluZXJDaGlsZHJlbiIsImFwcGVuZEFsbENoaWxkcmVuVG9Db250YWluZXIiLCJjb250YWluZXJDaGlsZFNldCIsInBvcnRhbE9yUm9vdCIsImNoaWxkcmVuVW5jaGFuZ2VkIiwiY29udGFpbmVyIiwibmV3Q2hpbGRTZXQiLCJjdXJyZW50SW5zdGFuY2UiLCJyZWN5Y2xhYmxlSW5zdGFuY2UiLCJuZXdJbnN0YW5jZSIsImNvbXBsZXRlV29yayIsImNvbXBvbmVudERpZENhdGNoIiwiZmliZXJSb290IiwiX3VwZGF0ZVF1ZXVlIiwiX2luc3RhbmNlIiwiX2N1cnJlbnRIb3N0Q29udGV4dCIsIndhc0h5ZHJhdGVkIiwiX2luc3RhbmNlMiIsIl9yb290Q29udGFpbmVySW5zdGFuY2UiLCJfY3VycmVudEhvc3RDb250ZXh0MiIsIl93YXNIeWRyYXRlZCIsImNyZWF0ZUNhcHR1cmVkVmFsdWUiLCJSZWFjdEZpYmVyVW53aW5kV29yayIsImlzQWxyZWFkeUZhaWxlZExlZ2FjeUVycm9yQm91bmRhcnkiLCJ0aHJvd0V4Y2VwdGlvbiIsInNvdXJjZUZpYmVyIiwicmF3VmFsdWUiLCJlcnJvckluZm8iLCJ1bndpbmRXb3JrIiwiX2VmZmVjdFRhZyIsInNob3dFcnJvckRpYWxvZyIsImNhcHR1cmVkRXJyb3IiLCJjb21wb25lbnRTdGFjayIsImVycm9yVG9IYW5kbGUiLCJzdW1tYXJ5IiwiaGFuZGxlRXhjZXB0aW9uIiwibG9nQ2FwdHVyZWRFcnJvciIsImxvZ0Vycm9yIiwic3VwcHJlc3NMb2dnaW5nIiwic3VwcHJlc3NSZWFjdEVycm9yTG9nZ2luZyIsImVycm9yQm91bmRhcnlOYW1lIiwiZXJyb3JCb3VuZGFyeUZvdW5kIiwid2lsbFJldHJ5IiwiY29tcG9uZW50TmFtZU1lc3NhZ2UiLCJlcnJvckJvdW5kYXJ5TWVzc2FnZSIsImNvbWJpbmVkTWVzc2FnZSIsImludm9rZUd1YXJkZWRDYWxsYmFjayQzIiwiaGFzQ2F1Z2h0RXJyb3IkMSIsImNsZWFyQ2F1Z2h0RXJyb3IkMSIsImJvdW5kYXJ5IiwiZXJyb3JCb3VuZGFyeSIsIlJlYWN0RmliZXJDb21taXRXb3JrIiwiY2FwdHVyZUVycm9yIiwibWFya0xlZ2FjeUVycm9yQm91bmRhcnlBc0ZhaWxlZCIsInJlY2FsY3VsYXRlQ3VycmVudFRpbWUiLCJnZXRQdWJsaWNJbnN0YW5jZSIsImNhbGxDb21wb25lbnRXaWxsVW5tb3VudFdpdGhUaW1lciIsImNvbXBvbmVudFdpbGxVbm1vdW50Iiwic2FmZWx5Q2FsbENvbXBvbmVudFdpbGxVbm1vdW50IiwidW5tb3VudEVycm9yIiwic2FmZWx5RGV0YWNoUmVmIiwicmVmRXJyb3IiLCJjb21taXRMaWZlQ3ljbGVzIiwiZmluaXNoZWRSb290IiwiY29tbWl0dGVkRXhwaXJhdGlvblRpbWUiLCJfaW5zdGFuY2UzIiwiY29tbWl0TW91bnQiLCJjb21taXRFcnJvckxvZ2dpbmciLCJvblVuY2F1Z2h0RXJyb3IiLCJfaW5zdGFuY2U0IiwiY2FwdHVyZWRFcnJvcnMiLCJfZXJyb3IiLCJfdXBkYXRlUXVldWUyIiwiX2NhcHR1cmVkRXJyb3JzIiwiX2kiLCJfZXJyb3JJbmZvIiwiY29tbWl0QXR0YWNoUmVmIiwiX2luc3RhbmNlNSIsImluc3RhbmNlVG9Vc2UiLCJjb21taXREZXRhY2hSZWYiLCJjdXJyZW50UmVmIiwiY29tbWl0VW5tb3VudCIsIl9pbnN0YW5jZTYiLCJjb21taXROZXN0ZWRVbm1vdW50cyIsInVubW91bnRIb3N0Q29tcG9uZW50cyIsImVtcHR5UG9ydGFsQ29udGFpbmVyIiwiZGV0YWNoRmliZXIiLCJjb21taXRDb250YWluZXIiLCJyZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4iLCJlbXB0eUNoaWxkU2V0IiwiX3BlbmRpbmdDaGlsZHJlbiIsImNvbW1pdFJlc2V0VGV4dENvbnRlbnQiLCJjb21taXRQbGFjZW1lbnQiLCJjb21taXREZWxldGlvbiIsImNvbW1pdFdvcmsiLCJjb21taXRVcGRhdGUiLCJyZXNldFRleHRDb250ZW50IiwiY29tbWl0VGV4dFVwZGF0ZSIsImFwcGVuZENoaWxkIiwiYXBwZW5kQ2hpbGRUb0NvbnRhaW5lciIsImluc2VydEJlZm9yZSIsImluc2VydEluQ29udGFpbmVyQmVmb3JlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVDaGlsZEZyb21Db250YWluZXIiLCJnZXRIb3N0UGFyZW50RmliZXIiLCJpc0hvc3RQYXJlbnQiLCJnZXRIb3N0U2libGluZyIsInNpYmxpbmdzIiwicGFyZW50RmliZXIiLCJpc0NvbnRhaW5lciIsImJlZm9yZSIsImN1cnJlbnRQYXJlbnRJc1ZhbGlkIiwiY3VycmVudFBhcmVudElzQ29udGFpbmVyIiwiZmluZFBhcmVudCIsIl9pbnN0YW5jZTciLCJ0ZXh0SW5zdGFuY2UiLCJOT19DT05URVhUIiwiUmVhY3RGaWJlckhvc3RDb250ZXh0IiwiZ2V0Q2hpbGRIb3N0Q29udGV4dCIsImdldFJvb3RIb3N0Q29udGV4dCIsImNvbnRleHRGaWJlclN0YWNrQ3Vyc29yIiwicm9vdEluc3RhbmNlU3RhY2tDdXJzb3IiLCJyZXF1aXJlZENvbnRleHQiLCJyb290SW5zdGFuY2UiLCJuZXh0Um9vdEluc3RhbmNlIiwibmV4dFJvb3RDb250ZXh0IiwibmV4dENvbnRleHQiLCJyZXNldEhvc3RDb250YWluZXIiLCJSZWFjdEZpYmVySHlkcmF0aW9uQ29udGV4dCIsImh5ZHJhdGlvbiIsImNhbkh5ZHJhdGVJbnN0YW5jZSIsImNhbkh5ZHJhdGVUZXh0SW5zdGFuY2UiLCJnZXROZXh0SHlkcmF0YWJsZVNpYmxpbmciLCJnZXRGaXJzdEh5ZHJhdGFibGVDaGlsZCIsImh5ZHJhdGVJbnN0YW5jZSIsImh5ZHJhdGVUZXh0SW5zdGFuY2UiLCJkaWROb3RNYXRjaEh5ZHJhdGVkQ29udGFpbmVyVGV4dEluc3RhbmNlIiwiZGlkTm90TWF0Y2hIeWRyYXRlZFRleHRJbnN0YW5jZSIsImRpZE5vdEh5ZHJhdGVDb250YWluZXJJbnN0YW5jZSIsImRpZE5vdEh5ZHJhdGVJbnN0YW5jZSIsImRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVySW5zdGFuY2UiLCJkaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lclRleHRJbnN0YW5jZSIsImRpZE5vdEZpbmRIeWRyYXRhYmxlSW5zdGFuY2UiLCJkaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZSIsImh5ZHJhdGlvblBhcmVudEZpYmVyIiwibmV4dEh5ZHJhdGFibGVJbnN0YW5jZSIsImlzSHlkcmF0aW5nIiwicGFyZW50SW5zdGFuY2UiLCJkZWxldGVIeWRyYXRhYmxlSW5zdGFuY2UiLCJpbnNlcnROb25IeWRyYXRlZEluc3RhbmNlIiwicGFyZW50Q29udGFpbmVyIiwidGV4dCIsInBhcmVudFR5cGUiLCJwYXJlbnRQcm9wcyIsIl90eXBlIiwiX3Byb3BzIiwiX3RleHQiLCJ0cnlIeWRyYXRlIiwibmV4dEluc3RhbmNlIiwicG9wVG9OZXh0SG9zdFBhcmVudCIsIlJlYWN0RmliZXJJbnN0cnVtZW50YXRpb24iLCJkZWJ1Z1Rvb2wiLCJSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEiLCJpbnZva2VHdWFyZGVkQ2FsbGJhY2skMiIsImRpZFdhcm5BYm91dFN0YXRlVHJhbnNpdGlvbiIsImRpZFdhcm5TZXRTdGF0ZUNoaWxkQ29udGV4dCIsIndhcm5BYm91dFVwZGF0ZU9uVW5tb3VudGVkIiwid2FybkFib3V0SW52YWxpZFVwZGF0ZXMiLCJkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnQiLCJSZWFjdEZpYmVyU2NoZWR1bGVyIiwiX1JlYWN0RmliZXJCZWdpbldvcmsiLCJfUmVhY3RGaWJlckNvbXBsZXRlV28iLCJfUmVhY3RGaWJlclVud2luZFdvcmsiLCJfUmVhY3RGaWJlckNvbW1pdFdvcmsiLCJvbkNvbW1pdFBoYXNlRXJyb3IiLCJzY2hlZHVsZURlZmVycmVkQ2FsbGJhY2siLCJjYW5jZWxEZWZlcnJlZENhbGxiYWNrIiwicHJlcGFyZUZvckNvbW1pdCIsInJlc2V0QWZ0ZXJDb21taXQiLCJvcmlnaW5hbFN0YXJ0VGltZU1zIiwibW9zdFJlY2VudEN1cnJlbnRUaW1lIiwibW9zdFJlY2VudEN1cnJlbnRUaW1lTXMiLCJsYXN0VW5pcXVlQXN5bmNFeHBpcmF0aW9uIiwiZXhwaXJhdGlvbkNvbnRleHQiLCJpc1dvcmtpbmciLCJuZXh0Um9vdCIsIm5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSIsImlzUm9vdFJlYWR5Rm9yQ29tbWl0IiwibGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQiLCJzdGFzaGVkV29ya0luUHJvZ3Jlc3NQcm9wZXJ0aWVzIiwicmVwbGF5VW5pdE9mV29yayIsImZhaWxlZFVuaXRPZldvcmsiLCJ3b3JrTG9vcCIsInJlc2V0Q29udGV4dFN0YWNrIiwiY29tbWl0QWxsSG9zdEVmZmVjdHMiLCJwcmltYXJ5RWZmZWN0VGFnIiwiX2N1cnJlbnQiLCJfY3VycmVudDIiLCJjb21taXRBbGxMaWZlQ3ljbGVzIiwiY29tbWl0Um9vdCIsIl9kaWRFcnJvciIsIm9uQ29tbWl0V29yayIsInJlbWFpbmluZ1RpbWUiLCJyZXNldEV4cGlyYXRpb25UaW1lIiwicmVuZGVyVGltZSIsIm5ld0V4cGlyYXRpb25UaW1lIiwiY29tcGxldGVVbml0T2ZXb3JrIiwic2libGluZ0ZpYmVyIiwib25Db21wbGV0ZVdvcmsiLCJfbmV4dCIsInBlcmZvcm1Vbml0T2ZXb3JrIiwib25CZWdpbldvcmsiLCJzaG91bGRZaWVsZCIsInJlbmRlclJvb3QiLCJkaWRGYXRhbCIsInRocm93blZhbHVlIiwic2NoZWR1bGVDYXB0dXJlIiwiYm91bmRhcnlGaWJlciIsImRpc3BhdGNoIiwiY29tcHV0ZUFzeW5jRXhwaXJhdGlvbiIsImV4cGlyYXRpb25NcyIsImNvbXB1dGVJbnRlcmFjdGl2ZUV4cGlyYXRpb24iLCJjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uIiwiaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcyIsIl9jdXJyZW50VGltZSIsImxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lIiwic2NoZWR1bGVXb3JrSW1wbCIsImlzRXJyb3JSZWNvdmVyeSIsInJlcXVlc3RXb3JrIiwibmVzdGVkVXBkYXRlQ291bnQiLCJORVNURURfVVBEQVRFX0xJTUlUIiwiZGVmZXJyZWRVcGRhdGVzIiwicHJldmlvdXNFeHBpcmF0aW9uQ29udGV4dCIsInN5bmNVcGRhdGVzIiwiZmlyc3RTY2hlZHVsZWRSb290IiwibGFzdFNjaGVkdWxlZFJvb3QiLCJjYWxsYmFja0V4cGlyYXRpb25UaW1lIiwiY2FsbGJhY2tJRCIsImlzUmVuZGVyaW5nIiwibmV4dEZsdXNoZWRSb290IiwibmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSIsImRlYWRsaW5lRGlkRXhwaXJlIiwiaGFzVW5oYW5kbGVkRXJyb3IiLCJ1bmhhbmRsZWRFcnJvciIsImRlYWRsaW5lIiwiaXNCYXRjaGluZ1VwZGF0ZXMiLCJpc1VuYmF0Y2hpbmdVcGRhdGVzIiwiY29tcGxldGVkQmF0Y2hlcyIsInRpbWVIZXVyaXN0aWNGb3JVbml0T2ZXb3JrIiwic2NoZWR1bGVDYWxsYmFja1dpdGhFeHBpcmF0aW9uIiwiY3VycmVudE1zIiwidGltZW91dCIsInBlcmZvcm1Bc3luY1dvcmsiLCJhZGRSb290VG9TY2hlZHVsZSIsInBlcmZvcm1Xb3JrT25Sb290IiwicGVyZm9ybVN5bmNXb3JrIiwiZmluZEhpZ2hlc3RQcmlvcml0eVJvb3QiLCJoaWdoZXN0UHJpb3JpdHlXb3JrIiwiaGlnaGVzdFByaW9yaXR5Um9vdCIsInByZXZpb3VzU2NoZWR1bGVkUm9vdCIsInByZXZpb3VzRmx1c2hlZFJvb3QiLCJkbCIsInBlcmZvcm1Xb3JrIiwibWluRXhwaXJhdGlvblRpbWUiLCJmaW5pc2hSZW5kZXJpbmciLCJmbHVzaFJvb3QiLCJiYXRjaGVzIiwiYmF0Y2giLCJfb25Db21wbGV0ZSIsImNvbXBsZXRlUm9vdCIsIl9maW5pc2hlZFdvcmsiLCJfZXhwaXJhdGlvblRpbWUiLCJfZGVmZXIiLCJ0aW1lUmVtYWluaW5nIiwicHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcyIsInVuYmF0Y2hlZFVwZGF0ZXMiLCJmbHVzaFN5bmMiLCJwcmV2aW91c0lzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMiLCJmbHVzaENvbnRyb2xsZWQiLCJkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzIiwiZ2V0Q29udGV4dEZvclN1YnRyZWUiLCJwYXJlbnRDb21wb25lbnQiLCJSZWFjdEZpYmVyUmVjb25jaWxlciQxIiwiX1JlYWN0RmliZXJTY2hlZHVsZXIiLCJzY2hlZHVsZVJvb3RVcGRhdGUiLCJ1cGRhdGVDb250YWluZXJBdEV4cGlyYXRpb25UaW1lIiwib25Nb3VudENvbnRhaW5lciIsIm9uVW5tb3VudENvbnRhaW5lciIsIm9uVXBkYXRlQ29udGFpbmVyIiwiaG9zdEZpYmVyIiwiY3JlYXRlQ29udGFpbmVyIiwidXBkYXRlQ29udGFpbmVyIiwiZ2V0UHVibGljUm9vdEluc3RhbmNlIiwiY29udGFpbmVyRmliZXIiLCJmaW5kSG9zdEluc3RhbmNlV2l0aE5vUG9ydGFscyIsImluamVjdEludG9EZXZUb29scyIsImRldlRvb2xzQ29uZmlnIiwiZmluZEZpYmVyQnlIb3N0SW5zdGFuY2UiLCJmaW5kSG9zdEluc3RhbmNlQnlGaWJlciIsIlJlYWN0RmliZXJSZWNvbmNpbGVyJDIiLCJkZWZhdWx0IiwiUmVhY3RGaWJlclJlY29uY2lsZXIkMyIsInJlYWN0UmVjb25jaWxlciIsInZpZXdDb25maWdDYWxsYmFja3MiLCJ2aWV3Q29uZmlncyIsImdldCQxIiwiX2NsYXNzQ2FsbENoZWNrJDIiLCJSZWFjdE5hdGl2ZUZpYmVySG9zdENvbXBvbmVudCIsIl9jaGlsZHJlbiIsImhhc05hdGl2ZVBlcmZvcm1hbmNlTm93Iiwic2NoZWR1bGVkQ2FsbGJhY2siLCJmcmFtZURlYWRsaW5lIiwiZnJhbWVEZWFkbGluZU9iamVjdCIsInNldFRpbWVvdXRDYWxsYmFjayIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJyZWN1cnNpdmVseVVuY2FjaGVGaWJlck5vZGUiLCJOYXRpdmVSZW5kZXJlciIsImludGVybmFsSW5zdGFuY2VIYW5kbGUiLCJjcmVhdGVWaWV3IiwibmF0aXZlVGFncyIsIm1hcCIsInNldENoaWxkcmVuIiwiY2hpbGRUYWciLCJzcGxpY2UiLCJtYW5hZ2VDaGlsZHJlbiIsInVwZGF0ZVBheWxvYWRUT0RPIiwiYmVmb3JlQ2hpbGQiLCJiZWZvcmVDaGlsZEluZGV4IiwiX2JlZm9yZUNoaWxkSW5kZXgiLCJnZXRJbnNwZWN0b3JEYXRhRm9yVmlld1RhZyIsInRyYXZlcnNlT3duZXJUcmVlVXAiLCJoaWVyYXJjaHkiLCJ1bnNoaWZ0IiwiZ2V0T3duZXJIaWVyYXJjaHkiLCJsYXN0Tm9uSG9zdEluc3RhbmNlIiwiZ2V0SG9zdFByb3BzIiwiaG9zdCIsImdldEhvc3ROb2RlIiwiaG9zdE5vZGUiLCJjcmVhdGVIaWVyYXJjaHkiLCJmaWJlckhpZXJhcmNoeSIsImdldEluc3BlY3RvckRhdGEiLCJ2aWV3VGFnIiwiY2xvc2VzdEluc3RhbmNlIiwic2VsZWN0aW9uIiwiY3JlYXRlUmVhY3ROYXRpdmVDb21wb25lbnRDbGFzcyIsInRha2VTbmFwc2hvdCIsInZpZXciLCJvcHRpb25zIiwiX190YWtlU25hcHNob3QiLCJyb290cyIsIlJlYWN0TmF0aXZlUmVuZGVyZXIiLCJOYXRpdmVDb21wb25lbnQiLCJjb250YWluZXJUYWciLCJ1bm1vdW50Q29tcG9uZW50QXROb2RlIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZUFuZFJlbW92ZUNvbnRhaW5lciIsInJlbW92ZVJvb3RWaWV3IiwidW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMiLCJSZWFjdERlYnVnVG9vbCIsImFkZEhvb2siLCJyZW1vdmVIb29rIiwiUmVhY3RQZXJmIiwic3RhcnQiLCJzdG9wIiwicHJpbnRJbmNsdXNpdmUiLCJwcmludFdhc3RlZCIsImJ1bmRsZVR5cGUiLCJ2ZXJzaW9uIiwicmVuZGVyZXJQYWNrYWdlTmFtZSIsIlJlYWN0TmF0aXZlUmVuZGVyZXIkMiIsIlJlYWN0TmF0aXZlUmVuZGVyZXIkMyIsInJlYWN0TmF0aXZlUmVuZGVyZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQVdBOzs7O0FBRUEsSUFBSUEsT0FBSixFQUFhO0FBQ1gsR0FBQyxZQUFXO0FBQ2Q7O0FBRUFDLFlBQVEsZ0JBQVI7QUFDQSxRQUFJQyxZQUFZRCxRQUFRLG9CQUFSLENBQWhCO0FBQ0EsUUFBSUUsVUFBVUYsUUFBUSxrQkFBUixDQUFkO0FBQ0EsUUFBSUcsZ0JBQWdCSCxRQUFRLHdCQUFSLENBQXBCO0FBQ0EsUUFBSUksWUFBWUosUUFBUSxXQUFSLENBQWhCO0FBQ0EsUUFBSUssa0JBQWtCTCxRQUFRLGlCQUFSLENBQXRCO0FBQ0EsUUFBSU0saUJBQWlCTixRQUFRLGdCQUFSLENBQXJCO0FBQ0EsUUFBSU8sYUFBYVAsUUFBUSxZQUFSLENBQWpCO0FBQ0EsUUFBSVEsZUFBZVIsUUFBUSxjQUFSLENBQW5CO0FBQ0EsUUFBSVMsUUFBUVQsUUFBUSxPQUFSLENBQVo7QUFDQSxRQUFJVSxjQUFjVixRQUFRLHNCQUFSLENBQWxCO0FBQ0EsUUFBSVcsaUJBQWlCWCxRQUFRLDJCQUFSLENBQXJCO0FBQ0EsUUFBSVksZUFBZVosUUFBUSx1QkFBUixDQUFuQjtBQUNBLFFBQUlhLG9CQUFvQmIsUUFBUSxtQkFBUixDQUF4QjtBQUNBLFFBQUljLG9DQUFvQ2QsUUFBUSxtQ0FBUixDQUF4Qzs7QUFFQSxRQUFJZSx3QkFBd0IsK0JBQVNDLElBQVQsRUFBZUMsSUFBZixFQUFxQkMsT0FBckIsRUFBOEJDLENBQTlCLEVBQWlDQyxDQUFqQyxFQUFvQ0MsQ0FBcEMsRUFBdUNDLENBQXZDLEVBQTBDQyxDQUExQyxFQUE2Q0MsQ0FBN0MsRUFBZ0Q7QUFDMUUsV0FBS0MsZUFBTCxHQUF1QixLQUF2QjtBQUNBLFdBQUtDLFlBQUwsR0FBb0IsSUFBcEI7QUFDQSxVQUFJQyxXQUFXQyxNQUFNQyxTQUFOLENBQWdCQyxLQUFoQixDQUFzQkMsSUFBdEIsQ0FBMkJDLFNBQTNCLEVBQXNDLENBQXRDLENBQWY7QUFDQSxVQUFJO0FBQ0ZmLGFBQUtnQixLQUFMLENBQVdmLE9BQVgsRUFBb0JTLFFBQXBCO0FBQ0QsT0FGRCxDQUVFLE9BQU9PLEtBQVAsRUFBYztBQUNkLGFBQUtSLFlBQUwsR0FBb0JRLEtBQXBCO0FBQ0EsYUFBS1QsZUFBTCxHQUF1QixJQUF2QjtBQUNEO0FBQ0YsS0FWRDs7QUFZQTtBQXNCRSxVQUNFLE9BQU9VLE1BQVAsS0FBa0IsV0FBbEIsSUFDQSxPQUFPQSxPQUFPQyxhQUFkLEtBQWdDLFVBRGhDLElBRUEsT0FBT0MsUUFBUCxLQUFvQixXQUZwQixJQUdBLE9BQU9BLFNBQVNDLFdBQWhCLEtBQWdDLFVBSmxDLEVBS0U7QUFDQSxZQUFJQyxXQUFXRixTQUFTRyxhQUFULENBQXVCLE9BQXZCLENBQWY7O0FBRUEsWUFBSUMsMkJBQTJCLFNBQTNCQSx3QkFBMkIsQ0FDN0J6QixJQUQ2QixFQUU3QkMsSUFGNkIsRUFHN0JDLE9BSDZCLEVBSTdCQyxDQUo2QixFQUs3QkMsQ0FMNkIsRUFNN0JDLENBTjZCLEVBTzdCQyxDQVA2QixFQVE3QkMsQ0FSNkIsRUFTN0JDLENBVDZCLEVBVTdCO0FBS0F2QixvQkFDRSxPQUFPb0MsUUFBUCxLQUFvQixXQUR0QixFQUVFLDhFQUNFLHdFQURGLEdBRUUsOEVBRkYsR0FHRSwyRUFIRixHQUlFLHdFQUpGLEdBS0UseUVBTEYsR0FNRSxxQkFSSjtBQVVBLGNBQUlLLE1BQU1MLFNBQVNDLFdBQVQsQ0FBcUIsT0FBckIsQ0FBVjs7QUFRQSxjQUFJSyxXQUFXLElBQWY7O0FBS0EsY0FBSWhCLFdBQVdDLE1BQU1DLFNBQU4sQ0FBZ0JDLEtBQWhCLENBQXNCQyxJQUF0QixDQUEyQkMsU0FBM0IsRUFBc0MsQ0FBdEMsQ0FBZjtBQUNBLG1CQUFTWSxZQUFULEdBQXdCO0FBS3RCTCxxQkFBU00sbUJBQVQsQ0FBNkJDLE9BQTdCLEVBQXNDRixZQUF0QyxFQUFvRCxLQUFwRDtBQUNBM0IsaUJBQUtnQixLQUFMLENBQVdmLE9BQVgsRUFBb0JTLFFBQXBCO0FBQ0FnQix1QkFBVyxLQUFYO0FBQ0Q7O0FBYUQsY0FBSVQsUUFBUSxLQUFLLENBQWpCOztBQUVBLGNBQUlhLGNBQWMsS0FBbEI7QUFDQSxjQUFJQyxxQkFBcUIsS0FBekI7O0FBRUEsbUJBQVNDLE9BQVQsQ0FBaUJDLEtBQWpCLEVBQXdCO0FBQ3RCaEIsb0JBQVFnQixNQUFNaEIsS0FBZDtBQUNBYSwwQkFBYyxJQUFkO0FBQ0EsZ0JBQUliLFVBQVUsSUFBVixJQUFrQmdCLE1BQU1DLEtBQU4sS0FBZ0IsQ0FBbEMsSUFBdUNELE1BQU1FLE1BQU4sS0FBaUIsQ0FBNUQsRUFBK0Q7QUFDN0RKLG1DQUFxQixJQUFyQjtBQUNEO0FBQ0Y7O0FBR0QsY0FBSUYsVUFBVSxZQUFZOUIsT0FBT0EsSUFBUCxHQUFjLHVCQUExQixDQUFkOztBQUdBbUIsaUJBQU9rQixnQkFBUCxDQUF3QixPQUF4QixFQUFpQ0osT0FBakM7QUFDQVYsbUJBQVNjLGdCQUFULENBQTBCUCxPQUExQixFQUFtQ0YsWUFBbkMsRUFBaUQsS0FBakQ7O0FBSUFGLGNBQUlZLFNBQUosQ0FBY1IsT0FBZCxFQUF1QixLQUF2QixFQUE4QixLQUE5QjtBQUNBUCxtQkFBU0gsYUFBVCxDQUF1Qk0sR0FBdkI7O0FBRUEsY0FBSUMsUUFBSixFQUFjO0FBQ1osZ0JBQUksQ0FBQ0ksV0FBTCxFQUFrQjtBQUVoQmIsc0JBQVEsSUFBSXFCLEtBQUosQ0FDTixrRUFDRSwwREFERixHQUVFLDJEQUZGLEdBR0UsNERBSEYsR0FJRSwrREFKRixHQUtFLDZEQUxGLEdBTUUsZ0VBTkYsR0FPRSxxREFSSSxDQUFSO0FBVUQsYUFaRCxNQVlPLElBQUlQLGtCQUFKLEVBQXdCO0FBQzdCZCxzQkFBUSxJQUFJcUIsS0FBSixDQUNOLG1FQUNFLDBDQURGLEdBRUUsaUVBSEksQ0FBUjtBQUtEO0FBQ0QsaUJBQUs5QixlQUFMLEdBQXVCLElBQXZCO0FBQ0EsaUJBQUtDLFlBQUwsR0FBb0JRLEtBQXBCO0FBQ0QsV0F0QkQsTUFzQk87QUFDTCxpQkFBS1QsZUFBTCxHQUF1QixLQUF2QjtBQUNBLGlCQUFLQyxZQUFMLEdBQW9CLElBQXBCO0FBQ0Q7O0FBR0RTLGlCQUFPVSxtQkFBUCxDQUEyQixPQUEzQixFQUFvQ0ksT0FBcEM7QUFDRCxTQWxIRDs7QUFvSEFsQyxnQ0FBd0IwQix3QkFBeEI7QUFDRDtBQUNGOztBQUVELFFBQUllLDBCQUEwQnpDLHFCQUE5Qjs7QUFFQSxRQUFJMEMsa0JBQWtCO0FBRXBCL0Isb0JBQWMsSUFGTTtBQUdwQkQsdUJBQWlCLEtBSEc7O0FBTXBCaUMscUJBQWUsSUFOSztBQU9wQkMsd0JBQWtCLEtBUEU7O0FBc0JwQjVDLDZCQUF1QiwrQkFBU0MsSUFBVCxFQUFlQyxJQUFmLEVBQXFCQyxPQUFyQixFQUE4QkMsQ0FBOUIsRUFBaUNDLENBQWpDLEVBQW9DQyxDQUFwQyxFQUF1Q0MsQ0FBdkMsRUFBMENDLENBQTFDLEVBQTZDQyxDQUE3QyxFQUFnRDtBQUNyRWdDLGdDQUF3QnZCLEtBQXhCLENBQThCd0IsZUFBOUIsRUFBK0N6QixTQUEvQztBQUNELE9BeEJtQjs7QUFvQ3BCNEIsK0NBQXlDLGlEQUN2QzVDLElBRHVDLEVBRXZDQyxJQUZ1QyxFQUd2Q0MsT0FIdUMsRUFJdkNDLENBSnVDLEVBS3ZDQyxDQUx1QyxFQU12Q0MsQ0FOdUMsRUFPdkNDLENBUHVDLEVBUXZDQyxDQVJ1QyxFQVN2Q0MsQ0FUdUMsRUFVdkM7QUFDQWlDLHdCQUFnQjFDLHFCQUFoQixDQUFzQ2tCLEtBQXRDLENBQTRDLElBQTVDLEVBQWtERCxTQUFsRDtBQUNBLFlBQUl5QixnQkFBZ0JJLGNBQWhCLEVBQUosRUFBc0M7QUFDcEMsY0FBSTNCLFFBQVF1QixnQkFBZ0JLLGdCQUFoQixFQUFaO0FBQ0EsY0FBSSxDQUFDTCxnQkFBZ0JFLGdCQUFyQixFQUF1QztBQUNyQ0YsNEJBQWdCRSxnQkFBaEIsR0FBbUMsSUFBbkM7QUFDQUYsNEJBQWdCQyxhQUFoQixHQUFnQ3hCLEtBQWhDO0FBQ0Q7QUFDRjtBQUNGLE9BdkRtQjs7QUE2RHBCNkIsMEJBQW9CLDhCQUFXO0FBQzdCLGVBQU9BLG9CQUFtQjlCLEtBQW5CLENBQXlCd0IsZUFBekIsRUFBMEN6QixTQUExQyxDQUFQO0FBQ0QsT0EvRG1COztBQWlFcEI2QixzQkFBZ0IsMEJBQVc7QUFDekIsZUFBT0osZ0JBQWdCaEMsZUFBdkI7QUFDRCxPQW5FbUI7O0FBcUVwQnFDLHdCQUFrQiw0QkFBVztBQUMzQixZQUFJTCxnQkFBZ0JoQyxlQUFwQixFQUFxQztBQUNuQyxjQUFJUyxRQUFRdUIsZ0JBQWdCL0IsWUFBNUI7QUFDQStCLDBCQUFnQi9CLFlBQWhCLEdBQStCLElBQS9CO0FBQ0ErQiwwQkFBZ0JoQyxlQUFoQixHQUFrQyxLQUFsQztBQUNBLGlCQUFPUyxLQUFQO0FBQ0QsU0FMRCxNQUtPO0FBQ0xqQyxvQkFDRSxLQURGLEVBRUUsdUVBQ0UsMkRBSEo7QUFLRDtBQUNGO0FBbEZtQixLQUF0Qjs7QUFxRkEsUUFBSThELHNCQUFxQixTQUFyQkEsbUJBQXFCLEdBQVc7QUFDbEMsVUFBSU4sZ0JBQWdCRSxnQkFBcEIsRUFBc0M7QUFDcEMsWUFBSXpCLFFBQVF1QixnQkFBZ0JDLGFBQTVCO0FBQ0FELHdCQUFnQkMsYUFBaEIsR0FBZ0MsSUFBaEM7QUFDQUQsd0JBQWdCRSxnQkFBaEIsR0FBbUMsS0FBbkM7QUFDQSxjQUFNekIsS0FBTjtBQUNEO0FBQ0YsS0FQRDs7QUFZQSxRQUFJOEIsbUJBQW1CLElBQXZCOztBQUtBLFFBQUlDLGlCQUFpQixFQUFyQjs7QUFPQSxhQUFTQyx1QkFBVCxHQUFtQztBQUNqQyxVQUFJLENBQUNGLGdCQUFMLEVBQXVCO0FBRXJCO0FBQ0Q7QUFDRCxXQUFLLElBQUlHLFVBQVQsSUFBdUJGLGNBQXZCLEVBQXVDO0FBQ3JDLFlBQUlHLGVBQWVILGVBQWVFLFVBQWYsQ0FBbkI7QUFDQSxZQUFJRSxjQUFjTCxpQkFBaUJNLE9BQWpCLENBQXlCSCxVQUF6QixDQUFsQjtBQUNBbEUsa0JBQ0VvRSxjQUFjLENBQUMsQ0FEakIsRUFFRSwyRUFDRSw0QkFISixFQUlFRixVQUpGO0FBTUEsWUFBSUksUUFBUUYsV0FBUixDQUFKLEVBQTBCO0FBQ3hCO0FBQ0Q7QUFDRHBFLGtCQUNFbUUsYUFBYUksYUFEZixFQUVFLDBFQUNFLDRCQUhKLEVBSUVMLFVBSkY7QUFNQUksZ0JBQVFGLFdBQVIsSUFBdUJELFlBQXZCO0FBQ0EsWUFBSUssa0JBQWtCTCxhQUFhTSxVQUFuQztBQUNBLGFBQUssSUFBSUMsU0FBVCxJQUFzQkYsZUFBdEIsRUFBdUM7QUFDckN4RSxvQkFDRTJFLHNCQUNFSCxnQkFBZ0JFLFNBQWhCLENBREYsRUFFRVAsWUFGRixFQUdFTyxTQUhGLENBREYsRUFNRSxvRUFORixFQU9FQSxTQVBGLEVBUUVSLFVBUkY7QUFVRDtBQUNGO0FBQ0Y7O0FBVUQsYUFBU1MscUJBQVQsQ0FBK0JDLGNBQS9CLEVBQStDVCxZQUEvQyxFQUE2RE8sU0FBN0QsRUFBd0U7QUFDdEUxRSxnQkFDRSxDQUFDNkUseUJBQXlCQyxjQUF6QixDQUF3Q0osU0FBeEMsQ0FESCxFQUVFLHdFQUNFLG1CQUhKLEVBSUVBLFNBSkY7QUFNQUcsK0JBQXlCSCxTQUF6QixJQUFzQ0UsY0FBdEM7O0FBRUEsVUFBSUcsMEJBQTBCSCxlQUFlRyx1QkFBN0M7QUFDQSxVQUFJQSx1QkFBSixFQUE2QjtBQUMzQixhQUFLLElBQUlDLFNBQVQsSUFBc0JELHVCQUF0QixFQUErQztBQUM3QyxjQUFJQSx3QkFBd0JELGNBQXhCLENBQXVDRSxTQUF2QyxDQUFKLEVBQXVEO0FBQ3JELGdCQUFJQyx5QkFBeUJGLHdCQUF3QkMsU0FBeEIsQ0FBN0I7QUFDQUUsb0NBQ0VELHNCQURGLEVBRUVkLFlBRkYsRUFHRU8sU0FIRjtBQUtEO0FBQ0Y7QUFDRCxlQUFPLElBQVA7QUFDRCxPQVpELE1BWU8sSUFBSUUsZUFBZU8sZ0JBQW5CLEVBQXFDO0FBQzFDRCxnQ0FDRU4sZUFBZU8sZ0JBRGpCLEVBRUVoQixZQUZGLEVBR0VPLFNBSEY7QUFLQSxlQUFPLElBQVA7QUFDRDtBQUNELGFBQU8sS0FBUDtBQUNEOztBQVNELGFBQVNRLHVCQUFULENBQWlDQyxnQkFBakMsRUFBbURoQixZQUFuRCxFQUFpRU8sU0FBakUsRUFBNEU7QUFDMUUxRSxnQkFDRSxDQUFDb0Ysd0JBQXdCRCxnQkFBeEIsQ0FESCxFQUVFLHdFQUNFLDBCQUhKLEVBSUVBLGdCQUpGO0FBTUFDLDhCQUF3QkQsZ0JBQXhCLElBQTRDaEIsWUFBNUM7QUFDQWtCLG1DQUE2QkYsZ0JBQTdCLElBQ0VoQixhQUFhTSxVQUFiLENBQXdCQyxTQUF4QixFQUFtQ1ksWUFEckM7O0FBR0E7QUFDRSxZQUFJQyxpQkFBaUJKLGlCQUFpQkssV0FBakIsRUFBckI7QUFDRDtBQUNGOztBQVdELFFBQUlsQixVQUFVLEVBQWQ7O0FBS0EsUUFBSU8sMkJBQTJCLEVBQS9COztBQUtBLFFBQUlPLDBCQUEwQixFQUE5Qjs7QUFLQSxRQUFJQywrQkFBK0IsRUFBbkM7O0FBb0JBLGFBQVNJLHNCQUFULENBQWdDQyx3QkFBaEMsRUFBMEQ7QUFDeEQxRixnQkFDRSxDQUFDK0QsZ0JBREgsRUFFRSx3RUFDRSxrRUFISjs7QUFNQUEseUJBQW1CcEMsTUFBTUMsU0FBTixDQUFnQkMsS0FBaEIsQ0FBc0JDLElBQXRCLENBQTJCNEQsd0JBQTNCLENBQW5CO0FBQ0F6QjtBQUNEOztBQVlELGFBQVMwQix3QkFBVCxDQUFrQ0Msc0JBQWxDLEVBQTBEO0FBQ3hELFVBQUlDLGtCQUFrQixLQUF0QjtBQUNBLFdBQUssSUFBSTNCLFVBQVQsSUFBdUIwQixzQkFBdkIsRUFBK0M7QUFDN0MsWUFBSSxDQUFDQSx1QkFBdUJkLGNBQXZCLENBQXNDWixVQUF0QyxDQUFMLEVBQXdEO0FBQ3REO0FBQ0Q7QUFDRCxZQUFJQyxlQUFleUIsdUJBQXVCMUIsVUFBdkIsQ0FBbkI7QUFDQSxZQUNFLENBQUNGLGVBQWVjLGNBQWYsQ0FBOEJaLFVBQTlCLENBQUQsSUFDQUYsZUFBZUUsVUFBZixNQUErQkMsWUFGakMsRUFHRTtBQUNBbkUsb0JBQ0UsQ0FBQ2dFLGVBQWVFLFVBQWYsQ0FESCxFQUVFLG9FQUNFLDRCQUhKLEVBSUVBLFVBSkY7QUFNQUYseUJBQWVFLFVBQWYsSUFBNkJDLFlBQTdCO0FBQ0EwQiw0QkFBa0IsSUFBbEI7QUFDRDtBQUNGO0FBQ0QsVUFBSUEsZUFBSixFQUFxQjtBQUNuQjVCO0FBQ0Q7QUFDRjs7QUFFRCxRQUFJNkIsK0JBQStCLElBQW5DO0FBQ0EsUUFBSUMsc0JBQXNCLElBQTFCO0FBQ0EsUUFBSUMsc0JBQXNCLElBQTFCOztBQUVBLFFBQUlDLGNBQWM7QUFDaEJDLDJCQUFxQiw2QkFBU0MsUUFBVCxFQUFtQjtBQUN0Q0wsdUNBQStCSyxTQUFTTCw0QkFBeEM7QUFDQUMsOEJBQXNCSSxTQUFTSixtQkFBL0I7QUFDQUMsOEJBQXNCRyxTQUFTSCxtQkFBL0I7O0FBRUE7QUFDRS9GLGtCQUNFK0YsdUJBQXVCRCxtQkFEekIsRUFFRSxtRUFDRSwrREFISjtBQUtEO0FBQ0Y7QUFiZSxLQUFsQjs7QUFnQkEsYUFBU0ssUUFBVCxDQUFrQkMsWUFBbEIsRUFBZ0M7QUFDOUIsYUFDRUEsaUJBQWlCLFlBQWpCLElBQ0FBLGlCQUFpQixhQURqQixJQUVBQSxpQkFBaUIsZ0JBSG5CO0FBS0Q7O0FBRUQsYUFBU0MsU0FBVCxDQUFtQkQsWUFBbkIsRUFBaUM7QUFDL0IsYUFBT0EsaUJBQWlCLGNBQWpCLElBQW1DQSxpQkFBaUIsY0FBM0Q7QUFDRDtBQUNELGFBQVNFLFVBQVQsQ0FBb0JGLFlBQXBCLEVBQWtDO0FBQ2hDLGFBQU9BLGlCQUFpQixjQUFqQixJQUFtQ0EsaUJBQWlCLGVBQTNEO0FBQ0Q7O0FBRUQsUUFBSUcsMEJBQTBCLEtBQUssQ0FBbkM7QUFDQTtBQUNFQSxnQ0FBMEIsaUNBQVN2RCxLQUFULEVBQWdCO0FBQ3hDLFlBQUl3RCxvQkFBb0J4RCxNQUFNeUQsa0JBQTlCO0FBQ0EsWUFBSUMsb0JBQW9CMUQsTUFBTTJELGtCQUE5Qjs7QUFFQSxZQUFJQyxpQkFBaUJsRixNQUFNbUYsT0FBTixDQUFjTCxpQkFBZCxDQUFyQjtBQUNBLFlBQUlNLGVBQWVGLGlCQUNmSixrQkFBa0JPLE1BREgsR0FFZlAsb0JBQW9CLENBQXBCLEdBQXdCLENBRjVCOztBQUlBLFlBQUlRLGlCQUFpQnRGLE1BQU1tRixPQUFOLENBQWNILGlCQUFkLENBQXJCO0FBQ0EsWUFBSU8sZUFBZUQsaUJBQ2ZOLGtCQUFrQkssTUFESCxHQUVmTCxvQkFBb0IsQ0FBcEIsR0FBd0IsQ0FGNUI7O0FBSUExRyxnQkFDRWdILG1CQUFtQkosY0FBbkIsSUFBcUNLLGlCQUFpQkgsWUFEeEQsRUFFRSxvQ0FGRjtBQUlELE9BbEJEO0FBbUJEOztBQVNELGFBQVNJLGVBQVQsQ0FBeUJsRSxLQUF6QixFQUFnQ21FLFNBQWhDLEVBQTJDQyxRQUEzQyxFQUFxREMsSUFBckQsRUFBMkQ7QUFDekQsVUFBSUMsT0FBT3RFLE1BQU1zRSxJQUFOLElBQWMsZUFBekI7QUFDQXRFLFlBQU11RSxhQUFOLEdBQXNCeEIsb0JBQW9Cc0IsSUFBcEIsQ0FBdEI7QUFDQTlELHNCQUFnQkcsdUNBQWhCLENBQ0U0RCxJQURGLEVBRUVGLFFBRkYsRUFHRUksU0FIRixFQUlFeEUsS0FKRjtBQU1BQSxZQUFNdUUsYUFBTixHQUFzQixJQUF0QjtBQUNEOztBQUtELGFBQVNFLHdCQUFULENBQWtDekUsS0FBbEMsRUFBeUNtRSxTQUF6QyxFQUFvRDtBQUNsRCxVQUFJWCxvQkFBb0J4RCxNQUFNeUQsa0JBQTlCO0FBQ0EsVUFBSUMsb0JBQW9CMUQsTUFBTTJELGtCQUE5QjtBQUNBO0FBQ0VKLGdDQUF3QnZELEtBQXhCO0FBQ0Q7QUFDRCxVQUFJdEIsTUFBTW1GLE9BQU4sQ0FBY0wsaUJBQWQsQ0FBSixFQUFzQztBQUNwQyxhQUFLLElBQUlrQixJQUFJLENBQWIsRUFBZ0JBLElBQUlsQixrQkFBa0JPLE1BQXRDLEVBQThDVyxHQUE5QyxFQUFtRDtBQUNqRCxjQUFJMUUsTUFBTTJFLG9CQUFOLEVBQUosRUFBa0M7QUFDaEM7QUFDRDs7QUFFRFQsMEJBQ0VsRSxLQURGLEVBRUVtRSxTQUZGLEVBR0VYLGtCQUFrQmtCLENBQWxCLENBSEYsRUFJRWhCLGtCQUFrQmdCLENBQWxCLENBSkY7QUFNRDtBQUNGLE9BYkQsTUFhTyxJQUFJbEIsaUJBQUosRUFBdUI7QUFDNUJVLHdCQUFnQmxFLEtBQWhCLEVBQXVCbUUsU0FBdkIsRUFBa0NYLGlCQUFsQyxFQUFxREUsaUJBQXJEO0FBQ0Q7QUFDRDFELFlBQU15RCxrQkFBTixHQUEyQixJQUEzQjtBQUNBekQsWUFBTTJELGtCQUFOLEdBQTJCLElBQTNCO0FBQ0Q7O0FBU0QsYUFBU2lCLHNDQUFULENBQWdENUUsS0FBaEQsRUFBdUQ7QUFDckQsVUFBSXdELG9CQUFvQnhELE1BQU15RCxrQkFBOUI7QUFDQSxVQUFJQyxvQkFBb0IxRCxNQUFNMkQsa0JBQTlCO0FBQ0E7QUFDRUosZ0NBQXdCdkQsS0FBeEI7QUFDRDtBQUNELFVBQUl0QixNQUFNbUYsT0FBTixDQUFjTCxpQkFBZCxDQUFKLEVBQXNDO0FBQ3BDLGFBQUssSUFBSWtCLElBQUksQ0FBYixFQUFnQkEsSUFBSWxCLGtCQUFrQk8sTUFBdEMsRUFBOENXLEdBQTlDLEVBQW1EO0FBQ2pELGNBQUkxRSxNQUFNMkUsb0JBQU4sRUFBSixFQUFrQztBQUNoQztBQUNEOztBQUVELGNBQUluQixrQkFBa0JrQixDQUFsQixFQUFxQjFFLEtBQXJCLEVBQTRCMEQsa0JBQWtCZ0IsQ0FBbEIsQ0FBNUIsQ0FBSixFQUF1RDtBQUNyRCxtQkFBT2hCLGtCQUFrQmdCLENBQWxCLENBQVA7QUFDRDtBQUNGO0FBQ0YsT0FWRCxNQVVPLElBQUlsQixpQkFBSixFQUF1QjtBQUM1QixZQUFJQSxrQkFBa0J4RCxLQUFsQixFQUF5QjBELGlCQUF6QixDQUFKLEVBQWlEO0FBQy9DLGlCQUFPQSxpQkFBUDtBQUNEO0FBQ0Y7QUFDRCxhQUFPLElBQVA7QUFDRDs7QUFLRCxhQUFTbUIsa0NBQVQsQ0FBNEM3RSxLQUE1QyxFQUFtRDtBQUNqRCxVQUFJOEUsTUFBTUYsdUNBQXVDNUUsS0FBdkMsQ0FBVjtBQUNBQSxZQUFNMkQsa0JBQU4sR0FBMkIsSUFBM0I7QUFDQTNELFlBQU15RCxrQkFBTixHQUEyQixJQUEzQjtBQUNBLGFBQU9xQixHQUFQO0FBQ0Q7O0FBV0QsYUFBU0MscUJBQVQsQ0FBK0IvRSxLQUEvQixFQUFzQztBQUNwQztBQUNFdUQsZ0NBQXdCdkQsS0FBeEI7QUFDRDtBQUNELFVBQUlnRixtQkFBbUJoRixNQUFNeUQsa0JBQTdCO0FBQ0EsVUFBSXdCLG1CQUFtQmpGLE1BQU0yRCxrQkFBN0I7QUFDQTVHLGdCQUNFLENBQUMyQixNQUFNbUYsT0FBTixDQUFjbUIsZ0JBQWQsQ0FESCxFQUVFLDhDQUZGO0FBSUFoRixZQUFNdUUsYUFBTixHQUFzQlMsbUJBQ2xCakMsb0JBQW9Ca0MsZ0JBQXBCLENBRGtCLEdBRWxCLElBRko7QUFHQSxVQUFJQyxNQUFNRixtQkFBbUJBLGlCQUFpQmhGLEtBQWpCLENBQW5CLEdBQTZDLElBQXZEO0FBQ0FBLFlBQU11RSxhQUFOLEdBQXNCLElBQXRCO0FBQ0F2RSxZQUFNeUQsa0JBQU4sR0FBMkIsSUFBM0I7QUFDQXpELFlBQU0yRCxrQkFBTixHQUEyQixJQUEzQjtBQUNBLGFBQU91QixHQUFQO0FBQ0Q7O0FBTUQsYUFBU0MsYUFBVCxDQUF1Qm5GLEtBQXZCLEVBQThCO0FBQzVCLGFBQU8sQ0FBQyxDQUFDQSxNQUFNeUQsa0JBQWY7QUFDRDs7QUFlRCxhQUFTMkIsY0FBVCxDQUF3QkMsT0FBeEIsRUFBaUNDLElBQWpDLEVBQXVDO0FBQ3JDdkksZ0JBQ0V1SSxRQUFRLElBRFYsRUFFRSx1RUFGRjs7QUFLQSxVQUFJRCxXQUFXLElBQWYsRUFBcUI7QUFDbkIsZUFBT0MsSUFBUDtBQUNEOztBQUlELFVBQUk1RyxNQUFNbUYsT0FBTixDQUFjd0IsT0FBZCxDQUFKLEVBQTRCO0FBQzFCLFlBQUkzRyxNQUFNbUYsT0FBTixDQUFjeUIsSUFBZCxDQUFKLEVBQXlCO0FBQ3ZCRCxrQkFBUUUsSUFBUixDQUFheEcsS0FBYixDQUFtQnNHLE9BQW5CLEVBQTRCQyxJQUE1QjtBQUNBLGlCQUFPRCxPQUFQO0FBQ0Q7QUFDREEsZ0JBQVFFLElBQVIsQ0FBYUQsSUFBYjtBQUNBLGVBQU9ELE9BQVA7QUFDRDs7QUFFRCxVQUFJM0csTUFBTW1GLE9BQU4sQ0FBY3lCLElBQWQsQ0FBSixFQUF5QjtBQUV2QixlQUFPLENBQUNELE9BQUQsRUFBVUcsTUFBVixDQUFpQkYsSUFBakIsQ0FBUDtBQUNEOztBQUVELGFBQU8sQ0FBQ0QsT0FBRCxFQUFVQyxJQUFWLENBQVA7QUFDRDs7QUFXRCxhQUFTRyxrQkFBVCxDQUE0QkMsR0FBNUIsRUFBaUNDLEVBQWpDLEVBQXFDQyxLQUFyQyxFQUE0QztBQUMxQyxVQUFJbEgsTUFBTW1GLE9BQU4sQ0FBYzZCLEdBQWQsQ0FBSixFQUF3QjtBQUN0QkEsWUFBSUcsT0FBSixDQUFZRixFQUFaLEVBQWdCQyxLQUFoQjtBQUNELE9BRkQsTUFFTyxJQUFJRixHQUFKLEVBQVM7QUFDZEMsV0FBRzlHLElBQUgsQ0FBUStHLEtBQVIsRUFBZUYsR0FBZjtBQUNEO0FBQ0Y7O0FBTUQsUUFBSUksYUFBYSxJQUFqQjs7QUFTQSxRQUFJQyw4QkFBOEIsU0FBOUJBLDJCQUE4QixDQUFTL0YsS0FBVCxFQUFnQm1FLFNBQWhCLEVBQTJCO0FBQzNELFVBQUluRSxLQUFKLEVBQVc7QUFDVHlFLGlDQUF5QnpFLEtBQXpCLEVBQWdDbUUsU0FBaEM7O0FBRUEsWUFBSSxDQUFDbkUsTUFBTWdHLFlBQU4sRUFBTCxFQUEyQjtBQUN6QmhHLGdCQUFNaUcsV0FBTixDQUFrQkMsT0FBbEIsQ0FBMEJsRyxLQUExQjtBQUNEO0FBQ0Y7QUFDRixLQVJEO0FBU0EsUUFBSW1HLHVDQUF1QyxTQUF2Q0Esb0NBQXVDLENBQVM5SCxDQUFULEVBQVk7QUFDckQsYUFBTzBILDRCQUE0QjFILENBQTVCLEVBQStCLElBQS9CLENBQVA7QUFDRCxLQUZEO0FBR0EsUUFBSStILHNDQUFzQyxTQUF0Q0EsbUNBQXNDLENBQVMvSCxDQUFULEVBQVk7QUFDcEQsYUFBTzBILDRCQUE0QjFILENBQTVCLEVBQStCLEtBQS9CLENBQVA7QUFDRCxLQUZEOztBQUlBLGFBQVNnSSxhQUFULENBQXVCQyxHQUF2QixFQUE0QjtBQUMxQixhQUNFQSxRQUFRLFFBQVIsSUFDQUEsUUFBUSxPQURSLElBRUFBLFFBQVEsUUFGUixJQUdBQSxRQUFRLFVBSlY7QUFNRDs7QUFFRCxhQUFTQyx1QkFBVCxDQUFpQ3pJLElBQWpDLEVBQXVDd0csSUFBdkMsRUFBNkNrQyxLQUE3QyxFQUFvRDtBQUNsRCxjQUFRMUksSUFBUjtBQUNFLGFBQUssU0FBTDtBQUNBLGFBQUssZ0JBQUw7QUFDQSxhQUFLLGVBQUw7QUFDQSxhQUFLLHNCQUFMO0FBQ0EsYUFBSyxhQUFMO0FBQ0EsYUFBSyxvQkFBTDtBQUNBLGFBQUssYUFBTDtBQUNBLGFBQUssb0JBQUw7QUFDQSxhQUFLLFdBQUw7QUFDQSxhQUFLLGtCQUFMO0FBQ0UsaUJBQU8sQ0FBQyxFQUFFMEksTUFBTUMsUUFBTixJQUFrQkosY0FBYy9CLElBQWQsQ0FBcEIsQ0FBUjtBQUNGO0FBQ0UsaUJBQU8sS0FBUDtBQWJKO0FBZUQ7O0FBNEJELFFBQUlvQyxZQUFZO0FBS2RsRSw4QkFBd0JBLHNCQUxWOztBQVVkRSxnQ0FBMEJBO0FBVlosS0FBaEI7O0FBa0JBLGFBQVNpRSxXQUFULENBQXFCdEMsSUFBckIsRUFBMkJuQyxnQkFBM0IsRUFBNkM7QUFDM0MsVUFBSWtDLFdBQVcsS0FBSyxDQUFwQjs7QUFJQSxVQUFJd0MsWUFBWXZDLEtBQUt1QyxTQUFyQjtBQUNBLFVBQUksQ0FBQ0EsU0FBTCxFQUFnQjtBQUVkLGVBQU8sSUFBUDtBQUNEO0FBQ0QsVUFBSUosUUFBUTNELDZCQUE2QitELFNBQTdCLENBQVo7QUFDQSxVQUFJLENBQUNKLEtBQUwsRUFBWTtBQUVWLGVBQU8sSUFBUDtBQUNEO0FBQ0RwQyxpQkFBV29DLE1BQU10RSxnQkFBTixDQUFYO0FBQ0EsVUFBSXFFLHdCQUF3QnJFLGdCQUF4QixFQUEwQ21DLEtBQUtDLElBQS9DLEVBQXFEa0MsS0FBckQsQ0FBSixFQUFpRTtBQUMvRCxlQUFPLElBQVA7QUFDRDtBQUNEekosZ0JBQ0UsQ0FBQ3FILFFBQUQsSUFBYSxPQUFPQSxRQUFQLEtBQW9CLFVBRG5DLEVBRUUsNEVBRkYsRUFHRWxDLGdCQUhGLEVBSUUsT0FBT2tDLFFBSlQ7QUFNQSxhQUFPQSxRQUFQO0FBQ0Q7O0FBU0QsYUFBUzlDLGFBQVQsQ0FDRThCLFlBREYsRUFFRXlELFVBRkYsRUFHRUMsV0FIRixFQUlFQyxpQkFKRixFQUtFO0FBQ0EsVUFBSUMsU0FBUyxJQUFiO0FBQ0EsV0FBSyxJQUFJdEMsSUFBSSxDQUFiLEVBQWdCQSxJQUFJckQsUUFBUTBDLE1BQTVCLEVBQW9DVyxHQUFwQyxFQUF5QztBQUV2QyxZQUFJdUMsaUJBQWlCNUYsUUFBUXFELENBQVIsQ0FBckI7QUFDQSxZQUFJdUMsY0FBSixFQUFvQjtBQUNsQixjQUFJQyxrQkFBa0JELGVBQWUzRixhQUFmLENBQ3BCOEIsWUFEb0IsRUFFcEJ5RCxVQUZvQixFQUdwQkMsV0FIb0IsRUFJcEJDLGlCQUpvQixDQUF0QjtBQU1BLGNBQUlHLGVBQUosRUFBcUI7QUFDbkJGLHFCQUFTNUIsZUFBZTRCLE1BQWYsRUFBdUJFLGVBQXZCLENBQVQ7QUFDRDtBQUNGO0FBQ0Y7QUFDRCxhQUFPRixNQUFQO0FBQ0Q7O0FBRUQsYUFBU0csZ0JBQVQsQ0FBMEJILE1BQTFCLEVBQWtDN0MsU0FBbEMsRUFBNkM7QUFDM0MsVUFBSTZDLFdBQVcsSUFBZixFQUFxQjtBQUNuQmxCLHFCQUFhVixlQUFlVSxVQUFmLEVBQTJCa0IsTUFBM0IsQ0FBYjtBQUNEOztBQUlELFVBQUlJLHVCQUF1QnRCLFVBQTNCO0FBQ0FBLG1CQUFhLElBQWI7O0FBRUEsVUFBSSxDQUFDc0Isb0JBQUwsRUFBMkI7QUFDekI7QUFDRDs7QUFFRCxVQUFJakQsU0FBSixFQUFlO0FBQ2JzQiwyQkFDRTJCLG9CQURGLEVBRUVqQixvQ0FGRjtBQUlELE9BTEQsTUFLTztBQUNMViwyQkFDRTJCLG9CQURGLEVBRUVoQixtQ0FGRjtBQUlEO0FBQ0RySixnQkFDRSxDQUFDK0ksVUFESCxFQUVFLDJFQUNFLGdFQUhKOztBQU1BdkYsc0JBQWdCTSxrQkFBaEI7QUFDRDs7QUFFRCxhQUFTd0cseUJBQVQsQ0FDRWpFLFlBREYsRUFFRXlELFVBRkYsRUFHRUMsV0FIRixFQUlFQyxpQkFKRixFQUtFO0FBQ0EsVUFBSUMsU0FBUzFGLGNBQ1g4QixZQURXLEVBRVh5RCxVQUZXLEVBR1hDLFdBSFcsRUFJWEMsaUJBSlcsQ0FBYjtBQU1BSSx1QkFBaUJILE1BQWpCLEVBQXlCLEtBQXpCO0FBQ0Q7O0FBRUQsUUFBSU0seUJBQXlCLENBQTdCO0FBQ0EsUUFBSUMsc0JBQXNCLENBQTFCO0FBQ0EsUUFBSUMsaUJBQWlCLENBQXJCO0FBQ0EsUUFBSUMsV0FBVyxDQUFmO0FBQ0EsUUFBSUMsYUFBYSxDQUFqQjtBQUNBLFFBQUlDLGdCQUFnQixDQUFwQjtBQUNBLFFBQUlDLFdBQVcsQ0FBZjtBQUNBLFFBQUlDLGdCQUFnQixDQUFwQjtBQUNBLFFBQUlDLG1CQUFtQixDQUF2QjtBQUNBLFFBQUlDLGtCQUFrQixDQUF0QjtBQUNBLFFBQUlDLFdBQVcsRUFBZjtBQUNBLFFBQUlDLE9BQU8sRUFBWDtBQUNBLFFBQUlDLGtCQUFrQixFQUF0QjtBQUNBLFFBQUlDLGtCQUFrQixFQUF0Qjs7QUFFQSxhQUFTQyxTQUFULENBQW1CL0QsSUFBbkIsRUFBeUI7QUFDdkIsU0FBRztBQUNEQSxlQUFPQSxLQUFLLFFBQUwsQ0FBUDtBQU1ELE9BUEQsUUFPU0EsUUFBUUEsS0FBS2lDLEdBQUwsS0FBYXFCLGFBUDlCO0FBUUEsVUFBSXRELElBQUosRUFBVTtBQUNSLGVBQU9BLElBQVA7QUFDRDtBQUNELGFBQU8sSUFBUDtBQUNEOztBQU1ELGFBQVNnRSx1QkFBVCxDQUFpQ0MsS0FBakMsRUFBd0NDLEtBQXhDLEVBQStDO0FBQzdDLFVBQUlDLFNBQVMsQ0FBYjtBQUNBLFdBQUssSUFBSUMsUUFBUUgsS0FBakIsRUFBd0JHLEtBQXhCLEVBQStCQSxRQUFRTCxVQUFVSyxLQUFWLENBQXZDLEVBQXlEO0FBQ3ZERDtBQUNEO0FBQ0QsVUFBSUUsU0FBUyxDQUFiO0FBQ0EsV0FBSyxJQUFJQyxRQUFRSixLQUFqQixFQUF3QkksS0FBeEIsRUFBK0JBLFFBQVFQLFVBQVVPLEtBQVYsQ0FBdkMsRUFBeUQ7QUFDdkREO0FBQ0Q7O0FBR0QsYUFBT0YsU0FBU0UsTUFBVCxHQUFrQixDQUF6QixFQUE0QjtBQUMxQkosZ0JBQVFGLFVBQVVFLEtBQVYsQ0FBUjtBQUNBRTtBQUNEOztBQUdELGFBQU9FLFNBQVNGLE1BQVQsR0FBa0IsQ0FBekIsRUFBNEI7QUFDMUJELGdCQUFRSCxVQUFVRyxLQUFWLENBQVI7QUFDQUc7QUFDRDs7QUFHRCxVQUFJRSxRQUFRSixNQUFaO0FBQ0EsYUFBT0ksT0FBUCxFQUFnQjtBQUNkLFlBQUlOLFVBQVVDLEtBQVYsSUFBbUJELFVBQVVDLE1BQU1NLFNBQXZDLEVBQWtEO0FBQ2hELGlCQUFPUCxLQUFQO0FBQ0Q7QUFDREEsZ0JBQVFGLFVBQVVFLEtBQVYsQ0FBUjtBQUNBQyxnQkFBUUgsVUFBVUcsS0FBVixDQUFSO0FBQ0Q7QUFDRCxhQUFPLElBQVA7QUFDRDs7QUFLRCxhQUFTTyxVQUFULENBQW9CUixLQUFwQixFQUEyQkMsS0FBM0IsRUFBa0M7QUFDaEMsYUFBT0EsS0FBUCxFQUFjO0FBQ1osWUFBSUQsVUFBVUMsS0FBVixJQUFtQkQsVUFBVUMsTUFBTU0sU0FBdkMsRUFBa0Q7QUFDaEQsaUJBQU8sSUFBUDtBQUNEO0FBQ0ROLGdCQUFRSCxVQUFVRyxLQUFWLENBQVI7QUFDRDtBQUNELGFBQU8sS0FBUDtBQUNEOztBQUtELGFBQVNRLGlCQUFULENBQTJCMUUsSUFBM0IsRUFBaUM7QUFDL0IsYUFBTytELFVBQVUvRCxJQUFWLENBQVA7QUFDRDs7QUFLRCxhQUFTMkUsZ0JBQVQsQ0FBMEIzRSxJQUExQixFQUFnQzRFLEVBQWhDLEVBQW9DQyxHQUFwQyxFQUF5QztBQUN2QyxVQUFJQyxPQUFPLEVBQVg7QUFDQSxhQUFPOUUsSUFBUCxFQUFhO0FBQ1g4RSxhQUFLNUQsSUFBTCxDQUFVbEIsSUFBVjtBQUNBQSxlQUFPK0QsVUFBVS9ELElBQVYsQ0FBUDtBQUNEO0FBQ0QsVUFBSUssSUFBSSxLQUFLLENBQWI7QUFDQSxXQUFLQSxJQUFJeUUsS0FBS3BGLE1BQWQsRUFBc0JXLE1BQU0sQ0FBNUIsR0FBaUM7QUFDL0J1RSxXQUFHRSxLQUFLekUsQ0FBTCxDQUFILEVBQVksVUFBWixFQUF3QndFLEdBQXhCO0FBQ0Q7QUFDRCxXQUFLeEUsSUFBSSxDQUFULEVBQVlBLElBQUl5RSxLQUFLcEYsTUFBckIsRUFBNkJXLEdBQTdCLEVBQWtDO0FBQ2hDdUUsV0FBR0UsS0FBS3pFLENBQUwsQ0FBSCxFQUFZLFNBQVosRUFBdUJ3RSxHQUF2QjtBQUNEO0FBQ0Y7O0FBY0QsYUFBU0UsZUFBVCxDQUF5Qi9FLElBQXpCLEVBQStCckUsS0FBL0IsRUFBc0NxSixnQkFBdEMsRUFBd0Q7QUFDdEQsVUFBSW5ILG1CQUNGbEMsTUFBTTJCLGNBQU4sQ0FBcUJHLHVCQUFyQixDQUE2Q3VILGdCQUE3QyxDQURGO0FBRUEsYUFBTzFDLFlBQVl0QyxJQUFaLEVBQWtCbkMsZ0JBQWxCLENBQVA7QUFDRDs7QUFrQkQsYUFBU29ILCtCQUFULENBQXlDakYsSUFBekMsRUFBK0NrRixLQUEvQyxFQUFzRHZKLEtBQXRELEVBQTZEO0FBQzNEO0FBQ0VoRCxnQkFBUXFILElBQVIsRUFBYyxtQ0FBZDtBQUNEO0FBQ0QsVUFBSUQsV0FBV2dGLGdCQUFnQi9FLElBQWhCLEVBQXNCckUsS0FBdEIsRUFBNkJ1SixLQUE3QixDQUFmO0FBQ0EsVUFBSW5GLFFBQUosRUFBYztBQUNacEUsY0FBTXlELGtCQUFOLEdBQTJCMkIsZUFDekJwRixNQUFNeUQsa0JBRG1CLEVBRXpCVyxRQUZ5QixDQUEzQjtBQUlBcEUsY0FBTTJELGtCQUFOLEdBQTJCeUIsZUFBZXBGLE1BQU0yRCxrQkFBckIsRUFBeUNVLElBQXpDLENBQTNCO0FBQ0Q7QUFDRjs7QUFTRCxhQUFTbUYsa0NBQVQsQ0FBNEN4SixLQUE1QyxFQUFtRDtBQUNqRCxVQUFJQSxTQUFTQSxNQUFNMkIsY0FBTixDQUFxQkcsdUJBQWxDLEVBQTJEO0FBQ3pEa0gseUJBQWlCaEosTUFBTXlKLFdBQXZCLEVBQW9DSCwrQkFBcEMsRUFBcUV0SixLQUFyRTtBQUNEO0FBQ0Y7O0FBS0QsYUFBUzBKLDRDQUFULENBQXNEMUosS0FBdEQsRUFBNkQ7QUFDM0QsVUFBSUEsU0FBU0EsTUFBTTJCLGNBQU4sQ0FBcUJHLHVCQUFsQyxFQUEyRDtBQUN6RCxZQUFJK0UsYUFBYTdHLE1BQU15SixXQUF2QjtBQUNBLFlBQUlFLGFBQWE5QyxhQUFha0Msa0JBQWtCbEMsVUFBbEIsQ0FBYixHQUE2QyxJQUE5RDtBQUNBbUMseUJBQWlCVyxVQUFqQixFQUE2QkwsK0JBQTdCLEVBQThEdEosS0FBOUQ7QUFDRDtBQUNGOztBQU9ELGFBQVM0SixvQkFBVCxDQUE4QnZGLElBQTlCLEVBQW9Dd0YsZ0JBQXBDLEVBQXNEN0osS0FBdEQsRUFBNkQ7QUFDM0QsVUFBSXFFLFFBQVFyRSxLQUFSLElBQWlCQSxNQUFNMkIsY0FBTixDQUFxQk8sZ0JBQTFDLEVBQTREO0FBQzFELFlBQUlBLG1CQUFtQmxDLE1BQU0yQixjQUFOLENBQXFCTyxnQkFBNUM7QUFDQSxZQUFJa0MsV0FBV3VDLFlBQVl0QyxJQUFaLEVBQWtCbkMsZ0JBQWxCLENBQWY7QUFDQSxZQUFJa0MsUUFBSixFQUFjO0FBQ1pwRSxnQkFBTXlELGtCQUFOLEdBQTJCMkIsZUFDekJwRixNQUFNeUQsa0JBRG1CLEVBRXpCVyxRQUZ5QixDQUEzQjtBQUlBcEUsZ0JBQU0yRCxrQkFBTixHQUEyQnlCLGVBQWVwRixNQUFNMkQsa0JBQXJCLEVBQXlDVSxJQUF6QyxDQUEzQjtBQUNEO0FBQ0Y7QUFDRjs7QUFPRCxhQUFTeUYsZ0NBQVQsQ0FBMEM5SixLQUExQyxFQUFpRDtBQUMvQyxVQUFJQSxTQUFTQSxNQUFNMkIsY0FBTixDQUFxQk8sZ0JBQWxDLEVBQW9EO0FBQ2xEMEgsNkJBQXFCNUosTUFBTXlKLFdBQTNCLEVBQXdDLElBQXhDLEVBQThDekosS0FBOUM7QUFDRDtBQUNGOztBQUVELGFBQVMrSiw0QkFBVCxDQUFzQy9DLE1BQXRDLEVBQThDO0FBQzVDdkIseUJBQW1CdUIsTUFBbkIsRUFBMkJ3QyxrQ0FBM0I7QUFDRDs7QUFFRCxhQUFTUSxzQ0FBVCxDQUFnRGhELE1BQWhELEVBQXdEO0FBQ3REdkIseUJBQW1CdUIsTUFBbkIsRUFBMkIwQyw0Q0FBM0I7QUFDRDs7QUFFRCxhQUFTTywwQkFBVCxDQUFvQ2pELE1BQXBDLEVBQTRDO0FBQzFDdkIseUJBQW1CdUIsTUFBbkIsRUFBMkI4QyxnQ0FBM0I7QUFDRDs7QUFJRCxRQUFJSSw2QkFBNkIsS0FBakM7QUFDQSxRQUFJQyxrQkFBa0IsRUFBdEI7O0FBRUEsUUFBSUMsNkJBQTZCLENBQy9CLGdCQUQrQixFQUUvQixhQUYrQixFQUcvQixhQUgrQixFQUkvQixvQkFKK0IsRUFLL0Isc0JBTCtCLEVBTS9CLG9CQU4rQixFQU8vQixvQkFQK0IsQ0FBakM7O0FBY0EsUUFBSUMsaUJBQWlCO0FBQ25CL0YsWUFBTSxJQURhO0FBRW5CZ0csY0FBUSxJQUZXOztBQUluQi9GLHFCQUFldEgsY0FBY3NOLGVBSlY7QUFLbkJDLGtCQUFZLElBTE87QUFNbkJDLGVBQVMsSUFOVTtBQU9uQkMsa0JBQVksSUFQTztBQVFuQkMsaUJBQVcsbUJBQVMzSyxLQUFULEVBQWdCO0FBQ3pCLGVBQU9BLE1BQU0ySyxTQUFOLElBQW1CQyxLQUFLQyxHQUFMLEVBQTFCO0FBQ0QsT0FWa0I7QUFXbkJDLHdCQUFrQixJQVhDO0FBWW5CQyxpQkFBVztBQVpRLEtBQXJCOztBQWlDQSxhQUFTQyxjQUFULENBQ0VySixjQURGLEVBRUVrRixVQUZGLEVBR0VDLFdBSEYsRUFJRUMsaUJBSkYsRUFLRTtBQUNBO0FBRUUsZUFBTyxLQUFLRCxXQUFaO0FBQ0EsZUFBTyxLQUFLbUUsY0FBWjtBQUNBLGVBQU8sS0FBS0MsZUFBWjtBQUNEOztBQUVELFdBQUt2SixjQUFMLEdBQXNCQSxjQUF0QjtBQUNBLFdBQUs4SCxXQUFMLEdBQW1CNUMsVUFBbkI7QUFDQSxXQUFLQyxXQUFMLEdBQW1CQSxXQUFuQjs7QUFFQSxVQUFJcUUsWUFBWSxLQUFLbEYsV0FBTCxDQUFpQmtGLFNBQWpDO0FBQ0EsV0FBSyxJQUFJQyxRQUFULElBQXFCRCxTQUFyQixFQUFnQztBQUM5QixZQUFJLENBQUNBLFVBQVV0SixjQUFWLENBQXlCdUosUUFBekIsQ0FBTCxFQUF5QztBQUN2QztBQUNEO0FBQ0Q7QUFDRSxpQkFBTyxLQUFLQSxRQUFMLENBQVA7QUFDRDtBQUNELFlBQUlDLFlBQVlGLFVBQVVDLFFBQVYsQ0FBaEI7QUFDQSxZQUFJQyxTQUFKLEVBQWU7QUFDYixlQUFLRCxRQUFMLElBQWlCQyxVQUFVdkUsV0FBVixDQUFqQjtBQUNELFNBRkQsTUFFTztBQUNMLGNBQUlzRSxhQUFhLFFBQWpCLEVBQTJCO0FBQ3pCLGlCQUFLZCxNQUFMLEdBQWN2RCxpQkFBZDtBQUNELFdBRkQsTUFFTztBQUNMLGlCQUFLcUUsUUFBTCxJQUFpQnRFLFlBQVlzRSxRQUFaLENBQWpCO0FBQ0Q7QUFDRjtBQUNGOztBQUVELFVBQUlOLG1CQUNGaEUsWUFBWWdFLGdCQUFaLElBQWdDLElBQWhDLEdBQ0loRSxZQUFZZ0UsZ0JBRGhCLEdBRUloRSxZQUFZd0UsV0FBWixLQUE0QixLQUhsQztBQUlBLFVBQUlSLGdCQUFKLEVBQXNCO0FBQ3BCLGFBQUtTLGtCQUFMLEdBQTBCdE8sY0FBY3VPLGVBQXhDO0FBQ0QsT0FGRCxNQUVPO0FBQ0wsYUFBS0Qsa0JBQUwsR0FBMEJ0TyxjQUFjd08sZ0JBQXhDO0FBQ0Q7QUFDRCxXQUFLOUcsb0JBQUwsR0FBNEIxSCxjQUFjd08sZ0JBQTFDO0FBQ0EsYUFBTyxJQUFQO0FBQ0Q7O0FBRUQsYUFBY1QsZUFBZXJNLFNBQTdCLEVBQXdDO0FBQ3RDc00sc0JBQWdCLDBCQUFXO0FBQ3pCLGFBQUtILGdCQUFMLEdBQXdCLElBQXhCO0FBQ0EsWUFBSTlLLFFBQVEsS0FBSzhHLFdBQWpCO0FBQ0EsWUFBSSxDQUFDOUcsS0FBTCxFQUFZO0FBQ1Y7QUFDRDs7QUFFRCxZQUFJQSxNQUFNaUwsY0FBVixFQUEwQjtBQUN4QmpMLGdCQUFNaUwsY0FBTjtBQUNELFNBRkQsTUFFTyxJQUFJLE9BQU9qTCxNQUFNc0wsV0FBYixLQUE2QixTQUFqQyxFQUE0QztBQUNqRHRMLGdCQUFNc0wsV0FBTixHQUFvQixLQUFwQjtBQUNEO0FBQ0QsYUFBS0Msa0JBQUwsR0FBMEJ0TyxjQUFjdU8sZUFBeEM7QUFDRCxPQWRxQzs7QUFnQnRDTix1QkFBaUIsMkJBQVc7QUFDMUIsWUFBSWxMLFFBQVEsS0FBSzhHLFdBQWpCO0FBQ0EsWUFBSSxDQUFDOUcsS0FBTCxFQUFZO0FBQ1Y7QUFDRDs7QUFFRCxZQUFJQSxNQUFNa0wsZUFBVixFQUEyQjtBQUN6QmxMLGdCQUFNa0wsZUFBTjtBQUNELFNBRkQsTUFFTyxJQUFJLE9BQU9sTCxNQUFNMEwsWUFBYixLQUE4QixTQUFsQyxFQUE2QztBQU1sRDFMLGdCQUFNMEwsWUFBTixHQUFxQixJQUFyQjtBQUNEOztBQUVELGFBQUsvRyxvQkFBTCxHQUE0QjFILGNBQWN1TyxlQUExQztBQUNELE9BbENxQzs7QUF5Q3RDRyxlQUFTLG1CQUFXO0FBQ2xCLGFBQUszRixZQUFMLEdBQW9CL0ksY0FBY3VPLGVBQWxDO0FBQ0QsT0EzQ3FDOztBQWtEdEN4RixvQkFBYy9JLGNBQWN3TyxnQkFsRFU7O0FBdUR0Q0csa0JBQVksc0JBQVc7QUFDckIsWUFBSVQsWUFBWSxLQUFLbEYsV0FBTCxDQUFpQmtGLFNBQWpDO0FBQ0EsYUFBSyxJQUFJQyxRQUFULElBQXFCRCxTQUFyQixFQUFnQztBQUM5QjtBQUNFVSxtQkFBT0MsY0FBUCxDQUNFLElBREYsRUFFRVYsUUFGRixFQUdFVyxtQ0FBbUNYLFFBQW5DLEVBQTZDRCxVQUFVQyxRQUFWLENBQTdDLENBSEY7QUFLRDtBQUNGO0FBQ0QsYUFBSyxJQUFJMUcsSUFBSSxDQUFiLEVBQWdCQSxJQUFJMEYsMkJBQTJCckcsTUFBL0MsRUFBdURXLEdBQXZELEVBQTREO0FBQzFELGVBQUswRiwyQkFBMkIxRixDQUEzQixDQUFMLElBQXNDLElBQXRDO0FBQ0Q7QUFDRDtBQUNFbUgsaUJBQU9DLGNBQVAsQ0FDRSxJQURGLEVBRUUsYUFGRixFQUdFQyxtQ0FBbUMsYUFBbkMsRUFBa0QsSUFBbEQsQ0FIRjtBQUtBRixpQkFBT0MsY0FBUCxDQUNFLElBREYsRUFFRSxnQkFGRixFQUdFQyxtQ0FBbUMsZ0JBQW5DLEVBQXFEOU8sYUFBckQsQ0FIRjtBQUtBNE8saUJBQU9DLGNBQVAsQ0FDRSxJQURGLEVBRUUsaUJBRkYsRUFHRUMsbUNBQW1DLGlCQUFuQyxFQUFzRDlPLGFBQXRELENBSEY7QUFLRDtBQUNGO0FBdEZxQyxLQUF4Qzs7QUF5RkErTixtQkFBZUcsU0FBZixHQUEyQmQsY0FBM0I7O0FBS0FXLG1CQUFlZ0IsTUFBZixHQUF3QixVQUFTYixTQUFULEVBQW9CO0FBQzFDLFVBQUljLFFBQVEsSUFBWjs7QUFFQSxVQUFJQyxJQUFJLFNBQUpBLENBQUksR0FBVyxDQUFFLENBQXJCO0FBQ0FBLFFBQUV2TixTQUFGLEdBQWNzTixNQUFNdE4sU0FBcEI7QUFDQSxVQUFJQSxZQUFZLElBQUl1TixDQUFKLEVBQWhCOztBQUVBLGVBQVNDLEtBQVQsR0FBaUI7QUFDZixlQUFPRixNQUFNbE4sS0FBTixDQUFZLElBQVosRUFBa0JELFNBQWxCLENBQVA7QUFDRDtBQUNELGVBQWNILFNBQWQsRUFBeUJ3TixNQUFNeE4sU0FBL0I7QUFDQXdOLFlBQU14TixTQUFOLEdBQWtCQSxTQUFsQjtBQUNBd04sWUFBTXhOLFNBQU4sQ0FBZ0JzSCxXQUFoQixHQUE4QmtHLEtBQTlCOztBQUVBQSxZQUFNaEIsU0FBTixHQUFrQixTQUFjLEVBQWQsRUFBa0JjLE1BQU1kLFNBQXhCLEVBQW1DQSxTQUFuQyxDQUFsQjtBQUNBZ0IsWUFBTUgsTUFBTixHQUFlQyxNQUFNRCxNQUFyQjtBQUNBSSx3QkFBa0JELEtBQWxCOztBQUVBLGFBQU9BLEtBQVA7QUFDRCxLQW5CRDs7QUF5QkE7QUFDRSxVQUFJRSxtQkFDRixPQUFPQyxLQUFQLEtBQWlCLFVBQWpCLElBRUEsQ0FBQ1QsT0FBT1UsUUFBUCxDQUFnQixJQUFJRCxLQUFKLENBQVUsRUFBVixFQUFjLEVBQWQsQ0FBaEIsQ0FISDs7QUFLQSxVQUFJRCxnQkFBSixFQUFzQjtBQUVwQnJCLHlCQUFpQixJQUFJc0IsS0FBSixDQUFVdEIsY0FBVixFQUEwQjtBQUN6Q3dCLHFCQUFXLG1CQUFTbEMsTUFBVCxFQUFpQm1DLElBQWpCLEVBQXVCO0FBQ2hDLG1CQUFPLEtBQUsxTixLQUFMLENBQVd1TCxNQUFYLEVBQW1CdUIsT0FBT2EsTUFBUCxDQUFjcEMsT0FBTzNMLFNBQXJCLENBQW5CLEVBQW9EOE4sSUFBcEQsQ0FBUDtBQUNELFdBSHdDO0FBSXpDMU4saUJBQU8sZUFBU2tILFdBQVQsRUFBc0IwRyxJQUF0QixFQUE0QkYsSUFBNUIsRUFBa0M7QUFDdkMsbUJBQU8sSUFBSUgsS0FBSixDQUFVckcsWUFBWWxILEtBQVosQ0FBa0I0TixJQUFsQixFQUF3QkYsSUFBeEIsQ0FBVixFQUF5QztBQUM5Q0csbUJBQUssYUFBU3RDLE1BQVQsRUFBaUJ1QyxJQUFqQixFQUF1QkMsS0FBdkIsRUFBOEI7QUFDakMsb0JBQ0VELFNBQVMsY0FBVCxJQUNBLENBQUN2QyxPQUFPckUsV0FBUCxDQUFtQmtGLFNBQW5CLENBQTZCdEosY0FBN0IsQ0FBNENnTCxJQUE1QyxDQURELElBRUF6QywyQkFBMkJoSixPQUEzQixDQUFtQ3lMLElBQW5DLE1BQTZDLENBQUMsQ0FIaEQsRUFJRTtBQUNBN1AsMEJBQ0VrTiw4QkFBOEJJLE9BQU90RSxZQUFQLEVBRGhDLEVBRUUsdUVBQ0UsMkVBREYsR0FFRSxzQ0FGRixHQUdFLHlEQUxKO0FBT0FrRSwrQ0FBNkIsSUFBN0I7QUFDRDtBQUNESSx1QkFBT3VDLElBQVAsSUFBZUMsS0FBZjtBQUNBLHVCQUFPLElBQVA7QUFDRDtBQWxCNkMsYUFBekMsQ0FBUDtBQW9CRDtBQXpCd0MsU0FBMUIsQ0FBakI7QUE0QkQ7QUFDRjs7QUFFRFYsc0JBQWtCcEIsY0FBbEI7O0FBU0EsYUFBU2Usa0NBQVQsQ0FBNENYLFFBQTVDLEVBQXNEMkIsTUFBdEQsRUFBOEQ7QUFDNUQsVUFBSUMsYUFBYSxPQUFPRCxNQUFQLEtBQWtCLFVBQW5DO0FBQ0EsYUFBTztBQUNMRSxzQkFBYyxJQURUO0FBRUxMLGFBQUtBLEdBRkE7QUFHTE0sYUFBS0E7QUFIQSxPQUFQOztBQU1BLGVBQVNOLEdBQVQsQ0FBYU8sR0FBYixFQUFrQjtBQUNoQixZQUFJQyxTQUFTSixhQUFhLG9CQUFiLEdBQW9DLHNCQUFqRDtBQUNBSyxhQUFLRCxNQUFMLEVBQWEsNkJBQWI7QUFDQSxlQUFPRCxHQUFQO0FBQ0Q7O0FBRUQsZUFBU0QsR0FBVCxHQUFlO0FBQ2IsWUFBSUUsU0FBU0osYUFBYSxzQkFBYixHQUFzQyx3QkFBbkQ7QUFDQSxZQUFJTSxTQUFTTixhQUNULDBCQURTLEdBRVQscUJBRko7QUFHQUssYUFBS0QsTUFBTCxFQUFhRSxNQUFiO0FBQ0EsZUFBT1AsTUFBUDtBQUNEOztBQUVELGVBQVNNLElBQVQsQ0FBY0QsTUFBZCxFQUFzQkUsTUFBdEIsRUFBOEI7QUFDNUIsWUFBSUMsbUJBQW1CLEtBQXZCO0FBQ0F2USxnQkFDRXVRLGdCQURGLEVBRUUsb0ZBQ0UsOERBREYsR0FFRSw2RUFGRixHQUdFLDZEQUxKLEVBTUVILE1BTkYsRUFPRWhDLFFBUEYsRUFRRWtDLE1BUkY7QUFVRDtBQUNGOztBQUVELGFBQVNFLGNBQVQsQ0FBd0I3TCxjQUF4QixFQUF3Q2tGLFVBQXhDLEVBQW9EQyxXQUFwRCxFQUFpRTJHLFVBQWpFLEVBQTZFO0FBQzNFLFVBQUlDLG1CQUFtQixJQUF2QjtBQUNBLFVBQUlBLGlCQUFpQkMsU0FBakIsQ0FBMkI1SixNQUEvQixFQUF1QztBQUNyQyxZQUFJNkosV0FBV0YsaUJBQWlCQyxTQUFqQixDQUEyQkUsR0FBM0IsRUFBZjtBQUNBSCx5QkFBaUI3TyxJQUFqQixDQUNFK08sUUFERixFQUVFak0sY0FGRixFQUdFa0YsVUFIRixFQUlFQyxXQUpGLEVBS0UyRyxVQUxGO0FBT0EsZUFBT0csUUFBUDtBQUNEO0FBQ0QsYUFBTyxJQUFJRixnQkFBSixDQUNML0wsY0FESyxFQUVMa0YsVUFGSyxFQUdMQyxXQUhLLEVBSUwyRyxVQUpLLENBQVA7QUFNRDs7QUFFRCxhQUFTSyxrQkFBVCxDQUE0QjlOLEtBQTVCLEVBQW1DO0FBQ2pDLFVBQUkwTixtQkFBbUIsSUFBdkI7QUFDQTNRLGdCQUNFaUQsaUJBQWlCME4sZ0JBRG5CLEVBRUUsdUVBRkY7QUFJQTFOLFlBQU00TCxVQUFOO0FBQ0EsVUFBSThCLGlCQUFpQkMsU0FBakIsQ0FBMkI1SixNQUEzQixHQUFvQ29HLGVBQXhDLEVBQXlEO0FBQ3ZEdUQseUJBQWlCQyxTQUFqQixDQUEyQnBJLElBQTNCLENBQWdDdkYsS0FBaEM7QUFDRDtBQUNGOztBQUVELGFBQVNvTSxpQkFBVCxDQUEyQnNCLGdCQUEzQixFQUE2QztBQUMzQ0EsdUJBQWlCQyxTQUFqQixHQUE2QixFQUE3QjtBQUNBRCx1QkFBaUJLLFNBQWpCLEdBQTZCUCxjQUE3QjtBQUNBRSx1QkFBaUJ4SCxPQUFqQixHQUEyQjRILGtCQUEzQjtBQUNEOztBQUVELFFBQUlFLG1CQUFtQmhELGNBQXZCOztBQU9BLFFBQUlpRCwwQkFBMEJELGlCQUFpQmhDLE1BQWpCLENBQXdCO0FBQ3BEa0Msb0JBQWMsc0JBQVNwSCxXQUFULEVBQXNCO0FBQ2xDLGVBQU8sSUFBUDtBQUNEO0FBSG1ELEtBQXhCLENBQTlCOztBQVlBLFFBQUlxSCxpQkFBaUIsRUFBckI7QUFDQSxRQUFJQyxZQUFZLEVBQWhCO0FBQ0EsUUFBSUYsZUFBZTtBQUNqQkUsaUJBQVdBLFNBRE07QUFFakJDLDJCQUFxQixDQUZKOztBQU1qQkMsZ0NBQTBCLENBQUMsQ0FOVjtBQU9qQkMsMkJBQXFCO0FBUEosS0FBbkI7O0FBVUEsYUFBU0MsaUJBQVQsQ0FBMkJDLEtBQTNCLEVBQWtDO0FBSWhDLGFBQU9BLE1BQU05RCxTQUFOLElBQW1COEQsTUFBTUMsU0FBaEM7QUFDRDs7QUFNRCxhQUFTQyxpQkFBVCxDQUEyQkYsS0FBM0IsRUFBa0M7QUFDaEMsYUFBTztBQUNMRyxxQkFBYSxJQURSO0FBRUxDLG9CQUFZSixNQUFNSyxLQUZiO0FBR0xDLG9CQUFZTixNQUFNTyxLQUhiO0FBSUxDLHdCQUFnQlQsa0JBQWtCQyxLQUFsQixDQUpYO0FBS0xTLHNCQUFjVCxNQUFNSyxLQUxmO0FBTUxLLHNCQUFjVixNQUFNTyxLQU5mO0FBT0xJLDBCQUFrQlosa0JBQWtCQyxLQUFsQixDQVBiO0FBUUxZLHVCQUFlWixNQUFNSyxLQVJoQjtBQVNMUSx1QkFBZWIsTUFBTU8sS0FUaEI7QUFVTE8sMkJBQW1CZixrQkFBa0JDLEtBQWxCO0FBVmQsT0FBUDtBQVlEOztBQUVELGFBQVNlLGdCQUFULENBQTBCQyxXQUExQixFQUF1Q2hCLEtBQXZDLEVBQThDO0FBQzVDZ0Isa0JBQVliLFdBQVosR0FBMEIsSUFBMUI7QUFDQWEsa0JBQVlaLFVBQVosR0FBeUJKLE1BQU1LLEtBQS9CO0FBQ0FXLGtCQUFZVixVQUFaLEdBQXlCTixNQUFNTyxLQUEvQjtBQUNBUyxrQkFBWVIsY0FBWixHQUE2QlQsa0JBQWtCQyxLQUFsQixDQUE3QjtBQUNBZ0Isa0JBQVlQLFlBQVosR0FBMkJULE1BQU1LLEtBQWpDO0FBQ0FXLGtCQUFZTixZQUFaLEdBQTJCVixNQUFNTyxLQUFqQztBQUNBUyxrQkFBWUwsZ0JBQVosR0FBK0JaLGtCQUFrQkMsS0FBbEIsQ0FBL0I7QUFDQWdCLGtCQUFZSixhQUFaLEdBQTRCWixNQUFNSyxLQUFsQztBQUNBVyxrQkFBWUgsYUFBWixHQUE0QmIsTUFBTU8sS0FBbEM7QUFDQVMsa0JBQVlGLGlCQUFaLEdBQWdDZixrQkFBa0JDLEtBQWxCLENBQWhDO0FBQ0Q7O0FBRUQsYUFBU2lCLGtCQUFULENBQTRCQyxJQUE1QixFQUFrQztBQUNoQyxVQUFJQyxhQUFhRCxLQUFLQyxVQUF0Qjs7QUFFQTdTLGdCQUFVNlMsY0FBYyxJQUF4QixFQUE4QixxQ0FBOUI7QUFDQTtBQUNFNVMsZ0JBQ0U0UyxjQUFjekIsY0FEaEIsRUFFRSwyRUFDRSx3RUFISixFQUlFeUIsVUFKRixFQUtFekIsY0FMRjtBQU9EO0FBQ0QsYUFBT3lCLFVBQVA7QUFDRDs7QUFFRCxhQUFTQyxnQkFBVCxDQUEwQnBCLEtBQTFCLEVBQWlDO0FBQy9CLFVBQUltQixhQUFhRixtQkFBbUJqQixLQUFuQixDQUFqQjtBQUNBLFVBQUlnQixjQUFjckIsVUFBVXdCLFVBQVYsQ0FBbEI7QUFDQSxVQUFJSCxXQUFKLEVBQWlCO0FBQ2ZELHlCQUFpQkMsV0FBakIsRUFBOEJoQixLQUE5QjtBQUNELE9BRkQsTUFFTztBQUNMTCxrQkFBVXdCLFVBQVYsSUFBd0JqQixrQkFBa0JGLEtBQWxCLENBQXhCO0FBQ0Q7QUFDRFAsbUJBQWFLLG1CQUFiLEdBQW1DQyxrQkFBa0JDLEtBQWxCLENBQW5DO0FBQ0Q7O0FBRUQsYUFBU3FCLGVBQVQsQ0FBeUJyQixLQUF6QixFQUFnQztBQUM5QixVQUFJZ0IsY0FBY3JCLFVBQVVzQixtQkFBbUJqQixLQUFuQixDQUFWLENBQWxCO0FBQ0EsVUFBSWdCLFdBQUosRUFBaUI7QUFDZkEsb0JBQVliLFdBQVosR0FBMEIsSUFBMUI7QUFDQWEsb0JBQVlKLGFBQVosR0FBNEJJLFlBQVlQLFlBQXhDO0FBQ0FPLG9CQUFZSCxhQUFaLEdBQTRCRyxZQUFZTixZQUF4QztBQUNBTSxvQkFBWUYsaUJBQVosR0FBZ0NFLFlBQVlMLGdCQUE1QztBQUNBSyxvQkFBWVAsWUFBWixHQUEyQlQsTUFBTUssS0FBakM7QUFDQVcsb0JBQVlOLFlBQVosR0FBMkJWLE1BQU1PLEtBQWpDO0FBQ0FTLG9CQUFZTCxnQkFBWixHQUErQlosa0JBQWtCQyxLQUFsQixDQUEvQjtBQUNBUCxxQkFBYUssbUJBQWIsR0FBbUNDLGtCQUFrQkMsS0FBbEIsQ0FBbkM7QUFDRCxPQVRELE1BU087QUFDTHNCLGdCQUFRL1EsS0FBUixDQUNFLHNEQUFzRCxrQkFEeEQsRUFFRSxnQkFGRixFQUdFZ1IsV0FBV3ZCLEtBQVgsQ0FIRixFQUlFd0IsZ0JBSkY7QUFNRDtBQUNGOztBQUVELGFBQVNDLGNBQVQsQ0FBd0J6QixLQUF4QixFQUErQjtBQUM3QixVQUFJZ0IsY0FBY3JCLFVBQVVzQixtQkFBbUJqQixLQUFuQixDQUFWLENBQWxCO0FBQ0EsVUFBSWdCLFdBQUosRUFBaUI7QUFDZkEsb0JBQVliLFdBQVosR0FBMEIsS0FBMUI7QUFDQWEsb0JBQVlKLGFBQVosR0FBNEJJLFlBQVlQLFlBQXhDO0FBQ0FPLG9CQUFZSCxhQUFaLEdBQTRCRyxZQUFZTixZQUF4QztBQUNBTSxvQkFBWUYsaUJBQVosR0FBZ0NFLFlBQVlMLGdCQUE1QztBQUNBSyxvQkFBWVAsWUFBWixHQUEyQlQsTUFBTUssS0FBakM7QUFDQVcsb0JBQVlOLFlBQVosR0FBMkJWLE1BQU1PLEtBQWpDO0FBQ0FTLG9CQUFZTCxnQkFBWixHQUErQlosa0JBQWtCQyxLQUFsQixDQUEvQjtBQUNBUCxxQkFBYUssbUJBQWIsR0FBbUNDLGtCQUFrQkMsS0FBbEIsQ0FBbkM7QUFDRCxPQVRELE1BU087QUFDTHNCLGdCQUFRL1EsS0FBUixDQUNFLHFEQUFxRCxpQkFEdkQsRUFFRSxnQkFGRixFQUdFZ1IsV0FBV3ZCLEtBQVgsQ0FIRixFQUlFd0IsZ0JBSkY7QUFNRDtBQUNGOztBQUVELGFBQVNELFVBQVQsQ0FBb0J2QixLQUFwQixFQUEyQjtBQUN6QixhQUFPMEIsS0FBS0MsU0FBTCxDQUFlO0FBQ3BCUixvQkFBWW5CLE1BQU1tQixVQURFO0FBRXBCZCxlQUFPTCxNQUFNSyxLQUZPO0FBR3BCRSxlQUFPUCxNQUFNTyxLQUhPO0FBSXBCTixtQkFBV0Ysa0JBQWtCQyxLQUFsQjtBQUpTLE9BQWYsQ0FBUDtBQU1EOztBQUVELGFBQVN3QixjQUFULEdBQTBCO0FBQ3hCLFVBQUlJLFVBQVVGLEtBQUtDLFNBQUwsQ0FBZWhDLFVBQVV4UCxLQUFWLENBQWdCLENBQWhCLEVBQW1CdVAsY0FBbkIsQ0FBZixDQUFkO0FBQ0EsVUFBSUMsVUFBVXJLLE1BQVYsR0FBbUJvSyxjQUF2QixFQUF1QztBQUNyQ2tDLG1CQUFXLHNCQUFzQmpDLFVBQVVySyxNQUFoQyxHQUF5QyxHQUFwRDtBQUNEO0FBQ0QsYUFBT3NNLE9BQVA7QUFDRDs7QUFFRCxRQUFJQyw2QkFBNkI7QUFDL0JDLHdCQUFrQiwwQkFBU25OLFlBQVQsRUFBdUIwRCxXQUF2QixFQUFvQztBQUNwRCxZQUFJekQsVUFBVUQsWUFBVixDQUFKLEVBQTZCO0FBQzNCMEQsc0JBQVkwSixjQUFaLENBQTJCM0ssT0FBM0IsQ0FBbUNpSyxlQUFuQztBQUNELFNBRkQsTUFFTyxJQUFJeE0sV0FBV0YsWUFBWCxDQUFKLEVBQThCO0FBQ25DMEQsc0JBQVkwSixjQUFaLENBQTJCM0ssT0FBM0IsQ0FBbUNnSyxnQkFBbkM7QUFDQTNCLHVCQUFhRyxtQkFBYixHQUFtQ3ZILFlBQVkySixPQUFaLENBQW9CMU0sTUFBdkQ7QUFDQSxjQUFJbUssYUFBYUcsbUJBQWIsS0FBcUMsQ0FBekMsRUFBNEM7QUFDMUNILHlCQUFhSSx3QkFBYixHQUNFeEgsWUFBWTJKLE9BQVosQ0FBb0IsQ0FBcEIsRUFBdUJiLFVBRHpCO0FBRUQ7QUFDRixTQVBNLE1BT0EsSUFBSXpNLFNBQVNDLFlBQVQsQ0FBSixFQUE0QjtBQUNqQzBELHNCQUFZMEosY0FBWixDQUEyQjNLLE9BQTNCLENBQW1DcUssY0FBbkM7QUFDQWhDLHVCQUFhRyxtQkFBYixHQUFtQ3ZILFlBQVkySixPQUFaLENBQW9CMU0sTUFBdkQ7QUFDQSxjQUFJbUssYUFBYUcsbUJBQWIsS0FBcUMsQ0FBekMsRUFBNEM7QUFDMUMsaUJBQUssSUFBSTNKLElBQUksQ0FBYixFQUFnQkEsSUFBSTBKLFVBQVVySyxNQUE5QixFQUFzQ1csR0FBdEMsRUFBMkM7QUFDekMsa0JBQUlnTSxvQkFBb0J0QyxVQUFVMUosQ0FBVixDQUF4QjtBQUNBLGtCQUFJZ00scUJBQXFCLElBQXJCLElBQTZCQSxrQkFBa0I5QixXQUFuRCxFQUFnRTtBQUM5RFYsNkJBQWFJLHdCQUFiLEdBQXdDNUosQ0FBeEM7QUFDQTtBQUNEO0FBQ0Y7QUFDRDtBQUNFLGtCQUFJaU0sZUFBZXZDLFVBQVVGLGFBQWFJLHdCQUF2QixDQUFuQjtBQUNBdFIsc0JBQ0UyVCxnQkFBZ0IsSUFBaEIsSUFBd0JBLGFBQWEvQixXQUR2QyxFQUVFLGtDQUZGO0FBSUQ7QUFDRjtBQUNGO0FBQ0YsT0EvQjhCOztBQWlDL0JWLG9CQUFjQTtBQWpDaUIsS0FBakM7O0FBMkNBLGFBQVMwQyxVQUFULENBQW9CdkwsT0FBcEIsRUFBNkJDLElBQTdCLEVBQW1DO0FBQ2pDdkksZ0JBQ0V1SSxRQUFRLElBRFYsRUFFRSxzRUFGRjs7QUFLQSxVQUFJRCxXQUFXLElBQWYsRUFBcUI7QUFDbkIsZUFBT0MsSUFBUDtBQUNEOztBQUlELFVBQUk1RyxNQUFNbUYsT0FBTixDQUFjd0IsT0FBZCxDQUFKLEVBQTRCO0FBQzFCLGVBQU9BLFFBQVFHLE1BQVIsQ0FBZUYsSUFBZixDQUFQO0FBQ0Q7O0FBRUQsVUFBSTVHLE1BQU1tRixPQUFOLENBQWN5QixJQUFkLENBQUosRUFBeUI7QUFDdkIsZUFBTyxDQUFDRCxPQUFELEVBQVVHLE1BQVYsQ0FBaUJGLElBQWpCLENBQVA7QUFDRDs7QUFFRCxhQUFPLENBQUNELE9BQUQsRUFBVUMsSUFBVixDQUFQO0FBQ0Q7O0FBTUQsUUFBSXVMLGdCQUFnQixJQUFwQjs7QUFNQSxRQUFJQyxvQkFBb0IsQ0FBeEI7O0FBS0EsUUFBSUMsd0JBQXdCLENBQTVCOztBQUVBLFFBQUlDLGtCQUFrQixTQUFsQkEsZUFBa0IsQ0FBU0MsaUJBQVQsRUFBNEJDLGtCQUE1QixFQUFnRDtBQUNwRSxVQUFJQyxtQkFBbUJOLGFBQXZCO0FBQ0FBLHNCQUFnQkksaUJBQWhCO0FBQ0EsVUFBSUcscUJBQXFCQyxzQkFBckIsS0FBZ0QsSUFBcEQsRUFBMEQ7QUFDeERELDZCQUFxQkMsc0JBQXJCLENBQTRDQyxRQUE1QyxDQUNFSCxnQkFERixFQUVFRixpQkFGRixFQUdFQyxrQkFIRjtBQUtEO0FBQ0YsS0FWRDs7QUFZQSxRQUFJMVAsYUFBYTtBQUtmK1AsK0JBQXlCO0FBQ3ZCelAsaUNBQXlCO0FBQ3ZCMFAsbUJBQVMsMkJBRGM7QUFFdkJDLG9CQUFVO0FBRmE7QUFERixPQUxWOztBQXFCZkMsZ0NBQTBCO0FBQ3hCNVAsaUNBQXlCO0FBQ3ZCMFAsbUJBQVMsNEJBRGM7QUFFdkJDLG9CQUFVO0FBRmE7QUFERCxPQXJCWDs7QUFtQ2ZFLHlDQUFtQztBQUNqQzdQLGlDQUF5QjtBQUN2QjBQLG1CQUFTLHFDQURjO0FBRXZCQyxvQkFBVTtBQUZhO0FBRFEsT0FuQ3BCOztBQThDZkcsOEJBQXdCO0FBQ3RCOVAsaUNBQXlCO0FBQ3ZCMFAsbUJBQVMsMEJBRGM7QUFFdkJDLG9CQUFVO0FBRmE7QUFESCxPQTlDVDs7QUF3RGZJLHNCQUFnQixFQUFFM1Asa0JBQWtCLGtCQUFwQixFQXhERDtBQXlEZjRQLHFCQUFlLEVBQUU1UCxrQkFBa0IsaUJBQXBCLEVBekRBO0FBMERmNlAsb0JBQWMsRUFBRTdQLGtCQUFrQixnQkFBcEIsRUExREM7QUEyRGY4UCx3QkFBa0IsRUFBRTlQLGtCQUFrQixvQkFBcEIsRUEzREg7QUE0RGYrUCxtQ0FBNkI7QUFDM0IvUCwwQkFBa0I7QUFEUyxPQTVEZDtBQStEZmdRLHNCQUFnQixFQUFFaFEsa0JBQWtCLGtCQUFwQixFQS9ERDtBQWdFZmlRLHVCQUFpQixFQUFFalEsa0JBQWtCLG1CQUFwQixFQWhFRjtBQWlFZmtRLDBCQUFvQixFQUFFbFEsa0JBQWtCLHNCQUFwQjtBQWpFTCxLQUFqQjs7QUFrUUEsYUFBU21RLDhCQUFULENBQ0VqUCxZQURGLEVBRUV5RCxVQUZGLEVBR0VDLFdBSEYsRUFJRUMsaUJBSkYsRUFLRTtBQUNBLFVBQUl1TCxxQkFBcUJoUCxXQUFXRixZQUFYLElBQ3JCNUIsV0FBVytQLHVCQURVLEdBRXJCbE8sVUFBVUQsWUFBVixJQUNFNUIsV0FBV29RLHNCQURiLEdBRUV4TyxpQkFBaUIsb0JBQWpCLEdBQ0U1QixXQUFXbVEsaUNBRGIsR0FFRW5RLFdBQVdrUSx3QkFObkI7O0FBU0EsVUFBSWEsc0JBQXNCLENBQUMxQixhQUFELEdBQ3RCaEssVUFEc0IsR0FFdEJ3Qix3QkFBd0J3SSxhQUF4QixFQUF1Q2hLLFVBQXZDLENBRko7O0FBUUEsVUFBSTJMLDhCQUE4QkQsd0JBQXdCMUIsYUFBMUQ7QUFDQSxVQUFJNEIsaUJBQWlCeEUsd0JBQXdCRixTQUF4QixDQUNuQnVFLGtCQURtQixFQUVuQkMsbUJBRm1CLEVBR25CekwsV0FIbUIsRUFJbkJDLGlCQUptQixDQUFyQjtBQU1BMEwscUJBQWV2RSxZQUFmLEdBQThCb0MsMkJBQTJCcEMsWUFBekQ7QUFDQSxVQUFJc0UsMkJBQUosRUFBaUM7QUFDL0J4SSwrQ0FBdUN5SSxjQUF2QztBQUNELE9BRkQsTUFFTztBQUNMMUkscUNBQTZCMEksY0FBN0I7QUFDRDtBQUNELFVBQUlDLHFCQUFxQjdOLG1DQUFtQzROLGNBQW5DLENBQXpCO0FBQ0EsVUFBSSxDQUFDQSxlQUFlek0sWUFBZixFQUFMLEVBQW9DO0FBQ2xDeU0sdUJBQWV4TSxXQUFmLENBQTJCQyxPQUEzQixDQUFtQ3VNLGNBQW5DO0FBQ0Q7O0FBRUQsVUFBSSxDQUFDQyxrQkFBRCxJQUF1QkEsdUJBQXVCN0IsYUFBbEQsRUFBaUU7QUFDL0QsZUFBTyxJQUFQO0FBQ0Q7QUFDRCxVQUFJOEIsWUFBWSxLQUFLLENBQXJCO0FBQ0EsVUFBSUMsYUFBYTNFLHdCQUF3QkYsU0FBeEIsQ0FDZnZNLFdBQVcwUSxjQURJLEVBRWZRLGtCQUZlLEVBR2Y1TCxXQUhlLEVBSWZDLGlCQUplLENBQWpCO0FBTUE2TCxpQkFBVzFFLFlBQVgsR0FBMEJvQywyQkFBMkJwQyxZQUFyRDs7QUFFQWpFLGlDQUEyQjJJLFVBQTNCO0FBQ0EsVUFBSTFCLHFCQUFxQm5NLHNCQUFzQjZOLFVBQXRCLE1BQXNDLElBQS9EO0FBQ0EsVUFBSS9CLGFBQUosRUFBbUI7QUFDakIsWUFBSWdDLDBCQUEwQjVFLHdCQUF3QkYsU0FBeEIsQ0FDNUJ2TSxXQUFXeVEsMkJBRGlCLEVBRTVCcEIsYUFGNEIsRUFHNUIvSixXQUg0QixFQUk1QkMsaUJBSjRCLENBQTlCO0FBTUE4TCxnQ0FBd0IzRSxZQUF4QixHQUNFb0MsMkJBQTJCcEMsWUFEN0I7QUFFQWpFLG1DQUEyQjRJLHVCQUEzQjtBQUNBLFlBQUlDLGVBQ0YsQ0FBQzNOLGNBQWMwTix1QkFBZCxDQUFELElBQ0E5TixzQkFBc0I4Tix1QkFBdEIsQ0FGRjtBQUdBLFlBQUksQ0FBQ0Esd0JBQXdCN00sWUFBeEIsRUFBTCxFQUE2QztBQUMzQzZNLGtDQUF3QjVNLFdBQXhCLENBQW9DQyxPQUFwQyxDQUE0QzJNLHVCQUE1QztBQUNEOztBQUVELFlBQUlDLFlBQUosRUFBa0I7QUFDaEIsY0FBSUMsaUJBQWlCOUUsd0JBQXdCRixTQUF4QixDQUNuQnZNLFdBQVc0USxrQkFEUSxFQUVuQnZCLGFBRm1CLEVBR25CL0osV0FIbUIsRUFJbkJDLGlCQUptQixDQUFyQjtBQU1BZ00seUJBQWU3RSxZQUFmLEdBQThCb0MsMkJBQTJCcEMsWUFBekQ7QUFDQWpFLHFDQUEyQjhJLGNBQTNCO0FBQ0FKLHNCQUFZL0IsV0FBVytCLFNBQVgsRUFBc0IsQ0FBQ0MsVUFBRCxFQUFhRyxjQUFiLENBQXRCLENBQVo7QUFDQS9CLDBCQUFnQjBCLGtCQUFoQixFQUFvQ3hCLGtCQUFwQztBQUNELFNBWEQsTUFXTztBQUNMLGNBQUk4QixjQUFjL0Usd0JBQXdCRixTQUF4QixDQUNoQnZNLFdBQVcyUSxlQURLLEVBRWhCTyxrQkFGZ0IsRUFHaEI1TCxXQUhnQixFQUloQkMsaUJBSmdCLENBQWxCO0FBTUFpTSxzQkFBWTlFLFlBQVosR0FBMkJvQywyQkFBMkJwQyxZQUF0RDtBQUNBakUscUNBQTJCK0ksV0FBM0I7QUFDQUwsc0JBQVkvQixXQUFXK0IsU0FBWCxFQUFzQkssV0FBdEIsQ0FBWjtBQUNEO0FBQ0YsT0F2Q0QsTUF1Q087QUFDTEwsb0JBQVkvQixXQUFXK0IsU0FBWCxFQUFzQkMsVUFBdEIsQ0FBWjtBQUNBNUIsd0JBQWdCMEIsa0JBQWhCLEVBQW9DeEIsa0JBQXBDO0FBQ0Q7QUFDRCxhQUFPeUIsU0FBUDtBQUNEOztBQVVELGFBQVNNLGtCQUFULENBQTRCN1AsWUFBNUIsRUFBMEM4UCxZQUExQyxFQUF3RHBNLFdBQXhELEVBQXFFO0FBQ25FLGFBQ0VvTSxpQkFJRTlQLGlCQUFpQixXQUFqQixJQUFnQyxDQUFDMEQsWUFBWXFNLHFCQUE5QyxJQUNFckMsb0JBQW9CLENBQXBCLElBQXlCMU4saUJBQWlCLG9CQUQ1QyxJQUVDRSxXQUFXRixZQUFYLENBRkQsSUFHQ0MsVUFBVUQsWUFBVixDQVBGLENBREY7QUFVRDs7QUFTRCxhQUFTZ1Esa0JBQVQsQ0FBNEJ0TSxXQUE1QixFQUF5QztBQUN2QyxVQUFJMkosVUFBVTNKLFlBQVkySixPQUExQjtBQUNBLFVBQUksQ0FBQ0EsT0FBRCxJQUFZQSxRQUFRMU0sTUFBUixLQUFtQixDQUFuQyxFQUFzQztBQUNwQyxlQUFPLElBQVA7QUFDRDtBQUNELFdBQUssSUFBSVcsSUFBSSxDQUFiLEVBQWdCQSxJQUFJK0wsUUFBUTFNLE1BQTVCLEVBQW9DVyxHQUFwQyxFQUF5QztBQUN2QyxZQUFJMk8sY0FBYzVDLFFBQVEvTCxDQUFSLENBQWxCO0FBQ0EsWUFBSTRGLFNBQVMrSSxZQUFZL0ksTUFBekI7QUFDQSxZQUFJQSxXQUFXLElBQVgsSUFBbUJBLFdBQVc5RixTQUE5QixJQUEyQzhGLFdBQVcsQ0FBMUQsRUFBNkQ7QUFFM0QsY0FBSXpELGFBQWEvRCxvQkFBb0J3SCxNQUFwQixDQUFqQjtBQUNBLGNBQUl4QixXQUFXK0gsYUFBWCxFQUEwQmhLLFVBQTFCLENBQUosRUFBMkM7QUFDekMsbUJBQU8sS0FBUDtBQUNEO0FBQ0Y7QUFDRjtBQUNELGFBQU8sSUFBUDtBQUNEOztBQUVELFFBQUl1Syx1QkFBdUI7QUFFekJrQyxxQkFBZSx5QkFBVztBQUN4QixlQUFPekMsYUFBUDtBQUNELE9BSndCOztBQU16QnJQLGtCQUFZQSxVQU5hOztBQWF6QkYscUJBQWUsdUJBQ2I4QixZQURhLEVBRWJ5RCxVQUZhLEVBR2JDLFdBSGEsRUFJYkMsaUJBSmEsRUFLYjtBQUNBLFlBQUl6RCxXQUFXRixZQUFYLENBQUosRUFBOEI7QUFDNUIwTiwrQkFBcUIsQ0FBckI7QUFDRCxTQUZELE1BRU8sSUFBSTNOLFNBQVNDLFlBQVQsQ0FBSixFQUE0QjtBQUNqQyxjQUFJME4scUJBQXFCLENBQXpCLEVBQTRCO0FBQzFCQSxpQ0FBcUIsQ0FBckI7QUFDRCxXQUZELE1BRU87QUFDTGYsb0JBQVEvUSxLQUFSLENBQ0UsbUVBREY7QUFHQSxtQkFBTyxJQUFQO0FBQ0Q7QUFDRjs7QUFFRHNSLG1DQUEyQkMsZ0JBQTNCLENBQTRDbk4sWUFBNUMsRUFBMEQwRCxXQUExRDs7QUFFQSxZQUFJNkwsWUFBWU0sbUJBQW1CN1AsWUFBbkIsRUFBaUN5RCxVQUFqQyxFQUE2Q0MsV0FBN0MsSUFDWnVMLCtCQUNFalAsWUFERixFQUVFeUQsVUFGRixFQUdFQyxXQUhGLEVBSUVDLGlCQUpGLENBRFksR0FPWixJQVBKOztBQWtCQSxZQUFJd00sd0JBQXdCMUMsaUJBQWlCdk4sV0FBV0YsWUFBWCxDQUE3QztBQUNBLFlBQUlvUSx1QkFBdUIzQyxpQkFBaUJ4TixVQUFVRCxZQUFWLENBQTVDO0FBQ0EsWUFBSXFRLHNCQUFzQjVDLGlCQUFpQjFOLFNBQVNDLFlBQVQsQ0FBM0M7QUFDQSxZQUFJc1EsbUJBQW1CSCx3QkFDbkIvUixXQUFXcVEsY0FEUSxHQUVuQjJCLHVCQUNFaFMsV0FBV3NRLGFBRGIsR0FFRTJCLHNCQUFzQmpTLFdBQVd1USxZQUFqQyxHQUFnRCxJQUp0RDs7QUFNQSxZQUFJMkIsZ0JBQUosRUFBc0I7QUFDcEIsY0FBSUMsVUFBVTFGLHdCQUF3QkYsU0FBeEIsQ0FDWjJGLGdCQURZLEVBRVo3QyxhQUZZLEVBR1ovSixXQUhZLEVBSVpDLGlCQUpZLENBQWQ7QUFNQTRNLGtCQUFRekYsWUFBUixHQUF1Qm9DLDJCQUEyQnBDLFlBQWxEO0FBQ0FqRSxxQ0FBMkIwSixPQUEzQjtBQUNBaEIsc0JBQVkvQixXQUFXK0IsU0FBWCxFQUFzQmdCLE9BQXRCLENBQVo7QUFDRDs7QUFFRCxZQUFJQyx1QkFDRi9DLGlCQUFpQnpOLGlCQUFpQixnQkFEcEM7QUFFQSxZQUFJeVEscUJBQ0ZoRCxpQkFDQSxDQUFDK0Msb0JBREQsSUFFQXpRLFNBQVNDLFlBQVQsQ0FGQSxJQUdBZ1EsbUJBQW1CdE0sV0FBbkIsQ0FKRjtBQUtBLFlBQUlnTixhQUFhRix1QkFDYnBTLFdBQVc0USxrQkFERSxHQUVieUIscUJBQXFCclMsV0FBV3dRLGdCQUFoQyxHQUFtRCxJQUZ2RDtBQUdBLFlBQUk4QixVQUFKLEVBQWdCO0FBQ2QsY0FBSUMsYUFBYTlGLHdCQUF3QkYsU0FBeEIsQ0FDZitGLFVBRGUsRUFFZmpELGFBRmUsRUFHZi9KLFdBSGUsRUFJZkMsaUJBSmUsQ0FBakI7QUFNQWdOLHFCQUFXN0YsWUFBWCxHQUEwQm9DLDJCQUEyQnBDLFlBQXJEO0FBQ0FqRSxxQ0FBMkI4SixVQUEzQjtBQUNBcEIsc0JBQVkvQixXQUFXK0IsU0FBWCxFQUFzQm9CLFVBQXRCLENBQVo7QUFDQS9DLDBCQUFnQixJQUFoQjtBQUNEOztBQUVELFlBQUkzQyxzQkFDRmlDLDJCQUEyQnBDLFlBQTNCLENBQXdDRyxtQkFEMUM7QUFFQSxZQUNFK0MscUJBQXFCNEMsd0JBQXJCLElBQ0EzRix3QkFBd0IwQyxxQkFGMUIsRUFHRTtBQUNBSywrQkFBcUI0Qyx3QkFBckIsQ0FBOEMxQyxRQUE5QyxDQUNFakQsbUJBREY7QUFHRDtBQUNEMEMsZ0NBQXdCMUMsbUJBQXhCOztBQUVBLGVBQU9zRSxTQUFQO0FBQ0QsT0E3R3dCOztBQStHekJ0Qiw4QkFBd0IsSUEvR0M7QUFnSHpCMkMsZ0NBQTBCLElBaEhEOztBQWtIekJ0TixpQkFBVztBQU1UdU4sc0NBQThCLHNDQUFTNUMsc0JBQVQsRUFBaUM7QUFDN0RELCtCQUFxQkMsc0JBQXJCLEdBQThDQSxzQkFBOUM7QUFDRCxTQVJROztBQWNUNkMsd0NBQWdDLHdDQUFTRix3QkFBVCxFQUFtQztBQUNqRTVDLCtCQUFxQjRDLHdCQUFyQixHQUFnREEsd0JBQWhEO0FBQ0Q7QUFoQlE7QUFsSGMsS0FBM0I7O0FBc0lBLFFBQUlHLDJCQUEyQixFQUEvQjtBQUNBLFFBQUlDLHlCQUF5QixFQUE3Qjs7QUFFQSxRQUFJQywrQkFBK0I7QUFDakM3UyxrQkFBWSxFQURxQjs7QUFNakNGLHFCQUFlLHVCQUNiOEIsWUFEYSxFQUVieUQsVUFGYSxFQUdiQyxXQUhhLEVBSWJDLGlCQUphLEVBS2I7QUFDQSxZQUFJRixjQUFjLElBQWxCLEVBQXdCO0FBRXRCLGlCQUFPLElBQVA7QUFDRDtBQUNELFlBQUl5Tix1QkFBdUJILHlCQUF5Qi9RLFlBQXpCLENBQTNCO0FBQ0EsWUFBSW1SLHVCQUF1QkgsdUJBQXVCaFIsWUFBdkIsQ0FBM0I7QUFDQXJHLGtCQUNFdVgsd0JBQXdCQyxvQkFEMUIsRUFFRSxrREFGRixFQUdFblIsWUFIRjtBQUtBLFlBQUlwRCxRQUFRZ08saUJBQWlCRCxTQUFqQixDQUNWdUcsd0JBQXdCQyxvQkFEZCxFQUVWMU4sVUFGVSxFQUdWQyxXQUhVLEVBSVZDLGlCQUpVLENBQVo7QUFNQSxZQUFJdU4sb0JBQUosRUFBMEI7QUFDeEJ2Syx1Q0FBNkIvSixLQUE3QjtBQUNELFNBRkQsTUFFTyxJQUFJdVUsb0JBQUosRUFBMEI7QUFDL0J0SyxxQ0FBMkJqSyxLQUEzQjtBQUNELFNBRk0sTUFFQTtBQUNMLGlCQUFPLElBQVA7QUFDRDtBQUNELGVBQU9BLEtBQVA7QUFDRCxPQXJDZ0M7O0FBdUNqQ3dVLHlCQUFtQiwyQkFBU0MsVUFBVCxFQUFxQjtBQUN0QyxZQUFJQyxxQkFBcUJELFdBQVdDLGtCQUFwQztBQUFBLFlBQ0VDLG1CQUFtQkYsV0FBV0UsZ0JBRGhDOztBQUdBO0FBQ0UsY0FBSUQsc0JBQXNCLElBQXRCLElBQThCQyxvQkFBb0IsSUFBdEQsRUFBNEQ7QUFDMUQsaUJBQUssSUFBSXZSLFlBQVQsSUFBeUJ1UixnQkFBekIsRUFBMkM7QUFDekM1WCx3QkFDRTJYLG1CQUFtQnRSLFlBQW5CLEtBQW9DLElBRHRDLEVBRUUsOENBRkYsRUFHRUEsWUFIRjtBQUtEO0FBQ0Y7QUFDRjs7QUFFRCxZQUFJc1Isc0JBQXNCLElBQTFCLEVBQWdDO0FBQzlCLGVBQUssSUFBSUUsYUFBVCxJQUEwQkYsa0JBQTFCLEVBQThDO0FBQzVDLGdCQUFJUCx5QkFBeUJTLGFBQXpCLEtBQTJDLElBQS9DLEVBQXFEO0FBQ25EUCwyQ0FBNkI3UyxVQUE3QixDQUNFb1QsYUFERixJQUVJVCx5QkFBeUJTLGFBQXpCLElBQ0ZGLG1CQUFtQkUsYUFBbkIsQ0FIRjtBQUlEO0FBQ0Y7QUFDRjs7QUFFRCxZQUFJRCxvQkFBb0IsSUFBeEIsRUFBOEI7QUFDNUIsZUFBSyxJQUFJRSxjQUFULElBQTJCRixnQkFBM0IsRUFBNkM7QUFDM0MsZ0JBQUlQLHVCQUF1QlMsY0FBdkIsS0FBMEMsSUFBOUMsRUFBb0Q7QUFDbERSLDJDQUE2QjdTLFVBQTdCLENBQ0VxVCxjQURGLElBRUlULHVCQUF1QlMsY0FBdkIsSUFDRkYsaUJBQWlCRSxjQUFqQixDQUhGO0FBSUQ7QUFDRjtBQUNGO0FBQ0Y7QUE1RWdDLEtBQW5DOztBQStFQSxRQUFJQyxnQkFBZ0IsRUFBcEI7QUFDQSxRQUFJQyxnQkFBZ0IsRUFBcEI7O0FBRUEsYUFBU0MsaUJBQVQsQ0FBMkJDLFFBQTNCLEVBQXFDM08sR0FBckMsRUFBMEM7QUFDeEN3TyxvQkFBY3hPLEdBQWQsSUFBcUIyTyxRQUFyQjtBQUNEOztBQUVELGFBQVNDLGdCQUFULENBQTBCNU8sR0FBMUIsRUFBK0I7QUFDN0IsYUFBT3dPLGNBQWN4TyxHQUFkLENBQVA7QUFDQSxhQUFPeU8sY0FBY3pPLEdBQWQsQ0FBUDtBQUNEOztBQUVELGFBQVM2TyxrQkFBVCxDQUE0QjdPLEdBQTVCLEVBQWlDO0FBQy9CLFVBQUksT0FBT0EsR0FBUCxLQUFlLFFBQW5CLEVBQTZCO0FBQzNCLGVBQU93TyxjQUFjeE8sR0FBZCxLQUFzQixJQUE3QjtBQUNELE9BRkQsTUFFTztBQUVMLGVBQU9BLEdBQVA7QUFDRDtBQUNGOztBQUVELGFBQVM4TyxrQkFBVCxDQUE0Qi9RLElBQTVCLEVBQWtDO0FBQ2hDLFVBQUlpQyxNQUFNakMsS0FBS3VDLFNBQUwsQ0FBZXlPLFVBQXpCO0FBQ0EsVUFBSS9PLFFBQVE5QixTQUFaLEVBQXVCO0FBQ3JCOEIsY0FBTWpDLEtBQUt1QyxTQUFMLENBQWUwTyxTQUFmLENBQXlCRCxVQUEvQjtBQUNEO0FBQ0R0WSxnQkFBVXVKLEdBQVYsRUFBZSx5Q0FBZjtBQUNBLGFBQU9BLEdBQVA7QUFDRDs7QUFFRCxhQUFTaVAsOEJBQVQsQ0FBd0MzTyxTQUF4QyxFQUFtRDtBQUNqRCxhQUFPbU8sY0FBY25PLFVBQVV5TyxVQUF4QixLQUF1QyxJQUE5QztBQUNEOztBQUVELGFBQVNHLGdCQUFULENBQTBCbFAsR0FBMUIsRUFBK0JFLEtBQS9CLEVBQXNDO0FBQ3BDdU8sb0JBQWN6TyxHQUFkLElBQXFCRSxLQUFyQjtBQUNEOztBQUVELFFBQUlpUCwyQkFBMkI1SixPQUFPNkosTUFBUCxDQUFjO0FBQzNDVix5QkFBbUJBLGlCQUR3QjtBQUUzQ0Usd0JBQWtCQSxnQkFGeUI7QUFHM0NTLGtDQUE0QlIsa0JBSGU7QUFJM0NyUywyQkFBcUJxUyxrQkFKc0I7QUFLM0NwUywyQkFBcUJxUyxrQkFMc0I7QUFNM0N2UyxvQ0FBOEIwUyw4QkFOYTtBQU8zQ0Msd0JBQWtCQTtBQVB5QixLQUFkLENBQS9COztBQVVBLFFBQUlJLDhCQUE4QixDQUNoQyxzQkFEZ0MsRUFFaEMsOEJBRmdDLENBQWxDOztBQU1BLFFBQUlDLG9DQUFvQztBQUN0Q3ZFLGdCQUFVLGtCQUFTd0UsSUFBVCxFQUFlQyxFQUFmLEVBQW1CQyxvQkFBbkIsRUFBeUM7QUFDakQsWUFBSUQsT0FBTyxJQUFYLEVBQWlCO0FBQ2YsY0FBSXpQLE1BQU15UCxHQUFHblAsU0FBSCxDQUFheU8sVUFBdkI7QUFDQW5ZLG9CQUFVK1ksY0FBVixDQUF5QjNQLEdBQXpCLEVBQThCMFAsb0JBQTlCO0FBQ0QsU0FIRCxNQUdPO0FBQ0w5WSxvQkFBVWdaLGdCQUFWO0FBQ0Q7QUFDRjtBQVJxQyxLQUF4Qzs7QUFxQkF4UCxjQUFVbEUsc0JBQVYsQ0FBaUNvVCwyQkFBakM7QUFDQTVTLGdCQUFZQyxtQkFBWixDQUFnQ3dTLHdCQUFoQzs7QUFFQXJFLHlCQUFxQjFLLFNBQXJCLENBQStCdU4sNEJBQS9CLENBQ0U0QixpQ0FERjs7QUFRQW5QLGNBQVVoRSx3QkFBVixDQUFtQztBQUNqQzBPLDRCQUFzQkEsb0JBRFc7QUFFakNpRCxvQ0FBOEJBO0FBRkcsS0FBbkM7O0FBT0EsUUFBSThCLHFCQUFxQixJQUF6Qjs7QUFFQSxRQUFJQyxnQkFBZ0IsSUFBcEI7QUFDQSxRQUFJQyxlQUFlLElBQW5COztBQUVBLGFBQVNDLG9CQUFULENBQThCaE0sTUFBOUIsRUFBc0M7QUFHcEMsVUFBSWlNLG1CQUFtQnpULG9CQUFvQndILE1BQXBCLENBQXZCO0FBQ0EsVUFBSSxDQUFDaU0sZ0JBQUwsRUFBdUI7QUFFckI7QUFDRDtBQUNEeFosZ0JBQ0VvWixzQkFDRSxPQUFPQSxtQkFBbUJLLHNCQUExQixLQUFxRCxVQUZ6RCxFQUdFLHdFQUNFLDhFQUpKO0FBTUEsVUFBSWhRLFFBQVEzRCw2QkFBNkIwVCxpQkFBaUIzUCxTQUE5QyxDQUFaO0FBQ0F1UCx5QkFBbUJLLHNCQUFuQixDQUNFRCxpQkFBaUIzUCxTQURuQixFQUVFMlAsaUJBQWlCalMsSUFGbkIsRUFHRWtDLEtBSEY7QUFLRDs7QUFFRCxhQUFTaVEsaUJBQVQsR0FBNkI7QUFDM0IsYUFBT0wsa0JBQWtCLElBQWxCLElBQTBCQyxpQkFBaUIsSUFBbEQ7QUFDRDs7QUFFRCxhQUFTSyxvQkFBVCxHQUFnQztBQUM5QixVQUFJLENBQUNOLGFBQUwsRUFBb0I7QUFDbEI7QUFDRDtBQUNELFVBQUk5TCxTQUFTOEwsYUFBYjtBQUNBLFVBQUlPLGdCQUFnQk4sWUFBcEI7QUFDQUQsc0JBQWdCLElBQWhCO0FBQ0FDLHFCQUFlLElBQWY7O0FBRUFDLDJCQUFxQmhNLE1BQXJCO0FBQ0EsVUFBSXFNLGFBQUosRUFBbUI7QUFDakIsYUFBSyxJQUFJalMsSUFBSSxDQUFiLEVBQWdCQSxJQUFJaVMsY0FBYzVTLE1BQWxDLEVBQTBDVyxHQUExQyxFQUErQztBQUM3QzRSLCtCQUFxQkssY0FBY2pTLENBQWQsQ0FBckI7QUFDRDtBQUNGO0FBQ0Y7O0FBU0QsUUFBSWtTLGtCQUFrQix5QkFBUzNOLEVBQVQsRUFBYTROLFdBQWIsRUFBMEI7QUFDOUMsYUFBTzVOLEdBQUc0TixXQUFILENBQVA7QUFDRCxLQUZEO0FBR0EsUUFBSUMsc0JBQXNCLDZCQUFTN04sRUFBVCxFQUFhaEwsQ0FBYixFQUFnQkMsQ0FBaEIsRUFBbUI7QUFDM0MsYUFBTytLLEdBQUdoTCxDQUFILEVBQU1DLENBQU4sQ0FBUDtBQUNELEtBRkQ7QUFHQSxRQUFJNlksMkJBQTJCLG9DQUFXLENBQUUsQ0FBNUM7O0FBRUEsUUFBSUMsYUFBYSxLQUFqQjtBQUNBLGFBQVNDLGNBQVQsQ0FBd0JoTyxFQUF4QixFQUE0QjROLFdBQTVCLEVBQXlDO0FBQ3ZDLFVBQUlHLFVBQUosRUFBZ0I7QUFHZCxlQUFPL04sR0FBRzROLFdBQUgsQ0FBUDtBQUNEO0FBQ0RHLG1CQUFhLElBQWI7QUFDQSxVQUFJO0FBQ0YsZUFBT0osZ0JBQWdCM04sRUFBaEIsRUFBb0I0TixXQUFwQixDQUFQO0FBQ0QsT0FGRCxTQUVVO0FBS1JHLHFCQUFhLEtBQWI7QUFDQSxZQUFJRSx5Q0FBeUNULG1CQUE3QztBQUNBLFlBQUlTLHNDQUFKLEVBQTRDO0FBSTFDSDtBQUNBTDtBQUNEO0FBQ0Y7QUFDRjs7QUFFRCxRQUFJUyxjQUFjO0FBQ2hCQyxzQkFBZ0Isd0JBQVNDLFFBQVQsRUFBbUI7QUFDakNULDBCQUFrQlMsU0FBU0osY0FBM0I7QUFDQUgsOEJBQXNCTyxTQUFTQyxrQkFBL0I7QUFDQVAsbUNBQTJCTSxTQUFTRSx1QkFBcEM7QUFDRDtBQUxlLEtBQWxCOztBQXFCQSxRQUFJQyxvQkFBb0IsQ0FBeEI7QUFDQSxRQUFJQyx3QkFBd0I7QUFDMUJDLG1CQUFhRixpQkFEYTtBQUUxQkcsZ0JBQVVILGlCQUZnQjs7QUFJMUJJLG1CQUFhLHVCQUFXO0FBRXRCLGVBQU8sS0FBS0MseUJBQUwsQ0FBK0JKLHNCQUFzQkUsUUFBckQsQ0FBUCxFQUF1RTtBQUNyRUYsZ0NBQXNCRSxRQUF0QjtBQUNEO0FBQ0QsWUFBSXJSLE1BQU1tUixzQkFBc0JFLFFBQWhDO0FBQ0FGLDhCQUFzQkUsUUFBdEI7QUFDQSxlQUFPclIsR0FBUDtBQUNELE9BWnlCOztBQWMxQndSLHFCQUFlLHVCQUFTeFIsR0FBVCxFQUFjO0FBQzNCdkosa0JBQ0UsS0FBSzhhLHlCQUFMLENBQStCdlIsR0FBL0IsQ0FERixFQUVFLDBDQUZGLEVBR0VBLEdBSEY7QUFLRCxPQXBCeUI7O0FBc0IxQnVSLGlDQUEyQixtQ0FBU0UsUUFBVCxFQUFtQjtBQUU1QyxlQUFPQSxXQUFXLEVBQVgsS0FBa0IsQ0FBekI7QUFDRDtBQXpCeUIsS0FBNUI7O0FBa0NBLFFBQUlDLHFCQUFxQixFQUF6Qjs7QUFTQSxRQUFJQyxtQkFBbUIsU0FBbkJBLGdCQUFtQixDQUFTeEgsT0FBVCxFQUFrQnlILE9BQWxCLEVBQTJCO0FBQ2hELFVBQUlwVCxNQUFNLEVBQVY7QUFDQSxXQUFLLElBQUlKLElBQUksQ0FBYixFQUFnQkEsSUFBSXdULFFBQVFuVSxNQUE1QixFQUFvQ1csR0FBcEMsRUFBeUM7QUFDdkNJLFlBQUlTLElBQUosQ0FBU2tMLFFBQVF5SCxRQUFReFQsQ0FBUixDQUFSLENBQVQ7QUFDRDtBQUNELGFBQU9JLEdBQVA7QUFDRCxLQU5EOztBQW1CQSxRQUFJcVQseUJBQXlCLFNBQXpCQSxzQkFBeUIsQ0FBUzFILE9BQVQsRUFBa0J5SCxPQUFsQixFQUEyQjtBQUN0RCxVQUFJRSxZQUFZLEVBQWhCOztBQUdBLFVBQUlDLE9BQU81SCxPQUFYO0FBQ0EsV0FBSyxJQUFJL0wsSUFBSSxDQUFiLEVBQWdCQSxJQUFJd1QsUUFBUW5VLE1BQTVCLEVBQW9DVyxHQUFwQyxFQUF5QztBQUN2QyxZQUFJNFQsUUFBUUosUUFBUXhULENBQVIsQ0FBWjtBQUNBMFQsa0JBQVU3UyxJQUFWLENBQWVrTCxRQUFRNkgsS0FBUixDQUFmO0FBQ0FELGFBQUtDLEtBQUwsSUFBYyxJQUFkO0FBQ0Q7QUFDRCxVQUFJQyxTQUFTLENBQWI7QUFDQSxXQUFLLElBQUlDLElBQUksQ0FBYixFQUFnQkEsSUFBSUgsS0FBS3RVLE1BQXpCLEVBQWlDeVUsR0FBakMsRUFBc0M7QUFDcEMsWUFBSUMsTUFBTUosS0FBS0csQ0FBTCxDQUFWO0FBQ0EsWUFBSUMsUUFBUSxJQUFaLEVBQWtCO0FBQ2hCSixlQUFLRSxRQUFMLElBQWlCRSxHQUFqQjtBQUNEO0FBQ0Y7QUFDREosV0FBS3RVLE1BQUwsR0FBY3dVLE1BQWQ7QUFDQSxhQUFPSCxTQUFQO0FBQ0QsS0FuQkQ7O0FBK0JBLGFBQVNNLHVCQUFULENBQWlDQyxVQUFqQyxFQUE2Q3ZWLFlBQTdDLEVBQTJEd1YsZ0JBQTNELEVBQTZFO0FBQzNFLFVBQUk5UixjQUFjOFIsb0JBQW9CWixrQkFBdEM7QUFDQSxVQUFJM1QsT0FBTzhRLG1CQUFtQndELFVBQW5CLENBQVg7QUFDQTFCLHFCQUFlLFlBQVc7QUFDeEI1UCxrQ0FDRWpFLFlBREYsRUFFRWlCLElBRkYsRUFHRXlDLFdBSEYsRUFJRUEsWUFBWXdELE1BSmQ7QUFNRCxPQVBEO0FBVUQ7O0FBU0QsYUFBU3VPLFlBQVQsQ0FBc0JGLFVBQXRCLEVBQWtDdlYsWUFBbEMsRUFBZ0R3VixnQkFBaEQsRUFBa0U7QUFDaEVGLDhCQUF3QkMsVUFBeEIsRUFBb0N2VixZQUFwQyxFQUFrRHdWLGdCQUFsRDtBQUNEOztBQTBCRCxhQUFTRSxjQUFULENBQXdCQyxpQkFBeEIsRUFBMkN0SSxPQUEzQyxFQUFvRHVJLGNBQXBELEVBQW9FO0FBQ2xFLFVBQUl4SSxpQkFDRnVJLHNCQUFzQixhQUF0QixJQUNBQSxzQkFBc0IsZ0JBRHRCLEdBRUlaLHVCQUF1QjFILE9BQXZCLEVBQWdDdUksY0FBaEMsQ0FGSixHQUdJZixpQkFBaUJ4SCxPQUFqQixFQUEwQnVJLGNBQTFCLENBSk47O0FBTUEsV0FBSyxJQUFJQyxLQUFLLENBQWQsRUFBaUJBLEtBQUt6SSxlQUFlek0sTUFBckMsRUFBNkNrVixJQUE3QyxFQUFtRDtBQUNqRCxZQUFJeEssUUFBUStCLGVBQWV5SSxFQUFmLENBQVo7O0FBR0F4SyxjQUFNK0IsY0FBTixHQUF1QkEsY0FBdkI7QUFDQS9CLGNBQU1nQyxPQUFOLEdBQWdCQSxPQUFoQjtBQUNBLFlBQUkzSixjQUFjMkgsS0FBbEI7QUFDQSxZQUFJa0ssYUFBYSxJQUFqQjtBQUNBLFlBQUlyTyxTQUFTeEQsWUFBWXdELE1BQXpCO0FBQ0EsWUFBSUEsV0FBVyxJQUFYLElBQW1CQSxXQUFXOUYsU0FBbEMsRUFBNkM7QUFDM0MsY0FBSThGLFNBQVNtTixzQkFBc0JDLFdBQW5DLEVBQWdEO0FBQzlDO0FBQ0UxYSxzQkFDRSxLQURGLEVBRUUsd0RBRkY7QUFJRDtBQUNGLFdBUEQsTUFPTztBQUNMMmIseUJBQWFyTyxNQUFiO0FBQ0Q7QUFDRjs7QUFFRG9PLGdDQUF3QkMsVUFBeEIsRUFBb0NJLGlCQUFwQyxFQUF1RGpTLFdBQXZEO0FBQ0Q7QUFDRjs7QUFFRCxRQUFJb1MsMEJBQTBCck4sT0FBTzZKLE1BQVAsQ0FBYztBQUMxQy9PLG1CQUFhQSxXQUQ2QjtBQUUxQ3dTLHlCQUFtQmhYLHVCQUZ1QjtBQUcxQ3VXLCtCQUF5QkEsdUJBSGlCO0FBSTFDRyxvQkFBY0EsWUFKNEI7QUFLMUNDLHNCQUFnQkE7QUFMMEIsS0FBZCxDQUE5Qjs7QUFZQTNiLG9CQUFnQmljLFFBQWhCLENBQXlCRix1QkFBekI7O0FBSUEsUUFBSUcsWUFBWSxPQUFPQyxNQUFQLEtBQWtCLFVBQWxCLElBQWdDQSxPQUFPLEtBQVAsQ0FBaEQ7O0FBRUEsUUFBSUMscUJBQXFCRixZQUFZQyxPQUFPLEtBQVAsRUFBYyxlQUFkLENBQVosR0FBNkMsTUFBdEU7QUFDQSxRQUFJRSxrQkFBa0JILFlBQVlDLE9BQU8sS0FBUCxFQUFjLFlBQWQsQ0FBWixHQUEwQyxNQUFoRTtBQUNBLFFBQUlHLG9CQUFvQkosWUFBWUMsT0FBTyxLQUFQLEVBQWMsY0FBZCxDQUFaLEdBQTRDLE1BQXBFO0FBQ0EsUUFBSUksb0JBQW9CTCxZQUFZQyxPQUFPLEtBQVAsRUFBYyxjQUFkLENBQVosR0FBNEMsTUFBcEU7QUFDQSxRQUFJSyxzQkFBc0JOLFlBQVlDLE9BQU8sS0FBUCxFQUFjLGdCQUFkLENBQVosR0FBOEMsTUFBeEU7QUFDQSxRQUFJTSx5QkFBeUJQLFlBQ3pCQyxPQUFPLEtBQVAsRUFBYyxtQkFBZCxDQUR5QixHQUV6QixNQUZKO0FBR0EsUUFBSU8sc0JBQXNCUixZQUFZQyxPQUFPLEtBQVAsRUFBYyxnQkFBZCxDQUFaLEdBQThDLE1BQXhFO0FBQ0EsUUFBSVEscUJBQXFCVCxZQUFZQyxPQUFPLEtBQVAsRUFBYyxlQUFkLENBQVosR0FBNkMsTUFBdEU7QUFDQSxRQUFJUyx3QkFBd0JWLFlBQ3hCQyxPQUFPLEtBQVAsRUFBYyxrQkFBZCxDQUR3QixHQUV4QixNQUZKOztBQUlBLFFBQUlVLHdCQUF3QixPQUFPVixNQUFQLEtBQWtCLFVBQWxCLG9DQUFnQ0EsT0FBT1csUUFBdkMsZ0JBQTVCO0FBQ0EsUUFBSUMsdUJBQXVCLFlBQTNCOztBQUVBLGFBQVNDLGFBQVQsQ0FBdUJDLGFBQXZCLEVBQXNDO0FBQ3BDLFVBQUlBLGtCQUFrQixJQUFsQixJQUEwQixPQUFPQSxhQUFQLEtBQXlCLFdBQXZELEVBQW9FO0FBQ2xFLGVBQU8sSUFBUDtBQUNEO0FBQ0QsVUFBSUMsZ0JBQ0RMLHlCQUF5QkksY0FBY0oscUJBQWQsQ0FBMUIsSUFDQUksY0FBY0Ysb0JBQWQsQ0FGRjtBQUdBLFVBQUksT0FBT0csYUFBUCxLQUF5QixVQUE3QixFQUF5QztBQUN2QyxlQUFPQSxhQUFQO0FBQ0Q7QUFDRCxhQUFPLElBQVA7QUFDRDs7QUFFRCxhQUFTQyxhQUFULENBQ0VDLFFBREYsRUFFRUMsYUFGRixFQUlFQyxjQUpGLEVBS0U7QUFDQSxVQUFJQyxNQUNGNWIsVUFBVWlGLE1BQVYsR0FBbUIsQ0FBbkIsSUFBd0JqRixVQUFVLENBQVYsTUFBaUIwRixTQUF6QyxHQUFxRDFGLFVBQVUsQ0FBVixDQUFyRCxHQUFvRSxJQUR0RTs7QUFHQSxhQUFPO0FBRUw2YixrQkFBVWpCLGlCQUZMO0FBR0xnQixhQUFLQSxPQUFPLElBQVAsR0FBYyxJQUFkLEdBQXFCLEtBQUtBLEdBSDFCO0FBSUxILGtCQUFVQSxRQUpMO0FBS0xDLHVCQUFlQSxhQUxWO0FBTUxDLHdCQUFnQkE7QUFOWCxPQUFQO0FBUUQ7O0FBRUQsUUFBSUcsbUJBQW1CO0FBaUJyQkMseUJBQW1CLDJCQUNqQjNNLFlBRGlCLEVBRWpCNE0sbUJBRmlCLEVBR2pCQyxPQUhpQixFQUlqQkMsU0FKaUIsRUFLakI7QUFDQSxZQUFJNU0sWUFBWUYsYUFBYUUsU0FBN0I7QUFDQSxZQUFJNk0sUUFBUSxDQUFaO0FBQ0EsWUFBSUMsUUFBUSxDQUFaOztBQUVBLFlBQUlDLGVBQ0ZqTixhQUFhRyxtQkFBYixLQUFxQyxDQUFyQyxHQUNJSCxhQUFhRSxTQUFiLENBQXVCRixhQUFhSSx3QkFBcEMsQ0FESixHQUVJLElBSE47O0FBS0EsWUFBSTZNLGlCQUFpQixJQUFyQixFQUEyQjtBQUN6QixjQUNFQSxhQUFhdk0sV0FBYixJQUNBdU0sYUFBYS9MLGdCQUFiLEdBQWdDMEwsbUJBRmxDLEVBR0U7QUFDQUcscUJBQ0VELGFBQWFELE9BQWIsR0FDSUksYUFBYWpNLFlBRGpCLEdBRUk4TCxhQUFhLENBQUNELE9BQWQsR0FDRUksYUFBYWhNLFlBRGYsR0FFRSxDQUFDNkwsU0FBRCxJQUFjRCxPQUFkLEdBQ0VJLGFBQWE5TCxhQURmLEdBRUU4TCxhQUFhN0wsYUFQdkI7QUFRQTRMLG9CQUFRLENBQVI7QUFDRDtBQUNGLFNBZkQsTUFlTztBQUNMLGVBQUssSUFBSXhXLElBQUksQ0FBYixFQUFnQkEsSUFBSTBKLFVBQVVySyxNQUE5QixFQUFzQ1csR0FBdEMsRUFBMkM7QUFDekMsZ0JBQUkwVyxhQUFhaE4sVUFBVTFKLENBQVYsQ0FBakI7QUFDQSxnQkFDRTBXLGVBQWUsSUFBZixJQUNBQSxlQUFlNVcsU0FEZixJQUVBNFcsV0FBV3hNLFdBRlgsSUFHQXdNLFdBQVdoTSxnQkFBWCxJQUErQjBMLG1CQUpqQyxFQUtFO0FBQ0Esa0JBQUlPLFFBQVEsS0FBSyxDQUFqQjtBQUNBLGtCQUFJTCxhQUFhRCxPQUFqQixFQUEwQjtBQUN4Qk0sd0JBQVFELFdBQVdsTSxZQUFuQjtBQUNELGVBRkQsTUFFTyxJQUFJOEwsYUFBYSxDQUFDRCxPQUFsQixFQUEyQjtBQUNoQ00sd0JBQVFELFdBQVdqTSxZQUFuQjtBQUNELGVBRk0sTUFFQSxJQUFJLENBQUM2TCxTQUFELElBQWNELE9BQWxCLEVBQTJCO0FBQ2hDTSx3QkFBUUQsV0FBVy9MLGFBQW5CO0FBQ0QsZUFGTSxNQUVBO0FBQ0xnTSx3QkFBUUQsV0FBVzlMLGFBQW5CO0FBQ0Q7QUFDRDJMLHVCQUFTSSxLQUFUO0FBQ0FIO0FBQ0Q7QUFDRjtBQUNGO0FBQ0QsZUFBT0EsUUFBUSxDQUFSLEdBQVlELFFBQVFDLEtBQXBCLEdBQTRCTixpQkFBaUJVLFVBQXBEO0FBQ0QsT0F4RW9COztBQTBFckJDLDZDQUF1QywrQ0FDckNyTixZQURxQyxFQUVyQzRNLG1CQUZxQyxFQUdyQztBQUNBLGVBQU9GLGlCQUFpQkMsaUJBQWpCLENBQ0wzTSxZQURLLEVBRUw0TSxtQkFGSyxFQUdMLElBSEssRUFJTCxJQUpLLENBQVA7QUFNRCxPQXBGb0I7O0FBc0ZyQlUsNkNBQXVDLCtDQUNyQ3ROLFlBRHFDLEVBRXJDNE0sbUJBRnFDLEVBR3JDO0FBQ0EsZUFBT0YsaUJBQWlCQyxpQkFBakIsQ0FDTDNNLFlBREssRUFFTDRNLG1CQUZLLEVBR0wsS0FISyxFQUlMLElBSkssQ0FBUDtBQU1ELE9BaEdvQjs7QUFrR3JCVyw4Q0FBd0MsZ0RBQ3RDdk4sWUFEc0MsRUFFdEM0TSxtQkFGc0MsRUFHdEM7QUFDQSxlQUFPRixpQkFBaUJDLGlCQUFqQixDQUNMM00sWUFESyxFQUVMNE0sbUJBRkssRUFHTCxJQUhLLEVBSUwsS0FKSyxDQUFQO0FBTUQsT0E1R29COztBQThHckJZLDhDQUF3QyxnREFDdEN4TixZQURzQyxFQUV0QzRNLG1CQUZzQyxFQUd0QztBQUNBLGVBQU9GLGlCQUFpQkMsaUJBQWpCLENBQ0wzTSxZQURLLEVBRUw0TSxtQkFGSyxFQUdMLEtBSEssRUFJTCxLQUpLLENBQVA7QUFNRCxPQXhIb0I7O0FBMEhyQmEsd0JBQWtCLDBCQUFTek4sWUFBVCxFQUF1QjtBQUN2QyxlQUFPME0saUJBQWlCQyxpQkFBakIsQ0FDTDNNLFlBREssRUFFTCxDQUZLLEVBR0wsSUFISyxFQUlMLElBSkssQ0FBUDtBQU1ELE9BaklvQjs7QUFtSXJCME4sd0JBQWtCLDBCQUFTMU4sWUFBVCxFQUF1QjtBQUN2QyxlQUFPME0saUJBQWlCQyxpQkFBakIsQ0FDTDNNLFlBREssRUFFTCxDQUZLLEVBR0wsS0FISyxFQUlMLElBSkssQ0FBUDtBQU1ELE9BMUlvQjs7QUE0SXJCb04sa0JBQVksQ0FBQztBQTVJUSxLQUF2Qjs7QUFpSkEsUUFBSU8sZUFBZSxnQkFBbkI7O0FBRUEsYUFBU0MsZUFBVCxDQUF5QmxPLFFBQXpCLEVBQW1DbU8sV0FBbkMsRUFBZ0Q7QUFDOUMsVUFBSSxFQUFFbk8sb0JBQW9CbU8sV0FBdEIsQ0FBSixFQUF3QztBQUN0QyxjQUFNLElBQUlDLFNBQUosQ0FBYyxtQ0FBZCxDQUFOO0FBQ0Q7QUFDRjs7QUFFRCxRQUFJQyxVQUFVLEVBQWQ7QUFDQSxRQUFJQyxXQUFXLENBQWY7QUFDQSxRQUFJQyxnQkFBZ0IsRUFBcEI7O0FBRUEsUUFBSUMsMEJBQTJCLFlBQVc7QUFDeEMsZUFBU0EsdUJBQVQsR0FBbUM7QUFDakNOLHdCQUFnQixJQUFoQixFQUFzQk0sdUJBQXRCO0FBQ0Q7O0FBRURBLDhCQUF3QmhELFFBQXhCLEdBQW1DLFNBQVNBLFFBQVQsQ0FBa0JpRCxNQUFsQixFQUEwQjtBQUMzRCxZQUFJQyxLQUFLLEVBQUVKLFFBQVg7QUFDQTtBQUNFclEsaUJBQU82SixNQUFQLENBQWMyRyxNQUFkO0FBQ0Q7QUFDREosZ0JBQVFLLEVBQVIsSUFBY0QsTUFBZDtBQUNBLGVBQU9DLEVBQVA7QUFDRCxPQVBEOztBQVNBRiw4QkFBd0JHLE9BQXhCLEdBQWtDLFNBQVNBLE9BQVQsQ0FBaUJELEVBQWpCLEVBQXFCO0FBQ3JELFlBQUksQ0FBQ0EsRUFBTCxFQUFTO0FBR1AsaUJBQU9ILGFBQVA7QUFDRDs7QUFFRCxZQUFJRSxTQUFTSixRQUFRSyxFQUFSLENBQWI7QUFDQSxZQUFJLENBQUNELE1BQUwsRUFBYTtBQUNYdE0sa0JBQVExQyxJQUFSLENBQWEsNEJBQTRCaVAsRUFBNUIsR0FBaUMsaUJBQTlDO0FBQ0EsaUJBQU9ILGFBQVA7QUFDRDtBQUNELGVBQU9FLE1BQVA7QUFDRCxPQWJEOztBQWVBLGFBQU9ELHVCQUFQO0FBQ0QsS0E5QjZCLEVBQTlCOztBQWlDQSxRQUFJSSxnQkFBZ0IsRUFBcEI7O0FBWUEsUUFBSUMsY0FBYyxJQUFsQjtBQUNBLFFBQUlDLGtCQUFrQixDQUF0Qjs7QUFFQSxhQUFTQyxhQUFULENBQXVCQyxRQUF2QixFQUFpQ0MsUUFBakMsRUFBMkM7QUFDekMsVUFBSSxPQUFPQSxRQUFQLEtBQW9CLFFBQXBCLElBQWdDQSxhQUFhLElBQWpELEVBQXVEO0FBRXJELGVBQU8sSUFBUDtBQUNELE9BSEQsTUFHTztBQUVMLGVBQU94ZixXQUFXdWYsUUFBWCxFQUFxQkMsUUFBckIsQ0FBUDtBQUNEO0FBQ0Y7O0FBRUQsYUFBU0MsYUFBVCxDQUF1QkMsVUFBdkIsRUFBbUM7QUFDakMsVUFBSSxPQUFPQSxVQUFQLEtBQXNCLFFBQTFCLEVBQW9DO0FBQ2xDLGVBQU9YLHdCQUF3QkcsT0FBeEIsQ0FBZ0NRLFVBQWhDLENBQVA7QUFDRDtBQUNELGFBQU9BLFVBQVA7QUFDRDs7QUFFRCxhQUFTQyxpQ0FBVCxDQUNFQyxhQURGLEVBRUVDLElBRkYsRUFHRUMsZUFIRixFQUlFO0FBQ0EsVUFBSXplLE1BQU1tRixPQUFOLENBQWNxWixJQUFkLENBQUosRUFBeUI7QUFDdkIsWUFBSXhZLElBQUl3WSxLQUFLblosTUFBYjtBQUNBLGVBQU9XLE9BQU9nWSxrQkFBa0IsQ0FBaEMsRUFBbUM7QUFDakNNLDRDQUNFQyxhQURGLEVBRUVDLEtBQUt4WSxDQUFMLENBRkYsRUFHRXlZLGVBSEY7QUFLRDtBQUNGLE9BVEQsTUFTTyxJQUFJRCxRQUFRUixrQkFBa0IsQ0FBOUIsRUFBaUM7QUFDdEMsWUFBSVUsTUFBTU4sY0FBY0ksSUFBZCxDQUFWO0FBQ0EsYUFBSyxJQUFJRyxPQUFULElBQW9CWixXQUFwQixFQUFpQztBQUMvQixjQUFJLENBQUNBLFlBQVlZLE9BQVosQ0FBTCxFQUEyQjtBQUN6QjtBQUNEO0FBQ0QsY0FBSUMsWUFBWUYsSUFBSUMsT0FBSixDQUFoQjtBQUNBLGNBQUlDLGNBQWM5WSxTQUFsQixFQUE2QjtBQUMzQjtBQUNEOztBQUVELGNBQUkrWSxrQkFBa0JKLGdCQUFnQkUsT0FBaEIsQ0FBdEI7QUFDQSxjQUFJLENBQUNFLGVBQUwsRUFBc0I7QUFDcEI7QUFDRDs7QUFFRCxjQUFJLE9BQU9ELFNBQVAsS0FBcUIsVUFBekIsRUFBcUM7QUFDbkNBLHdCQUFZLElBQVo7QUFDRDtBQUNELGNBQUksT0FBT0EsU0FBUCxLQUFxQixXQUF6QixFQUFzQztBQUNwQ0Esd0JBQVksSUFBWjtBQUNEOztBQUVELGNBQUksT0FBT0MsZUFBUCxLQUEyQixRQUEvQixFQUF5QztBQUV2Q04sMEJBQWNJLE9BQWQsSUFBeUJDLFNBQXpCO0FBQ0QsV0FIRCxNQUdPLElBQ0wsT0FBT0MsZ0JBQWdCQyxJQUF2QixLQUFnQyxVQUFoQyxJQUNBLE9BQU9ELGdCQUFnQkUsT0FBdkIsS0FBbUMsVUFGOUIsRUFHTDtBQUVBLGdCQUFJQyxZQUNGLE9BQU9ILGdCQUFnQkUsT0FBdkIsS0FBbUMsVUFBbkMsR0FDSUYsZ0JBQWdCRSxPQUFoQixDQUF3QkgsU0FBeEIsQ0FESixHQUVJQSxTQUhOO0FBSUFMLDBCQUFjSSxPQUFkLElBQXlCSyxTQUF6QjtBQUNEO0FBQ0RqQixzQkFBWVksT0FBWixJQUF1QixLQUF2QjtBQUNBWDtBQUNEO0FBQ0Y7QUFDRjs7QUFFRCxhQUFTaUIsdUJBQVQsQ0FDRVYsYUFERixFQUVFVyxTQUZGLEVBR0VDLFNBSEYsRUFJRVYsZUFKRixFQUtFO0FBQ0EsVUFBSVcsWUFDRkYsVUFBVTdaLE1BQVYsR0FBbUI4WixVQUFVOVosTUFBN0IsR0FBc0M2WixVQUFVN1osTUFBaEQsR0FBeUQ4WixVQUFVOVosTUFEckU7QUFFQSxVQUFJVyxJQUFJLEtBQUssQ0FBYjtBQUNBLFdBQUtBLElBQUksQ0FBVCxFQUFZQSxJQUFJb1osU0FBaEIsRUFBMkJwWixHQUEzQixFQUFnQztBQUc5QnVZLHdCQUFnQmMsbUJBQ2RkLGFBRGMsRUFFZFcsVUFBVWxaLENBQVYsQ0FGYyxFQUdkbVosVUFBVW5aLENBQVYsQ0FIYyxFQUlkeVksZUFKYyxDQUFoQjtBQU1EO0FBQ0QsYUFBT3pZLElBQUlrWixVQUFVN1osTUFBckIsRUFBNkJXLEdBQTdCLEVBQWtDO0FBRWhDdVksd0JBQWdCZSxvQkFDZGYsYUFEYyxFQUVkVyxVQUFVbFosQ0FBVixDQUZjLEVBR2R5WSxlQUhjLENBQWhCO0FBS0Q7QUFDRCxhQUFPelksSUFBSW1aLFVBQVU5WixNQUFyQixFQUE2QlcsR0FBN0IsRUFBa0M7QUFFaEN1WSx3QkFBZ0JnQixrQkFDZGhCLGFBRGMsRUFFZFksVUFBVW5aLENBQVYsQ0FGYyxFQUdkeVksZUFIYyxDQUFoQjtBQUtEO0FBQ0QsYUFBT0YsYUFBUDtBQUNEOztBQUVELGFBQVNjLGtCQUFULENBQ0VkLGFBREYsRUFFRUwsUUFGRixFQUdFQyxRQUhGLEVBSUVNLGVBSkYsRUFLRTtBQUNBLFVBQUksQ0FBQ0YsYUFBRCxJQUFrQkwsYUFBYUMsUUFBbkMsRUFBNkM7QUFHM0MsZUFBT0ksYUFBUDtBQUNEOztBQUVELFVBQUksQ0FBQ0wsUUFBRCxJQUFhLENBQUNDLFFBQWxCLEVBQTRCO0FBQzFCLFlBQUlBLFFBQUosRUFBYztBQUNaLGlCQUFPb0Isa0JBQWtCaEIsYUFBbEIsRUFBaUNKLFFBQWpDLEVBQTJDTSxlQUEzQyxDQUFQO0FBQ0Q7QUFDRCxZQUFJUCxRQUFKLEVBQWM7QUFDWixpQkFBT29CLG9CQUFvQmYsYUFBcEIsRUFBbUNMLFFBQW5DLEVBQTZDTyxlQUE3QyxDQUFQO0FBQ0Q7QUFDRCxlQUFPRixhQUFQO0FBQ0Q7O0FBRUQsVUFBSSxDQUFDdmUsTUFBTW1GLE9BQU4sQ0FBYytZLFFBQWQsQ0FBRCxJQUE0QixDQUFDbGUsTUFBTW1GLE9BQU4sQ0FBY2daLFFBQWQsQ0FBakMsRUFBMEQ7QUFFeEQsZUFBT3FCLGVBQ0xqQixhQURLLEVBRUxILGNBQWNGLFFBQWQsQ0FGSyxFQUdMRSxjQUFjRCxRQUFkLENBSEssRUFJTE0sZUFKSyxDQUFQO0FBTUQ7O0FBRUQsVUFBSXplLE1BQU1tRixPQUFOLENBQWMrWSxRQUFkLEtBQTJCbGUsTUFBTW1GLE9BQU4sQ0FBY2daLFFBQWQsQ0FBL0IsRUFBd0Q7QUFFdEQsZUFBT2Msd0JBQ0xWLGFBREssRUFFTEwsUUFGSyxFQUdMQyxRQUhLLEVBSUxNLGVBSkssQ0FBUDtBQU1EOztBQUVELFVBQUl6ZSxNQUFNbUYsT0FBTixDQUFjK1ksUUFBZCxDQUFKLEVBQTZCO0FBQzNCLGVBQU9zQixlQUNMakIsYUFESyxFQUdMM2YsYUFBYXNmLFFBQWIsQ0FISyxFQUtMRSxjQUFjRCxRQUFkLENBTEssRUFNTE0sZUFOSyxDQUFQO0FBUUQ7O0FBRUQsYUFBT2UsZUFDTGpCLGFBREssRUFFTEgsY0FBY0YsUUFBZCxDQUZLLEVBSUx0ZixhQUFhdWYsUUFBYixDQUpLLEVBS0xNLGVBTEssQ0FBUDtBQU9EOztBQU9ELGFBQVNjLGlCQUFULENBQTJCaEIsYUFBM0IsRUFBMENKLFFBQTFDLEVBQW9ETSxlQUFwRCxFQUFxRTtBQUNuRSxVQUFJLENBQUNOLFFBQUwsRUFBZTtBQUNiLGVBQU9JLGFBQVA7QUFDRDs7QUFFRCxVQUFJLENBQUN2ZSxNQUFNbUYsT0FBTixDQUFjZ1osUUFBZCxDQUFMLEVBQThCO0FBRTVCLGVBQU9zQixjQUNMbEIsYUFESyxFQUVMSCxjQUFjRCxRQUFkLENBRkssRUFHTE0sZUFISyxDQUFQO0FBS0Q7O0FBRUQsV0FBSyxJQUFJelksSUFBSSxDQUFiLEVBQWdCQSxJQUFJbVksU0FBUzlZLE1BQTdCLEVBQXFDVyxHQUFyQyxFQUEwQztBQUV4Q3VZLHdCQUFnQmdCLGtCQUNkaEIsYUFEYyxFQUVkSixTQUFTblksQ0FBVCxDQUZjLEVBR2R5WSxlQUhjLENBQWhCO0FBS0Q7O0FBRUQsYUFBT0YsYUFBUDtBQUNEOztBQU1ELGFBQVNlLG1CQUFULENBQTZCZixhQUE3QixFQUE0Q0wsUUFBNUMsRUFBc0RPLGVBQXRELEVBQXVFO0FBQ3JFLFVBQUksQ0FBQ1AsUUFBTCxFQUFlO0FBQ2IsZUFBT0ssYUFBUDtBQUNEOztBQUVELFVBQUksQ0FBQ3ZlLE1BQU1tRixPQUFOLENBQWMrWSxRQUFkLENBQUwsRUFBOEI7QUFFNUIsZUFBT3dCLGdCQUNMbkIsYUFESyxFQUVMSCxjQUFjRixRQUFkLENBRkssRUFHTE8sZUFISyxDQUFQO0FBS0Q7O0FBRUQsV0FBSyxJQUFJelksSUFBSSxDQUFiLEVBQWdCQSxJQUFJa1ksU0FBUzdZLE1BQTdCLEVBQXFDVyxHQUFyQyxFQUEwQztBQUV4Q3VZLHdCQUFnQmUsb0JBQ2RmLGFBRGMsRUFFZEwsU0FBU2xZLENBQVQsQ0FGYyxFQUdkeVksZUFIYyxDQUFoQjtBQUtEO0FBQ0QsYUFBT0YsYUFBUDtBQUNEOztBQVFELGFBQVNpQixjQUFULENBQXdCakIsYUFBeEIsRUFBdUNvQixTQUF2QyxFQUFrREMsU0FBbEQsRUFBNkRuQixlQUE3RCxFQUE4RTtBQUM1RSxVQUFJSSxrQkFBa0IsS0FBSyxDQUEzQjtBQUNBLFVBQUlWLFdBQVcsS0FBSyxDQUFwQjtBQUNBLFVBQUlELFdBQVcsS0FBSyxDQUFwQjs7QUFFQSxXQUFLLElBQUlTLE9BQVQsSUFBb0JpQixTQUFwQixFQUErQjtBQUM3QmYsMEJBQWtCSixnQkFBZ0JFLE9BQWhCLENBQWxCO0FBQ0EsWUFBSSxDQUFDRSxlQUFMLEVBQXNCO0FBQ3BCO0FBQ0Q7O0FBRURYLG1CQUFXeUIsVUFBVWhCLE9BQVYsQ0FBWDtBQUNBUixtQkFBV3lCLFVBQVVqQixPQUFWLENBQVg7O0FBSUEsWUFBSSxPQUFPUixRQUFQLEtBQW9CLFVBQXhCLEVBQW9DO0FBQ2xDQSxxQkFBVyxJQUFYOztBQUdBLGNBQUksT0FBT0QsUUFBUCxLQUFvQixVQUF4QixFQUFvQztBQUNsQ0EsdUJBQVcsSUFBWDtBQUNEO0FBQ0Y7O0FBSUQsWUFBSSxPQUFPQyxRQUFQLEtBQW9CLFdBQXhCLEVBQXFDO0FBQ25DQSxxQkFBVyxJQUFYO0FBQ0EsY0FBSSxPQUFPRCxRQUFQLEtBQW9CLFdBQXhCLEVBQXFDO0FBQ25DQSx1QkFBVyxJQUFYO0FBQ0Q7QUFDRjs7QUFFRCxZQUFJSCxXQUFKLEVBQWlCO0FBQ2ZBLHNCQUFZWSxPQUFaLElBQXVCLEtBQXZCO0FBQ0Q7O0FBRUQsWUFBSUosaUJBQWlCQSxjQUFjSSxPQUFkLE1BQTJCN1ksU0FBaEQsRUFBMkQ7QUFPekQsY0FBSSxPQUFPK1ksZUFBUCxLQUEyQixRQUEvQixFQUF5QztBQUV2Q04sMEJBQWNJLE9BQWQsSUFBeUJSLFFBQXpCO0FBQ0QsV0FIRCxNQUdPLElBQ0wsT0FBT1UsZ0JBQWdCQyxJQUF2QixLQUFnQyxVQUFoQyxJQUNBLE9BQU9ELGdCQUFnQkUsT0FBdkIsS0FBbUMsVUFGOUIsRUFHTDtBQUVBLGdCQUFJQyxZQUNGLE9BQU9ILGdCQUFnQkUsT0FBdkIsS0FBbUMsVUFBbkMsR0FDSUYsZ0JBQWdCRSxPQUFoQixDQUF3QlosUUFBeEIsQ0FESixHQUVJQSxRQUhOO0FBSUFJLDBCQUFjSSxPQUFkLElBQXlCSyxTQUF6QjtBQUNEO0FBQ0Q7QUFDRDs7QUFFRCxZQUFJZCxhQUFhQyxRQUFqQixFQUEyQjtBQUN6QjtBQUNEOztBQUdELFlBQUksT0FBT1UsZUFBUCxLQUEyQixRQUEvQixFQUF5QztBQUV2QyxjQUFJWixjQUFjQyxRQUFkLEVBQXdCQyxRQUF4QixDQUFKLEVBQXVDO0FBRXJDLGFBQUNJLGtCQUFrQkEsZ0JBQWdCLEVBQWxDLENBQUQsRUFBd0NJLE9BQXhDLElBQW1EUixRQUFuRDtBQUNEO0FBQ0YsU0FORCxNQU1PLElBQ0wsT0FBT1UsZ0JBQWdCQyxJQUF2QixLQUFnQyxVQUFoQyxJQUNBLE9BQU9ELGdCQUFnQkUsT0FBdkIsS0FBbUMsVUFGOUIsRUFHTDtBQUVBLGNBQUljLGVBQ0YzQixhQUFhcFksU0FBYixLQUNDLE9BQU8rWSxnQkFBZ0JDLElBQXZCLEtBQWdDLFVBQWhDLEdBQ0dELGdCQUFnQkMsSUFBaEIsQ0FBcUJaLFFBQXJCLEVBQStCQyxRQUEvQixDQURILEdBRUdGLGNBQWNDLFFBQWQsRUFBd0JDLFFBQXhCLENBSEosQ0FERjtBQUtBLGNBQUkwQixZQUFKLEVBQWtCO0FBQ2hCLGdCQUFJQyxhQUNGLE9BQU9qQixnQkFBZ0JFLE9BQXZCLEtBQW1DLFVBQW5DLEdBQ0lGLGdCQUFnQkUsT0FBaEIsQ0FBd0JaLFFBQXhCLENBREosR0FFSUEsUUFITjtBQUlBLGFBQUNJLGtCQUFrQkEsZ0JBQWdCLEVBQWxDLENBQUQsRUFBd0NJLE9BQXhDLElBQW1EbUIsVUFBbkQ7QUFDRDtBQUNGLFNBakJNLE1BaUJBO0FBRUwvQix3QkFBYyxJQUFkO0FBQ0FDLDRCQUFrQixDQUFsQjs7QUFHQU8sMEJBQWdCYyxtQkFDZGQsYUFEYyxFQUVkTCxRQUZjLEVBR2RDLFFBSGMsRUFJZFUsZUFKYyxDQUFoQjtBQU1BLGNBQUliLGtCQUFrQixDQUFsQixJQUF1Qk8sYUFBM0IsRUFBMEM7QUFDeENELDhDQUNFQyxhQURGLEVBRUVKLFFBRkYsRUFHRVUsZUFIRjtBQUtBZCwwQkFBYyxJQUFkO0FBQ0Q7QUFDRjtBQUNGOztBQUtELFdBQUssSUFBSWdDLFFBQVQsSUFBcUJKLFNBQXJCLEVBQWdDO0FBQzlCLFlBQUlDLFVBQVVHLFFBQVYsTUFBd0JqYSxTQUE1QixFQUF1QztBQUNyQztBQUNEO0FBQ0QrWSwwQkFBa0JKLGdCQUFnQnNCLFFBQWhCLENBQWxCO0FBQ0EsWUFBSSxDQUFDbEIsZUFBTCxFQUFzQjtBQUNwQjtBQUNEOztBQUVELFlBQUlOLGlCQUFpQkEsY0FBY3dCLFFBQWQsTUFBNEJqYSxTQUFqRCxFQUE0RDtBQUUxRDtBQUNEOztBQUVEb1ksbUJBQVd5QixVQUFVSSxRQUFWLENBQVg7QUFDQSxZQUFJN0IsYUFBYXBZLFNBQWpCLEVBQTRCO0FBQzFCO0FBQ0Q7O0FBRUQsWUFDRSxPQUFPK1ksZUFBUCxLQUEyQixRQUEzQixJQUNBLE9BQU9BLGdCQUFnQkMsSUFBdkIsS0FBZ0MsVUFEaEMsSUFFQSxPQUFPRCxnQkFBZ0JFLE9BQXZCLEtBQW1DLFVBSHJDLEVBSUU7QUFHQSxXQUFDUixrQkFBa0JBLGdCQUFnQixFQUFsQyxDQUFELEVBQXdDd0IsUUFBeEMsSUFBb0QsSUFBcEQ7QUFDQSxjQUFJLENBQUNoQyxXQUFMLEVBQWtCO0FBQ2hCQSwwQkFBYyxFQUFkO0FBQ0Q7QUFDRCxjQUFJLENBQUNBLFlBQVlnQyxRQUFaLENBQUwsRUFBNEI7QUFDMUJoQyx3QkFBWWdDLFFBQVosSUFBd0IsSUFBeEI7QUFDQS9CO0FBQ0Q7QUFDRixTQWZELE1BZU87QUFJTE8sMEJBQWdCZSxvQkFDZGYsYUFEYyxFQUVkTCxRQUZjLEVBR2RXLGVBSGMsQ0FBaEI7QUFLRDtBQUNGO0FBQ0QsYUFBT04sYUFBUDtBQUNEOztBQUtELGFBQVNrQixhQUFULENBQXVCbEIsYUFBdkIsRUFBc0N6VyxLQUF0QyxFQUE2QzJXLGVBQTdDLEVBQThEO0FBRTVELGFBQU9lLGVBQWVqQixhQUFmLEVBQThCVCxhQUE5QixFQUE2Q2hXLEtBQTdDLEVBQW9EMlcsZUFBcEQsQ0FBUDtBQUNEOztBQU1ELGFBQVNpQixlQUFULENBQXlCbkIsYUFBekIsRUFBd0NvQixTQUF4QyxFQUFtRGxCLGVBQW5ELEVBQW9FO0FBRWxFLGFBQU9lLGVBQ0xqQixhQURLLEVBRUxvQixTQUZLLEVBR0w3QixhQUhLLEVBSUxXLGVBSkssQ0FBUDtBQU1EOztBQUVELGFBQVN6USxNQUFULENBQWdCbEcsS0FBaEIsRUFBdUIyVyxlQUF2QixFQUF3QztBQUN0QyxhQUFPZ0IsY0FDTCxJQURLLEVBRUwzWCxLQUZLLEVBR0wyVyxlQUhLLENBQVA7QUFLRDs7QUFFRCxhQUFTSyxJQUFULENBQWNhLFNBQWQsRUFBeUJDLFNBQXpCLEVBQW9DbkIsZUFBcEMsRUFBcUQ7QUFDbkQsYUFBT2UsZUFDTCxJQURLLEVBRUxHLFNBRkssRUFHTEMsU0FISyxFQUlMbkIsZUFKSyxDQUFQO0FBTUQ7O0FBTUQsYUFBU3VCLGlCQUFULENBQTJCMWdCLE9BQTNCLEVBQW9DMmdCLFFBQXBDLEVBQThDO0FBQzVDLGFBQU8sWUFBVztBQUNoQixZQUFJLENBQUNBLFFBQUwsRUFBZTtBQUNiLGlCQUFPbmEsU0FBUDtBQUNEO0FBQ0QsWUFBSSxPQUFPeEcsUUFBUTRnQixXQUFmLEtBQStCLFNBQW5DLEVBQThDO0FBSzVDLGNBQUksQ0FBQzVnQixRQUFRNGdCLFdBQWIsRUFBMEI7QUFDeEIsbUJBQU9wYSxTQUFQO0FBQ0Q7QUFHRixTQVZELE1BVU8sSUFBSSxPQUFPeEcsUUFBUTZnQixTQUFmLEtBQTZCLFVBQWpDLEVBQTZDO0FBQ2xELGNBQUksQ0FBQzdnQixRQUFRNmdCLFNBQVIsRUFBTCxFQUEwQjtBQUN4QixtQkFBT3JhLFNBQVA7QUFDRDtBQUNGO0FBQ0QsZUFBT21hLFNBQVM1ZixLQUFULENBQWVmLE9BQWYsRUFBd0JjLFNBQXhCLENBQVA7QUFDRCxPQXBCRDtBQXFCRDs7QUFFRCxhQUFTZ2dCLGlCQUFULENBQTJCQyxTQUEzQixFQUFzQ3ZZLEtBQXRDLEVBQTZDO0FBQzNDLFVBQUlBLE1BQU13WSxNQUFOLEtBQWlCeGEsU0FBckIsRUFBZ0M7QUFDOUIsWUFBSXlhLFFBQVFGLFVBQVVHLE1BQVYsSUFBb0IsSUFBaEM7QUFDQSxZQUFJcGhCLE9BQU9paEIsVUFBVTlZLFdBQVYsQ0FBc0JrWixXQUFqQztBQUNBLFlBQUlDLE1BQ0YsOENBQ0F0aEIsSUFEQSxHQUVBLFNBRkEsR0FHQSw4QkFKRjtBQUtBLFlBQUltaEIsU0FBU0EsTUFBTWhaLFdBQWYsSUFBOEJnWixNQUFNaFosV0FBTixDQUFrQmtaLFdBQXBELEVBQWlFO0FBQy9EQyxpQkFDRSxvQkFDQUgsTUFBTWhaLFdBQU4sQ0FBa0JrWixXQURsQixHQUVBLFdBRkEsR0FHQSxhQUpGO0FBS0Q7QUFDRCxjQUFNLElBQUk5ZSxLQUFKLENBQVUrZSxHQUFWLENBQU47QUFDRDtBQUNGOztBQUVELGFBQVNDLGlCQUFULENBQTJCN1ksS0FBM0IsRUFBa0MyVyxlQUFsQyxFQUFtRDtBQUNqRCxXQUFLLElBQUl6QyxHQUFULElBQWdCeUMsZ0JBQWdCbUMsS0FBaEMsRUFBdUM7QUFDckMsWUFBSSxFQUFFbkMsZ0JBQWdCekMsR0FBaEIsS0FBd0JsVSxNQUFNa1UsR0FBTixNQUFlbFcsU0FBekMsQ0FBSixFQUF5RDtBQUN2RHVMLGtCQUFRL1EsS0FBUixDQUNFLGtDQUNFMGIsR0FERixHQUVFLDBCQUZGLEdBR0Usb0NBSEYsR0FJRSxtQkFKRixHQUtFQSxHQUxGLEdBTUUsWUFQSjtBQVNEO0FBQ0Y7QUFDRjs7QUFrQkQsYUFBU3hOLEdBQVQsQ0FBYXdOLEdBQWIsRUFBa0I7QUFDaEIsYUFBT0EsSUFBSTZFLG1CQUFYO0FBQ0Q7O0FBRUQsYUFBUzNTLEdBQVQsQ0FBYThOLEdBQWIsRUFBa0I1TixLQUFsQixFQUF5QjtBQUN2QjROLFVBQUk2RSxtQkFBSixHQUEwQnpTLEtBQTFCO0FBQ0Q7O0FBRUQsUUFBSTBTLGlCQUFpQmppQixNQUFNa2lCLGtEQUEzQjs7QUFFQSxRQUFJQyxvQkFBb0JGLGVBQWVFLGlCQUF2QztBQUNBLFFBQUlDLHlCQUF5QkgsZUFBZUcsc0JBQTVDOztBQUVBLGFBQVNDLGdCQUFULENBQTBCQyxLQUExQixFQUFpQztBQUMvQixVQUFJdmIsT0FBT3ViLE1BQU12YixJQUFqQjs7QUFFQSxVQUFJLE9BQU9BLElBQVAsS0FBZ0IsVUFBcEIsRUFBZ0M7QUFDOUIsZUFBT0EsS0FBSzZhLFdBQUwsSUFBb0I3YSxLQUFLeEcsSUFBaEM7QUFDRDtBQUNELFVBQUksT0FBT3dHLElBQVAsS0FBZ0IsUUFBcEIsRUFBOEI7QUFDNUIsZUFBT0EsSUFBUDtBQUNEO0FBQ0QsY0FBUUEsSUFBUjtBQUNFLGFBQUtxVixtQkFBTDtBQUNFLGlCQUFPLGVBQVA7QUFDRixhQUFLRCxpQkFBTDtBQUNFLGlCQUFPLGFBQVA7QUFDRixhQUFLRixlQUFMO0FBQ0UsaUJBQU8sV0FBUDtBQUNGLGFBQUtDLGlCQUFMO0FBQ0UsaUJBQU8sYUFBUDtBQVJKO0FBVUEsYUFBTyxJQUFQO0FBQ0Q7O0FBS0QsUUFBSXFHLG1CQUFtQiwwQkFBU0QsS0FBVCxFQUFnQjtBQUNyQyxhQUFPLElBQVA7QUFDRCxLQUZEOztBQUlBLFFBQUlFLHlCQUF5QixTQUF6QkEsc0JBQXlCLENBQVNGLEtBQVQsRUFBZ0I7QUFDM0MsYUFBTyxJQUFQO0FBQ0QsS0FGRDs7QUFJQSxhQUFTRyxzQkFBVCxDQUFnQ0MsSUFBaEMsRUFBc0M7QUFDcENILHlCQUFtQkcsSUFBbkI7QUFDRDs7QUFtQ0QsYUFBU0MsY0FBVCxDQUF3QkMsaUJBQXhCLEVBQTJDO0FBQ3pDO0FBQ0UsWUFBSWxCLFFBQVFTLGtCQUFrQnJhLE9BQTlCO0FBQ0EsWUFBSTRaLFVBQVUsSUFBVixJQUFrQkEsTUFBTXJZLFNBQU4sS0FBb0IsSUFBMUMsRUFBZ0Q7QUFDOUM1SixrQkFDRWlpQixNQUFNclksU0FBTixDQUFnQndaLHdCQURsQixFQUVFLHlEQUNFLG1FQURGLEdBRUUsb0VBRkYsR0FHRSxpRUFIRixHQUlFLDZCQU5KLEVBT0VSLGlCQUFpQlgsS0FBakIsS0FBMkIsYUFQN0I7O0FBVUFBLGdCQUFNclksU0FBTixDQUFnQndaLHdCQUFoQixHQUEyQyxJQUEzQztBQUNEO0FBQ0Y7QUFDRCxVQUFJRCxxQkFBcUIsSUFBekIsRUFBK0I7QUFDN0IsZUFBTyxJQUFQO0FBQ0Q7QUFDRCxVQUFJLE9BQU9BLGlCQUFQLEtBQTZCLFFBQWpDLEVBQTJDO0FBRXpDLGVBQU9BLGlCQUFQO0FBQ0Q7O0FBRUQsVUFBSXBCLFlBQVlvQixpQkFBaEI7O0FBSUEsVUFBSTVKLG1CQUFtQnJKLElBQUk2UixTQUFKLENBQXZCO0FBQ0EsVUFBSXhJLGdCQUFKLEVBQXNCO0FBQ3BCLGVBQ0V1SixpQkFBaUJ2SixnQkFBakIsS0FDQXdKLHVCQUF1QnhKLGdCQUF2QixDQUZGO0FBSUQsT0FMRCxNQUtPO0FBQ0wsWUFBSXdJLFNBQUosRUFBZTtBQUNiLGlCQUFPQSxTQUFQO0FBQ0QsU0FGRCxNQUVPO0FBQ0xoaUIsb0JBRUcsT0FBT2dpQixTQUFQLEtBQXFCLFFBQXJCLElBQWlDLGdCQUFnQkEsU0FBbEQsSUFFR0EsVUFBVXNCLE1BQVYsSUFBb0IsSUFBcEIsSUFBNEIsT0FBT3RCLFVBQVVzQixNQUFqQixLQUE0QixVQUo3RCxFQUtFLHNEQUNFLHNCQU5KLEVBT0UsT0FBT3RCLFNBUFQsRUFRRWxULE9BQU95VSxJQUFQLENBQVl2QixTQUFaLENBUkY7QUFVQWhpQixvQkFDRSxLQURGLEVBRUUsbUVBQ0UsWUFISjtBQUtEO0FBQ0Y7QUFDRjs7QUFPRCxhQUFTd2pCLDBCQUFULENBQW9DSixpQkFBcEMsRUFBdUQ7QUFDckQsVUFBSXZTLFdBQVdzUyxlQUFlQyxpQkFBZixDQUFmO0FBQ0EsVUFBSXZTLFlBQVksSUFBWixJQUFvQixPQUFPQSxRQUFQLEtBQW9CLFFBQTVDLEVBQXNEO0FBQ3BELGVBQU9BLFFBQVA7QUFDRDtBQUNELGFBQU9BLFNBQVN5SCxVQUFoQjtBQUNEOztBQWtCRCxRQUFJbUwscUJBQXFCO0FBa0J2QkMsZUFBUyxpQkFBUzlCLFFBQVQsRUFBbUI7QUFDMUJ6aEIsa0JBQVV1akIsT0FBVixDQUNFRiwyQkFBMkIsSUFBM0IsQ0FERixFQUVFN0Isa0JBQWtCLElBQWxCLEVBQXdCQyxRQUF4QixDQUZGO0FBSUQsT0F2QnNCOztBQXdDdkIrQix1QkFBaUIseUJBQVMvQixRQUFULEVBQW1CO0FBQ2xDemhCLGtCQUFVd2pCLGVBQVYsQ0FDRUgsMkJBQTJCLElBQTNCLENBREYsRUFFRTdCLGtCQUFrQixJQUFsQixFQUF3QkMsUUFBeEIsQ0FGRjtBQUlELE9BN0NzQjs7QUF1RHZCZ0MscUJBQWUsdUJBQ2JDLG9CQURhLEVBRWJDLFNBRmEsRUFHYkMsTUFIYSxFQUliO0FBQ0E1akIsa0JBQVV5akIsYUFBVixDQUNFSiwyQkFBMkIsSUFBM0IsQ0FERixFQUVFSyxvQkFGRixFQUdFbEMsa0JBQWtCLElBQWxCLEVBQXdCb0MsTUFBeEIsQ0FIRixFQUlFcEMsa0JBQWtCLElBQWxCLEVBQXdCbUMsU0FBeEIsQ0FKRjtBQU1ELE9BbEVzQjs7QUEwRXZCRSxzQkFBZ0Isd0JBQVNDLFdBQVQsRUFBc0I7QUFNcEMsWUFBSUMsZ0JBQWdCLEtBQUssQ0FBekI7O0FBTUEsWUFBSTtBQUNGQSwwQkFBZ0JmLGVBQWUsSUFBZixDQUFoQjtBQUNELFNBRkQsQ0FFRSxPQUFPbGhCLEtBQVAsRUFBYyxDQUFFOztBQUlsQixZQUFJaWlCLGlCQUFpQixJQUFyQixFQUEyQjtBQUN6QjtBQUNEOztBQUVELFlBQUl4TSxhQUFhd00sY0FBY3hNLFVBQS9COztBQUVBO0FBQ0U0Syw0QkFBa0IyQixXQUFsQixFQUErQnZNLFdBQVcwSSxlQUExQztBQUNEOztBQUVELFlBQUlGLGdCQUFnQnZRLE9BQU9zVSxXQUFQLEVBQW9Cdk0sV0FBVzBJLGVBQS9CLENBQXBCOztBQUtBLFlBQUlGLGlCQUFpQixJQUFyQixFQUEyQjtBQUN6Qi9mLG9CQUFVZ2tCLFVBQVYsQ0FDRUQsY0FBYzVMLFVBRGhCLEVBRUVaLFdBQVcwTSxlQUZiLEVBR0VsRSxhQUhGO0FBS0Q7QUFDRixPQWxIc0I7O0FBd0h2Qm1FLGFBQU8saUJBQVc7QUFDaEJoa0IsdUJBQWVpa0IsY0FBZixDQUE4QmQsMkJBQTJCLElBQTNCLENBQTlCO0FBQ0QsT0ExSHNCOztBQStIdkJlLFlBQU0sZ0JBQVc7QUFDZmxrQix1QkFBZW1rQixhQUFmLENBQTZCaEIsMkJBQTJCLElBQTNCLENBQTdCO0FBQ0Q7QUFqSXNCLEtBQXpCOztBQW9JQTtBQUlFLFVBQUlpQix5QkFBeUJoQixrQkFBN0I7QUFDQXpqQixnQkFDRSxDQUFDeWtCLHVCQUF1QkMsa0JBQXhCLElBQ0UsQ0FBQ0QsdUJBQXVCRSx5QkFEMUIsSUFFRSxDQUFDRix1QkFBdUJHLHlCQUYxQixJQUdFLENBQUNILHVCQUF1QkksZ0NBSjVCLEVBS0UscUNBTEY7O0FBU0FKLDZCQUF1QkMsa0JBQXZCLEdBQTRDLFlBQVc7QUFDckQzQywwQkFBa0IsSUFBbEIsRUFBd0IsS0FBS3RZLEtBQTdCO0FBQ0QsT0FGRDtBQUdBZ2IsNkJBQXVCRSx5QkFBdkIsR0FBbUQsVUFBU0csUUFBVCxFQUFtQjtBQUNwRS9DLDBCQUFrQixJQUFsQixFQUF3QitDLFFBQXhCO0FBQ0QsT0FGRDtBQUdBTCw2QkFBdUJHLHlCQUF2QixHQUFtRCxZQUFXO0FBQzVEN0MsMEJBQWtCLElBQWxCLEVBQXdCLEtBQUt0WSxLQUE3QjtBQUNELE9BRkQ7QUFHQWdiLDZCQUF1QkksZ0NBQXZCLEdBQTBELFVBQVNDLFFBQVQsRUFBbUI7QUFDM0UvQywwQkFBa0IsSUFBbEIsRUFBd0IrQyxRQUF4QjtBQUNELE9BRkQ7O0FBT0FMLDZCQUF1QkMsa0JBQXZCLENBQTBDSyw0QkFBMUMsR0FBeUUsSUFBekU7QUFDQU4sNkJBQXVCRSx5QkFBdkIsQ0FBaURJLDRCQUFqRCxHQUFnRixJQUFoRjtBQUNEOztBQUVELGFBQVNDLGlCQUFULENBQTJCblUsUUFBM0IsRUFBcUNtTyxXQUFyQyxFQUFrRDtBQUNoRCxVQUFJLEVBQUVuTyxvQkFBb0JtTyxXQUF0QixDQUFKLEVBQXdDO0FBQ3RDLGNBQU0sSUFBSUMsU0FBSixDQUFjLG1DQUFkLENBQU47QUFDRDtBQUNGOztBQUVELGFBQVNnRywwQkFBVCxDQUFvQ0MsSUFBcEMsRUFBMENwakIsSUFBMUMsRUFBZ0Q7QUFDOUMsVUFBSSxDQUFDb2pCLElBQUwsRUFBVztBQUNULGNBQU0sSUFBSUMsY0FBSixDQUNKLDJEQURJLENBQU47QUFHRDtBQUNELGFBQU9yakIsU0FBUyxPQUFPQSxJQUFQLEtBQWdCLFFBQWhCLElBQTRCLE9BQU9BLElBQVAsS0FBZ0IsVUFBckQsSUFDSEEsSUFERyxHQUVIb2pCLElBRko7QUFHRDs7QUFFRCxhQUFTRSxTQUFULENBQW1CQyxRQUFuQixFQUE2QkMsVUFBN0IsRUFBeUM7QUFDdkMsVUFBSSxPQUFPQSxVQUFQLEtBQXNCLFVBQXRCLElBQW9DQSxlQUFlLElBQXZELEVBQTZEO0FBQzNELGNBQU0sSUFBSXJHLFNBQUosQ0FDSiw2REFDRSxPQUFPcUcsVUFGTCxDQUFOO0FBSUQ7QUFDREQsZUFBU3pqQixTQUFULEdBQXFCa04sT0FBT2EsTUFBUCxDQUFjMlYsY0FBY0EsV0FBVzFqQixTQUF2QyxFQUFrRDtBQUNyRXNILHFCQUFhO0FBQ1g2RyxpQkFBT3NWLFFBREk7QUFFWEUsc0JBQVksS0FGRDtBQUdYQyxvQkFBVSxJQUhDO0FBSVh0Vix3QkFBYztBQUpIO0FBRHdELE9BQWxELENBQXJCO0FBUUEsVUFBSW9WLFVBQUosRUFDRXhXLE9BQU8yVyxjQUFQLEdBQ0kzVyxPQUFPMlcsY0FBUCxDQUFzQkosUUFBdEIsRUFBZ0NDLFVBQWhDLENBREosR0FFS0QsU0FBU0ssU0FBVCxHQUFxQkosVUFGMUI7QUFHSDs7QUFlRCxRQUFJSyx1QkFBd0IsVUFBU0MsZ0JBQVQsRUFBMkI7QUFDckRSLGdCQUFVTyxvQkFBVixFQUFnQ0MsZ0JBQWhDOztBQUVBLGVBQVNELG9CQUFULEdBQWdDO0FBQzlCWCwwQkFBa0IsSUFBbEIsRUFBd0JXLG9CQUF4Qjs7QUFFQSxlQUFPViwyQkFDTCxJQURLLEVBRUxXLGlCQUFpQjVqQixLQUFqQixDQUF1QixJQUF2QixFQUE2QkQsU0FBN0IsQ0FGSyxDQUFQO0FBSUQ7O0FBVUQ0akIsMkJBQXFCL2pCLFNBQXJCLENBQStCMmlCLElBQS9CLEdBQXNDLFNBQVNBLElBQVQsR0FBZ0I7QUFDcERsa0IsdUJBQWVta0IsYUFBZixDQUE2QmhCLDJCQUEyQixJQUEzQixDQUE3QjtBQUNELE9BRkQ7O0FBUUFtQywyQkFBcUIvakIsU0FBckIsQ0FBK0J5aUIsS0FBL0IsR0FBdUMsU0FBU0EsS0FBVCxHQUFpQjtBQUN0RGhrQix1QkFBZWlrQixjQUFmLENBQThCZCwyQkFBMkIsSUFBM0IsQ0FBOUI7QUFDRCxPQUZEOztBQW9CQW1DLDJCQUFxQi9qQixTQUFyQixDQUErQjhoQixPQUEvQixHQUF5QyxTQUFTQSxPQUFULENBQWlCOUIsUUFBakIsRUFBMkI7QUFDbEV6aEIsa0JBQVV1akIsT0FBVixDQUNFRiwyQkFBMkIsSUFBM0IsQ0FERixFQUVFN0Isa0JBQWtCLElBQWxCLEVBQXdCQyxRQUF4QixDQUZGO0FBSUQsT0FMRDs7QUFxQkErRCwyQkFBcUIvakIsU0FBckIsQ0FBK0IraEIsZUFBL0IsR0FBaUQsU0FBU0EsZUFBVCxDQUMvQy9CLFFBRCtDLEVBRS9DO0FBQ0F6aEIsa0JBQVV3akIsZUFBVixDQUNFSCwyQkFBMkIsSUFBM0IsQ0FERixFQUVFN0Isa0JBQWtCLElBQWxCLEVBQXdCQyxRQUF4QixDQUZGO0FBSUQsT0FQRDs7QUFnQkErRCwyQkFBcUIvakIsU0FBckIsQ0FBK0JnaUIsYUFBL0IsR0FBK0MsU0FBU0EsYUFBVCxDQUM3Q0Msb0JBRDZDLEVBRTdDQyxTQUY2QyxFQUc3Q0MsTUFINkMsRUFJN0M7QUFDQTVqQixrQkFBVXlqQixhQUFWLENBQ0VKLDJCQUEyQixJQUEzQixDQURGLEVBRUVLLG9CQUZGLEVBR0VsQyxrQkFBa0IsSUFBbEIsRUFBd0JvQyxNQUF4QixDQUhGLEVBSUVwQyxrQkFBa0IsSUFBbEIsRUFBd0JtQyxTQUF4QixDQUpGO0FBTUQsT0FYRDs7QUFvQkE2QiwyQkFBcUIvakIsU0FBckIsQ0FBK0JvaUIsY0FBL0IsR0FBZ0QsU0FBU0EsY0FBVCxDQUM5Q0MsV0FEOEMsRUFFOUM7QUFNQSxZQUFJQyxnQkFBZ0IsS0FBSyxDQUF6Qjs7QUFNQSxZQUFJO0FBQ0ZBLDBCQUFnQmYsZUFBZSxJQUFmLENBQWhCO0FBQ0QsU0FGRCxDQUVFLE9BQU9saEIsS0FBUCxFQUFjLENBQUU7O0FBSWxCLFlBQUlpaUIsaUJBQWlCLElBQXJCLEVBQTJCO0FBQ3pCO0FBQ0Q7O0FBRUQsWUFBSXhNLGFBQ0Z3TSxjQUFjeE0sVUFBZCxJQUE0QndNLGNBQWMzTCxTQUFkLENBQXdCYixVQUR0RDs7QUFHQSxZQUFJd0ksZ0JBQWdCdlEsT0FBT3NVLFdBQVAsRUFBb0J2TSxXQUFXMEksZUFBL0IsQ0FBcEI7O0FBS0EsWUFBSUYsaUJBQWlCLElBQXJCLEVBQTJCO0FBQ3pCL2Ysb0JBQVVna0IsVUFBVixDQUNFRCxjQUFjNUwsVUFEaEIsRUFFRVosV0FBVzBNLGVBRmIsRUFHRWxFLGFBSEY7QUFLRDtBQUNGLE9BdkNEOztBQXlDQSxhQUFPeUYsb0JBQVA7QUFDRCxLQW5KMEIsQ0FtSnhCbmxCLE1BQU1xbEIsU0FuSmtCLENBQTNCOztBQXNKQSxRQUFJQyxXQUE4QixDQUFsQztBQUNBLFFBQUlDLGdCQUE4QixDQUFsQzs7QUFHQSxRQUFJQyxZQUE4QixDQUFsQztBQUNBLFFBQUlDLFNBQThCLENBQWxDO0FBQ0EsUUFBSUMscUJBQThCLENBQWxDO0FBQ0EsUUFBSUMsV0FBOEIsQ0FBbEM7QUFDQSxRQUFJQyxlQUE4QixFQUFsQztBQUNBLFFBQUlDLFdBQThCLEVBQWxDO0FBQ0EsUUFBSUMsYUFBOEIsRUFBbEM7QUFDQSxRQUFJQyxNQUE4QixHQUFsQztBQUNBLFFBQUlDLFNBQThCLEdBQWxDOztBQUdBLFFBQUlDLGlCQUE4QixHQUFsQzs7QUFFQSxRQUFJQyxhQUE4QixHQUFsQztBQUNBLFFBQUlDLGdCQUE4QixJQUFsQzs7QUFFQSxRQUFJQyxXQUFXLENBQWY7QUFDQSxRQUFJQyxVQUFVLENBQWQ7QUFDQSxRQUFJQyxZQUFZLENBQWhCOztBQUVBLGFBQVNDLGtCQUFULENBQTRCakUsS0FBNUIsRUFBbUM7QUFDakMsVUFBSTNDLE9BQU8yQyxLQUFYO0FBQ0EsVUFBSSxDQUFDQSxNQUFNaFgsU0FBWCxFQUFzQjtBQUdwQixZQUFJLENBQUNxVSxLQUFLNkcsU0FBTCxHQUFpQmhCLFNBQWxCLE1BQWlDRixRQUFyQyxFQUErQztBQUM3QyxpQkFBT2MsUUFBUDtBQUNEO0FBQ0QsZUFBT3pHLEtBQUssUUFBTCxDQUFQLEVBQXVCO0FBQ3JCQSxpQkFBT0EsS0FBSyxRQUFMLENBQVA7QUFDQSxjQUFJLENBQUNBLEtBQUs2RyxTQUFMLEdBQWlCaEIsU0FBbEIsTUFBaUNGLFFBQXJDLEVBQStDO0FBQzdDLG1CQUFPYyxRQUFQO0FBQ0Q7QUFDRjtBQUNGLE9BWkQsTUFZTztBQUNMLGVBQU96RyxLQUFLLFFBQUwsQ0FBUCxFQUF1QjtBQUNyQkEsaUJBQU9BLEtBQUssUUFBTCxDQUFQO0FBQ0Q7QUFDRjtBQUNELFVBQUlBLEtBQUs1VyxHQUFMLEtBQWFtQixRQUFqQixFQUEyQjtBQUd6QixlQUFPbWMsT0FBUDtBQUNEOztBQUdELGFBQU9DLFNBQVA7QUFDRDs7QUFFRCxhQUFTRyxjQUFULENBQXdCbkUsS0FBeEIsRUFBK0I7QUFDN0IsYUFBT2lFLG1CQUFtQmpFLEtBQW5CLE1BQThCK0QsT0FBckM7QUFDRDs7QUFFRCxhQUFTL0UsU0FBVCxDQUFtQkUsU0FBbkIsRUFBOEI7QUFDNUI7QUFDRSxZQUFJRSxRQUFRUyxrQkFBa0JyYSxPQUE5QjtBQUNBLFlBQUk0WixVQUFVLElBQVYsSUFBa0JBLE1BQU0zWSxHQUFOLEtBQWNrQixjQUFwQyxFQUFvRDtBQUNsRCxjQUFJeWMsYUFBYWhGLEtBQWpCO0FBQ0EsY0FBSXJSLFdBQVdxVyxXQUFXcmQsU0FBMUI7QUFDQTVKLGtCQUNFNFEsU0FBU3dTLHdCQURYLEVBRUUsNkRBQ0UsbUVBREYsR0FFRSxvRUFGRixHQUdFLGlFQUhGLEdBSUUsNkJBTkosRUFPRVIsaUJBQWlCcUUsVUFBakIsS0FBZ0MsYUFQbEM7QUFTQXJXLG1CQUFTd1Msd0JBQVQsR0FBb0MsSUFBcEM7QUFDRDtBQUNGOztBQUVELFVBQUlQLFFBQVEzUyxJQUFJNlIsU0FBSixDQUFaO0FBQ0EsVUFBSSxDQUFDYyxLQUFMLEVBQVk7QUFDVixlQUFPLEtBQVA7QUFDRDtBQUNELGFBQU9pRSxtQkFBbUJqRSxLQUFuQixNQUE4QitELE9BQXJDO0FBQ0Q7O0FBRUQsYUFBU00sZUFBVCxDQUF5QnJFLEtBQXpCLEVBQWdDO0FBQzlCOWlCLGdCQUNFK21CLG1CQUFtQmpFLEtBQW5CLE1BQThCK0QsT0FEaEMsRUFFRSxnREFGRjtBQUlEOztBQUVELGFBQVNPLDZCQUFULENBQXVDdEUsS0FBdkMsRUFBOEM7QUFDNUMsVUFBSWhYLFlBQVlnWCxNQUFNaFgsU0FBdEI7QUFDQSxVQUFJLENBQUNBLFNBQUwsRUFBZ0I7QUFFZCxZQUFJdWIsUUFBUU4sbUJBQW1CakUsS0FBbkIsQ0FBWjtBQUNBOWlCLGtCQUNFcW5CLFVBQVVQLFNBRFosRUFFRSxnREFGRjtBQUlBLFlBQUlPLFVBQVVULFFBQWQsRUFBd0I7QUFDdEIsaUJBQU8sSUFBUDtBQUNEO0FBQ0QsZUFBTzlELEtBQVA7QUFDRDs7QUFJRCxVQUFJNWhCLElBQUk0aEIsS0FBUjtBQUNBLFVBQUkzaEIsSUFBSTJLLFNBQVI7QUFDQSxhQUFPLElBQVAsRUFBYTtBQUNYLFlBQUl3YixVQUFVcG1CLEVBQUUsUUFBRixDQUFkO0FBQ0EsWUFBSXFtQixVQUFVRCxVQUFVQSxRQUFReGIsU0FBbEIsR0FBOEIsSUFBNUM7QUFDQSxZQUFJLENBQUN3YixPQUFELElBQVksQ0FBQ0MsT0FBakIsRUFBMEI7QUFFeEI7QUFDRDs7QUFLRCxZQUFJRCxRQUFRRSxLQUFSLEtBQWtCRCxRQUFRQyxLQUE5QixFQUFxQztBQUNuQyxjQUFJQSxRQUFRRixRQUFRRSxLQUFwQjtBQUNBLGlCQUFPQSxLQUFQLEVBQWM7QUFDWixnQkFBSUEsVUFBVXRtQixDQUFkLEVBQWlCO0FBRWZpbUIsOEJBQWdCRyxPQUFoQjtBQUNBLHFCQUFPeEUsS0FBUDtBQUNEO0FBQ0QsZ0JBQUkwRSxVQUFVcm1CLENBQWQsRUFBaUI7QUFFZmdtQiw4QkFBZ0JHLE9BQWhCO0FBQ0EscUJBQU94YixTQUFQO0FBQ0Q7QUFDRDBiLG9CQUFRQSxNQUFNQyxPQUFkO0FBQ0Q7O0FBR0R6bkIsb0JBQVUsS0FBVixFQUFpQixnREFBakI7QUFDRDs7QUFFRCxZQUFJa0IsRUFBRSxRQUFGLE1BQWdCQyxFQUFFLFFBQUYsQ0FBcEIsRUFBaUM7QUFLL0JELGNBQUlvbUIsT0FBSjtBQUNBbm1CLGNBQUlvbUIsT0FBSjtBQUNELFNBUEQsTUFPTztBQU1MLGNBQUlHLGVBQWUsS0FBbkI7QUFDQSxjQUFJQyxTQUFTTCxRQUFRRSxLQUFyQjtBQUNBLGlCQUFPRyxNQUFQLEVBQWU7QUFDYixnQkFBSUEsV0FBV3ptQixDQUFmLEVBQWtCO0FBQ2hCd21CLDZCQUFlLElBQWY7QUFDQXhtQixrQkFBSW9tQixPQUFKO0FBQ0FubUIsa0JBQUlvbUIsT0FBSjtBQUNBO0FBQ0Q7QUFDRCxnQkFBSUksV0FBV3htQixDQUFmLEVBQWtCO0FBQ2hCdW1CLDZCQUFlLElBQWY7QUFDQXZtQixrQkFBSW1tQixPQUFKO0FBQ0FwbUIsa0JBQUlxbUIsT0FBSjtBQUNBO0FBQ0Q7QUFDREkscUJBQVNBLE9BQU9GLE9BQWhCO0FBQ0Q7QUFDRCxjQUFJLENBQUNDLFlBQUwsRUFBbUI7QUFFakJDLHFCQUFTSixRQUFRQyxLQUFqQjtBQUNBLG1CQUFPRyxNQUFQLEVBQWU7QUFDYixrQkFBSUEsV0FBV3ptQixDQUFmLEVBQWtCO0FBQ2hCd21CLCtCQUFlLElBQWY7QUFDQXhtQixvQkFBSXFtQixPQUFKO0FBQ0FwbUIsb0JBQUltbUIsT0FBSjtBQUNBO0FBQ0Q7QUFDRCxrQkFBSUssV0FBV3htQixDQUFmLEVBQWtCO0FBQ2hCdW1CLCtCQUFlLElBQWY7QUFDQXZtQixvQkFBSW9tQixPQUFKO0FBQ0FybUIsb0JBQUlvbUIsT0FBSjtBQUNBO0FBQ0Q7QUFDREssdUJBQVNBLE9BQU9GLE9BQWhCO0FBQ0Q7QUFDRHpuQixzQkFDRTBuQixZQURGLEVBRUUsb0VBQ0UsK0RBSEo7QUFLRDtBQUNGOztBQUVEMW5CLGtCQUNFa0IsRUFBRTRLLFNBQUYsS0FBZ0IzSyxDQURsQixFQUVFLDZEQUNFLHNFQUhKO0FBS0Q7O0FBR0RuQixnQkFDRWtCLEVBQUVxSSxHQUFGLEtBQVVtQixRQURaLEVBRUUsZ0RBRkY7QUFJQSxVQUFJeEosRUFBRTJJLFNBQUYsQ0FBWXZCLE9BQVosS0FBd0JwSCxDQUE1QixFQUErQjtBQUU3QixlQUFPNGhCLEtBQVA7QUFDRDs7QUFFRCxhQUFPaFgsU0FBUDtBQUNEOztBQUVELGFBQVM4YixvQkFBVCxDQUE4QkMsTUFBOUIsRUFBc0M7QUFDcEMsVUFBSUMsZ0JBQWdCViw4QkFBOEJTLE1BQTlCLENBQXBCO0FBQ0EsVUFBSSxDQUFDQyxhQUFMLEVBQW9CO0FBQ2xCLGVBQU8sSUFBUDtBQUNEOztBQUdELFVBQUkzSCxPQUFPMkgsYUFBWDtBQUNBLGFBQU8sSUFBUCxFQUFhO0FBQ1gsWUFBSTNILEtBQUs1VyxHQUFMLEtBQWFxQixhQUFiLElBQThCdVYsS0FBSzVXLEdBQUwsS0FBYXNCLFFBQS9DLEVBQXlEO0FBQ3ZELGlCQUFPc1YsSUFBUDtBQUNELFNBRkQsTUFFTyxJQUFJQSxLQUFLcUgsS0FBVCxFQUFnQjtBQUNyQnJILGVBQUtxSCxLQUFMLENBQVcsUUFBWCxJQUF1QnJILElBQXZCO0FBQ0FBLGlCQUFPQSxLQUFLcUgsS0FBWjtBQUNBO0FBQ0Q7QUFDRCxZQUFJckgsU0FBUzJILGFBQWIsRUFBNEI7QUFDMUIsaUJBQU8sSUFBUDtBQUNEO0FBQ0QsZUFBTyxDQUFDM0gsS0FBS3NILE9BQWIsRUFBc0I7QUFDcEIsY0FBSSxDQUFDdEgsS0FBSyxRQUFMLENBQUQsSUFBbUJBLEtBQUssUUFBTCxNQUFtQjJILGFBQTFDLEVBQXlEO0FBQ3ZELG1CQUFPLElBQVA7QUFDRDtBQUNEM0gsaUJBQU9BLEtBQUssUUFBTCxDQUFQO0FBQ0Q7QUFDREEsYUFBS3NILE9BQUwsQ0FBYSxRQUFiLElBQXlCdEgsS0FBSyxRQUFMLENBQXpCO0FBQ0FBLGVBQU9BLEtBQUtzSCxPQUFaO0FBQ0Q7O0FBR0QsYUFBTyxJQUFQO0FBQ0Q7O0FBRUQsYUFBU00saUNBQVQsQ0FBMkNGLE1BQTNDLEVBQW1EO0FBQ2pELFVBQUlDLGdCQUFnQlYsOEJBQThCUyxNQUE5QixDQUFwQjtBQUNBLFVBQUksQ0FBQ0MsYUFBTCxFQUFvQjtBQUNsQixlQUFPLElBQVA7QUFDRDs7QUFHRCxVQUFJM0gsT0FBTzJILGFBQVg7QUFDQSxhQUFPLElBQVAsRUFBYTtBQUNYLFlBQUkzSCxLQUFLNVcsR0FBTCxLQUFhcUIsYUFBYixJQUE4QnVWLEtBQUs1VyxHQUFMLEtBQWFzQixRQUEvQyxFQUF5RDtBQUN2RCxpQkFBT3NWLElBQVA7QUFDRCxTQUZELE1BRU8sSUFBSUEsS0FBS3FILEtBQUwsSUFBY3JILEtBQUs1VyxHQUFMLEtBQWFvQixVQUEvQixFQUEyQztBQUNoRHdWLGVBQUtxSCxLQUFMLENBQVcsUUFBWCxJQUF1QnJILElBQXZCO0FBQ0FBLGlCQUFPQSxLQUFLcUgsS0FBWjtBQUNBO0FBQ0Q7QUFDRCxZQUFJckgsU0FBUzJILGFBQWIsRUFBNEI7QUFDMUIsaUJBQU8sSUFBUDtBQUNEO0FBQ0QsZUFBTyxDQUFDM0gsS0FBS3NILE9BQWIsRUFBc0I7QUFDcEIsY0FBSSxDQUFDdEgsS0FBSyxRQUFMLENBQUQsSUFBbUJBLEtBQUssUUFBTCxNQUFtQjJILGFBQTFDLEVBQXlEO0FBQ3ZELG1CQUFPLElBQVA7QUFDRDtBQUNEM0gsaUJBQU9BLEtBQUssUUFBTCxDQUFQO0FBQ0Q7QUFDREEsYUFBS3NILE9BQUwsQ0FBYSxRQUFiLElBQXlCdEgsS0FBSyxRQUFMLENBQXpCO0FBQ0FBLGVBQU9BLEtBQUtzSCxPQUFaO0FBQ0Q7O0FBR0QsYUFBTyxJQUFQO0FBQ0Q7O0FBRUQsUUFBSU8sYUFBYSxFQUFqQjs7QUFFQSxRQUFJQyxhQUFhLEtBQUssQ0FBdEI7O0FBRUE7QUFDRUEsbUJBQWEsRUFBYjtBQUNEOztBQUVELFFBQUkxTSxRQUFRLENBQUMsQ0FBYjs7QUFFQSxhQUFTMk0sWUFBVCxDQUFzQkMsWUFBdEIsRUFBb0M7QUFDbEMsYUFBTztBQUNMN2YsaUJBQVM2ZjtBQURKLE9BQVA7QUFHRDs7QUFFRCxhQUFTclgsR0FBVCxDQUFhc1gsTUFBYixFQUFxQnRGLEtBQXJCLEVBQTRCO0FBQzFCLFVBQUl2SCxRQUFRLENBQVosRUFBZTtBQUNiO0FBQ0V0YixrQkFBUSxLQUFSLEVBQWUsaUJBQWY7QUFDRDtBQUNEO0FBQ0Q7O0FBRUQ7QUFDRSxZQUFJNmlCLFVBQVVtRixXQUFXMU0sS0FBWCxDQUFkLEVBQWlDO0FBQy9CdGIsa0JBQVEsS0FBUixFQUFlLDBCQUFmO0FBQ0Q7QUFDRjs7QUFFRG1vQixhQUFPOWYsT0FBUCxHQUFpQjBmLFdBQVd6TSxLQUFYLENBQWpCOztBQUVBeU0saUJBQVd6TSxLQUFYLElBQW9CLElBQXBCOztBQUVBO0FBQ0UwTSxtQkFBVzFNLEtBQVgsSUFBb0IsSUFBcEI7QUFDRDs7QUFFREE7QUFDRDs7QUFFRCxhQUFTL1MsSUFBVCxDQUFjNGYsTUFBZCxFQUFzQnJZLEtBQXRCLEVBQTZCK1MsS0FBN0IsRUFBb0M7QUFDbEN2SDs7QUFFQXlNLGlCQUFXek0sS0FBWCxJQUFvQjZNLE9BQU85ZixPQUEzQjs7QUFFQTtBQUNFMmYsbUJBQVcxTSxLQUFYLElBQW9CdUgsS0FBcEI7QUFDRDs7QUFFRHNGLGFBQU85ZixPQUFQLEdBQWlCeUgsS0FBakI7QUFDRDs7QUFFRCxhQUFTc1ksS0FBVCxHQUFpQjtBQUNmLGFBQU85TSxRQUFRLENBQUMsQ0FBaEIsRUFBbUI7QUFDakJ5TSxtQkFBV3pNLEtBQVgsSUFBb0IsSUFBcEI7O0FBRUE7QUFDRTBNLHFCQUFXMU0sS0FBWCxJQUFvQixJQUFwQjtBQUNEOztBQUVEQTtBQUNEO0FBQ0Y7O0FBRUQsUUFBSStNLHlCQUF5QixTQUF6QkEsc0JBQXlCLENBQVN2bkIsSUFBVCxFQUFld25CLE1BQWYsRUFBdUJDLFNBQXZCLEVBQWtDO0FBQzdELGFBQ0UsZUFDQ3puQixRQUFRLFNBRFQsS0FFQ3duQixTQUNHLFVBQ0FBLE9BQU9FLFFBQVAsQ0FBZ0JDLE9BQWhCLENBQXdCLFdBQXhCLEVBQXFDLEVBQXJDLENBREEsR0FFQSxHQUZBLEdBR0FILE9BQU9JLFVBSFAsR0FJQSxHQUxILEdBTUdILFlBQVksa0JBQWtCQSxTQUFsQixHQUE4QixHQUExQyxHQUFnRCxFQVJwRCxDQURGO0FBV0QsS0FaRDs7QUFjQSxhQUFTSSxhQUFULENBQXVCOUYsS0FBdkIsRUFBOEI7QUFDNUIsY0FBUUEsTUFBTXZaLEdBQWQ7QUFDRSxhQUFLZ0Isc0JBQUw7QUFDQSxhQUFLQyxtQkFBTDtBQUNBLGFBQUtDLGNBQUw7QUFDQSxhQUFLRyxhQUFMO0FBQ0UsY0FBSXNYLFFBQVFZLE1BQU0rRixXQUFsQjtBQUNBLGNBQUlOLFNBQVN6RixNQUFNZ0csWUFBbkI7QUFDQSxjQUFJL25CLE9BQU84aEIsaUJBQWlCQyxLQUFqQixDQUFYO0FBQ0EsY0FBSTBGLFlBQVksSUFBaEI7QUFDQSxjQUFJdEcsS0FBSixFQUFXO0FBQ1RzRyx3QkFBWTNGLGlCQUFpQlgsS0FBakIsQ0FBWjtBQUNEO0FBQ0QsaUJBQU9vRyx1QkFBdUJ2bkIsSUFBdkIsRUFBNkJ3bkIsTUFBN0IsRUFBcUNDLFNBQXJDLENBQVA7QUFDRjtBQUNFLGlCQUFPLEVBQVA7QUFkSjtBQWdCRDs7QUFLRCxhQUFTTyxxQ0FBVCxDQUErQ0MsY0FBL0MsRUFBK0Q7QUFDN0QsVUFBSUMsT0FBTyxFQUFYO0FBQ0EsVUFBSTlJLE9BQU82SSxjQUFYO0FBQ0EsU0FBRztBQUNEQyxnQkFBUUwsY0FBY3pJLElBQWQsQ0FBUjs7QUFFQUEsZUFBT0EsS0FBSyxRQUFMLENBQVA7QUFDRCxPQUpELFFBSVNBLElBSlQ7QUFLQSxhQUFPOEksSUFBUDtBQUNEOztBQUVELGFBQVNDLHdCQUFULEdBQW9DO0FBQ2xDO0FBQ0UsWUFBSXBHLFFBQVFxRyx1QkFBdUI3Z0IsT0FBbkM7QUFDQSxZQUFJd2EsVUFBVSxJQUFkLEVBQW9CO0FBQ2xCLGlCQUFPLElBQVA7QUFDRDtBQUNELFlBQUlaLFFBQVFZLE1BQU0rRixXQUFsQjtBQUNBLFlBQUkzRyxVQUFVLElBQVYsSUFBa0IsT0FBT0EsS0FBUCxLQUFpQixXQUF2QyxFQUFvRDtBQUNsRCxpQkFBT1csaUJBQWlCWCxLQUFqQixDQUFQO0FBQ0Q7QUFDRjtBQUNELGFBQU8sSUFBUDtBQUNEOztBQUVELGFBQVNrSCw0QkFBVCxHQUF3QztBQUN0QztBQUNFLFlBQUl0RyxRQUFRcUcsdUJBQXVCN2dCLE9BQW5DO0FBQ0EsWUFBSXdhLFVBQVUsSUFBZCxFQUFvQjtBQUNsQixpQkFBTyxJQUFQO0FBQ0Q7O0FBR0QsZUFBT2lHLHNDQUFzQ2pHLEtBQXRDLENBQVA7QUFDRDtBQUNELGFBQU8sSUFBUDtBQUNEOztBQUVELGFBQVN1RyxpQkFBVCxHQUE2QjtBQUMzQnpHLDZCQUF1QjBHLGVBQXZCLEdBQXlDLElBQXpDO0FBQ0FILDZCQUF1QjdnQixPQUF2QixHQUFpQyxJQUFqQztBQUNBNmdCLDZCQUF1QjNjLEtBQXZCLEdBQStCLElBQS9CO0FBQ0Q7O0FBRUQsYUFBUytjLGVBQVQsQ0FBeUJ6RyxLQUF6QixFQUFnQztBQUM5QkYsNkJBQXVCMEcsZUFBdkIsR0FBeUNGLDRCQUF6QztBQUNBRCw2QkFBdUI3Z0IsT0FBdkIsR0FBaUN3YSxLQUFqQztBQUNBcUcsNkJBQXVCM2MsS0FBdkIsR0FBK0IsSUFBL0I7QUFDRDs7QUFFRCxhQUFTZ2QsZUFBVCxDQUF5QmhkLEtBQXpCLEVBQWdDO0FBQzlCMmMsNkJBQXVCM2MsS0FBdkIsR0FBK0JBLEtBQS9CO0FBQ0Q7O0FBRUQsUUFBSTJjLHlCQUF5QjtBQUMzQjdnQixlQUFTLElBRGtCO0FBRTNCa0UsYUFBTyxJQUZvQjtBQUczQjZjLHlCQUFtQkEsaUJBSFE7QUFJM0JFLHVCQUFpQkEsZUFKVTtBQUszQkMsdUJBQWlCQSxlQUxVO0FBTTNCTixnQ0FBMEJBLHdCQU5DO0FBTzNCRSxvQ0FBOEJBO0FBUEgsS0FBN0I7O0FBV0EsUUFBSUssV0FBVzFwQixRQUFRLG1CQUFSLENBQWY7O0FBRUEsUUFBSTJwQixpQ0FBaUNELFNBQVNDLDhCQUE5QztBQUNBLFFBQUlDLDhCQUE4QkYsU0FBU0UsMkJBQTNDO0FBQ0EsUUFBSUMsMkNBQ0ZILFNBQVNHLHdDQURYO0FBRUEsUUFBSUMsZ0NBQWdDSixTQUFTSSw2QkFBN0M7QUFDQSxRQUFJQyxrREFDRkwsU0FBU0ssK0NBRFg7O0FBR0EsUUFBSUMsc0JBQXNCLElBQTFCO0FBQ0EsUUFBSUMsMkJBQTJCLElBQS9CO0FBQ0EsUUFBSUMsdUJBQXVCLEtBQTNCO0FBQ0EsUUFBSUMsNkJBQTZCLEtBQWpDOztBQU1BLFFBQUlDLGFBQWEsUUFBakI7QUFDQSxRQUFJQyxlQUFlLFFBQW5CO0FBQ0EsUUFBSUMscUJBQ0YsT0FBT0MsV0FBUCxLQUF1QixXQUF2QixJQUNBLE9BQU9BLFlBQVlDLElBQW5CLEtBQTRCLFVBRDVCLElBRUEsT0FBT0QsWUFBWUUsVUFBbkIsS0FBa0MsVUFGbEMsSUFHQSxPQUFPRixZQUFZNUcsT0FBbkIsS0FBK0IsVUFIL0IsSUFJQSxPQUFPNEcsWUFBWUcsYUFBbkIsS0FBcUMsVUFMdkM7O0FBU0EsUUFBSUMsZUFBZSxJQUFuQjs7QUFLQSxRQUFJQyxlQUFlLElBQW5CO0FBQ0EsUUFBSUMsb0JBQW9CLElBQXhCOztBQUlBLFFBQUlDLGVBQWUsS0FBbkI7QUFDQSxRQUFJQyxvQ0FBb0MsS0FBeEM7QUFDQSxRQUFJQyxtQ0FBbUMsS0FBdkM7QUFDQSxRQUFJQywrQkFBK0IsQ0FBbkM7QUFDQSxRQUFJQyw2QkFBNkIsQ0FBakM7QUFDQSxRQUFJQyx1QkFBdUIsS0FBM0I7O0FBR0EsUUFBSUMsd0JBQXdCLElBQUlDLEdBQUosRUFBNUI7O0FBRUEsUUFBSUMsaUJBQWlCLFNBQWpCQSxjQUFpQixDQUFTQyxRQUFULEVBQW1CO0FBQ3RDLGFBQU9uQixhQUFhLEdBQWIsR0FBbUJtQixRQUExQjtBQUNELEtBRkQ7O0FBSUEsUUFBSUMsY0FBYyxTQUFkQSxXQUFjLENBQVNDLEtBQVQsRUFBZ0JDLFVBQWhCLEVBQTRCO0FBQzVDLFVBQUlDLFNBQVNELGFBQWFyQixlQUFlLEdBQTVCLEdBQWtDRCxhQUFhLEdBQTVEO0FBQ0EsVUFBSXdCLFNBQVNGLGFBQWEsZUFBZUEsVUFBNUIsR0FBeUMsRUFBdEQ7QUFDQSxhQUFPLEtBQUtDLE1BQUwsR0FBY0YsS0FBZCxHQUFzQkcsTUFBN0I7QUFDRCxLQUpEOztBQU1BLFFBQUlDLFlBQVksU0FBWkEsU0FBWSxDQUFTTixRQUFULEVBQW1CO0FBQ2pDaEIsa0JBQVlDLElBQVosQ0FBaUJjLGVBQWVDLFFBQWYsQ0FBakI7QUFDRCxLQUZEOztBQUlBLFFBQUlPLFlBQVksU0FBWkEsU0FBWSxDQUFTUCxRQUFULEVBQW1CO0FBQ2pDaEIsa0JBQVlFLFVBQVosQ0FBdUJhLGVBQWVDLFFBQWYsQ0FBdkI7QUFDRCxLQUZEOztBQUlBLFFBQUlRLFVBQVUsU0FBVkEsT0FBVSxDQUFTTixLQUFULEVBQWdCRixRQUFoQixFQUEwQkcsVUFBMUIsRUFBc0M7QUFDbEQsVUFBSU0sb0JBQW9CVixlQUFlQyxRQUFmLENBQXhCO0FBQ0EsVUFBSVUsaUJBQWlCVCxZQUFZQyxLQUFaLEVBQW1CQyxVQUFuQixDQUFyQjtBQUNBLFVBQUk7QUFDRm5CLG9CQUFZNUcsT0FBWixDQUFvQnNJLGNBQXBCLEVBQW9DRCxpQkFBcEM7QUFDRCxPQUZELENBRUUsT0FBT0UsR0FBUCxFQUFZLENBQUU7O0FBTWhCM0Isa0JBQVlFLFVBQVosQ0FBdUJ1QixpQkFBdkI7QUFDQXpCLGtCQUFZRyxhQUFaLENBQTBCdUIsY0FBMUI7QUFDRCxLQWJEOztBQWVBLFFBQUlFLG1CQUFtQixTQUFuQkEsZ0JBQW1CLENBQVNWLEtBQVQsRUFBZ0JXLE9BQWhCLEVBQXlCO0FBQzlDLGFBQU9YLFFBQVEsS0FBUixHQUFnQlcsT0FBaEIsR0FBMEIsR0FBakM7QUFDRCxLQUZEOztBQUlBLFFBQUlDLGdCQUFnQixTQUFoQkEsYUFBZ0IsQ0FBU0MsYUFBVCxFQUF3QnZLLFNBQXhCLEVBQW1DdFYsS0FBbkMsRUFBMEM7QUFDNUQsVUFBSUEsVUFBVSxJQUFkLEVBQW9CO0FBRWxCLGVBQU82ZixnQkFBZ0IsSUFBaEIsSUFBd0J2SyxZQUFZLFFBQVosR0FBdUIsT0FBL0MsSUFBMEQsR0FBakU7QUFDRCxPQUhELE1BR087QUFFTCxlQUFPdUssZ0JBQWdCLEdBQWhCLEdBQXNCN2YsS0FBN0I7QUFDRDtBQUNGLEtBUkQ7O0FBVUEsUUFBSThmLGlCQUFpQixTQUFqQkEsY0FBaUIsQ0FBU3hKLEtBQVQsRUFBZ0J0VyxLQUFoQixFQUF1QjtBQUMxQyxVQUFJNmYsZ0JBQWdCeEosaUJBQWlCQyxLQUFqQixLQUEyQixTQUEvQztBQUNBLFVBQUlxSixVQUFVckosTUFBTXlKLFFBQXBCO0FBQ0EsVUFBSXpLLFlBQVlnQixNQUFNaFgsU0FBTixLQUFvQixJQUFwQztBQUNBLFVBQUkwZixRQUFRWSxjQUFjQyxhQUFkLEVBQTZCdkssU0FBN0IsRUFBd0N0VixLQUF4QyxDQUFaOztBQUVBLFVBQUlxZSxnQkFBZ0JNLHNCQUFzQnFCLEdBQXRCLENBQTBCaEIsS0FBMUIsQ0FBcEIsRUFBc0Q7QUFJcEQsZUFBTyxLQUFQO0FBQ0Q7QUFDREwsNEJBQXNCc0IsR0FBdEIsQ0FBMEJqQixLQUExQjs7QUFFQSxVQUFJRixXQUFXWSxpQkFBaUJWLEtBQWpCLEVBQXdCVyxPQUF4QixDQUFmO0FBQ0FQLGdCQUFVTixRQUFWO0FBQ0EsYUFBTyxJQUFQO0FBQ0QsS0FqQkQ7O0FBbUJBLFFBQUlvQixpQkFBaUIsU0FBakJBLGNBQWlCLENBQVM1SixLQUFULEVBQWdCdFcsS0FBaEIsRUFBdUI7QUFDMUMsVUFBSTZmLGdCQUFnQnhKLGlCQUFpQkMsS0FBakIsS0FBMkIsU0FBL0M7QUFDQSxVQUFJcUosVUFBVXJKLE1BQU15SixRQUFwQjtBQUNBLFVBQUl6SyxZQUFZZ0IsTUFBTWhYLFNBQU4sS0FBb0IsSUFBcEM7QUFDQSxVQUFJMGYsUUFBUVksY0FBY0MsYUFBZCxFQUE2QnZLLFNBQTdCLEVBQXdDdFYsS0FBeEMsQ0FBWjtBQUNBLFVBQUk4ZSxXQUFXWSxpQkFBaUJWLEtBQWpCLEVBQXdCVyxPQUF4QixDQUFmO0FBQ0FOLGdCQUFVUCxRQUFWO0FBQ0QsS0FQRDs7QUFTQSxRQUFJcUIsZUFBZSxTQUFmQSxZQUFlLENBQVM3SixLQUFULEVBQWdCdFcsS0FBaEIsRUFBdUJpZixVQUF2QixFQUFtQztBQUNwRCxVQUFJWSxnQkFBZ0J4SixpQkFBaUJDLEtBQWpCLEtBQTJCLFNBQS9DO0FBQ0EsVUFBSXFKLFVBQVVySixNQUFNeUosUUFBcEI7QUFDQSxVQUFJekssWUFBWWdCLE1BQU1oWCxTQUFOLEtBQW9CLElBQXBDO0FBQ0EsVUFBSTBmLFFBQVFZLGNBQWNDLGFBQWQsRUFBNkJ2SyxTQUE3QixFQUF3Q3RWLEtBQXhDLENBQVo7QUFDQSxVQUFJOGUsV0FBV1ksaUJBQWlCVixLQUFqQixFQUF3QlcsT0FBeEIsQ0FBZjtBQUNBTCxjQUFRTixLQUFSLEVBQWVGLFFBQWYsRUFBeUJHLFVBQXpCO0FBQ0QsS0FQRDs7QUFTQSxRQUFJbUIsb0JBQW9CLFNBQXBCQSxpQkFBb0IsQ0FBUzlKLEtBQVQsRUFBZ0I7QUFHdEMsY0FBUUEsTUFBTXZaLEdBQWQ7QUFDRSxhQUFLbUIsUUFBTDtBQUNBLGFBQUtFLGFBQUw7QUFDQSxhQUFLQyxRQUFMO0FBQ0EsYUFBS0YsVUFBTDtBQUNBLGFBQUtHLGFBQUw7QUFDQSxhQUFLRSxlQUFMO0FBQ0EsYUFBS0MsUUFBTDtBQUNBLGFBQUtHLGVBQUw7QUFDQSxhQUFLRCxlQUFMO0FBQ0UsaUJBQU8sSUFBUDtBQUNGO0FBQ0UsaUJBQU8sS0FBUDtBQVpKO0FBY0QsS0FqQkQ7O0FBbUJBLFFBQUkwaEIsK0JBQStCLFNBQS9CQSw0QkFBK0IsR0FBVztBQUM1QyxVQUFJbEMsaUJBQWlCLElBQWpCLElBQXlCQyxzQkFBc0IsSUFBbkQsRUFBeUQ7QUFDdkQ4Qix1QkFBZTlCLGlCQUFmLEVBQWtDRCxZQUFsQztBQUNEO0FBQ0RDLDBCQUFvQixJQUFwQjtBQUNBRCxxQkFBZSxJQUFmO0FBQ0FJLHlDQUFtQyxLQUFuQztBQUNELEtBUEQ7O0FBU0EsUUFBSStCLGNBQWMsU0FBZEEsV0FBYyxHQUFXO0FBRzNCLFVBQUloSyxRQUFRNEgsWUFBWjtBQUNBLGFBQU81SCxLQUFQLEVBQWM7QUFDWixZQUFJQSxNQUFNaUssdUJBQVYsRUFBbUM7QUFDakNKLHVCQUFhN0osS0FBYixFQUFvQixJQUFwQixFQUEwQixJQUExQjtBQUNEO0FBQ0RBLGdCQUFRQSxNQUFNLFFBQU4sQ0FBUjtBQUNEO0FBQ0YsS0FWRDs7QUFZQSxRQUFJa0ssMEJBQTBCLFNBQTFCQSx1QkFBMEIsQ0FBU2xLLEtBQVQsRUFBZ0I7QUFDNUMsVUFBSUEsTUFBTSxRQUFOLE1BQW9CLElBQXhCLEVBQThCO0FBQzVCa0ssZ0NBQXdCbEssTUFBTSxRQUFOLENBQXhCO0FBQ0Q7QUFDRCxVQUFJQSxNQUFNaUssdUJBQVYsRUFBbUM7QUFDakNULHVCQUFleEosS0FBZixFQUFzQixJQUF0QjtBQUNEO0FBQ0YsS0FQRDs7QUFTQSxRQUFJbUssZUFBZSxTQUFmQSxZQUFlLEdBQVc7QUFFNUIsVUFBSXZDLGlCQUFpQixJQUFyQixFQUEyQjtBQUN6QnNDLGdDQUF3QnRDLFlBQXhCO0FBQ0Q7QUFDRixLQUxEOztBQU9BLGFBQVN3QyxZQUFULEdBQXdCO0FBQ3RCLFVBQUluRCxtQkFBSixFQUF5QjtBQUN2QmtCO0FBQ0Q7QUFDRjs7QUFFRCxhQUFTa0Msb0JBQVQsR0FBZ0M7QUFDOUIsVUFBSXBELG1CQUFKLEVBQXlCO0FBQ3ZCLFlBQUljLFlBQUosRUFBa0I7QUFDaEJDLDhDQUFvQyxJQUFwQztBQUNEO0FBQ0QsWUFDRUgsaUJBQWlCLElBQWpCLElBQ0FBLGlCQUFpQixvQkFEakIsSUFFQUEsaUJBQWlCLDJCQUhuQixFQUlFO0FBQ0FJLDZDQUFtQyxJQUFuQztBQUNEO0FBQ0Y7QUFDRjs7QUFFRCxhQUFTcUMseUJBQVQsR0FBcUM7QUFDbkMsVUFBSXJELG1CQUFKLEVBQXlCO0FBQ3ZCLFlBQUlNLHNCQUFzQixDQUFDYSxvQkFBM0IsRUFBaUQ7QUFDL0NBLGlDQUF1QixJQUF2QjtBQUNBVSxvQkFBVSxpQ0FBVjtBQUNEO0FBQ0Y7QUFDRjs7QUFFRCxhQUFTeUIsd0JBQVQsQ0FBa0NDLFNBQWxDLEVBQTZDO0FBQzNDLFVBQUl2RCxtQkFBSixFQUF5QjtBQUN2QixZQUFJTSxrQkFBSixFQUF3QjtBQUN0QmEsaUNBQXVCLEtBQXZCO0FBQ0EsY0FBSU8sYUFBYTZCLFlBQVksa0NBQVosR0FBaUQsSUFBbEU7QUFDQXhCLGtCQUNFLGlDQURGLEVBRUUsaUNBRkYsRUFHRUwsVUFIRjtBQUtEO0FBQ0Y7QUFDRjs7QUFFRCxhQUFTOEIsY0FBVCxDQUF3QnpLLEtBQXhCLEVBQStCO0FBQzdCLFVBQUlpSCxtQkFBSixFQUF5QjtBQUN2QixZQUFJLENBQUNNLGtCQUFELElBQXVCdUMsa0JBQWtCOUosS0FBbEIsQ0FBM0IsRUFBcUQ7QUFDbkQ7QUFDRDs7QUFFRDRILHVCQUFlNUgsS0FBZjtBQUNBLFlBQUksQ0FBQ3dKLGVBQWV4SixLQUFmLEVBQXNCLElBQXRCLENBQUwsRUFBa0M7QUFDaEM7QUFDRDtBQUNEQSxjQUFNaUssdUJBQU4sR0FBZ0MsSUFBaEM7QUFDRDtBQUNGOztBQUVELGFBQVNTLGVBQVQsQ0FBeUIxSyxLQUF6QixFQUFnQztBQUM5QixVQUFJaUgsbUJBQUosRUFBeUI7QUFDdkIsWUFBSSxDQUFDTSxrQkFBRCxJQUF1QnVDLGtCQUFrQjlKLEtBQWxCLENBQTNCLEVBQXFEO0FBQ25EO0FBQ0Q7O0FBR0RBLGNBQU1pSyx1QkFBTixHQUFnQyxLQUFoQztBQUNBTCx1QkFBZTVKLEtBQWYsRUFBc0IsSUFBdEI7QUFDRDtBQUNGOztBQUVELGFBQVMySyxhQUFULENBQXVCM0ssS0FBdkIsRUFBOEI7QUFDNUIsVUFBSWlILG1CQUFKLEVBQXlCO0FBQ3ZCLFlBQUksQ0FBQ00sa0JBQUQsSUFBdUJ1QyxrQkFBa0I5SixLQUFsQixDQUEzQixFQUFxRDtBQUNuRDtBQUNEOztBQUVENEgsdUJBQWU1SCxNQUFNLFFBQU4sQ0FBZjtBQUNBLFlBQUksQ0FBQ0EsTUFBTWlLLHVCQUFYLEVBQW9DO0FBQ2xDO0FBQ0Q7QUFDRGpLLGNBQU1pSyx1QkFBTixHQUFnQyxLQUFoQztBQUNBSixxQkFBYTdKLEtBQWIsRUFBb0IsSUFBcEIsRUFBMEIsSUFBMUI7QUFDRDtBQUNGOztBQUVELGFBQVM0SyxtQkFBVCxDQUE2QjVLLEtBQTdCLEVBQW9DO0FBQ2xDLFVBQUlpSCxtQkFBSixFQUF5QjtBQUN2QixZQUFJLENBQUNNLGtCQUFELElBQXVCdUMsa0JBQWtCOUosS0FBbEIsQ0FBM0IsRUFBcUQ7QUFDbkQ7QUFDRDs7QUFFRDRILHVCQUFlNUgsTUFBTSxRQUFOLENBQWY7QUFDQSxZQUFJLENBQUNBLE1BQU1pSyx1QkFBWCxFQUFvQztBQUNsQztBQUNEO0FBQ0RqSyxjQUFNaUssdUJBQU4sR0FBZ0MsS0FBaEM7QUFDQSxZQUFJdEIsYUFBYSxnREFBakI7QUFDQWtCLHFCQUFhN0osS0FBYixFQUFvQixJQUFwQixFQUEwQjJJLFVBQTFCO0FBQ0Q7QUFDRjs7QUFFRCxhQUFTa0MsZUFBVCxDQUF5QjdLLEtBQXpCLEVBQWdDdFcsS0FBaEMsRUFBdUM7QUFDckMsVUFBSXVkLG1CQUFKLEVBQXlCO0FBQ3ZCLFlBQUksQ0FBQ00sa0JBQUwsRUFBeUI7QUFDdkI7QUFDRDtBQUNEd0M7QUFDQSxZQUFJLENBQUNQLGVBQWV4SixLQUFmLEVBQXNCdFcsS0FBdEIsQ0FBTCxFQUFtQztBQUNqQztBQUNEO0FBQ0RvZSw0QkFBb0I5SCxLQUFwQjtBQUNBNkgsdUJBQWVuZSxLQUFmO0FBQ0Q7QUFDRjs7QUFFRCxhQUFTb2hCLGNBQVQsR0FBMEI7QUFDeEIsVUFBSTdELG1CQUFKLEVBQXlCO0FBQ3ZCLFlBQUksQ0FBQ00sa0JBQUwsRUFBeUI7QUFDdkI7QUFDRDtBQUNELFlBQUlNLGlCQUFpQixJQUFqQixJQUF5QkMsc0JBQXNCLElBQW5ELEVBQXlEO0FBQ3ZELGNBQUlhLGFBQWFWLG1DQUNiLDhCQURhLEdBRWIsSUFGSjtBQUdBNEIsdUJBQWEvQixpQkFBYixFQUFnQ0QsWUFBaEMsRUFBOENjLFVBQTlDO0FBQ0Q7QUFDRGQsdUJBQWUsSUFBZjtBQUNBQyw0QkFBb0IsSUFBcEI7QUFDRDtBQUNGOztBQUVELGFBQVNpRCxrQkFBVCxDQUE0QkMsY0FBNUIsRUFBNEM7QUFDMUMsVUFBSS9ELG1CQUFKLEVBQXlCO0FBQ3ZCVyx1QkFBZW9ELGNBQWY7QUFDQSxZQUFJLENBQUN6RCxrQkFBTCxFQUF5QjtBQUN2QjtBQUNEO0FBQ0RXLHVDQUErQixDQUEvQjs7QUFHQVksa0JBQVUsNkJBQVY7O0FBRUFxQjtBQUNEO0FBQ0Y7O0FBRUQsYUFBU2MsaUJBQVQsQ0FBMkJDLGFBQTNCLEVBQTBDO0FBQ3hDLFVBQUlqRSxtQkFBSixFQUF5QjtBQUN2QixZQUFJLENBQUNNLGtCQUFMLEVBQXlCO0FBQ3ZCO0FBQ0Q7QUFDRCxZQUFJb0IsYUFBYSxJQUFqQjtBQUNBLFlBQUl1QyxrQkFBa0IsSUFBdEIsRUFBNEI7QUFDMUIsY0FBSUEsY0FBY3prQixHQUFkLEtBQXNCbUIsUUFBMUIsRUFBb0M7QUFDbEMrZ0IseUJBQWEsb0RBQWI7QUFDRCxXQUZELE1BRU87QUFDTCxnQkFBSVksZ0JBQWdCeEosaUJBQWlCbUwsYUFBakIsS0FBbUMsU0FBdkQ7QUFDQXZDLHlCQUNFLGtCQUFrQlksYUFBbEIsR0FBa0Msa0NBRHBDO0FBRUQ7QUFDRixTQVJELE1BUU8sSUFBSXJCLCtCQUErQixDQUFuQyxFQUFzQztBQUMzQ1MsdUJBQWEsOEJBQWI7QUFDRDtBQUNEVCx1Q0FBK0IsQ0FBL0I7O0FBRUE4QjtBQUNBaEIsZ0JBQ0UsNkJBREYsRUFFRSw2QkFGRixFQUdFTCxVQUhGO0FBS0Q7QUFDRjs7QUFFRCxhQUFTd0MsZ0JBQVQsR0FBNEI7QUFDMUIsVUFBSWxFLG1CQUFKLEVBQXlCO0FBQ3ZCLFlBQUksQ0FBQ00sa0JBQUwsRUFBeUI7QUFDdkI7QUFDRDtBQUNEUSx1QkFBZSxJQUFmO0FBQ0FDLDRDQUFvQyxLQUFwQztBQUNBSyw4QkFBc0IrQyxLQUF0QjtBQUNBdEMsa0JBQVUsc0JBQVY7QUFDRDtBQUNGOztBQUVELGFBQVN1QyxlQUFULEdBQTJCO0FBQ3pCLFVBQUlwRSxtQkFBSixFQUF5QjtBQUN2QixZQUFJLENBQUNNLGtCQUFMLEVBQXlCO0FBQ3ZCO0FBQ0Q7O0FBRUQsWUFBSW9CLGFBQWEsSUFBakI7QUFDQSxZQUFJWCxpQ0FBSixFQUF1QztBQUNyQ1csdUJBQWEsNkNBQWI7QUFDRCxTQUZELE1BRU8sSUFBSVQsK0JBQStCLENBQW5DLEVBQXNDO0FBQzNDUyx1QkFBYSxnREFBYjtBQUNEO0FBQ0RYLDRDQUFvQyxLQUFwQztBQUNBRTtBQUNBSCx1QkFBZSxLQUFmO0FBQ0FNLDhCQUFzQitDLEtBQXRCOztBQUVBcEMsZ0JBQVEsc0JBQVIsRUFBZ0Msc0JBQWhDLEVBQXdETCxVQUF4RDtBQUNEO0FBQ0Y7O0FBRUQsYUFBUzJDLDJCQUFULEdBQXVDO0FBQ3JDLFVBQUlyRSxtQkFBSixFQUF5QjtBQUN2QixZQUFJLENBQUNNLGtCQUFMLEVBQXlCO0FBQ3ZCO0FBQ0Q7QUFDRFkscUNBQTZCLENBQTdCO0FBQ0FXLGtCQUFVLDJCQUFWO0FBQ0Q7QUFDRjs7QUFFRCxhQUFTeUMsMEJBQVQsR0FBc0M7QUFDcEMsVUFBSXRFLG1CQUFKLEVBQXlCO0FBQ3ZCLFlBQUksQ0FBQ00sa0JBQUwsRUFBeUI7QUFDdkI7QUFDRDtBQUNELFlBQUlsTSxRQUFROE0sMEJBQVo7QUFDQUEscUNBQTZCLENBQTdCO0FBQ0FhLGdCQUNFLCtCQUErQjNOLEtBQS9CLEdBQXVDLFNBRHpDLEVBRUUsMkJBRkYsRUFHRSxJQUhGO0FBS0Q7QUFDRjs7QUFFRCxhQUFTbVEsMEJBQVQsR0FBc0M7QUFDcEMsVUFBSXZFLG1CQUFKLEVBQXlCO0FBQ3ZCLFlBQUksQ0FBQ00sa0JBQUwsRUFBeUI7QUFDdkI7QUFDRDtBQUNEWSxxQ0FBNkIsQ0FBN0I7QUFDQVcsa0JBQVUsNkJBQVY7QUFDRDtBQUNGOztBQUVELGFBQVMyQyx5QkFBVCxHQUFxQztBQUNuQyxVQUFJeEUsbUJBQUosRUFBeUI7QUFDdkIsWUFBSSxDQUFDTSxrQkFBTCxFQUF5QjtBQUN2QjtBQUNEO0FBQ0QsWUFBSWxNLFFBQVE4TSwwQkFBWjtBQUNBQSxxQ0FBNkIsQ0FBN0I7QUFDQWEsZ0JBQ0UsaUNBQWlDM04sS0FBakMsR0FBeUMsU0FEM0MsRUFFRSw2QkFGRixFQUdFLElBSEY7QUFLRDtBQUNGOztBQUVELFFBQUlxUSxvQ0FBb0MsS0FBSyxDQUE3Qzs7QUFFQTtBQUNFQSwwQ0FBb0MsRUFBcEM7QUFDRDs7QUFHRCxRQUFJQyxxQkFBcUJ2RyxhQUFhem5CLFdBQWIsQ0FBekI7O0FBRUEsUUFBSWl1Qiw0QkFBNEJ4RyxhQUFhLEtBQWIsQ0FBaEM7O0FBSUEsUUFBSXlHLGtCQUFrQmx1QixXQUF0Qjs7QUFFQSxhQUFTbXVCLGtCQUFULENBQTRCNUYsY0FBNUIsRUFBNEM7QUFDMUMsVUFBSTZGLGdCQUFnQkMsa0JBQWtCOUYsY0FBbEIsQ0FBcEI7QUFDQSxVQUFJNkYsYUFBSixFQUFtQjtBQUtqQixlQUFPRixlQUFQO0FBQ0Q7QUFDRCxhQUFPRixtQkFBbUJubUIsT0FBMUI7QUFDRDs7QUFFRCxhQUFTeW1CLFlBQVQsQ0FBc0IvRixjQUF0QixFQUFzQ2dHLGVBQXRDLEVBQXVEQyxhQUF2RCxFQUFzRTtBQUNwRSxVQUFJcGUsV0FBV21ZLGVBQWVuZixTQUE5QjtBQUNBZ0gsZUFBU3FlLDJDQUFULEdBQXVERixlQUF2RDtBQUNBbmUsZUFBU3NlLHlDQUFULEdBQXFERixhQUFyRDtBQUNEOztBQUVELGFBQVNHLGdCQUFULENBQTBCcEcsY0FBMUIsRUFBMENnRyxlQUExQyxFQUEyRDtBQUN6RCxVQUFJem5CLE9BQU95aEIsZUFBZXpoQixJQUExQjtBQUNBLFVBQUk4bkIsZUFBZTluQixLQUFLOG5CLFlBQXhCO0FBQ0EsVUFBSSxDQUFDQSxZQUFMLEVBQW1CO0FBQ2pCLGVBQU81dUIsV0FBUDtBQUNEOztBQUtELFVBQUlvUSxXQUFXbVksZUFBZW5mLFNBQTlCO0FBQ0EsVUFDRWdILFlBQ0FBLFNBQVNxZSwyQ0FBVCxLQUF5REYsZUFGM0QsRUFHRTtBQUNBLGVBQU9uZSxTQUFTc2UseUNBQWhCO0FBQ0Q7O0FBRUQsVUFBSWx1QixVQUFVLEVBQWQ7QUFDQSxXQUFLLElBQUkwYyxHQUFULElBQWdCMFIsWUFBaEIsRUFBOEI7QUFDNUJwdUIsZ0JBQVEwYyxHQUFSLElBQWVxUixnQkFBZ0JyUixHQUFoQixDQUFmO0FBQ0Q7O0FBRUQ7QUFDRSxZQUFJNWMsT0FBTzhoQixpQkFBaUJtRyxjQUFqQixLQUFvQyxTQUEvQztBQUNBdG9CLHVCQUNFMnVCLFlBREYsRUFFRXB1QixPQUZGLEVBR0UsU0FIRixFQUlFRixJQUpGLEVBS0Vvb0IsdUJBQXVCQyw0QkFMekI7QUFPRDs7QUFJRCxVQUFJdlksUUFBSixFQUFjO0FBQ1prZSxxQkFBYS9GLGNBQWIsRUFBNkJnRyxlQUE3QixFQUE4Qy90QixPQUE5QztBQUNEOztBQUVELGFBQU9BLE9BQVA7QUFDRDs7QUFFRCxhQUFTcXVCLGlCQUFULEdBQTZCO0FBQzNCLGFBQU9aLDBCQUEwQnBtQixPQUFqQztBQUNEOztBQUVELGFBQVNpbkIsaUJBQVQsQ0FBMkJ6TSxLQUEzQixFQUFrQztBQUNoQyxhQUFPQSxNQUFNdlosR0FBTixLQUFja0IsY0FBZCxJQUFnQ3FZLE1BQU12YixJQUFOLENBQVc4bkIsWUFBWCxJQUEyQixJQUFsRTtBQUNEOztBQUVELGFBQVNQLGlCQUFULENBQTJCaE0sS0FBM0IsRUFBa0M7QUFDaEMsYUFBT0EsTUFBTXZaLEdBQU4sS0FBY2tCLGNBQWQsSUFBZ0NxWSxNQUFNdmIsSUFBTixDQUFXaW9CLGlCQUFYLElBQWdDLElBQXZFO0FBQ0Q7O0FBRUQsYUFBU0Msa0JBQVQsQ0FBNEIzTSxLQUE1QixFQUFtQztBQUNqQyxVQUFJLENBQUNnTSxrQkFBa0JoTSxLQUFsQixDQUFMLEVBQStCO0FBQzdCO0FBQ0Q7O0FBRURoUyxVQUFJNGQseUJBQUosRUFBK0I1TCxLQUEvQjtBQUNBaFMsVUFBSTJkLGtCQUFKLEVBQXdCM0wsS0FBeEI7QUFDRDs7QUFFRCxhQUFTNE0sd0JBQVQsQ0FBa0M1TSxLQUFsQyxFQUF5QztBQUN2Q2hTLFVBQUk0ZCx5QkFBSixFQUErQjVMLEtBQS9CO0FBQ0FoUyxVQUFJMmQsa0JBQUosRUFBd0IzTCxLQUF4QjtBQUNEOztBQUVELGFBQVM2TSx5QkFBVCxDQUFtQzdNLEtBQW5DLEVBQTBDN2hCLE9BQTFDLEVBQW1EMnVCLFNBQW5ELEVBQThEO0FBQzVENXZCLGdCQUNFeXVCLG1CQUFtQnJHLE1BQW5CLElBQTZCLElBRC9CLEVBRUUsd0NBQ0Usc0VBSEo7O0FBTUE1ZixXQUFLaW1CLGtCQUFMLEVBQXlCeHRCLE9BQXpCLEVBQWtDNmhCLEtBQWxDO0FBQ0F0YSxXQUFLa21CLHlCQUFMLEVBQWdDa0IsU0FBaEMsRUFBMkM5TSxLQUEzQztBQUNEOztBQUVELGFBQVMrTSxtQkFBVCxDQUE2Qi9NLEtBQTdCLEVBQW9DZ04sYUFBcEMsRUFBbUQ7QUFDakQsVUFBSWpmLFdBQVdpUyxNQUFNalosU0FBckI7QUFDQSxVQUFJMmxCLG9CQUFvQjFNLE1BQU12YixJQUFOLENBQVdpb0IsaUJBQW5DOztBQUlBLFVBQUksT0FBTzNlLFNBQVNrZixlQUFoQixLQUFvQyxVQUF4QyxFQUFvRDtBQUNsRDtBQUNFLGNBQUkxRCxnQkFBZ0J4SixpQkFBaUJDLEtBQWpCLEtBQTJCLFNBQS9DOztBQUVBLGNBQUksQ0FBQzBMLGtDQUFrQ25DLGFBQWxDLENBQUwsRUFBdUQ7QUFDckRtQyw4Q0FBa0NuQyxhQUFsQyxJQUFtRCxJQUFuRDtBQUNBcHNCLG9CQUNFLEtBREYsRUFFRSxnRkFDRSwyRUFERixHQUVFLDRCQUpKLEVBS0Vvc0IsYUFMRixFQU1FQSxhQU5GO0FBUUQ7QUFDRjtBQUNELGVBQU95RCxhQUFQO0FBQ0Q7O0FBRUQsVUFBSUUsZUFBZSxLQUFLLENBQXhCO0FBQ0E7QUFDRTdHLCtCQUF1QkssZUFBdkIsQ0FBdUMsaUJBQXZDO0FBQ0Q7QUFDRG1FLHNCQUFnQjdLLEtBQWhCLEVBQXVCLGlCQUF2QjtBQUNBa04scUJBQWVuZixTQUFTa2YsZUFBVCxFQUFmO0FBQ0FuQztBQUNBO0FBQ0V6RSwrQkFBdUJLLGVBQXZCLENBQXVDLElBQXZDO0FBQ0Q7QUFDRCxXQUFLLElBQUl5RyxVQUFULElBQXVCRCxZQUF2QixFQUFxQztBQUNuQ2h3QixrQkFDRWl3QixjQUFjVCxpQkFEaEIsRUFFRSxxRUFGRixFQUdFM00saUJBQWlCQyxLQUFqQixLQUEyQixTQUg3QixFQUlFbU4sVUFKRjtBQU1EO0FBQ0Q7QUFDRSxZQUFJbHZCLE9BQU84aEIsaUJBQWlCQyxLQUFqQixLQUEyQixTQUF0QztBQUNBcGlCLHVCQUNFOHVCLGlCQURGLEVBRUVRLFlBRkYsRUFHRSxlQUhGLEVBSUVqdkIsSUFKRixFQVVFb29CLHVCQUF1QkMsNEJBVnpCO0FBWUQ7O0FBRUQsYUFBTyxTQUFjLEVBQWQsRUFBa0IwRyxhQUFsQixFQUFpQ0UsWUFBakMsQ0FBUDtBQUNEOztBQUVELGFBQVNFLG1CQUFULENBQTZCbEgsY0FBN0IsRUFBNkM7QUFDM0MsVUFBSSxDQUFDOEYsa0JBQWtCOUYsY0FBbEIsQ0FBTCxFQUF3QztBQUN0QyxlQUFPLEtBQVA7QUFDRDs7QUFFRCxVQUFJblksV0FBV21ZLGVBQWVuZixTQUE5Qjs7QUFJQSxVQUFJc21CLDZCQUNEdGYsWUFBWUEsU0FBU3VmLHlDQUF0QixJQUNBM3ZCLFdBRkY7O0FBTUFrdUIsd0JBQWtCRixtQkFBbUJubUIsT0FBckM7QUFDQUUsV0FBS2ltQixrQkFBTCxFQUF5QjBCLDBCQUF6QixFQUFxRG5ILGNBQXJEO0FBQ0F4Z0IsV0FDRWttQix5QkFERixFQUVFQSwwQkFBMEJwbUIsT0FGNUIsRUFHRTBnQixjQUhGOztBQU1BLGFBQU8sSUFBUDtBQUNEOztBQUVELGFBQVNxSCx5QkFBVCxDQUFtQ3JILGNBQW5DLEVBQW1ENEcsU0FBbkQsRUFBOEQ7QUFDNUQsVUFBSS9lLFdBQVdtWSxlQUFlbmYsU0FBOUI7QUFDQTdKLGdCQUNFNlEsUUFERixFQUVFLGlEQUNFLHNFQUhKOztBQU1BLFVBQUkrZSxTQUFKLEVBQWU7QUFJYixZQUFJVSxnQkFBZ0JULG9CQUFvQjdHLGNBQXBCLEVBQW9DMkYsZUFBcEMsQ0FBcEI7QUFDQTlkLGlCQUFTdWYseUNBQVQsR0FBcURFLGFBQXJEOztBQUlBeGYsWUFBSTRkLHlCQUFKLEVBQStCMUYsY0FBL0I7QUFDQWxZLFlBQUkyZCxrQkFBSixFQUF3QnpGLGNBQXhCOztBQUVBeGdCLGFBQUtpbUIsa0JBQUwsRUFBeUI2QixhQUF6QixFQUF3Q3RILGNBQXhDO0FBQ0F4Z0IsYUFBS2ttQix5QkFBTCxFQUFnQ2tCLFNBQWhDLEVBQTJDNUcsY0FBM0M7QUFDRCxPQWRELE1BY087QUFDTGxZLFlBQUk0ZCx5QkFBSixFQUErQjFGLGNBQS9CO0FBQ0F4Z0IsYUFBS2ttQix5QkFBTCxFQUFnQ2tCLFNBQWhDLEVBQTJDNUcsY0FBM0M7QUFDRDtBQUNGOztBQUVELGFBQVN1SCxZQUFULEdBQXdCO0FBQ3RCNUIsd0JBQWtCbHVCLFdBQWxCO0FBQ0FndUIseUJBQW1Cbm1CLE9BQW5CLEdBQTZCN0gsV0FBN0I7QUFDQWl1QixnQ0FBMEJwbUIsT0FBMUIsR0FBb0MsS0FBcEM7QUFDRDs7QUFFRCxhQUFTa29CLDBCQUFULENBQW9DMU4sS0FBcEMsRUFBMkM7QUFHekM5aUIsZ0JBQ0VpbkIsZUFBZW5FLEtBQWYsS0FBeUJBLE1BQU12WixHQUFOLEtBQWNrQixjQUR6QyxFQUVFLDhEQUNFLHNFQUhKOztBQU1BLFVBQUkwVixPQUFPMkMsS0FBWDtBQUNBLGFBQU8zQyxLQUFLNVcsR0FBTCxLQUFhbUIsUUFBcEIsRUFBOEI7QUFDNUIsWUFBSW9rQixrQkFBa0IzTyxJQUFsQixDQUFKLEVBQTZCO0FBQzNCLGlCQUFPQSxLQUFLdFcsU0FBTCxDQUFldW1CLHlDQUF0QjtBQUNEO0FBQ0QsWUFBSXZJLFNBQVMxSCxLQUFLLFFBQUwsQ0FBYjtBQUNBbmdCLGtCQUNFNm5CLE1BREYsRUFFRSwrQ0FDRSxzRUFISjtBQUtBMUgsZUFBTzBILE1BQVA7QUFDRDtBQUNELGFBQU8xSCxLQUFLdFcsU0FBTCxDQUFlNUksT0FBdEI7QUFDRDs7QUFLRCxRQUFJd3ZCLHdCQUF3QixVQUE1Qjs7QUFJQSxRQUFJQyxTQUFTLENBQWI7QUFDQSxRQUFJQyxPQUFPLENBQVg7QUFDQSxRQUFJQyxRQUFRSCxxQkFBWjs7QUFFQSxRQUFJSSxZQUFZLEVBQWhCO0FBQ0EsUUFBSUMsc0JBQXNCLENBQTFCOztBQUdBLGFBQVNDLGtCQUFULENBQTRCQyxFQUE1QixFQUFnQztBQUU5QixhQUFPLENBQUVBLEtBQUtILFNBQU4sR0FBbUIsQ0FBcEIsSUFBeUJDLG1CQUFoQztBQUNEOztBQUVELGFBQVNHLGtCQUFULENBQTRCQyxjQUE1QixFQUE0QztBQUMxQyxhQUFPLENBQUNBLGlCQUFpQkosbUJBQWxCLElBQXlDRCxTQUFoRDtBQUNEOztBQUVELGFBQVNNLE9BQVQsQ0FBaUJDLEdBQWpCLEVBQXNCQyxTQUF0QixFQUFpQztBQUMvQixhQUFPLENBQUMsQ0FBRUQsTUFBTUMsU0FBUCxHQUFvQixDQUFyQixJQUEwQixDQUEzQixJQUFnQ0EsU0FBdkM7QUFDRDs7QUFFRCxhQUFTQyx1QkFBVCxDQUFpQ0MsV0FBakMsRUFBOENDLGNBQTlDLEVBQThEQyxZQUE5RCxFQUE0RTtBQUMxRSxhQUFPTixRQUNMSSxjQUFjQyxpQkFBaUJYLFNBRDFCLEVBRUxZLGVBQWVaLFNBRlYsQ0FBUDtBQUlEOztBQUVELFFBQUlhLFlBQVksQ0FBaEI7QUFDQSxRQUFJQyxZQUFZLENBQWhCO0FBQ0EsUUFBSUMsYUFBYSxDQUFqQjs7QUFFQSxRQUFJQyxvQkFBb0IsS0FBSyxDQUE3Qjs7QUFFQTtBQUNFQSwwQkFBb0IsS0FBcEI7QUFDQSxVQUFJO0FBQ0YsWUFBSUMsc0JBQXNCaGpCLE9BQU9pakIsaUJBQVAsQ0FBeUIsRUFBekIsQ0FBMUI7QUFDQSxZQUFJQyxVQUFVLElBQUlDLEdBQUosQ0FBUSxDQUFDLENBQUNILG1CQUFELEVBQXNCLElBQXRCLENBQUQsQ0FBUixDQUFkO0FBQ0EsWUFBSUksVUFBVSxJQUFJOUcsR0FBSixDQUFRLENBQUMwRyxtQkFBRCxDQUFSLENBQWQ7O0FBSUFFLGdCQUFRbmlCLEdBQVIsQ0FBWSxDQUFaLEVBQWUsQ0FBZjtBQUNBcWlCLGdCQUFRekYsR0FBUixDQUFZLENBQVo7QUFDRCxPQVRELENBU0UsT0FBT25yQixDQUFQLEVBQVU7QUFFVnV3Qiw0QkFBb0IsSUFBcEI7QUFDRDtBQUNGOztBQUtELFFBQUlNLGVBQWUsS0FBSyxDQUF4Qjs7QUFFQTtBQUNFQSxxQkFBZSxDQUFmO0FBQ0Q7O0FBRUQsYUFBU0MsU0FBVCxDQUFtQjdvQixHQUFuQixFQUF3QjhvQixZQUF4QixFQUFzQzFVLEdBQXRDLEVBQTJDMlUsSUFBM0MsRUFBaUQ7QUFFL0MsV0FBSy9vQixHQUFMLEdBQVdBLEdBQVg7QUFDQSxXQUFLb1UsR0FBTCxHQUFXQSxHQUFYO0FBQ0EsV0FBS3BXLElBQUwsR0FBWSxJQUFaO0FBQ0EsV0FBS3NDLFNBQUwsR0FBaUIsSUFBakI7O0FBR0EsV0FBSyxRQUFMLElBQWlCLElBQWpCO0FBQ0EsV0FBSzJkLEtBQUwsR0FBYSxJQUFiO0FBQ0EsV0FBS0MsT0FBTCxHQUFlLElBQWY7QUFDQSxXQUFLbE0sS0FBTCxHQUFhLENBQWI7O0FBRUEsV0FBS2dYLEdBQUwsR0FBVyxJQUFYOztBQUVBLFdBQUtGLFlBQUwsR0FBb0JBLFlBQXBCO0FBQ0EsV0FBS0csYUFBTCxHQUFxQixJQUFyQjtBQUNBLFdBQUtDLFdBQUwsR0FBbUIsSUFBbkI7QUFDQSxXQUFLQyxhQUFMLEdBQXFCLElBQXJCOztBQUVBLFdBQUtKLElBQUwsR0FBWUEsSUFBWjs7QUFHQSxXQUFLdEwsU0FBTCxHQUFpQmxCLFFBQWpCO0FBQ0EsV0FBSzZNLFVBQUwsR0FBa0IsSUFBbEI7O0FBRUEsV0FBS0MsV0FBTCxHQUFtQixJQUFuQjtBQUNBLFdBQUtDLFVBQUwsR0FBa0IsSUFBbEI7O0FBRUEsV0FBSzNCLGNBQUwsR0FBc0JSLE1BQXRCOztBQUVBLFdBQUs1a0IsU0FBTCxHQUFpQixJQUFqQjs7QUFFQTtBQUNFLGFBQUt5Z0IsUUFBTCxHQUFnQjRGLGNBQWhCO0FBQ0EsYUFBS3JKLFlBQUwsR0FBb0IsSUFBcEI7QUFDQSxhQUFLRCxXQUFMLEdBQW1CLElBQW5CO0FBQ0EsYUFBS2tFLHVCQUFMLEdBQStCLEtBQS9CO0FBQ0EsWUFBSSxDQUFDOEUsaUJBQUQsSUFBc0IsT0FBTy9pQixPQUFPaWpCLGlCQUFkLEtBQW9DLFVBQTlELEVBQTBFO0FBQ3hFampCLGlCQUFPaWpCLGlCQUFQLENBQXlCLElBQXpCO0FBQ0Q7QUFDRjtBQUNGOztBQWVELFFBQUllLGNBQWMsU0FBZEEsV0FBYyxDQUFTdnBCLEdBQVQsRUFBYzhvQixZQUFkLEVBQTRCMVUsR0FBNUIsRUFBaUMyVSxJQUFqQyxFQUF1QztBQUV2RCxhQUFPLElBQUlGLFNBQUosQ0FBYzdvQixHQUFkLEVBQW1COG9CLFlBQW5CLEVBQWlDMVUsR0FBakMsRUFBc0MyVSxJQUF0QyxDQUFQO0FBQ0QsS0FIRDs7QUFLQSxhQUFTUyxlQUFULENBQXlCbE4sU0FBekIsRUFBb0M7QUFDbEMsYUFBTyxDQUFDLEVBQUVBLFVBQVVqa0IsU0FBVixJQUF1QmlrQixVQUFVamtCLFNBQVYsQ0FBb0JveEIsZ0JBQTdDLENBQVI7QUFDRDs7QUFHRCxhQUFTQyxvQkFBVCxDQUE4QjNxQixPQUE5QixFQUF1QytwQixZQUF2QyxFQUFxRG5CLGNBQXJELEVBQXFFO0FBQ25FLFVBQUlsSSxpQkFBaUIxZ0IsUUFBUXdELFNBQTdCO0FBQ0EsVUFBSWtkLG1CQUFtQixJQUF2QixFQUE2QjtBQU0zQkEseUJBQWlCOEosWUFDZnhxQixRQUFRaUIsR0FETyxFQUVmOG9CLFlBRmUsRUFHZi9wQixRQUFRcVYsR0FITyxFQUlmclYsUUFBUWdxQixJQUpPLENBQWpCO0FBTUF0Six1QkFBZXpoQixJQUFmLEdBQXNCZSxRQUFRZixJQUE5QjtBQUNBeWhCLHVCQUFlbmYsU0FBZixHQUEyQnZCLFFBQVF1QixTQUFuQzs7QUFFQTtBQUVFbWYseUJBQWV1RCxRQUFmLEdBQTBCamtCLFFBQVFpa0IsUUFBbEM7QUFDQXZELHlCQUFlRixZQUFmLEdBQThCeGdCLFFBQVF3Z0IsWUFBdEM7QUFDQUUseUJBQWVILFdBQWYsR0FBNkJ2Z0IsUUFBUXVnQixXQUFyQztBQUNEOztBQUVERyx1QkFBZWxkLFNBQWYsR0FBMkJ4RCxPQUEzQjtBQUNBQSxnQkFBUXdELFNBQVIsR0FBb0JrZCxjQUFwQjtBQUNELE9BeEJELE1Bd0JPO0FBQ0xBLHVCQUFlcUosWUFBZixHQUE4QkEsWUFBOUI7O0FBSUFySix1QkFBZWhDLFNBQWYsR0FBMkJsQixRQUEzQjs7QUFHQWtELHVCQUFlMkosVUFBZixHQUE0QixJQUE1QjtBQUNBM0osdUJBQWU0SixXQUFmLEdBQTZCLElBQTdCO0FBQ0E1Six1QkFBZTZKLFVBQWYsR0FBNEIsSUFBNUI7QUFDRDs7QUFFRDdKLHFCQUFla0ksY0FBZixHQUFnQ0EsY0FBaEM7O0FBRUFsSSxxQkFBZXhCLEtBQWYsR0FBdUJsZixRQUFRa2YsS0FBL0I7QUFDQXdCLHFCQUFld0osYUFBZixHQUErQmxxQixRQUFRa3FCLGFBQXZDO0FBQ0F4SixxQkFBZTBKLGFBQWYsR0FBK0JwcUIsUUFBUW9xQixhQUF2QztBQUNBMUoscUJBQWV5SixXQUFmLEdBQTZCbnFCLFFBQVFtcUIsV0FBckM7O0FBR0F6SixxQkFBZXZCLE9BQWYsR0FBeUJuZixRQUFRbWYsT0FBakM7QUFDQXVCLHFCQUFlek4sS0FBZixHQUF1QmpULFFBQVFpVCxLQUEvQjtBQUNBeU4scUJBQWV1SixHQUFmLEdBQXFCanFCLFFBQVFpcUIsR0FBN0I7O0FBRUEsYUFBT3ZKLGNBQVA7QUFDRDs7QUFFRCxhQUFTa0ssbUJBQVQsQ0FBNkJDLE9BQTdCLEVBQXNDO0FBQ3BDLFVBQUliLE9BQU9hLFVBQVV4QixZQUFZQyxVQUF0QixHQUFtQ0YsU0FBOUM7QUFDQSxhQUFPb0IsWUFBWXBvQixRQUFaLEVBQXNCLElBQXRCLEVBQTRCLElBQTVCLEVBQWtDNG5CLElBQWxDLENBQVA7QUFDRDs7QUFFRCxhQUFTYyxzQkFBVCxDQUFnQ0MsT0FBaEMsRUFBeUNmLElBQXpDLEVBQStDcEIsY0FBL0MsRUFBK0Q7QUFDN0QsVUFBSWhQLFFBQVEsSUFBWjtBQUNBO0FBQ0VBLGdCQUFRbVIsUUFBUWxSLE1BQWhCO0FBQ0Q7O0FBRUQsVUFBSVcsUUFBUSxLQUFLLENBQWpCO0FBQ0EsVUFBSXZiLE9BQU84ckIsUUFBUTlyQixJQUFuQjtBQUNBLFVBQUlvVyxNQUFNMFYsUUFBUTFWLEdBQWxCO0FBQ0EsVUFBSTBVLGVBQWVnQixRQUFRNXBCLEtBQTNCOztBQUVBLFVBQUk2cEIsV0FBVyxLQUFLLENBQXBCO0FBQ0EsVUFBSSxPQUFPL3JCLElBQVAsS0FBZ0IsVUFBcEIsRUFBZ0M7QUFDOUIrckIsbUJBQVdQLGdCQUFnQnhyQixJQUFoQixJQUF3QmtELGNBQXhCLEdBQXlDRixzQkFBcEQ7QUFDRCxPQUZELE1BRU8sSUFBSSxPQUFPaEQsSUFBUCxLQUFnQixRQUFwQixFQUE4QjtBQUNuQytyQixtQkFBVzFvQixhQUFYO0FBQ0QsT0FGTSxNQUVBO0FBQ0wsZ0JBQVFyRCxJQUFSO0FBQ0UsZUFBS3FWLG1CQUFMO0FBQ0UsbUJBQU8yVyx3QkFDTGxCLGFBQWE3VSxRQURSLEVBRUw4VSxJQUZLLEVBR0xwQixjQUhLLEVBSUx2VCxHQUpLLENBQVA7QUFNRixlQUFLWCxxQkFBTDtBQUNFc1csdUJBQVdwb0IsSUFBWDtBQUNBb25CLG9CQUFRWCxZQUFZQyxVQUFwQjtBQUNBO0FBQ0YsZUFBSy9VLHNCQUFMO0FBQ0V5Vyx1QkFBV3BvQixJQUFYO0FBQ0FvbkIsb0JBQVFWLFVBQVI7QUFDQTtBQUNGLGVBQUtuVixlQUFMO0FBQ0U2Vyx1QkFBV3hvQixhQUFYO0FBQ0E7QUFDRixlQUFLNFIsaUJBQUw7QUFDRTRXLHVCQUFXdG9CLGVBQVg7QUFDQTtBQUNGO0FBQVM7QUFDUCxrQkFBSSxPQUFPekQsSUFBUCxLQUFnQixRQUFoQixJQUE0QkEsU0FBUyxJQUF6QyxFQUErQztBQUM3Qyx3QkFBUUEsS0FBS3FXLFFBQWI7QUFDRSx1QkFBS2QsbUJBQUw7QUFDRXdXLCtCQUFXbG9CLGVBQVg7QUFDQTtBQUNGLHVCQUFLMlIsa0JBQUw7QUFFRXVXLCtCQUFXbm9CLGVBQVg7QUFDQTtBQUNGO0FBQ0Usd0JBQUksT0FBTzVELEtBQUtnQyxHQUFaLEtBQW9CLFFBQXhCLEVBQWtDO0FBU2hDdVosOEJBQVF2YixJQUFSO0FBQ0F1Yiw0QkFBTXVQLFlBQU4sR0FBcUJBLFlBQXJCO0FBQ0F2UCw0QkFBTW9PLGNBQU4sR0FBdUJBLGNBQXZCO0FBQ0EsNkJBQU9wTyxLQUFQO0FBQ0QscUJBYkQsTUFhTztBQUNMMFEsZ0RBQTBCanNCLElBQTFCLEVBQWdDMmEsS0FBaEM7QUFDRDtBQUNEO0FBekJKO0FBMkJELGVBNUJELE1BNEJPO0FBQ0xzUiwwQ0FBMEJqc0IsSUFBMUIsRUFBZ0MyYSxLQUFoQztBQUNEO0FBQ0Y7QUF0REg7QUF3REQ7O0FBRURZLGNBQVFnUSxZQUFZUSxRQUFaLEVBQXNCakIsWUFBdEIsRUFBb0MxVSxHQUFwQyxFQUF5QzJVLElBQXpDLENBQVI7QUFDQXhQLFlBQU12YixJQUFOLEdBQWFBLElBQWI7QUFDQXViLFlBQU1vTyxjQUFOLEdBQXVCQSxjQUF2Qjs7QUFFQTtBQUNFcE8sY0FBTWdHLFlBQU4sR0FBcUJ1SyxRQUFRSSxPQUE3QjtBQUNBM1EsY0FBTStGLFdBQU4sR0FBb0J3SyxRQUFRbFIsTUFBNUI7QUFDRDs7QUFFRCxhQUFPVyxLQUFQO0FBQ0Q7O0FBRUQsYUFBUzBRLHlCQUFULENBQW1DanNCLElBQW5DLEVBQXlDMmEsS0FBekMsRUFBZ0Q7QUFDOUMsVUFBSStHLE9BQU8sRUFBWDtBQUNBO0FBQ0UsWUFDRTFoQixTQUFTRSxTQUFULElBQ0MsT0FBT0YsSUFBUCxLQUFnQixRQUFoQixJQUNDQSxTQUFTLElBRFYsSUFFQ3VILE9BQU95VSxJQUFQLENBQVloYyxJQUFaLEVBQWtCUCxNQUFsQixLQUE2QixDQUpqQyxFQUtFO0FBQ0FpaUIsa0JBQ0UsK0RBQ0EsMERBREEsR0FFQSxnQkFIRjtBQUlEO0FBQ0QsWUFBSVQsWUFBWXRHLFFBQVFXLGlCQUFpQlgsS0FBakIsQ0FBUixHQUFrQyxJQUFsRDtBQUNBLFlBQUlzRyxTQUFKLEVBQWU7QUFDYlMsa0JBQVEscUNBQXFDVCxTQUFyQyxHQUFpRCxJQUF6RDtBQUNEO0FBQ0Y7QUFDRHhvQixnQkFDRSxLQURGLEVBRUUsOERBQ0UsNkRBREYsR0FFRSxnQkFKSixFQUtFdUgsUUFBUSxJQUFSLEdBQWVBLElBQWYsR0FBc0IsT0FBT0EsSUFML0IsRUFNRTBoQixJQU5GO0FBUUQ7O0FBRUQsYUFBU3NLLHVCQUFULENBQWlDRyxRQUFqQyxFQUEyQ3BCLElBQTNDLEVBQWlEcEIsY0FBakQsRUFBaUV2VCxHQUFqRSxFQUFzRTtBQUNwRSxVQUFJbUYsUUFBUWdRLFlBQVk3bkIsUUFBWixFQUFzQnlvQixRQUF0QixFQUFnQy9WLEdBQWhDLEVBQXFDMlUsSUFBckMsQ0FBWjtBQUNBeFAsWUFBTW9PLGNBQU4sR0FBdUJBLGNBQXZCO0FBQ0EsYUFBT3BPLEtBQVA7QUFDRDs7QUFFRCxhQUFTNlEsbUJBQVQsQ0FBNkJDLE9BQTdCLEVBQXNDdEIsSUFBdEMsRUFBNENwQixjQUE1QyxFQUE0RDtBQUMxRCxVQUFJcE8sUUFBUWdRLFlBQVlqb0IsUUFBWixFQUFzQitvQixPQUF0QixFQUErQixJQUEvQixFQUFxQ3RCLElBQXJDLENBQVo7QUFDQXhQLFlBQU1vTyxjQUFOLEdBQXVCQSxjQUF2QjtBQUNBLGFBQU9wTyxLQUFQO0FBQ0Q7O0FBRUQsYUFBUytRLHNDQUFULEdBQWtEO0FBQ2hELFVBQUkvUSxRQUFRZ1EsWUFBWWxvQixhQUFaLEVBQTJCLElBQTNCLEVBQWlDLElBQWpDLEVBQXVDOG1CLFNBQXZDLENBQVo7QUFDQTVPLFlBQU12YixJQUFOLEdBQWEsU0FBYjtBQUNBLGFBQU91YixLQUFQO0FBQ0Q7O0FBRUQsYUFBU2dSLHFCQUFULENBQStCQyxNQUEvQixFQUF1Q3pCLElBQXZDLEVBQTZDcEIsY0FBN0MsRUFBNkQ7QUFDM0QsVUFBSW1CLGVBQWUwQixPQUFPdlcsUUFBUCxLQUFvQixJQUFwQixHQUEyQnVXLE9BQU92VyxRQUFsQyxHQUE2QyxFQUFoRTtBQUNBLFVBQUlzRixRQUFRZ1EsWUFBWW5vQixVQUFaLEVBQXdCMG5CLFlBQXhCLEVBQXNDMEIsT0FBT3BXLEdBQTdDLEVBQWtEMlUsSUFBbEQsQ0FBWjtBQUNBeFAsWUFBTW9PLGNBQU4sR0FBdUJBLGNBQXZCO0FBQ0FwTyxZQUFNalosU0FBTixHQUFrQjtBQUNoQjRULHVCQUFlc1csT0FBT3RXLGFBRE47QUFFaEJ1Vyx5QkFBaUIsSUFGRDtBQUdoQnRXLHdCQUFnQnFXLE9BQU9yVztBQUhQLE9BQWxCO0FBS0EsYUFBT29GLEtBQVA7QUFDRDs7QUFJRCxhQUFTbVIsZUFBVCxDQUF5QnhXLGFBQXpCLEVBQXdDMFYsT0FBeEMsRUFBaURlLE9BQWpELEVBQTBEO0FBR3hELFVBQUlDLHFCQUFxQmpCLG9CQUFvQkMsT0FBcEIsQ0FBekI7QUFDQSxVQUFJaUIsT0FBTztBQUNUOXJCLGlCQUFTNnJCLGtCQURBO0FBRVQxVyx1QkFBZUEsYUFGTjtBQUdUdVcseUJBQWlCLElBSFI7QUFJVEsscUNBQTZCM0QsTUFKcEI7QUFLVDRELHNCQUFjLElBTEw7QUFNVHJ6QixpQkFBUyxJQU5BO0FBT1RzekIsd0JBQWdCLElBUFA7QUFRVEwsaUJBQVNBLE9BUkE7QUFTVE0saUNBQXlCOUQsTUFUaEI7QUFVVCtELG9CQUFZLElBVkg7QUFXVEMsMkJBQW1CO0FBWFYsT0FBWDtBQWFBUCx5QkFBbUJ0cUIsU0FBbkIsR0FBK0J1cUIsSUFBL0I7QUFDQSxhQUFPQSxJQUFQO0FBQ0Q7O0FBRUQsUUFBSU8sb0JBQW9CLElBQXhCO0FBQ0EsUUFBSUMsdUJBQXVCLElBQTNCO0FBQ0EsUUFBSUMsaUJBQWlCLEtBQXJCOztBQUVBLGFBQVNDLFdBQVQsQ0FBcUI1b0IsRUFBckIsRUFBeUI7QUFDdkIsYUFBTyxVQUFTQyxHQUFULEVBQWM7QUFDbkIsWUFBSTtBQUNGLGlCQUFPRCxHQUFHQyxHQUFILENBQVA7QUFDRCxTQUZELENBRUUsT0FBTzhmLEdBQVAsRUFBWTtBQUNaLGNBQUksUUFBUSxDQUFDNEksY0FBYixFQUE2QjtBQUMzQkEsNkJBQWlCLElBQWpCO0FBQ0E1MEIsb0JBQVEsS0FBUixFQUFlLHlDQUFmLEVBQTBEZ3NCLEdBQTFEO0FBQ0Q7QUFDRjtBQUNGLE9BVEQ7QUFVRDs7QUFFRCxhQUFTOEksZUFBVCxDQUF5QkMsU0FBekIsRUFBb0M7QUFDbEMsVUFBSSxPQUFPQyw4QkFBUCxLQUEwQyxXQUE5QyxFQUEyRDtBQUV6RCxlQUFPLEtBQVA7QUFDRDtBQUNELFVBQUlDLE9BQU9ELDhCQUFYO0FBQ0EsVUFBSUMsS0FBS0MsVUFBVCxFQUFxQjtBQUluQixlQUFPLElBQVA7QUFDRDtBQUNELFVBQUksQ0FBQ0QsS0FBS0UsYUFBVixFQUF5QjtBQUN2QjtBQUNFbjFCLGtCQUNFLEtBREYsRUFFRSwwRUFDRSxtRUFERixHQUVFLDhCQUpKO0FBTUQ7O0FBRUQsZUFBTyxJQUFQO0FBQ0Q7QUFDRCxVQUFJO0FBQ0YsWUFBSW8xQixhQUFhSCxLQUFLSSxNQUFMLENBQVlOLFNBQVosQ0FBakI7O0FBRUFMLDRCQUFvQkcsWUFBWSxVQUFTVixJQUFULEVBQWU7QUFDN0MsaUJBQU9jLEtBQUtQLGlCQUFMLENBQXVCVSxVQUF2QixFQUFtQ2pCLElBQW5DLENBQVA7QUFDRCxTQUZtQixDQUFwQjtBQUdBUSwrQkFBdUJFLFlBQVksVUFBU2hTLEtBQVQsRUFBZ0I7QUFDakQsaUJBQU9vUyxLQUFLTixvQkFBTCxDQUEwQlMsVUFBMUIsRUFBc0N2UyxLQUF0QyxDQUFQO0FBQ0QsU0FGc0IsQ0FBdkI7QUFHRCxPQVRELENBU0UsT0FBT21KLEdBQVAsRUFBWTtBQUVaO0FBQ0Voc0Isa0JBQVEsS0FBUixFQUFlLDBDQUFmLEVBQTJEZ3NCLEdBQTNEO0FBQ0Q7QUFDRjs7QUFFRCxhQUFPLElBQVA7QUFDRDs7QUFFRCxhQUFTc0osWUFBVCxDQUFzQm5CLElBQXRCLEVBQTRCO0FBQzFCLFVBQUksT0FBT08saUJBQVAsS0FBNkIsVUFBakMsRUFBNkM7QUFDM0NBLDBCQUFrQlAsSUFBbEI7QUFDRDtBQUNGOztBQUVELGFBQVNvQixlQUFULENBQXlCMVMsS0FBekIsRUFBZ0M7QUFDOUIsVUFBSSxPQUFPOFIsb0JBQVAsS0FBZ0MsVUFBcEMsRUFBZ0Q7QUFDOUNBLDZCQUFxQjlSLEtBQXJCO0FBQ0Q7QUFDRjs7QUFnQkQsUUFBSTJTLHFCQUFxQiw4QkFBVyxDQUFFLENBQXRDOztBQUVBO0FBQ0UsVUFBSUMsZUFBZSxTQUFmQSxZQUFlLENBQVNDLE1BQVQsRUFBaUI7QUFDbEMsYUFDRSxJQUFJQyxPQUFPN3pCLFVBQVVpRixNQUFyQixFQUNFMEksT0FBTy9OLE1BQU1pMEIsT0FBTyxDQUFQLEdBQVdBLE9BQU8sQ0FBbEIsR0FBc0IsQ0FBNUIsQ0FEVCxFQUVFQyxPQUFPLENBSFgsRUFJRUEsT0FBT0QsSUFKVCxFQUtFQyxNQUxGLEVBTUU7QUFDQW5tQixlQUFLbW1CLE9BQU8sQ0FBWixJQUFpQjl6QixVQUFVOHpCLElBQVYsQ0FBakI7QUFDRDs7QUFFRCxZQUFJQyxXQUFXLENBQWY7QUFDQSxZQUFJQyxVQUNGLGNBQ0FKLE9BQU9qTixPQUFQLENBQWUsS0FBZixFQUFzQixZQUFXO0FBQy9CLGlCQUFPaFosS0FBS29tQixVQUFMLENBQVA7QUFDRCxTQUZELENBRkY7QUFLQSxZQUFJLE9BQU85aUIsT0FBUCxLQUFtQixXQUF2QixFQUFvQztBQUNsQ0Esa0JBQVExQyxJQUFSLENBQWF5bEIsT0FBYjtBQUNEO0FBQ0QsWUFBSTtBQUlGLGdCQUFNLElBQUl6eUIsS0FBSixDQUFVeXlCLE9BQVYsQ0FBTjtBQUNELFNBTEQsQ0FLRSxPQUFPQyxDQUFQLEVBQVUsQ0FBRTtBQUNmLE9BMUJEOztBQTRCQVAsMkJBQXFCLDRCQUFTUSxTQUFULEVBQW9CTixNQUFwQixFQUE0QjtBQUMvQyxZQUFJQSxXQUFXbHVCLFNBQWYsRUFBMEI7QUFDeEIsZ0JBQU0sSUFBSW5FLEtBQUosQ0FDSiw4REFDRSxrQkFGRSxDQUFOO0FBSUQ7QUFDRCxZQUFJLENBQUMyeUIsU0FBTCxFQUFnQjtBQUNkLGVBQ0UsSUFBSUMsUUFBUW4wQixVQUFVaUYsTUFBdEIsRUFDRTBJLE9BQU8vTixNQUFNdTBCLFFBQVEsQ0FBUixHQUFZQSxRQUFRLENBQXBCLEdBQXdCLENBQTlCLENBRFQsRUFFRUMsUUFBUSxDQUhaLEVBSUVBLFFBQVFELEtBSlYsRUFLRUMsT0FMRixFQU1FO0FBQ0F6bUIsaUJBQUt5bUIsUUFBUSxDQUFiLElBQWtCcDBCLFVBQVVvMEIsS0FBVixDQUFsQjtBQUNEOztBQUVEVCx1QkFBYTF6QixLQUFiLENBQW1CeUYsU0FBbkIsRUFBOEIsQ0FBQ2t1QixNQUFELEVBQVNsdEIsTUFBVCxDQUFnQmlILElBQWhCLENBQTlCO0FBQ0Q7QUFDRixPQXBCRDtBQXFCRDs7QUFFRCxRQUFJMG1CLHVCQUF1Qlgsa0JBQTNCOztBQUVBLFFBQUlZLDBCQUEwQjtBQUM1QkMsOEJBQXdCLGtDQUFXLENBQUUsQ0FEVDtBQUU1QkMsdUNBQWlDLDJDQUFXLENBQUUsQ0FGbEI7QUFHNUJDLDJDQUFxQywrQ0FBVyxDQUFFLENBSHRCO0FBSTVCQyxpQ0FBMkIsbUNBQVMzVCxLQUFULEVBQWdCalMsUUFBaEIsRUFBMEIsQ0FBRSxDQUozQjtBQUs1QjZsQixxQ0FBK0IsdUNBQVM1VCxLQUFULEVBQWdCalMsUUFBaEIsRUFBMEIsQ0FBRTtBQUwvQixLQUE5Qjs7QUFRQTtBQUNFLFVBQUk4bEIsd0JBQXdCO0FBQzFCL1IsbUNBQTJCLG1CQUREO0FBRTFCQywwQ0FBa0MsaUNBRlI7QUFHMUIrUixvQ0FBNEI7QUFIRixPQUE1Qjs7QUFNQSxVQUFJQyxvQ0FBb0MsRUFBeEM7QUFDQSxVQUFJQywyQ0FBMkMsRUFBL0M7QUFDQSxVQUFJQyxxQ0FBcUMsRUFBekM7QUFDQSxVQUFJQyxpQ0FBaUMsSUFBSS9FLEdBQUosRUFBckM7O0FBR0EsVUFBSWdGLG1DQUFtQyxJQUFJN0wsR0FBSixFQUF2QztBQUNBLFVBQUk4TCwrQkFBK0IsSUFBSTlMLEdBQUosRUFBbkM7O0FBRUFpTCw4QkFBd0JDLHNCQUF4QixHQUFpRCxZQUFXO0FBQzFETyw0Q0FBb0MsRUFBcEM7QUFDQUMsbURBQTJDLEVBQTNDO0FBQ0FDLDZDQUFxQyxFQUFyQztBQUNBQyx5Q0FBaUMsSUFBSS9FLEdBQUosRUFBakM7QUFDRCxPQUxEOztBQU9Bb0UsOEJBQXdCRyxtQ0FBeEIsR0FBOEQsWUFBVztBQUN2RVEsdUNBQStCbHVCLE9BQS9CLENBQXVDLFVBQ3JDcXVCLG9CQURxQyxFQUVyQ0MsVUFGcUMsRUFHckM7QUFDQSxjQUFJQywyQkFBMkIsRUFBL0I7O0FBRUF2b0IsaUJBQU95VSxJQUFQLENBQVk0VCxvQkFBWixFQUFrQ3J1QixPQUFsQyxDQUEwQyxVQUFTd3VCLFNBQVQsRUFBb0I7QUFDNUQsZ0JBQUlDLG9CQUFvQkoscUJBQXFCRyxTQUFyQixDQUF4QjtBQUNBLGdCQUFJQyxrQkFBa0J2d0IsTUFBbEIsR0FBMkIsQ0FBL0IsRUFBa0M7QUFDaEMsa0JBQUl3d0IsaUJBQWlCLElBQUlwTSxHQUFKLEVBQXJCO0FBQ0FtTSxnQ0FBa0J6dUIsT0FBbEIsQ0FBMEIsVUFBU2dhLEtBQVQsRUFBZ0I7QUFDeEMwVSwrQkFBZS9LLEdBQWYsQ0FBbUI1SixpQkFBaUJDLEtBQWpCLEtBQTJCLFdBQTlDO0FBQ0FvVSw2Q0FBNkJ6SyxHQUE3QixDQUFpQzNKLE1BQU12YixJQUF2QztBQUNELGVBSEQ7O0FBS0Esa0JBQUlrd0IsWUFBWUgsVUFBVTVPLE9BQVYsQ0FBa0IsU0FBbEIsRUFBNkIsRUFBN0IsQ0FBaEI7QUFDQSxrQkFBSWdQLGFBQWFmLHNCQUFzQlcsU0FBdEIsQ0FBakI7QUFDQSxrQkFBSUssdUJBQXVCaDJCLE1BQU1vWCxJQUFOLENBQVd5ZSxjQUFYLEVBQ3hCSSxJQUR3QixHQUV4QkMsSUFGd0IsQ0FFbkIsSUFGbUIsQ0FBM0I7O0FBSUFSLHVDQUF5Qjd1QixJQUF6QixDQUNFaXZCLFlBQ0Usa0RBREYsSUFFR0MsYUFBYSxZQUFiLEdBQTRCQyxvQkFGL0IsQ0FERjtBQUtEO0FBQ0YsV0FyQkQ7O0FBdUJBLGNBQUlOLHlCQUF5QnJ3QixNQUF6QixHQUFrQyxDQUF0QyxFQUF5QztBQUN2QyxnQkFBSTh3QiwyQkFBMkIvTyxzQ0FDN0JxTyxVQUQ2QixDQUEvQjs7QUFJQW4zQixvQkFDRSxLQURGLEVBRUUscUVBQ0UsUUFERixHQUVFLHlDQUZGLEdBR0UsNENBTEosRUFNRTYzQix3QkFORixFQU9FVCx5QkFBeUJRLElBQXpCLENBQThCLE1BQTlCLENBUEY7QUFTRDtBQUNGLFNBNUNEOztBQThDQWIseUNBQWlDLElBQUkvRSxHQUFKLEVBQWpDO0FBQ0QsT0FoREQ7O0FBa0RBLFVBQUk4RixnQkFBZ0IsU0FBaEJBLGFBQWdCLENBQVNqVixLQUFULEVBQWdCO0FBQ2xDLFlBQUlrVixrQkFBa0IsSUFBdEI7O0FBRUEsZUFBT2xWLFVBQVUsSUFBakIsRUFBdUI7QUFDckIsY0FBSUEsTUFBTXdQLElBQU4sR0FBYVYsVUFBakIsRUFBNkI7QUFDM0JvRyw4QkFBa0JsVixLQUFsQjtBQUNEOztBQUVEQSxrQkFBUUEsTUFBTSxRQUFOLENBQVI7QUFDRDs7QUFFRCxlQUFPa1YsZUFBUDtBQUNELE9BWkQ7O0FBY0EzQiw4QkFBd0JFLCtCQUF4QixHQUEwRCxZQUFXO0FBQ25FLFlBQUlNLGtDQUFrQzd2QixNQUFsQyxHQUEyQyxDQUEvQyxFQUFrRDtBQUNoRCxjQUFJaXhCLGNBQWMsSUFBSTdNLEdBQUosRUFBbEI7QUFDQXlMLDRDQUFrQy90QixPQUFsQyxDQUEwQyxVQUFTZ2EsS0FBVCxFQUFnQjtBQUN4RG1WLHdCQUFZeEwsR0FBWixDQUFnQjVKLGlCQUFpQkMsS0FBakIsS0FBMkIsV0FBM0M7QUFDQW1VLDZDQUFpQ3hLLEdBQWpDLENBQXFDM0osTUFBTXZiLElBQTNDO0FBQ0QsV0FIRDs7QUFLQSxjQUFJMndCLGNBQWN2MkIsTUFBTW9YLElBQU4sQ0FBV2tmLFdBQVgsRUFDZkwsSUFEZSxHQUVmQyxJQUZlLENBRVYsSUFGVSxDQUFsQjs7QUFJQXpCLCtCQUNFLEtBREYsRUFFRSxxRkFDRSw0REFERixHQUVFLDhDQUZGLEdBR0UsZ0RBSEYsR0FJRSx5Q0FKRixHQUtFLHVEQVBKLEVBUUU4QixXQVJGOztBQVdBckIsOENBQW9DLEVBQXBDO0FBQ0Q7O0FBRUQsWUFBSUMseUNBQXlDOXZCLE1BQXpDLEdBQWtELENBQXRELEVBQXlEO0FBQ3ZELGNBQUlteEIsZUFBZSxJQUFJL00sR0FBSixFQUFuQjtBQUNBMEwsbURBQXlDaHVCLE9BQXpDLENBQWlELFVBQVNnYSxLQUFULEVBQWdCO0FBQy9EcVYseUJBQWExTCxHQUFiLENBQWlCNUosaUJBQWlCQyxLQUFqQixLQUEyQixXQUE1QztBQUNBbVUsNkNBQWlDeEssR0FBakMsQ0FBcUMzSixNQUFNdmIsSUFBM0M7QUFDRCxXQUhEOztBQUtBLGNBQUk2d0IsZUFBZXoyQixNQUFNb1gsSUFBTixDQUFXb2YsWUFBWCxFQUNoQlAsSUFEZ0IsR0FFaEJDLElBRmdCLENBRVgsSUFGVyxDQUFuQjs7QUFJQXpCLCtCQUNFLEtBREYsRUFFRSw0RkFDRSw4Q0FERixHQUVFLGdEQUZGLEdBR0UseUNBSEYsR0FJRSx1REFOSixFQU9FZ0MsWUFQRjs7QUFVQXRCLHFEQUEyQyxFQUEzQztBQUNEOztBQUVELFlBQUlDLG1DQUFtQy92QixNQUFuQyxHQUE0QyxDQUFoRCxFQUFtRDtBQUNqRCxjQUFJcXhCLGdCQUFnQixJQUFJak4sR0FBSixFQUFwQjtBQUNBMkwsNkNBQW1DanVCLE9BQW5DLENBQTJDLFVBQVNnYSxLQUFULEVBQWdCO0FBQ3pEdVYsMEJBQWM1TCxHQUFkLENBQWtCNUosaUJBQWlCQyxLQUFqQixLQUEyQixXQUE3QztBQUNBbVUsNkNBQWlDeEssR0FBakMsQ0FBcUMzSixNQUFNdmIsSUFBM0M7QUFDRCxXQUhEOztBQUtBLGNBQUkrd0IsZ0JBQWdCMzJCLE1BQU1vWCxJQUFOLENBQVdzZixhQUFYLEVBQ2pCVCxJQURpQixHQUVqQkMsSUFGaUIsQ0FFWixJQUZZLENBQXBCOztBQUlBekIsK0JBQ0UsS0FERixFQUVFLHNGQUNFLDZEQURGLEdBRUUsK0NBRkYsR0FHRSxnREFIRixHQUlFLHlDQUpGLEdBS0UsdURBUEosRUFRRWtDLGFBUkY7O0FBV0F2QiwrQ0FBcUMsRUFBckM7QUFDRDtBQUNGLE9BMUVEOztBQTRFQVYsOEJBQXdCSSx5QkFBeEIsR0FBb0QsVUFDbEQzVCxLQURrRCxFQUVsRGpTLFFBRmtELEVBR2xEO0FBRUEsWUFBSW9tQixpQ0FBaUN6SyxHQUFqQyxDQUFxQzFKLE1BQU12YixJQUEzQyxDQUFKLEVBQXNEO0FBQ3BEO0FBQ0Q7O0FBR0QsWUFDRSxPQUFPc0osU0FBUzZULGtCQUFoQixLQUF1QyxVQUF2QyxJQUNBN1QsU0FBUzZULGtCQUFULENBQTRCSyw0QkFBNUIsS0FBNkQsSUFGL0QsRUFHRTtBQUNBOFIsNENBQWtDcnVCLElBQWxDLENBQXVDc2EsS0FBdkM7QUFDRDtBQUNELFlBQ0UsT0FBT2pTLFNBQVM4VCx5QkFBaEIsS0FBOEMsVUFBOUMsSUFDQTlULFNBQVM4VCx5QkFBVCxDQUFtQ0ksNEJBQW5DLEtBQW9FLElBRnRFLEVBR0U7QUFDQStSLG1EQUF5Q3R1QixJQUF6QyxDQUE4Q3NhLEtBQTlDO0FBQ0Q7QUFDRCxZQUFJLE9BQU9qUyxTQUFTMG5CLG1CQUFoQixLQUF3QyxVQUE1QyxFQUF3RDtBQUN0RHhCLDZDQUFtQ3Z1QixJQUFuQyxDQUF3Q3NhLEtBQXhDO0FBQ0Q7QUFDRixPQXpCRDs7QUEyQkF1VCw4QkFBd0JLLDZCQUF4QixHQUF3RCxVQUN0RDVULEtBRHNELEVBRXREalMsUUFGc0QsRUFHdEQ7QUFDQSxZQUFJdW1CLGFBQWFXLGNBQWNqVixLQUFkLENBQWpCOztBQU9BLFlBQUlvVSw2QkFBNkIxSyxHQUE3QixDQUFpQzFKLE1BQU12YixJQUF2QyxDQUFKLEVBQWtEO0FBQ2hEO0FBQ0Q7O0FBS0QsWUFDRSxPQUFPc0osU0FBUzZULGtCQUFoQixLQUF1QyxVQUF2QyxJQUNBN1QsU0FBUzZULGtCQUFULENBQTRCSyw0QkFBNUIsS0FBNkQsSUFGL0QsRUFHRTtBQUNBO0FBQ0Q7O0FBRUQsWUFBSXlULGtCQUFrQixLQUFLLENBQTNCO0FBQ0EsWUFBSSxDQUFDeEIsK0JBQStCeEssR0FBL0IsQ0FBbUM0SyxVQUFuQyxDQUFMLEVBQXFEO0FBQ25Eb0IsNEJBQWtCO0FBQ2hCNVQsdUNBQTJCLEVBRFg7QUFFaEJDLDhDQUFrQyxFQUZsQjtBQUdoQitSLHdDQUE0QjtBQUhaLFdBQWxCOztBQU1BSSx5Q0FBK0JubkIsR0FBL0IsQ0FBbUN1bkIsVUFBbkMsRUFBK0NvQixlQUEvQztBQUNELFNBUkQsTUFRTztBQUNMQSw0QkFBa0J4QiwrQkFBK0I3bUIsR0FBL0IsQ0FBbUNpbkIsVUFBbkMsQ0FBbEI7QUFDRDs7QUFFRCxZQUFJcUIsbUJBQW1CLEVBQXZCO0FBQ0EsWUFDRSxPQUFPNW5CLFNBQVM2VCxrQkFBaEIsS0FBdUMsVUFBdkMsSUFDQSxPQUFPN1QsU0FBUytULHlCQUFoQixLQUE4QyxVQUZoRCxFQUdFO0FBQ0E2VCwyQkFBaUJqd0IsSUFBakIsQ0FBc0IsMkJBQXRCO0FBQ0Q7QUFDRCxZQUNFLE9BQU9xSSxTQUFTOFQseUJBQWhCLEtBQThDLFVBQTlDLElBQ0EsT0FBTzlULFNBQVNnVSxnQ0FBaEIsS0FBcUQsVUFGdkQsRUFHRTtBQUNBNFQsMkJBQWlCandCLElBQWpCLENBQXNCLGtDQUF0QjtBQUNEO0FBQ0QsWUFDRSxPQUFPcUksU0FBUzBuQixtQkFBaEIsS0FBd0MsVUFBeEMsSUFDQSxPQUFPMW5CLFNBQVMrbEIsMEJBQWhCLEtBQStDLFVBRmpELEVBR0U7QUFDQTZCLDJCQUFpQmp3QixJQUFqQixDQUFzQiw0QkFBdEI7QUFDRDs7QUFFRCxZQUFJaXdCLGlCQUFpQnp4QixNQUFqQixHQUEwQixDQUE5QixFQUFpQztBQUMvQnl4QiwyQkFBaUIzdkIsT0FBakIsQ0FBeUIsVUFBU3d1QixTQUFULEVBQW9CO0FBQzNDa0IsNEJBQWdCbEIsU0FBaEIsRUFBMkI5dUIsSUFBM0IsQ0FBZ0NzYSxLQUFoQztBQUNELFdBRkQ7QUFHRDtBQUNGLE9BL0REO0FBZ0VEOztBQUVELFFBQUk0Viw0QkFBNEIsS0FBSyxDQUFyQzs7QUFFQTtBQUNFQSxrQ0FBNEIsS0FBNUI7QUFDRDs7QUFnQkQsYUFBU0MsaUJBQVQsQ0FBMkJDLFNBQTNCLEVBQXNDO0FBQ3BDLFVBQUlDLFFBQVE7QUFDVkQsbUJBQVdBLFNBREQ7QUFFVjFILHdCQUFnQlIsTUFGTjtBQUdWb0ksZUFBTyxJQUhHO0FBSVZDLGNBQU0sSUFKSTtBQUtWQyxzQkFBYyxJQUxKO0FBTVZDLHdCQUFnQixLQU5OO0FBT1ZDLHVCQUFlLEtBUEw7QUFRVkMsd0JBQWdCO0FBUk4sT0FBWjtBQVVBO0FBQ0VOLGNBQU1PLFlBQU4sR0FBcUIsS0FBckI7QUFDRDtBQUNELGFBQU9QLEtBQVA7QUFDRDs7QUFFRCxhQUFTUSxxQkFBVCxDQUErQlIsS0FBL0IsRUFBc0NTLE1BQXRDLEVBQThDO0FBRTVDLFVBQUlULE1BQU1FLElBQU4sS0FBZSxJQUFuQixFQUF5QjtBQUV2QkYsY0FBTUMsS0FBTixHQUFjRCxNQUFNRSxJQUFOLEdBQWFPLE1BQTNCO0FBQ0QsT0FIRCxNQUdPO0FBQ0xULGNBQU1FLElBQU4sQ0FBV3h3QixJQUFYLEdBQWtCK3dCLE1BQWxCO0FBQ0FULGNBQU1FLElBQU4sR0FBYU8sTUFBYjtBQUNEO0FBQ0QsVUFDRVQsTUFBTTNILGNBQU4sS0FBeUJSLE1BQXpCLElBQ0FtSSxNQUFNM0gsY0FBTixHQUF1Qm9JLE9BQU9wSSxjQUZoQyxFQUdFO0FBQ0EySCxjQUFNM0gsY0FBTixHQUF1Qm9JLE9BQU9wSSxjQUE5QjtBQUNEO0FBQ0Y7O0FBRUQsUUFBSXFJLEtBQUssS0FBSyxDQUFkO0FBQ0EsUUFBSUMsS0FBSyxLQUFLLENBQWQ7QUFDQSxhQUFTQyxrQkFBVCxDQUE0QjNXLEtBQTVCLEVBQW1DO0FBQ2pDeVcsV0FBS0MsS0FBSyxJQUFWOztBQUVBLFVBQUlFLGlCQUFpQjVXLE1BQU1oWCxTQUEzQjtBQUNBLFVBQUk2dEIsU0FBUzdXLE1BQU0yUCxXQUFuQjtBQUNBLFVBQUlrSCxXQUFXLElBQWYsRUFBcUI7QUFLbkJBLGlCQUFTN1csTUFBTTJQLFdBQU4sR0FBb0JrRyxrQkFBa0IsSUFBbEIsQ0FBN0I7QUFDRDs7QUFFRCxVQUFJaUIsU0FBUyxLQUFLLENBQWxCO0FBQ0EsVUFBSUYsbUJBQW1CLElBQXZCLEVBQTZCO0FBQzNCRSxpQkFBU0YsZUFBZWpILFdBQXhCO0FBQ0EsWUFBSW1ILFdBQVcsSUFBZixFQUFxQjtBQUNuQkEsbUJBQVNGLGVBQWVqSCxXQUFmLEdBQTZCa0csa0JBQWtCLElBQWxCLENBQXRDO0FBQ0Q7QUFDRixPQUxELE1BS087QUFDTGlCLGlCQUFTLElBQVQ7QUFDRDtBQUNEQSxlQUFTQSxXQUFXRCxNQUFYLEdBQW9CQyxNQUFwQixHQUE2QixJQUF0Qzs7QUFHQUwsV0FBS0ksTUFBTDtBQUNBSCxXQUFLSSxNQUFMO0FBQ0Q7O0FBRUQsYUFBU0MscUJBQVQsQ0FBK0IvVyxLQUEvQixFQUFzQ3dXLE1BQXRDLEVBQThDO0FBQzVDRyx5QkFBbUIzVyxLQUFuQjtBQUNBLFVBQUk2VyxTQUFTSixFQUFiO0FBQ0EsVUFBSUssU0FBU0osRUFBYjs7QUFHQTtBQUNFLFlBQ0UsQ0FBQ0csT0FBT1AsWUFBUCxJQUF3QlEsV0FBVyxJQUFYLElBQW1CQSxPQUFPUixZQUFuRCxLQUNBLENBQUNWLHlCQUZILEVBR0U7QUFDQXo0QixrQkFDRSxLQURGLEVBRUUsc0VBQ0UsbUVBREYsR0FFRSxpRUFGRixHQUdFLFdBTEo7QUFPQXk0QixzQ0FBNEIsSUFBNUI7QUFDRDtBQUNGOztBQUdELFVBQUlrQixXQUFXLElBQWYsRUFBcUI7QUFDbkJQLDhCQUFzQk0sTUFBdEIsRUFBOEJMLE1BQTlCO0FBQ0E7QUFDRDs7QUFHRCxVQUFJSyxPQUFPWixJQUFQLEtBQWdCLElBQWhCLElBQXdCYSxPQUFPYixJQUFQLEtBQWdCLElBQTVDLEVBQWtEO0FBQ2hETSw4QkFBc0JNLE1BQXRCLEVBQThCTCxNQUE5QjtBQUNBRCw4QkFBc0JPLE1BQXRCLEVBQThCTixNQUE5QjtBQUNBO0FBQ0Q7O0FBS0RELDRCQUFzQk0sTUFBdEIsRUFBOEJMLE1BQTlCOztBQUVBTSxhQUFPYixJQUFQLEdBQWNPLE1BQWQ7QUFDRDs7QUFFRCxhQUFTUSx1QkFBVCxDQUFpQ2hYLEtBQWpDLEVBQXdDO0FBQ3RDLGNBQVFBLE1BQU12WixHQUFkO0FBQ0UsYUFBS21CLFFBQUw7QUFDQSxhQUFLRCxjQUFMO0FBQ0UsY0FBSWdvQixjQUFjM1AsTUFBTTJQLFdBQXhCO0FBQ0EsY0FBSUEsZ0JBQWdCLElBQXBCLEVBQTBCO0FBQ3hCLG1CQUFPL0IsTUFBUDtBQUNEO0FBQ0QsaUJBQU8rQixZQUFZdkIsY0FBbkI7QUFDRjtBQUNFLGlCQUFPUixNQUFQO0FBVEo7QUFXRDs7QUFFRCxhQUFTcUosa0JBQVQsQ0FBNEJULE1BQTVCLEVBQW9Dem9CLFFBQXBDLEVBQThDbXBCLFNBQTlDLEVBQXlEdndCLEtBQXpELEVBQWdFO0FBQzlELFVBQUl3d0IsZUFBZVgsT0FBT1csWUFBMUI7QUFDQSxVQUFJLE9BQU9BLFlBQVAsS0FBd0IsVUFBNUIsRUFBd0M7QUFDdEMsZUFBT0EsYUFBYW40QixJQUFiLENBQWtCK08sUUFBbEIsRUFBNEJtcEIsU0FBNUIsRUFBdUN2d0IsS0FBdkMsQ0FBUDtBQUNELE9BRkQsTUFFTztBQUNMLGVBQU93d0IsWUFBUDtBQUNEO0FBQ0Y7O0FBRUQsYUFBU0Msa0JBQVQsQ0FDRTV4QixPQURGLEVBRUUwZ0IsY0FGRixFQUdFNlAsS0FIRixFQUlFaG9CLFFBSkYsRUFLRXBILEtBTEYsRUFNRTB3QixvQkFORixFQU9FO0FBQ0EsVUFBSTd4QixZQUFZLElBQVosSUFBb0JBLFFBQVFtcUIsV0FBUixLQUF3Qm9HLEtBQWhELEVBQXVEO0FBRXJELFlBQUl1QixlQUFldkIsS0FBbkI7QUFDQUEsZ0JBQVE3UCxlQUFleUosV0FBZixHQUE2QjtBQUNuQ21HLHFCQUFXd0IsYUFBYXhCLFNBRFc7QUFFbkMxSCwwQkFBZ0JrSixhQUFhbEosY0FGTTtBQUduQzRILGlCQUFPc0IsYUFBYXRCLEtBSGU7QUFJbkNDLGdCQUFNcUIsYUFBYXJCLElBSmdCO0FBS25DRyx5QkFBZWtCLGFBQWFsQixhQUxPO0FBTW5DQywwQkFBZ0JpQixhQUFhakIsY0FOTTs7QUFTbkNILHdCQUFjLElBVHFCO0FBVW5DQywwQkFBZ0I7QUFWbUIsU0FBckM7QUFZRDs7QUFFRDtBQUdFSixjQUFNTyxZQUFOLEdBQXFCLElBQXJCO0FBQ0Q7O0FBSURQLFlBQU0zSCxjQUFOLEdBQXVCUixNQUF2Qjs7QUFNQSxVQUFJckosUUFBUSxLQUFLLENBQWpCO0FBQ0EsVUFBSXdSLE1BQU1LLGFBQVYsRUFBeUI7QUFDdkI3UixnQkFBUXdSLE1BQU1ELFNBQWQ7QUFDRCxPQUZELE1BRU87QUFDTHZSLGdCQUFRd1IsTUFBTUQsU0FBTixHQUFrQjVQLGVBQWUwSixhQUF6QztBQUNBbUcsY0FBTUssYUFBTixHQUFzQixJQUF0QjtBQUNEO0FBQ0QsVUFBSW1CLHNCQUFzQixJQUExQjtBQUNBLFVBQUlmLFNBQVNULE1BQU1DLEtBQW5CO0FBQ0EsVUFBSXdCLFVBQVUsS0FBZDtBQUNBLGFBQU9oQixXQUFXLElBQWxCLEVBQXdCO0FBQ3RCLFlBQUlpQix1QkFBdUJqQixPQUFPcEksY0FBbEM7QUFDQSxZQUFJcUosdUJBQXVCSixvQkFBM0IsRUFBaUQ7QUFFL0MsY0FBSTNGLDBCQUEwQnFFLE1BQU0zSCxjQUFwQztBQUNBLGNBQ0VzRCw0QkFBNEI5RCxNQUE1QixJQUNBOEQsMEJBQTBCK0Ysb0JBRjVCLEVBR0U7QUFFQTFCLGtCQUFNM0gsY0FBTixHQUF1QnFKLG9CQUF2QjtBQUNEO0FBQ0QsY0FBSSxDQUFDRCxPQUFMLEVBQWM7QUFDWkEsc0JBQVUsSUFBVjtBQUNBekIsa0JBQU1ELFNBQU4sR0FBa0J2UixLQUFsQjtBQUNEOztBQUVEaVMsbUJBQVNBLE9BQU8vd0IsSUFBaEI7QUFDQTtBQUNEOztBQU1ELFlBQUksQ0FBQyt4QixPQUFMLEVBQWM7QUFDWnpCLGdCQUFNQyxLQUFOLEdBQWNRLE9BQU8vd0IsSUFBckI7QUFDQSxjQUFJc3dCLE1BQU1DLEtBQU4sS0FBZ0IsSUFBcEIsRUFBMEI7QUFDeEJELGtCQUFNRSxJQUFOLEdBQWEsSUFBYjtBQUNEO0FBQ0Y7O0FBSUQsWUFDRXBQLCtCQUNDQyw0Q0FDQ1osZUFBZXNKLElBQWYsR0FBc0JWLFVBSDFCLEVBSUU7QUFDQW1JLDZCQUFtQlQsTUFBbkIsRUFBMkJ6b0IsUUFBM0IsRUFBcUN3VyxLQUFyQyxFQUE0QzVkLEtBQTVDO0FBQ0Q7O0FBR0QsWUFBSSt3QixnQkFBZ0IsS0FBSyxDQUF6QjtBQUNBLFlBQUlsQixPQUFPbUIsU0FBWCxFQUFzQjtBQUNwQnBULGtCQUFRMFMsbUJBQW1CVCxNQUFuQixFQUEyQnpvQixRQUEzQixFQUFxQ3dXLEtBQXJDLEVBQTRDNWQsS0FBNUMsQ0FBUjtBQUNBNHdCLGdDQUFzQixJQUF0QjtBQUNELFNBSEQsTUFHTztBQUNMRywwQkFBZ0JULG1CQUFtQlQsTUFBbkIsRUFBMkJ6b0IsUUFBM0IsRUFBcUN3VyxLQUFyQyxFQUE0QzVkLEtBQTVDLENBQWhCO0FBQ0EsY0FBSSt3QixhQUFKLEVBQW1CO0FBQ2pCLGdCQUFJSCxtQkFBSixFQUF5QjtBQUV2QmhULHNCQUFRLFNBQWMsRUFBZCxFQUFrQkEsS0FBbEIsRUFBeUJtVCxhQUF6QixDQUFSO0FBQ0QsYUFIRCxNQUdPO0FBQ0xuVCxzQkFBUSxTQUFjQSxLQUFkLEVBQXFCbVQsYUFBckIsQ0FBUjtBQUNEO0FBQ0RILGtDQUFzQixLQUF0QjtBQUNEO0FBQ0Y7QUFDRCxZQUFJZixPQUFPb0IsUUFBWCxFQUFxQjtBQUNuQjdCLGdCQUFNSSxjQUFOLEdBQXVCLElBQXZCO0FBQ0Q7QUFDRCxZQUFJSyxPQUFPMVgsUUFBUCxLQUFvQixJQUF4QixFQUE4QjtBQUU1QixjQUFJK1ksZ0JBQWdCOUIsTUFBTUcsWUFBMUI7QUFDQSxjQUFJMkIsa0JBQWtCLElBQXRCLEVBQTRCO0FBQzFCQSw0QkFBZ0I5QixNQUFNRyxZQUFOLEdBQXFCLEVBQXJDO0FBQ0Q7QUFDRDJCLHdCQUFjbnlCLElBQWQsQ0FBbUI4d0IsTUFBbkI7QUFDRDtBQUNELFlBQUlBLE9BQU9zQixhQUFQLEtBQXlCLElBQTdCLEVBQW1DO0FBQ2pDLGNBQUlDLGtCQUFrQmhDLE1BQU1NLGNBQTVCO0FBQ0EsY0FBSTBCLG9CQUFvQixJQUF4QixFQUE4QjtBQUM1QmhDLGtCQUFNTSxjQUFOLEdBQXVCLENBQUNHLE9BQU9zQixhQUFSLENBQXZCO0FBQ0QsV0FGRCxNQUVPO0FBQ0xDLDRCQUFnQnJ5QixJQUFoQixDQUFxQjh3QixPQUFPc0IsYUFBNUI7QUFDRDtBQUNGO0FBQ0R0QixpQkFBU0EsT0FBTy93QixJQUFoQjtBQUNEOztBQUVELFVBQUlzd0IsTUFBTUcsWUFBTixLQUF1QixJQUEzQixFQUFpQztBQUMvQmhRLHVCQUFlaEMsU0FBZixJQUE0QlgsUUFBNUI7QUFDRCxPQUZELE1BRU8sSUFDTHdTLE1BQU1DLEtBQU4sS0FBZ0IsSUFBaEIsSUFDQSxDQUFDRCxNQUFNSSxjQURQLElBRUFKLE1BQU1NLGNBQU4sS0FBeUIsSUFIcEIsRUFJTDtBQUVBblEsdUJBQWV5SixXQUFmLEdBQTZCLElBQTdCO0FBQ0Q7O0FBRUQsVUFBSSxDQUFDNkgsT0FBTCxFQUFjO0FBQ1pBLGtCQUFVLElBQVY7QUFDQXpCLGNBQU1ELFNBQU4sR0FBa0J2UixLQUFsQjtBQUNEOztBQUVEO0FBRUV3UixjQUFNTyxZQUFOLEdBQXFCLEtBQXJCO0FBQ0Q7O0FBRUQsYUFBTy9SLEtBQVA7QUFDRDs7QUFFRCxhQUFTeVQsZUFBVCxDQUF5QmpDLEtBQXpCLEVBQWdDNTNCLE9BQWhDLEVBQXlDO0FBQ3ZDLFVBQUkrM0IsZUFBZUgsTUFBTUcsWUFBekI7QUFDQSxVQUFJQSxpQkFBaUIsSUFBckIsRUFBMkI7QUFDekI7QUFDRDs7QUFFREgsWUFBTUcsWUFBTixHQUFxQixJQUFyQjtBQUNBLFdBQUssSUFBSXJ4QixJQUFJLENBQWIsRUFBZ0JBLElBQUlxeEIsYUFBYWh5QixNQUFqQyxFQUF5Q1csR0FBekMsRUFBOEM7QUFDNUMsWUFBSTJ4QixTQUFTTixhQUFhcnhCLENBQWIsQ0FBYjtBQUNBLFlBQUlvekIsWUFBWXpCLE9BQU8xWCxRQUF2Qjs7QUFHQTBYLGVBQU8xWCxRQUFQLEdBQWtCLElBQWxCO0FBQ0E1aEIsa0JBQ0UsT0FBTys2QixTQUFQLEtBQXFCLFVBRHZCLEVBRUUsdUVBQ0UsY0FISixFQUlFQSxTQUpGO0FBTUFBLGtCQUFVajVCLElBQVYsQ0FBZWIsT0FBZjtBQUNEO0FBQ0Y7O0FBRUQsUUFBSSs1Qix1QkFBdUIsRUFBM0I7QUFDQSxRQUFJbDBCLFVBQVVuRixNQUFNbUYsT0FBcEI7O0FBRUEsUUFBSW0wQiwwQ0FBMEMsS0FBSyxDQUFuRDtBQUNBLFFBQUlDLG9DQUFvQyxLQUFLLENBQTdDO0FBQ0EsUUFBSUMsaUNBQWlDLEtBQUssQ0FBMUM7QUFDQSxRQUFJQyw4Q0FBOEMsS0FBSyxDQUF2RDtBQUNBLFFBQUlDLHdCQUF3QixLQUFLLENBQWpDOztBQUVBO0FBQ0VKLGdEQUEwQyxFQUExQztBQUNBQywwQ0FBb0MsRUFBcEM7QUFDQUMsdUNBQWlDLEVBQWpDO0FBQ0FDLG9EQUE4QyxFQUE5Qzs7QUFFQSxVQUFJRSwyQkFBMkIsRUFBL0I7O0FBRUFELDhCQUF3QiwrQkFBU3paLFFBQVQsRUFBbUIyWixVQUFuQixFQUErQjtBQUNyRCxZQUFJM1osYUFBYSxJQUFiLElBQXFCLE9BQU9BLFFBQVAsS0FBb0IsVUFBN0MsRUFBeUQ7QUFDdkQ7QUFDRDtBQUNELFlBQUlqRSxNQUFNNGQsYUFBYSxHQUFiLEdBQW1CM1osUUFBN0I7QUFDQSxZQUFJLENBQUMwWix5QkFBeUIzZCxHQUF6QixDQUFMLEVBQW9DO0FBQ2xDMWQsa0JBQ0UsS0FERixFQUVFLHFFQUNFLGlDQUhKLEVBSUVzN0IsVUFKRixFQUtFM1osUUFMRjtBQU9BMFosbUNBQXlCM2QsR0FBekIsSUFBZ0MsSUFBaEM7QUFDRDtBQUNGLE9BZkQ7O0FBc0JBN08sYUFBT0MsY0FBUCxDQUFzQmlzQixvQkFBdEIsRUFBNEMsc0JBQTVDLEVBQW9FO0FBQ2xFelYsb0JBQVksS0FEc0Q7QUFFbEV4VixlQUFPLGlCQUFXO0FBQ2hCL1Asb0JBQ0UsS0FERixFQUVFLHFFQUNFLHFFQURGLEdBRUUsK0NBRkYsR0FHRSxrRUFIRixHQUlFLG9FQUpGLEdBS0UsNEJBUEo7QUFTRDtBQVppRSxPQUFwRTtBQWNBOE8sYUFBTzZKLE1BQVAsQ0FBY3FpQixvQkFBZDtBQUNEO0FBQ0QsYUFBU1EsNEJBQVQsQ0FBc0NDLElBQXRDLEVBQTRDdEMsY0FBNUMsRUFBNEQ7QUFDMUQsVUFBSXVDLGNBQWMsRUFBbEI7QUFDQSxXQUFLLElBQUkvekIsSUFBSSxDQUFiLEVBQWdCQSxJQUFJd3hCLGVBQWVueUIsTUFBbkMsRUFBMkNXLEdBQTNDLEVBQWdEO0FBQzlDLFlBQUlpekIsZ0JBQWdCekIsZUFBZXh4QixDQUFmLENBQXBCO0FBQ0EsWUFBSTFGLFFBQVEyNEIsY0FBYzdxQixLQUExQjtBQUNBLFlBQUlrcUIsZUFBZXdCLEtBQUtFLHdCQUFMLENBQThCNzVCLElBQTlCLENBQW1DLElBQW5DLEVBQXlDRyxLQUF6QyxDQUFuQjtBQUNBLFlBQUlnNEIsaUJBQWlCLElBQWpCLElBQXlCQSxpQkFBaUJ4eUIsU0FBOUMsRUFBeUQ7QUFDdkQsbUJBQWNpMEIsV0FBZCxFQUEyQnpCLFlBQTNCO0FBQ0Q7QUFDRjtBQUNELGFBQU95QixXQUFQO0FBQ0Q7O0FBRUQsUUFBSUUsMkJBQTJCLFNBQTNCQSx3QkFBMkIsQ0FDN0JDLFlBRDZCLEVBRTdCQyx5QkFGNkIsRUFHN0JDLFlBSDZCLEVBSTdCQyxZQUo2QixFQUs3QjtBQUVBLFVBQUlDLFVBQVU7QUFDWm5hLG1CQUFXQSxTQURDO0FBRVpvYSx5QkFBaUIseUJBQVNyckIsUUFBVCxFQUFtQm9wQixZQUFuQixFQUFpQ3JZLFFBQWpDLEVBQTJDO0FBQzFELGNBQUlrQixRQUFRM1MsSUFBSVUsUUFBSixDQUFaO0FBQ0ErUSxxQkFBV0EsYUFBYW5hLFNBQWIsR0FBeUIsSUFBekIsR0FBZ0NtYSxRQUEzQztBQUNBO0FBQ0V5WixrQ0FBc0J6WixRQUF0QixFQUFnQyxVQUFoQztBQUNEO0FBQ0QsY0FBSXNQLGlCQUFpQjRLLDBCQUEwQmhaLEtBQTFCLENBQXJCO0FBQ0EsY0FBSXdXLFNBQVM7QUFDWHBJLDRCQUFnQkEsY0FETDtBQUVYK0ksMEJBQWNBLFlBRkg7QUFHWHJZLHNCQUFVQSxRQUhDO0FBSVg2WSx1QkFBVyxLQUpBO0FBS1hDLHNCQUFVLEtBTEM7QUFNWEUsMkJBQWUsSUFOSjtBQU9YcnlCLGtCQUFNO0FBUEssV0FBYjtBQVNBc3hCLGdDQUFzQi9XLEtBQXRCLEVBQTZCd1csTUFBN0I7QUFDQXVDLHVCQUFhL1ksS0FBYixFQUFvQm9PLGNBQXBCO0FBQ0QsU0FwQlc7QUFxQlppTCw2QkFBcUIsNkJBQVN0ckIsUUFBVCxFQUFtQndXLEtBQW5CLEVBQTBCekYsUUFBMUIsRUFBb0M7QUFDdkQsY0FBSWtCLFFBQVEzUyxJQUFJVSxRQUFKLENBQVo7QUFDQStRLHFCQUFXQSxhQUFhbmEsU0FBYixHQUF5QixJQUF6QixHQUFnQ21hLFFBQTNDO0FBQ0E7QUFDRXlaLGtDQUFzQnpaLFFBQXRCLEVBQWdDLGNBQWhDO0FBQ0Q7QUFDRCxjQUFJc1AsaUJBQWlCNEssMEJBQTBCaFosS0FBMUIsQ0FBckI7QUFDQSxjQUFJd1csU0FBUztBQUNYcEksNEJBQWdCQSxjQURMO0FBRVgrSSwwQkFBYzVTLEtBRkg7QUFHWHpGLHNCQUFVQSxRQUhDO0FBSVg2WSx1QkFBVyxJQUpBO0FBS1hDLHNCQUFVLEtBTEM7QUFNWEUsMkJBQWUsSUFOSjtBQU9YcnlCLGtCQUFNO0FBUEssV0FBYjtBQVNBc3hCLGdDQUFzQi9XLEtBQXRCLEVBQTZCd1csTUFBN0I7QUFDQXVDLHVCQUFhL1ksS0FBYixFQUFvQm9PLGNBQXBCO0FBQ0QsU0F2Q1c7QUF3Q1prTCw0QkFBb0IsNEJBQVN2ckIsUUFBVCxFQUFtQitRLFFBQW5CLEVBQTZCO0FBQy9DLGNBQUlrQixRQUFRM1MsSUFBSVUsUUFBSixDQUFaO0FBQ0ErUSxxQkFBV0EsYUFBYW5hLFNBQWIsR0FBeUIsSUFBekIsR0FBZ0NtYSxRQUEzQztBQUNBO0FBQ0V5WixrQ0FBc0J6WixRQUF0QixFQUFnQyxhQUFoQztBQUNEO0FBQ0QsY0FBSXNQLGlCQUFpQjRLLDBCQUEwQmhaLEtBQTFCLENBQXJCO0FBQ0EsY0FBSXdXLFNBQVM7QUFDWHBJLDRCQUFnQkEsY0FETDtBQUVYK0ksMEJBQWMsSUFGSDtBQUdYclksc0JBQVVBLFFBSEM7QUFJWDZZLHVCQUFXLEtBSkE7QUFLWEMsc0JBQVUsSUFMQztBQU1YRSwyQkFBZSxJQU5KO0FBT1hyeUIsa0JBQU07QUFQSyxXQUFiO0FBU0FzeEIsZ0NBQXNCL1csS0FBdEIsRUFBNkJ3VyxNQUE3QjtBQUNBdUMsdUJBQWEvWSxLQUFiLEVBQW9Cb08sY0FBcEI7QUFDRDtBQTFEVyxPQUFkOztBQTZEQSxlQUFTbUwsMEJBQVQsQ0FDRXJULGNBREYsRUFFRXNULFFBRkYsRUFHRXhYLFFBSEYsRUFJRXlYLFFBSkYsRUFLRUMsUUFMRixFQU1FQyxVQU5GLEVBT0U7QUFDQSxZQUNFSCxhQUFhLElBQWIsSUFDQ3RULGVBQWV5SixXQUFmLEtBQStCLElBQS9CLElBQ0N6SixlQUFleUosV0FBZixDQUEyQndHLGNBSC9CLEVBSUU7QUFFQSxpQkFBTyxJQUFQO0FBQ0Q7O0FBRUQsWUFBSXBvQixXQUFXbVksZUFBZW5mLFNBQTlCO0FBQ0EsWUFBSTR4QixPQUFPelMsZUFBZXpoQixJQUExQjtBQUNBLFlBQUksT0FBT3NKLFNBQVM2ckIscUJBQWhCLEtBQTBDLFVBQTlDLEVBQTBEO0FBQ3hEL08sMEJBQWdCM0UsY0FBaEIsRUFBZ0MsdUJBQWhDO0FBQ0EsY0FBSXhILGVBQWUzUSxTQUFTNnJCLHFCQUFULENBQ2pCNVgsUUFEaUIsRUFFakIwWCxRQUZpQixFQUdqQkMsVUFIaUIsQ0FBbkI7QUFLQTdPOztBQUVBO0FBQ0UzdEIsb0JBQ0V1aEIsaUJBQWlCL1osU0FEbkIsRUFFRSxpRUFDRSxtREFISixFQUlFb2IsaUJBQWlCbUcsY0FBakIsS0FBb0MsU0FKdEM7QUFNRDs7QUFFRCxpQkFBT3hILFlBQVA7QUFDRDs7QUFFRCxZQUFJaWEsS0FBSzc1QixTQUFMLElBQWtCNjVCLEtBQUs3NUIsU0FBTCxDQUFlKzZCLG9CQUFyQyxFQUEyRDtBQUN6RCxpQkFDRSxDQUFDaDhCLGFBQWEyN0IsUUFBYixFQUF1QnhYLFFBQXZCLENBQUQsSUFBcUMsQ0FBQ25rQixhQUFhNDdCLFFBQWIsRUFBdUJDLFFBQXZCLENBRHhDO0FBR0Q7O0FBRUQsZUFBTyxJQUFQO0FBQ0Q7O0FBRUQsZUFBU0ksa0JBQVQsQ0FBNEI1VCxjQUE1QixFQUE0QztBQUMxQyxZQUFJblksV0FBV21ZLGVBQWVuZixTQUE5QjtBQUNBLFlBQUl0QyxPQUFPeWhCLGVBQWV6aEIsSUFBMUI7QUFDQTtBQUNFLGNBQUl4RyxPQUFPOGhCLGlCQUFpQm1HLGNBQWpCLENBQVg7QUFDQSxjQUFJNlQsZ0JBQWdCaHNCLFNBQVN5UyxNQUE3Qjs7QUFFQSxjQUFJLENBQUN1WixhQUFMLEVBQW9CO0FBQ2xCLGdCQUFJdDFCLEtBQUszRixTQUFMLElBQWtCLE9BQU8yRixLQUFLM0YsU0FBTCxDQUFlMGhCLE1BQXRCLEtBQWlDLFVBQXZELEVBQW1FO0FBQ2pFcmpCLHNCQUNFLEtBREYsRUFFRSxpRUFDRSx1RUFISixFQUlFYyxJQUpGO0FBTUQsYUFQRCxNQU9PO0FBQ0xkLHNCQUNFLEtBREYsRUFFRSxpRUFDRSxzREFISixFQUlFYyxJQUpGO0FBTUQ7QUFDRjs7QUFFRCxjQUFJKzdCLHlCQUNGLENBQUNqc0IsU0FBU2tzQixlQUFWLElBQ0Fsc0IsU0FBU2tzQixlQUFULENBQXlCQyxvQkFEekIsSUFFQW5zQixTQUFTd1csS0FIWDtBQUlBcG5CLGtCQUNFNjhCLHNCQURGLEVBRUUsa0VBQ0Usc0VBREYsR0FFRSxrREFKSixFQUtFLzdCLElBTEY7QUFPQSxjQUFJazhCLHlCQUNGLENBQUNwc0IsU0FBU3FzQixlQUFWLElBQ0Fyc0IsU0FBU3FzQixlQUFULENBQXlCRixvQkFGM0I7QUFHQS84QixrQkFDRWc5QixzQkFERixFQUVFLGtFQUNFLHNFQURGLEdBRUUsdURBSkosRUFLRWw4QixJQUxGO0FBT0EsY0FBSW84QixzQkFBc0IsQ0FBQ3RzQixTQUFTdXNCLFNBQXBDO0FBQ0FuOUIsa0JBQ0VrOUIsbUJBREYsRUFFRSx1RUFDRSx1Q0FISixFQUlFcDhCLElBSkY7QUFNQSxjQUFJczhCLHlCQUF5QixDQUFDeHNCLFNBQVN3ZSxZQUF2QztBQUNBcHZCLGtCQUNFbzlCLHNCQURGLEVBRUUsMEVBQ0UsMENBSEosRUFJRXQ4QixJQUpGO0FBTUEsY0FBSXU4QiwwQkFDRixPQUFPenNCLFNBQVMwc0IscUJBQWhCLEtBQTBDLFVBRDVDO0FBRUF0OUIsa0JBQ0VxOUIsdUJBREYsRUFFRSw0QkFDRSxpRUFERixHQUVFLDREQUZGLEdBR0UsNkJBTEosRUFNRXY4QixJQU5GO0FBUUEsY0FDRXdHLEtBQUszRixTQUFMLElBQ0EyRixLQUFLM0YsU0FBTCxDQUFlKzZCLG9CQURmLElBRUEsT0FBTzlyQixTQUFTNnJCLHFCQUFoQixLQUEwQyxXQUg1QyxFQUlFO0FBQ0F6OEIsb0JBQ0UsS0FERixFQUVFLHFEQUNFLCtFQURGLEdBRUUsaUVBSkosRUFLRTRpQixpQkFBaUJtRyxjQUFqQixLQUFvQyxrQkFMdEM7QUFPRDtBQUNELGNBQUl3VSx3QkFDRixPQUFPM3NCLFNBQVM0c0IsbUJBQWhCLEtBQXdDLFVBRDFDO0FBRUF4OUIsa0JBQ0V1OUIscUJBREYsRUFFRSw0QkFDRSxnRUFERixHQUVFLHNDQUpKLEVBS0V6OEIsSUFMRjtBQU9BLGNBQUkyOEIsNkJBQ0YsT0FBTzdzQixTQUFTOHNCLHdCQUFoQixLQUE2QyxVQUQvQztBQUVBMTlCLGtCQUNFeTlCLDBCQURGLEVBRUUsNEJBQ0UscUVBREYsR0FFRSxrRUFGRixHQUdFLGlFQUhGLEdBSUUseUZBTkosRUFPRTM4QixJQVBGO0FBU0EsY0FBSTY4Qiw4QkFDRixPQUFPL3NCLFNBQVNndEIseUJBQWhCLEtBQThDLFVBRGhEO0FBRUE1OUIsa0JBQ0UyOUIsMkJBREYsRUFFRSw0QkFDRSx3RUFISixFQUlFNzhCLElBSkY7QUFNQSxjQUFJKzhCLG9DQUNGLE9BQU9qdEIsU0FBU2t0QixnQ0FBaEIsS0FBcUQsVUFEdkQ7QUFFQTk5QixrQkFDRTY5QixpQ0FERixFQUVFLDRCQUNFLHNGQUhKLEVBSUUvOEIsSUFKRjtBQU1BLGNBQUlpOUIsa0JBQWtCbnRCLFNBQVNwSCxLQUFULEtBQW1CdWYsZUFBZXFKLFlBQXhEO0FBQ0FweUIsa0JBQ0U0USxTQUFTcEgsS0FBVCxLQUFtQmhDLFNBQW5CLElBQWdDLENBQUN1MkIsZUFEbkMsRUFFRSw4REFDRSxpRUFISixFQUlFajlCLElBSkYsRUFLRUEsSUFMRjtBQU9BLGNBQUlrOUIseUJBQXlCLENBQUNwdEIsU0FBU3F0QixZQUF2QztBQUNBaitCLGtCQUNFZytCLHNCQURGLEVBRUUsNkZBQ0UsMkRBSEosRUFJRWw5QixJQUpGLEVBS0VBLElBTEY7QUFPRDs7QUFFRCxZQUFJc21CLFFBQVF4VyxTQUFTd1csS0FBckI7QUFDQSxZQUFJQSxVQUFVLE9BQU9BLEtBQVAsS0FBaUIsUUFBakIsSUFBNkJ2Z0IsUUFBUXVnQixLQUFSLENBQXZDLENBQUosRUFBNEQ7QUFDMURwbkIsa0JBQ0UsS0FERixFQUVFLDRDQUZGLEVBR0U0aUIsaUJBQWlCbUcsY0FBakIsQ0FIRjtBQUtEO0FBQ0QsWUFBSSxPQUFPblksU0FBU2tmLGVBQWhCLEtBQW9DLFVBQXhDLEVBQW9EO0FBQ2xEOXZCLGtCQUNFLE9BQU9zSCxLQUFLaW9CLGlCQUFaLEtBQWtDLFFBRHBDLEVBRUUseUVBQ0Usd0JBSEosRUFJRTNNLGlCQUFpQm1HLGNBQWpCLENBSkY7QUFNRDtBQUNGOztBQUVELGVBQVNtVixrQkFBVCxDQUE0Qm5WLGNBQTVCLEVBQTRDblksUUFBNUMsRUFBc0Q7QUFDcERBLGlCQUFTcEgsS0FBVCxHQUFpQnVmLGVBQWV3SixhQUFoQztBQUNBM2hCLGlCQUFTd1csS0FBVCxHQUFpQjJCLGVBQWUwSixhQUFoQztBQUNEOztBQUVELGVBQVMwTCxrQkFBVCxDQUE0QnBWLGNBQTVCLEVBQTRDblksUUFBNUMsRUFBc0Q7QUFDcERBLGlCQUFTb3JCLE9BQVQsR0FBbUJBLE9BQW5CO0FBQ0FqVCx1QkFBZW5mLFNBQWYsR0FBMkJnSCxRQUEzQjs7QUFFQWhCLFlBQUlnQixRQUFKLEVBQWNtWSxjQUFkO0FBQ0E7QUFDRW5ZLG1CQUFTd3RCLHNCQUFULEdBQWtDckQsb0JBQWxDO0FBQ0Q7QUFDRjs7QUFFRCxlQUFTc0Qsc0JBQVQsQ0FBZ0N0VixjQUFoQyxFQUFnRHZmLEtBQWhELEVBQXVEO0FBQ3JELFlBQUlneUIsT0FBT3pTLGVBQWV6aEIsSUFBMUI7QUFDQSxZQUFJeW5CLGtCQUFrQkosbUJBQW1CNUYsY0FBbkIsQ0FBdEI7QUFDQSxZQUFJdVYsZUFBZWhQLGtCQUFrQnZHLGNBQWxCLENBQW5CO0FBQ0EsWUFBSS9uQixVQUFVczlCLGVBQ1ZuUCxpQkFBaUJwRyxjQUFqQixFQUFpQ2dHLGVBQWpDLENBRFUsR0FFVnZ1QixXQUZKOztBQUtBLFlBQ0VrcEIsK0JBQ0NDLDRDQUNDWixlQUFlc0osSUFBZixHQUFzQlYsVUFIMUIsRUFJRTtBQUNBLGNBQUk2SixJQUFKLENBQVNoeUIsS0FBVCxFQUFnQnhJLE9BQWhCO0FBQ0Q7O0FBRUQsWUFBSTRQLFdBQVcsSUFBSTRxQixJQUFKLENBQVNoeUIsS0FBVCxFQUFnQnhJLE9BQWhCLENBQWY7QUFDQSxZQUFJb21CLFFBQ0Z4VyxTQUFTd1csS0FBVCxLQUFtQixJQUFuQixJQUEyQnhXLFNBQVN3VyxLQUFULEtBQW1CNWYsU0FBOUMsR0FDSW9KLFNBQVN3VyxLQURiLEdBRUksSUFITjtBQUlBK1csMkJBQW1CcFYsY0FBbkIsRUFBbUNuWSxRQUFuQzs7QUFFQTtBQUNFLGNBQ0UsT0FBTzRxQixLQUFLK0Msd0JBQVosS0FBeUMsVUFBekMsSUFDQW5YLFVBQVUsSUFGWixFQUdFO0FBQ0EsZ0JBQUlnRixnQkFBZ0J4SixpQkFBaUJtRyxjQUFqQixLQUFvQyxTQUF4RDtBQUNBLGdCQUFJLENBQUNtUywrQkFBK0I5TyxhQUEvQixDQUFMLEVBQW9EO0FBQ2xEcHNCLHNCQUNFLEtBREYsRUFFRSxnRUFDRSxnREFISixFQUlFb3NCLGFBSkYsRUFLRXhiLFNBQVN3VyxLQUFULEtBQW1CLElBQW5CLEdBQTBCLE1BQTFCLEdBQW1DLFdBTHJDO0FBT0E4VCw2Q0FBK0I5TyxhQUEvQixJQUFnRCxJQUFoRDtBQUNEO0FBQ0Y7QUFDRjs7QUFFRHJELHVCQUFlMEosYUFBZixHQUErQnJMLEtBQS9COztBQUVBLFlBQUk0UyxlQUFld0UsNkJBQ2pCelYsY0FEaUIsRUFFakJuWSxRQUZpQixFQUdqQnBILEtBSGlCLENBQW5COztBQU1BLFlBQUl3d0IsaUJBQWlCLElBQWpCLElBQXlCQSxpQkFBaUJ4eUIsU0FBOUMsRUFBeUQ7QUFJdkR1aEIseUJBQWUwSixhQUFmLEdBQStCLFNBQzdCLEVBRDZCLEVBRTdCMUosZUFBZTBKLGFBRmMsRUFHN0J1SCxZQUg2QixDQUEvQjtBQUtEOztBQUlELFlBQUlzRSxZQUFKLEVBQWtCO0FBQ2hCeFAsdUJBQWEvRixjQUFiLEVBQTZCZ0csZUFBN0IsRUFBOEMvdEIsT0FBOUM7QUFDRDs7QUFFRCxlQUFPNFAsUUFBUDtBQUNEOztBQUVELGVBQVM2dEIsc0JBQVQsQ0FBZ0MxVixjQUFoQyxFQUFnRG5ZLFFBQWhELEVBQTBEO0FBQ3hEOGMsd0JBQWdCM0UsY0FBaEIsRUFBZ0Msb0JBQWhDO0FBQ0EsWUFBSXVULFdBQVcxckIsU0FBU3dXLEtBQXhCOztBQUVBLFlBQUksT0FBT3hXLFNBQVM2VCxrQkFBaEIsS0FBdUMsVUFBM0MsRUFBdUQ7QUFDckQ3VCxtQkFBUzZULGtCQUFUO0FBQ0Q7QUFDRCxZQUFJLE9BQU83VCxTQUFTK1QseUJBQWhCLEtBQThDLFVBQWxELEVBQThEO0FBQzVEL1QsbUJBQVMrVCx5QkFBVDtBQUNEOztBQUVEZ0o7O0FBRUEsWUFBSTJPLGFBQWExckIsU0FBU3dXLEtBQTFCLEVBQWlDO0FBQy9CO0FBQ0VwbkIsb0JBQ0UsS0FERixFQUVFLGtFQUNFLDBDQURGLEdBRUUscUNBSkosRUFLRTRpQixpQkFBaUJtRyxjQUFqQixDQUxGO0FBT0Q7QUFDRGlULGtCQUFRRSxtQkFBUixDQUE0QnRyQixRQUE1QixFQUFzQ0EsU0FBU3dXLEtBQS9DLEVBQXNELElBQXREO0FBQ0Q7QUFDRjs7QUFFRCxlQUFTc1gsNkJBQVQsQ0FDRTNWLGNBREYsRUFFRW5ZLFFBRkYsRUFHRWlVLFFBSEYsRUFJRTJYLFVBSkYsRUFLRTtBQUNBLFlBQUlGLFdBQVcxckIsU0FBU3dXLEtBQXhCO0FBQ0FzRyx3QkFBZ0IzRSxjQUFoQixFQUFnQywyQkFBaEM7QUFDQSxZQUFJLE9BQU9uWSxTQUFTOFQseUJBQWhCLEtBQThDLFVBQWxELEVBQThEO0FBQzVEOVQsbUJBQVM4VCx5QkFBVCxDQUFtQ0csUUFBbkMsRUFBNkMyWCxVQUE3QztBQUNEO0FBQ0QsWUFBSSxPQUFPNXJCLFNBQVNnVSxnQ0FBaEIsS0FBcUQsVUFBekQsRUFBcUU7QUFDbkVoVSxtQkFBU2dVLGdDQUFULENBQTBDQyxRQUExQyxFQUFvRDJYLFVBQXBEO0FBQ0Q7QUFDRDdPOztBQUVBLFlBQUkvYyxTQUFTd1csS0FBVCxLQUFtQmtWLFFBQXZCLEVBQWlDO0FBQy9CO0FBQ0UsZ0JBQUlsUSxnQkFBZ0J4SixpQkFBaUJtRyxjQUFqQixLQUFvQyxXQUF4RDtBQUNBLGdCQUFJLENBQUNpUyx3Q0FBd0M1TyxhQUF4QyxDQUFMLEVBQTZEO0FBQzNEcHNCLHNCQUNFLEtBREYsRUFFRSwyREFDRSx3REFERixHQUVFLHFDQUpKLEVBS0Vvc0IsYUFMRjtBQU9BNE8sc0RBQXdDNU8sYUFBeEMsSUFBeUQsSUFBekQ7QUFDRDtBQUNGO0FBQ0Q0UCxrQkFBUUUsbUJBQVIsQ0FBNEJ0ckIsUUFBNUIsRUFBc0NBLFNBQVN3VyxLQUEvQyxFQUFzRCxJQUF0RDtBQUNEO0FBQ0Y7O0FBRUQsZUFBU29YLDRCQUFULENBQXNDelYsY0FBdEMsRUFBc0RuWSxRQUF0RCxFQUFnRXBILEtBQWhFLEVBQXVFO0FBQ3JFLFlBQUlsQyxPQUFPeWhCLGVBQWV6aEIsSUFBMUI7O0FBRUEsWUFBSSxPQUFPQSxLQUFLaTNCLHdCQUFaLEtBQXlDLFVBQTdDLEVBQXlEO0FBQ3ZEO0FBRUUsZ0JBQ0csT0FBTzN0QixTQUFTOFQseUJBQWhCLEtBQThDLFVBQTlDLElBQ0M5VCxTQUFTOFQseUJBQVQsQ0FBbUNJLDRCQUFuQyxLQUNFLElBRkosSUFHQSxPQUFPbFUsU0FBU2dVLGdDQUFoQixLQUFxRCxVQUp2RCxFQUtFO0FBQ0Esa0JBQUl3SCxnQkFBZ0J4SixpQkFBaUJtRyxjQUFqQixLQUFvQyxTQUF4RDtBQUNBLGtCQUFJLENBQUNvUyw0Q0FBNEMvTyxhQUE1QyxDQUFMLEVBQWlFO0FBQy9EcHNCLHdCQUNFLEtBREYsRUFFRSw2REFDRSx5REFERixHQUVFLGtDQUpKLEVBS0Vvc0IsYUFMRjtBQU9BK08sNERBQTRDL08sYUFBNUMsSUFBNkQsSUFBN0Q7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsY0FDRTFDLCtCQUNDQyw0Q0FDQ1osZUFBZXNKLElBQWYsR0FBc0JWLFVBSDFCLEVBSUU7QUFFQXJxQixpQkFBS2kzQix3QkFBTCxDQUE4QjE4QixJQUE5QixDQUNFLElBREYsRUFFRTJILEtBRkYsRUFHRXVmLGVBQWUwSixhQUhqQjtBQUtEOztBQUVELGNBQUl1SCxlQUFlMXlCLEtBQUtpM0Isd0JBQUwsQ0FBOEIxOEIsSUFBOUIsQ0FDakIsSUFEaUIsRUFFakIySCxLQUZpQixFQUdqQnVmLGVBQWUwSixhQUhFLENBQW5COztBQU1BO0FBQ0UsZ0JBQUl1SCxpQkFBaUJ4eUIsU0FBckIsRUFBZ0M7QUFDOUIsa0JBQUltM0IsaUJBQWlCL2IsaUJBQWlCbUcsY0FBakIsS0FBb0MsU0FBekQ7QUFDQSxrQkFBSSxDQUFDa1Msa0NBQWtDMEQsY0FBbEMsQ0FBTCxFQUF3RDtBQUN0RDMrQix3QkFDRSxLQURGLEVBRUUscUZBQ0UsOEJBSEosRUFJRTIrQixjQUpGO0FBTUExRCxrREFBa0MwRCxjQUFsQyxJQUFvREEsY0FBcEQ7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsaUJBQU8zRSxZQUFQO0FBQ0Q7QUFDRjs7QUFHRCxlQUFTNEUsa0JBQVQsQ0FBNEI3VixjQUE1QixFQUE0Q21SLG9CQUE1QyxFQUFrRTtBQUNoRSxZQUFJc0IsT0FBT3pTLGVBQWV6aEIsSUFBMUI7QUFDQSxZQUFJZSxVQUFVMGdCLGVBQWVsZCxTQUE3Qjs7QUFFQTtBQUNFOHdCLDZCQUFtQjVULGNBQW5CO0FBQ0Q7O0FBRUQsWUFBSW5ZLFdBQVdtWSxlQUFlbmYsU0FBOUI7QUFDQSxZQUFJSixRQUFRdWYsZUFBZXFKLFlBQTNCO0FBQ0EsWUFBSXJELGtCQUFrQkosbUJBQW1CNUYsY0FBbkIsQ0FBdEI7O0FBRUFuWSxpQkFBU3BILEtBQVQsR0FBaUJBLEtBQWpCO0FBQ0FvSCxpQkFBU3dXLEtBQVQsR0FBaUIyQixlQUFlMEosYUFBaEM7QUFDQTdoQixpQkFBU2l1QixJQUFULEdBQWdCcitCLFdBQWhCO0FBQ0FvUSxpQkFBUzVQLE9BQVQsR0FBbUJtdUIsaUJBQWlCcEcsY0FBakIsRUFBaUNnRyxlQUFqQyxDQUFuQjs7QUFFQTtBQUNFLGNBQUloRyxlQUFlc0osSUFBZixHQUFzQlYsVUFBMUIsRUFBc0M7QUFDcEN5RSxvQ0FBd0JLLDZCQUF4QixDQUNFMU4sY0FERixFQUVFblksUUFGRjtBQUlEOztBQUVELGNBQUlnWiw2QkFBSixFQUFtQztBQUNqQ3dNLG9DQUF3QkkseUJBQXhCLENBQ0V6TixjQURGLEVBRUVuWSxRQUZGO0FBSUQ7QUFDRjs7QUFJRCxZQUNFLENBQUMsT0FBT0EsU0FBUytULHlCQUFoQixLQUE4QyxVQUE5QyxJQUNDLE9BQU8vVCxTQUFTNlQsa0JBQWhCLEtBQXVDLFVBRHpDLEtBRUEsT0FBTytXLEtBQUsrQyx3QkFBWixLQUF5QyxVQUgzQyxFQUlFO0FBQ0FFLGlDQUF1QjFWLGNBQXZCLEVBQXVDblksUUFBdkM7O0FBR0EsY0FBSTRoQixjQUFjekosZUFBZXlKLFdBQWpDO0FBQ0EsY0FBSUEsZ0JBQWdCLElBQXBCLEVBQTBCO0FBQ3hCNWhCLHFCQUFTd1csS0FBVCxHQUFpQjZTLG1CQUNmNXhCLE9BRGUsRUFFZjBnQixjQUZlLEVBR2Z5SixXQUhlLEVBSWY1aEIsUUFKZSxFQUtmcEgsS0FMZSxFQU1mMHdCLG9CQU5lLENBQWpCO0FBUUQ7QUFDRjtBQUNELFlBQUksT0FBT3RwQixTQUFTa3VCLGlCQUFoQixLQUFzQyxVQUExQyxFQUFzRDtBQUNwRC9WLHlCQUFlaEMsU0FBZixJQUE0QmYsTUFBNUI7QUFDRDtBQUNGOztBQUVELGVBQVMrWSx3QkFBVCxDQUFrQ2hXLGNBQWxDLEVBQWtEbVIsb0JBQWxELEVBQXdFO0FBQ3RFLFlBQUlzQixPQUFPelMsZUFBZXpoQixJQUExQjtBQUNBLFlBQUlzSixXQUFXbVksZUFBZW5mLFNBQTlCO0FBQ0FzMEIsMkJBQW1CblYsY0FBbkIsRUFBbUNuWSxRQUFuQzs7QUFFQSxZQUFJeXJCLFdBQVd0VCxlQUFld0osYUFBOUI7QUFDQSxZQUFJMU4sV0FBV2tFLGVBQWVxSixZQUE5QjtBQUNBLFlBQUk0TSxhQUFhcHVCLFNBQVM1UCxPQUExQjtBQUNBLFlBQUlpK0IscUJBQXFCdFEsbUJBQW1CNUYsY0FBbkIsQ0FBekI7QUFDQSxZQUFJeVQsYUFBYXJOLGlCQUFpQnBHLGNBQWpCLEVBQWlDa1csa0JBQWpDLENBQWpCOztBQVFBLFlBQ0UsQ0FBQyxPQUFPcnVCLFNBQVNnVSxnQ0FBaEIsS0FBcUQsVUFBckQsSUFDQyxPQUFPaFUsU0FBUzhULHlCQUFoQixLQUE4QyxVQURoRCxLQUVBLE9BQU84VyxLQUFLK0Msd0JBQVosS0FBeUMsVUFIM0MsRUFJRTtBQUNBLGNBQUlsQyxhQUFheFgsUUFBYixJQUF5Qm1hLGVBQWV4QyxVQUE1QyxFQUF3RDtBQUN0RGtDLDBDQUNFM1YsY0FERixFQUVFblksUUFGRixFQUdFaVUsUUFIRixFQUlFMlgsVUFKRjtBQU1EO0FBQ0Y7O0FBRUQsWUFBSTBDLHdCQUF3QixLQUFLLENBQWpDO0FBQ0EsWUFBSTdDLGFBQWF4WCxRQUFqQixFQUEyQjtBQUN6QnFhLGtDQUF3QlYsNkJBQ3RCelYsY0FEc0IsRUFFdEJuWSxRQUZzQixFQUd0QmlVLFFBSHNCLENBQXhCO0FBS0Q7O0FBR0QsWUFBSXlYLFdBQVd2VCxlQUFlMEosYUFBOUI7O0FBRUEsWUFBSThKLFdBQVcsS0FBSyxDQUFwQjtBQUNBLFlBQUk0Qyx3QkFBd0IsS0FBSyxDQUFqQztBQUNBLFlBQUlwVyxlQUFleUosV0FBZixLQUErQixJQUFuQyxFQUF5QztBQUN2QytKLHFCQUFXdEMsbUJBQ1QsSUFEUyxFQUVUbFIsY0FGUyxFQUdUQSxlQUFleUosV0FITixFQUlUNWhCLFFBSlMsRUFLVGlVLFFBTFMsRUFNVHFWLG9CQU5TLENBQVg7O0FBU0EsY0FBSTFILGNBQWN6SixlQUFleUosV0FBakM7QUFDQSxjQUNFQSxnQkFBZ0IsSUFBaEIsSUFDQUEsWUFBWTBHLGNBQVosS0FBK0IsSUFEL0IsSUFFQXpQLDhCQUZBLElBR0EsT0FBTytSLEtBQUtFLHdCQUFaLEtBQXlDLFVBSjNDLEVBS0U7QUFDQSxnQkFBSXhDLGlCQUFpQjFHLFlBQVkwRyxjQUFqQzs7QUFLQWlHLG9DQUF3QjVELDZCQUN0QkMsSUFEc0IsRUFFdEJ0QyxjQUZzQixDQUF4QjtBQUlEO0FBQ0YsU0EzQkQsTUEyQk87QUFDTHFELHFCQUFXRCxRQUFYO0FBQ0Q7O0FBRUQsWUFBSTRDLDBCQUEwQixJQUExQixJQUFrQ0EsMEJBQTBCMTNCLFNBQWhFLEVBQTJFO0FBSXpFKzBCLHFCQUNFQSxhQUFhLElBQWIsSUFBcUJBLGFBQWEvMEIsU0FBbEMsR0FDSTAzQixxQkFESixHQUVJLFNBQWMsRUFBZCxFQUFrQjNDLFFBQWxCLEVBQTRCMkMscUJBQTVCLENBSE47QUFJRDtBQUNELFlBQUlDLDBCQUEwQixJQUExQixJQUFrQ0EsMEJBQTBCMzNCLFNBQWhFLEVBQTJFO0FBSXpFKzBCLHFCQUNFQSxhQUFhLElBQWIsSUFBcUJBLGFBQWEvMEIsU0FBbEMsR0FDSTIzQixxQkFESixHQUVJLFNBQWMsRUFBZCxFQUFrQjVDLFFBQWxCLEVBQTRCNEMscUJBQTVCLENBSE47QUFJRDs7QUFFRCxZQUNFOUMsYUFBYXhYLFFBQWIsSUFDQXlYLGFBQWFDLFFBRGIsSUFFQSxDQUFDbE4sbUJBRkQsSUFHQSxFQUNFdEcsZUFBZXlKLFdBQWYsS0FBK0IsSUFBL0IsSUFDQXpKLGVBQWV5SixXQUFmLENBQTJCd0csY0FGN0IsQ0FKRixFQVFFO0FBR0EsY0FBSSxPQUFPcG9CLFNBQVNrdUIsaUJBQWhCLEtBQXNDLFVBQTFDLEVBQXNEO0FBQ3BEL1YsMkJBQWVoQyxTQUFmLElBQTRCZixNQUE1QjtBQUNEO0FBQ0QsaUJBQU8sS0FBUDtBQUNEOztBQUVELFlBQUl6RSxlQUFlNmEsMkJBQ2pCclQsY0FEaUIsRUFFakJzVCxRQUZpQixFQUdqQnhYLFFBSGlCLEVBSWpCeVgsUUFKaUIsRUFLakJDLFFBTGlCLEVBTWpCQyxVQU5pQixDQUFuQjs7QUFTQSxZQUFJamIsWUFBSixFQUFrQjtBQUdoQixjQUNFLENBQUMsT0FBTzNRLFNBQVMrbEIsMEJBQWhCLEtBQStDLFVBQS9DLElBQ0MsT0FBTy9sQixTQUFTMG5CLG1CQUFoQixLQUF3QyxVQUQxQyxLQUVBLE9BQU9rRCxLQUFLK0Msd0JBQVosS0FBeUMsVUFIM0MsRUFJRTtBQUNBN1EsNEJBQWdCM0UsY0FBaEIsRUFBZ0MscUJBQWhDO0FBQ0EsZ0JBQUksT0FBT25ZLFNBQVMwbkIsbUJBQWhCLEtBQXdDLFVBQTVDLEVBQXdEO0FBQ3REMW5CLHVCQUFTMG5CLG1CQUFULENBQTZCelQsUUFBN0IsRUFBdUMwWCxRQUF2QyxFQUFpREMsVUFBakQ7QUFDRDtBQUNELGdCQUFJLE9BQU81ckIsU0FBUytsQiwwQkFBaEIsS0FBK0MsVUFBbkQsRUFBK0Q7QUFDN0QvbEIsdUJBQVMrbEIsMEJBQVQsQ0FBb0M5UixRQUFwQyxFQUE4QzBYLFFBQTlDLEVBQXdEQyxVQUF4RDtBQUNEO0FBQ0Q3TztBQUNEO0FBQ0QsY0FBSSxPQUFPL2MsU0FBU3d1QixrQkFBaEIsS0FBdUMsVUFBM0MsRUFBdUQ7QUFDckRyVywyQkFBZWhDLFNBQWYsSUFBNEJmLE1BQTVCO0FBQ0Q7QUFDRixTQXBCRCxNQW9CTztBQUdMLGNBQUksT0FBT3BWLFNBQVNrdUIsaUJBQWhCLEtBQXNDLFVBQTFDLEVBQXNEO0FBQ3BEL1YsMkJBQWVoQyxTQUFmLElBQTRCZixNQUE1QjtBQUNEOztBQUlEOFYsdUJBQWEvUyxjQUFiLEVBQTZCbEUsUUFBN0I7QUFDQWtYLHVCQUFhaFQsY0FBYixFQUE2QndULFFBQTdCO0FBQ0Q7O0FBSUQzckIsaUJBQVNwSCxLQUFULEdBQWlCcWIsUUFBakI7QUFDQWpVLGlCQUFTd1csS0FBVCxHQUFpQm1WLFFBQWpCO0FBQ0EzckIsaUJBQVM1UCxPQUFULEdBQW1CdzdCLFVBQW5COztBQUVBLGVBQU9qYixZQUFQO0FBQ0Q7O0FBR0QsZUFBUzhkLG1CQUFULENBQTZCaDNCLE9BQTdCLEVBQXNDMGdCLGNBQXRDLEVBQXNEbVIsb0JBQXRELEVBQTRFO0FBQzFFLFlBQUlzQixPQUFPelMsZUFBZXpoQixJQUExQjtBQUNBLFlBQUlzSixXQUFXbVksZUFBZW5mLFNBQTlCO0FBQ0FzMEIsMkJBQW1CblYsY0FBbkIsRUFBbUNuWSxRQUFuQzs7QUFFQSxZQUFJeXJCLFdBQVd0VCxlQUFld0osYUFBOUI7QUFDQSxZQUFJMU4sV0FBV2tFLGVBQWVxSixZQUE5QjtBQUNBLFlBQUk0TSxhQUFhcHVCLFNBQVM1UCxPQUExQjtBQUNBLFlBQUlpK0IscUJBQXFCdFEsbUJBQW1CNUYsY0FBbkIsQ0FBekI7QUFDQSxZQUFJeVQsYUFBYXJOLGlCQUFpQnBHLGNBQWpCLEVBQWlDa1csa0JBQWpDLENBQWpCOztBQVFBLFlBQ0UsQ0FBQyxPQUFPcnVCLFNBQVNnVSxnQ0FBaEIsS0FBcUQsVUFBckQsSUFDQyxPQUFPaFUsU0FBUzhULHlCQUFoQixLQUE4QyxVQURoRCxLQUVBLE9BQU84VyxLQUFLK0Msd0JBQVosS0FBeUMsVUFIM0MsRUFJRTtBQUNBLGNBQUlsQyxhQUFheFgsUUFBYixJQUF5Qm1hLGVBQWV4QyxVQUE1QyxFQUF3RDtBQUN0RGtDLDBDQUNFM1YsY0FERixFQUVFblksUUFGRixFQUdFaVUsUUFIRixFQUlFMlgsVUFKRjtBQU1EO0FBQ0Y7O0FBRUQsWUFBSTBDLHdCQUF3QixLQUFLLENBQWpDO0FBQ0EsWUFBSTdDLGFBQWF4WCxRQUFqQixFQUEyQjtBQUN6QnFhLGtDQUF3QlYsNkJBQ3RCelYsY0FEc0IsRUFFdEJuWSxRQUZzQixFQUd0QmlVLFFBSHNCLENBQXhCO0FBS0Q7O0FBR0QsWUFBSXlYLFdBQVd2VCxlQUFlMEosYUFBOUI7O0FBRUEsWUFBSThKLFdBQVcsS0FBSyxDQUFwQjtBQUNBLFlBQUk0Qyx3QkFBd0IsS0FBSyxDQUFqQztBQUNBLFlBQUlwVyxlQUFleUosV0FBZixLQUErQixJQUFuQyxFQUF5QztBQUN2QytKLHFCQUFXdEMsbUJBQ1Q1eEIsT0FEUyxFQUVUMGdCLGNBRlMsRUFHVEEsZUFBZXlKLFdBSE4sRUFJVDVoQixRQUpTLEVBS1RpVSxRQUxTLEVBTVRxVixvQkFOUyxDQUFYOztBQVNBLGNBQUkxSCxjQUFjekosZUFBZXlKLFdBQWpDO0FBQ0EsY0FDRUEsZ0JBQWdCLElBQWhCLElBQ0FBLFlBQVkwRyxjQUFaLEtBQStCLElBRC9CLElBRUF6UCw4QkFGQSxJQUdBLE9BQU8rUixLQUFLRSx3QkFBWixLQUF5QyxVQUozQyxFQUtFO0FBQ0EsZ0JBQUl4QyxpQkFBaUIxRyxZQUFZMEcsY0FBakM7O0FBS0FpRyxvQ0FBd0I1RCw2QkFDdEJDLElBRHNCLEVBRXRCdEMsY0FGc0IsQ0FBeEI7QUFJRDtBQUNGLFNBM0JELE1BMkJPO0FBQ0xxRCxxQkFBV0QsUUFBWDtBQUNEOztBQUVELFlBQUk0QywwQkFBMEIsSUFBMUIsSUFBa0NBLDBCQUEwQjEzQixTQUFoRSxFQUEyRTtBQUl6RSswQixxQkFDRUEsYUFBYSxJQUFiLElBQXFCQSxhQUFhLzBCLFNBQWxDLEdBQ0kwM0IscUJBREosR0FFSSxTQUFjLEVBQWQsRUFBa0IzQyxRQUFsQixFQUE0QjJDLHFCQUE1QixDQUhOO0FBSUQ7QUFDRCxZQUFJQywwQkFBMEIsSUFBMUIsSUFBa0NBLDBCQUEwQjMzQixTQUFoRSxFQUEyRTtBQUl6RSswQixxQkFDRUEsYUFBYSxJQUFiLElBQXFCQSxhQUFhLzBCLFNBQWxDLEdBQ0kyM0IscUJBREosR0FFSSxTQUFjLEVBQWQsRUFBa0I1QyxRQUFsQixFQUE0QjRDLHFCQUE1QixDQUhOO0FBSUQ7O0FBRUQsWUFDRTlDLGFBQWF4WCxRQUFiLElBQ0F5WCxhQUFhQyxRQURiLElBRUEsQ0FBQ2xOLG1CQUZELElBR0EsRUFDRXRHLGVBQWV5SixXQUFmLEtBQStCLElBQS9CLElBQ0F6SixlQUFleUosV0FBZixDQUEyQndHLGNBRjdCLENBSkYsRUFRRTtBQUdBLGNBQUksT0FBT3BvQixTQUFTd3VCLGtCQUFoQixLQUF1QyxVQUEzQyxFQUF1RDtBQUNyRCxnQkFDRS9DLGFBQWFoMEIsUUFBUWtxQixhQUFyQixJQUNBK0osYUFBYWowQixRQUFRb3FCLGFBRnZCLEVBR0U7QUFDQTFKLDZCQUFlaEMsU0FBZixJQUE0QmYsTUFBNUI7QUFDRDtBQUNGO0FBQ0QsaUJBQU8sS0FBUDtBQUNEOztBQUVELFlBQUl6RSxlQUFlNmEsMkJBQ2pCclQsY0FEaUIsRUFFakJzVCxRQUZpQixFQUdqQnhYLFFBSGlCLEVBSWpCeVgsUUFKaUIsRUFLakJDLFFBTGlCLEVBTWpCQyxVQU5pQixDQUFuQjs7QUFTQSxZQUFJamIsWUFBSixFQUFrQjtBQUdoQixjQUNFLENBQUMsT0FBTzNRLFNBQVMrbEIsMEJBQWhCLEtBQStDLFVBQS9DLElBQ0MsT0FBTy9sQixTQUFTMG5CLG1CQUFoQixLQUF3QyxVQUQxQyxLQUVBLE9BQU9rRCxLQUFLK0Msd0JBQVosS0FBeUMsVUFIM0MsRUFJRTtBQUNBN1EsNEJBQWdCM0UsY0FBaEIsRUFBZ0MscUJBQWhDO0FBQ0EsZ0JBQUksT0FBT25ZLFNBQVMwbkIsbUJBQWhCLEtBQXdDLFVBQTVDLEVBQXdEO0FBQ3REMW5CLHVCQUFTMG5CLG1CQUFULENBQTZCelQsUUFBN0IsRUFBdUMwWCxRQUF2QyxFQUFpREMsVUFBakQ7QUFDRDtBQUNELGdCQUFJLE9BQU81ckIsU0FBUytsQiwwQkFBaEIsS0FBK0MsVUFBbkQsRUFBK0Q7QUFDN0QvbEIsdUJBQVMrbEIsMEJBQVQsQ0FBb0M5UixRQUFwQyxFQUE4QzBYLFFBQTlDLEVBQXdEQyxVQUF4RDtBQUNEO0FBQ0Q3TztBQUNEO0FBQ0QsY0FBSSxPQUFPL2MsU0FBU3d1QixrQkFBaEIsS0FBdUMsVUFBM0MsRUFBdUQ7QUFDckRyVywyQkFBZWhDLFNBQWYsSUFBNEJmLE1BQTVCO0FBQ0Q7QUFDRixTQXBCRCxNQW9CTztBQUdMLGNBQUksT0FBT3BWLFNBQVN3dUIsa0JBQWhCLEtBQXVDLFVBQTNDLEVBQXVEO0FBQ3JELGdCQUNFL0MsYUFBYWgwQixRQUFRa3FCLGFBQXJCLElBQ0ErSixhQUFhajBCLFFBQVFvcUIsYUFGdkIsRUFHRTtBQUNBMUosNkJBQWVoQyxTQUFmLElBQTRCZixNQUE1QjtBQUNEO0FBQ0Y7O0FBSUQ4Vix1QkFBYS9TLGNBQWIsRUFBNkJsRSxRQUE3QjtBQUNBa1gsdUJBQWFoVCxjQUFiLEVBQTZCd1QsUUFBN0I7QUFDRDs7QUFJRDNyQixpQkFBU3BILEtBQVQsR0FBaUJxYixRQUFqQjtBQUNBalUsaUJBQVN3VyxLQUFULEdBQWlCbVYsUUFBakI7QUFDQTNyQixpQkFBUzVQLE9BQVQsR0FBbUJ3N0IsVUFBbkI7O0FBRUEsZUFBT2piLFlBQVA7QUFDRDs7QUFFRCxhQUFPO0FBQ0w0Yyw0QkFBb0JBLGtCQURmO0FBRUxLLHNDQUE4QkEsNEJBRnpCO0FBR0xILGdDQUF3QkEsc0JBSG5CO0FBSUxPLDRCQUFvQkEsa0JBSmY7QUFLTEcsa0NBQTBCQSx3QkFMckI7QUFNTE0sNkJBQXFCQTtBQU5oQixPQUFQO0FBUUQsS0EzM0JEOztBQTYzQkEsUUFBSUMsaUNBQ0ZwVyx1QkFBdUJDLDRCQUR6Qjs7QUFHQSxRQUFJb1csbUJBQW1CLEtBQUssQ0FBNUI7QUFDQSxRQUFJQyxvQ0FBb0MsS0FBSyxDQUE3QztBQUNBLFFBQUlDLHdCQUF3QixLQUFLLENBQWpDO0FBQ0EsUUFBSUMsOEJBQThCLEtBQUssQ0FBdkM7QUFDQSxRQUFJQyxvQkFBb0IsMkJBQVNwWSxLQUFULEVBQWdCLENBQUUsQ0FBMUM7O0FBRUE7QUFDRWdZLHlCQUFtQixLQUFuQjtBQUNBQywwQ0FBb0MsRUFBcEM7O0FBT0FDLDhCQUF3QixFQUF4QjtBQUNBQyxvQ0FBOEIsRUFBOUI7O0FBRUFDLDBCQUFvQiwyQkFBU3BZLEtBQVQsRUFBZ0I7QUFDbEMsWUFBSUEsVUFBVSxJQUFWLElBQWtCLE9BQU9BLEtBQVAsS0FBaUIsUUFBdkMsRUFBaUQ7QUFDL0M7QUFDRDtBQUNELFlBQUksQ0FBQ0EsTUFBTXFZLE1BQVAsSUFBaUJyWSxNQUFNcVksTUFBTixDQUFhQyxTQUE5QixJQUEyQ3RZLE1BQU03SixHQUFOLElBQWEsSUFBNUQsRUFBa0U7QUFDaEU7QUFDRDtBQUNEM2Qsa0JBQ0UsT0FBT3duQixNQUFNcVksTUFBYixLQUF3QixRQUQxQixFQUVFLGdFQUNFLHNFQUhKO0FBS0FyWSxjQUFNcVksTUFBTixDQUFhQyxTQUFiLEdBQXlCLElBQXpCOztBQUVBLFlBQUlDLDRCQUNGLDZEQUNBLHVEQURBLEdBRUEsbUJBRkEsSUFHQ1Isb0NBQW9DLEVBSHJDLENBREY7QUFLQSxZQUFJRyxzQkFBc0JLLHlCQUF0QixDQUFKLEVBQXNEO0FBQ3BEO0FBQ0Q7QUFDREwsOEJBQXNCSyx5QkFBdEIsSUFBbUQsSUFBbkQ7O0FBRUE5L0IsZ0JBQ0UsS0FERixFQUVFLDZEQUNFLHVEQURGLEdBRUUscUJBSkosRUFLRXMvQixnQ0FMRjtBQU9ELE9BL0JEO0FBZ0NEOztBQUVELFFBQUlTLFlBQVlyK0IsTUFBTW1GLE9BQXRCOztBQUVBLGFBQVNtNUIsU0FBVCxDQUFtQkMsV0FBbkIsRUFBZ0M1M0IsT0FBaEMsRUFBeUMrcUIsT0FBekMsRUFBa0Q7QUFDaEQsVUFBSThNLFdBQVc5TSxRQUFRZCxHQUF2QjtBQUNBLFVBQ0U0TixhQUFhLElBQWIsSUFDQSxPQUFPQSxRQUFQLEtBQW9CLFVBRHBCLElBRUEsT0FBT0EsUUFBUCxLQUFvQixRQUh0QixFQUlFO0FBQ0E7QUFDRSxjQUFJRCxZQUFZNU4sSUFBWixHQUFtQlYsVUFBdkIsRUFBbUM7QUFDakMsZ0JBQUl2RixnQkFBZ0J4SixpQkFBaUJxZCxXQUFqQixLQUFpQyxXQUFyRDtBQUNBLGdCQUFJLENBQUNULGtDQUFrQ3BULGFBQWxDLENBQUwsRUFBdUQ7QUFDckRwc0Isc0JBQ0UsS0FERixFQUVFLG1FQUNFLG9FQURGLEdBRUUseUNBRkYsR0FHRSxNQUhGLEdBSUUsOENBSkYsR0FLRSw4Q0FQSixFQVFFa2dDLFFBUkYsRUFTRXBYLHNDQUFzQ21YLFdBQXRDLENBVEY7QUFXQVQsZ0RBQWtDcFQsYUFBbEMsSUFBbUQsSUFBbkQ7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsWUFBSWdILFFBQVFsUixNQUFaLEVBQW9CO0FBQ2xCLGNBQUlELFFBQVFtUixRQUFRbFIsTUFBcEI7QUFDQSxjQUFJN2EsT0FBTyxLQUFLLENBQWhCO0FBQ0EsY0FBSTRhLEtBQUosRUFBVztBQUNULGdCQUFJZ0YsYUFBYWhGLEtBQWpCO0FBQ0FsaUIsc0JBQ0VrbkIsV0FBVzNkLEdBQVgsS0FBbUJrQixjQURyQixFQUVFLGlEQUZGO0FBSUFuRCxtQkFBTzRmLFdBQVdyZCxTQUFsQjtBQUNEO0FBQ0Q3SixvQkFDRXNILElBREYsRUFFRSx1RUFDRSxxQ0FISixFQUlFNjRCLFFBSkY7QUFNQSxjQUFJQyxZQUFZLEtBQUtELFFBQXJCOztBQUVBLGNBQ0U3M0IsWUFBWSxJQUFaLElBQ0FBLFFBQVFpcUIsR0FBUixLQUFnQixJQURoQixJQUVBanFCLFFBQVFpcUIsR0FBUixDQUFZOE4sVUFBWixLQUEyQkQsU0FIN0IsRUFJRTtBQUNBLG1CQUFPOTNCLFFBQVFpcUIsR0FBZjtBQUNEO0FBQ0QsY0FBSUEsTUFBTSxTQUFOQSxHQUFNLENBQVN4aUIsS0FBVCxFQUFnQjtBQUN4QixnQkFBSSt1QixPQUFPeDNCLEtBQUt3M0IsSUFBTCxLQUFjcitCLFdBQWQsR0FBNkI2RyxLQUFLdzNCLElBQUwsR0FBWSxFQUF6QyxHQUErQ3gzQixLQUFLdzNCLElBQS9EO0FBQ0EsZ0JBQUkvdUIsVUFBVSxJQUFkLEVBQW9CO0FBQ2xCLHFCQUFPK3VCLEtBQUtzQixTQUFMLENBQVA7QUFDRCxhQUZELE1BRU87QUFDTHRCLG1CQUFLc0IsU0FBTCxJQUFrQnJ3QixLQUFsQjtBQUNEO0FBQ0YsV0FQRDtBQVFBd2lCLGNBQUk4TixVQUFKLEdBQWlCRCxTQUFqQjtBQUNBLGlCQUFPN04sR0FBUDtBQUNELFNBcENELE1Bb0NPO0FBQ0x2eUIsb0JBQ0UsT0FBT21nQyxRQUFQLEtBQW9CLFFBRHRCLEVBRUUsNENBRkY7QUFJQW5nQyxvQkFDRXF6QixRQUFRbFIsTUFEVixFQUVFLGtHQUNFLDJCQURGLEdBRUUsd0RBRkYsR0FHRSxxR0FIRixHQUlFLCtDQUpGLEdBS0Usb0VBUEosRUFRRWdlLFFBUkY7QUFVRDtBQUNGO0FBQ0QsYUFBT0EsUUFBUDtBQUNEOztBQUVELGFBQVNHLHdCQUFULENBQWtDSixXQUFsQyxFQUErQ0ssUUFBL0MsRUFBeUQ7QUFDdkQsVUFBSUwsWUFBWTM0QixJQUFaLEtBQXFCLFVBQXpCLEVBQXFDO0FBQ25DLFlBQUlpNUIsV0FBVyxFQUFmO0FBQ0E7QUFDRUEscUJBQ0Usb0VBQ0EsVUFEQSxJQUVDakIsb0NBQW9DLEVBRnJDLENBREY7QUFJRDtBQUNEdi9CLGtCQUNFLEtBREYsRUFFRSx1REFGRixFQUdFOE8sT0FBT2xOLFNBQVAsQ0FBaUI2K0IsUUFBakIsQ0FBMEIzK0IsSUFBMUIsQ0FBK0J5K0IsUUFBL0IsTUFBNkMsaUJBQTdDLEdBQ0ksdUJBQXVCenhCLE9BQU95VSxJQUFQLENBQVlnZCxRQUFaLEVBQXNCMUksSUFBdEIsQ0FBMkIsSUFBM0IsQ0FBdkIsR0FBMEQsR0FEOUQsR0FFSTBJLFFBTE4sRUFNRUMsUUFORjtBQVFEO0FBQ0Y7O0FBRUQsYUFBU0Usa0JBQVQsR0FBOEI7QUFDNUIsVUFBSVgsNEJBQ0Ysa0VBQ0EsK0RBREEsR0FFQSxpRUFGQSxJQUdDUixvQ0FBb0MsRUFIckMsQ0FERjs7QUFNQSxVQUFJSSw0QkFBNEJJLHlCQUE1QixDQUFKLEVBQTREO0FBQzFEO0FBQ0Q7QUFDREosa0NBQTRCSSx5QkFBNUIsSUFBeUQsSUFBekQ7O0FBRUE5L0IsY0FDRSxLQURGLEVBRUUsa0VBQ0UsK0RBREYsR0FFRSxtRUFKSixFQUtFcy9CLG9DQUFvQyxFQUx0QztBQU9EOztBQU1ELGFBQVNvQixlQUFULENBQXlCQyxzQkFBekIsRUFBaUQ7QUFDL0MsZUFBU0MsV0FBVCxDQUFxQlgsV0FBckIsRUFBa0NZLGFBQWxDLEVBQWlEO0FBQy9DLFlBQUksQ0FBQ0Ysc0JBQUwsRUFBNkI7QUFFM0I7QUFDRDs7QUFNRCxZQUFJN0gsT0FBT21ILFlBQVlyTixVQUF2QjtBQUNBLFlBQUlrRyxTQUFTLElBQWIsRUFBbUI7QUFDakJBLGVBQUtwRyxVQUFMLEdBQWtCbU8sYUFBbEI7QUFDQVosc0JBQVlyTixVQUFaLEdBQXlCaU8sYUFBekI7QUFDRCxTQUhELE1BR087QUFDTFosc0JBQVl0TixXQUFaLEdBQTBCc04sWUFBWXJOLFVBQVosR0FBeUJpTyxhQUFuRDtBQUNEO0FBQ0RBLHNCQUFjbk8sVUFBZCxHQUEyQixJQUEzQjtBQUNBbU8sc0JBQWM5WixTQUFkLEdBQTBCYixRQUExQjtBQUNEOztBQUVELGVBQVM0YSx1QkFBVCxDQUFpQ2IsV0FBakMsRUFBOENjLGlCQUE5QyxFQUFpRTtBQUMvRCxZQUFJLENBQUNKLHNCQUFMLEVBQTZCO0FBRTNCLGlCQUFPLElBQVA7QUFDRDs7QUFJRCxZQUFJRSxnQkFBZ0JFLGlCQUFwQjtBQUNBLGVBQU9GLGtCQUFrQixJQUF6QixFQUErQjtBQUM3QkQsc0JBQVlYLFdBQVosRUFBeUJZLGFBQXpCO0FBQ0FBLDBCQUFnQkEsY0FBY3JaLE9BQTlCO0FBQ0Q7QUFDRCxlQUFPLElBQVA7QUFDRDs7QUFFRCxlQUFTd1osb0JBQVQsQ0FBOEJmLFdBQTlCLEVBQTJDYyxpQkFBM0MsRUFBOEQ7QUFHNUQsWUFBSUUsbUJBQW1CLElBQUlqUCxHQUFKLEVBQXZCOztBQUVBLFlBQUlrUCxnQkFBZ0JILGlCQUFwQjtBQUNBLGVBQU9HLGtCQUFrQixJQUF6QixFQUErQjtBQUM3QixjQUFJQSxjQUFjeGpCLEdBQWQsS0FBc0IsSUFBMUIsRUFBZ0M7QUFDOUJ1akIsNkJBQWlCcnhCLEdBQWpCLENBQXFCc3hCLGNBQWN4akIsR0FBbkMsRUFBd0N3akIsYUFBeEM7QUFDRCxXQUZELE1BRU87QUFDTEQsNkJBQWlCcnhCLEdBQWpCLENBQXFCc3hCLGNBQWM1bEIsS0FBbkMsRUFBMEM0bEIsYUFBMUM7QUFDRDtBQUNEQSwwQkFBZ0JBLGNBQWMxWixPQUE5QjtBQUNEO0FBQ0QsZUFBT3laLGdCQUFQO0FBQ0Q7O0FBRUQsZUFBU0UsUUFBVCxDQUFrQnRlLEtBQWxCLEVBQXlCdVAsWUFBekIsRUFBdUNuQixjQUF2QyxFQUF1RDtBQUdyRCxZQUFJbVEsUUFBUXBPLHFCQUFxQm5RLEtBQXJCLEVBQTRCdVAsWUFBNUIsRUFBMENuQixjQUExQyxDQUFaO0FBQ0FtUSxjQUFNOWxCLEtBQU4sR0FBYyxDQUFkO0FBQ0E4bEIsY0FBTTVaLE9BQU4sR0FBZ0IsSUFBaEI7QUFDQSxlQUFPNFosS0FBUDtBQUNEOztBQUVELGVBQVNDLFVBQVQsQ0FBb0JDLFFBQXBCLEVBQThCQyxlQUE5QixFQUErQ0MsUUFBL0MsRUFBeUQ7QUFDdkRGLGlCQUFTaG1CLEtBQVQsR0FBaUJrbUIsUUFBakI7QUFDQSxZQUFJLENBQUNiLHNCQUFMLEVBQTZCO0FBRTNCLGlCQUFPWSxlQUFQO0FBQ0Q7QUFDRCxZQUFJbDVCLFVBQVVpNUIsU0FBU3oxQixTQUF2QjtBQUNBLFlBQUl4RCxZQUFZLElBQWhCLEVBQXNCO0FBQ3BCLGNBQUlvNUIsV0FBV3A1QixRQUFRaVQsS0FBdkI7QUFDQSxjQUFJbW1CLFdBQVdGLGVBQWYsRUFBZ0M7QUFFOUJELHFCQUFTdmEsU0FBVCxHQUFxQmhCLFNBQXJCO0FBQ0EsbUJBQU93YixlQUFQO0FBQ0QsV0FKRCxNQUlPO0FBRUwsbUJBQU9FLFFBQVA7QUFDRDtBQUNGLFNBVkQsTUFVTztBQUVMSCxtQkFBU3ZhLFNBQVQsR0FBcUJoQixTQUFyQjtBQUNBLGlCQUFPd2IsZUFBUDtBQUNEO0FBQ0Y7O0FBRUQsZUFBU0csZ0JBQVQsQ0FBMEJKLFFBQTFCLEVBQW9DO0FBR2xDLFlBQUlYLDBCQUEwQlcsU0FBU3oxQixTQUFULEtBQXVCLElBQXJELEVBQTJEO0FBQ3pEeTFCLG1CQUFTdmEsU0FBVCxHQUFxQmhCLFNBQXJCO0FBQ0Q7QUFDRCxlQUFPdWIsUUFBUDtBQUNEOztBQUVELGVBQVNLLGNBQVQsQ0FBd0IxQixXQUF4QixFQUFxQzUzQixPQUFyQyxFQUE4Q3U1QixXQUE5QyxFQUEyRDNRLGNBQTNELEVBQTJFO0FBQ3pFLFlBQUk1b0IsWUFBWSxJQUFaLElBQW9CQSxRQUFRaUIsR0FBUixLQUFnQnNCLFFBQXhDLEVBQWtEO0FBRWhELGNBQUlpM0IsVUFBVW5PLG9CQUNaa08sV0FEWSxFQUVaM0IsWUFBWTVOLElBRkEsRUFHWnBCLGNBSFksQ0FBZDtBQUtBNFEsa0JBQVEsUUFBUixJQUFvQjVCLFdBQXBCO0FBQ0EsaUJBQU80QixPQUFQO0FBQ0QsU0FURCxNQVNPO0FBRUwsY0FBSUMsV0FBV1gsU0FBUzk0QixPQUFULEVBQWtCdTVCLFdBQWxCLEVBQStCM1EsY0FBL0IsQ0FBZjtBQUNBNlEsbUJBQVMsUUFBVCxJQUFxQjdCLFdBQXJCO0FBQ0EsaUJBQU82QixRQUFQO0FBQ0Q7QUFDRjs7QUFFRCxlQUFTQyxhQUFULENBQXVCOUIsV0FBdkIsRUFBb0M1M0IsT0FBcEMsRUFBNkMrcUIsT0FBN0MsRUFBc0RuQyxjQUF0RCxFQUFzRTtBQUNwRSxZQUFJNW9CLFlBQVksSUFBWixJQUFvQkEsUUFBUWYsSUFBUixLQUFpQjhyQixRQUFROXJCLElBQWpELEVBQXVEO0FBRXJELGNBQUl3NkIsV0FBV1gsU0FBUzk0QixPQUFULEVBQWtCK3FCLFFBQVE1cEIsS0FBMUIsRUFBaUN5bkIsY0FBakMsQ0FBZjtBQUNBNlEsbUJBQVN4UCxHQUFULEdBQWUwTixVQUFVQyxXQUFWLEVBQXVCNTNCLE9BQXZCLEVBQWdDK3FCLE9BQWhDLENBQWY7QUFDQTBPLG1CQUFTLFFBQVQsSUFBcUI3QixXQUFyQjtBQUNBO0FBQ0U2QixxQkFBU2paLFlBQVQsR0FBd0J1SyxRQUFRSSxPQUFoQztBQUNBc08scUJBQVNsWixXQUFULEdBQXVCd0ssUUFBUWxSLE1BQS9CO0FBQ0Q7QUFDRCxpQkFBTzRmLFFBQVA7QUFDRCxTQVZELE1BVU87QUFFTCxjQUFJRCxVQUFVMU8sdUJBQ1pDLE9BRFksRUFFWjZNLFlBQVk1TixJQUZBLEVBR1pwQixjQUhZLENBQWQ7QUFLQTRRLGtCQUFRdlAsR0FBUixHQUFjME4sVUFBVUMsV0FBVixFQUF1QjUzQixPQUF2QixFQUFnQytxQixPQUFoQyxDQUFkO0FBQ0F5TyxrQkFBUSxRQUFSLElBQW9CNUIsV0FBcEI7QUFDQSxpQkFBTzRCLE9BQVA7QUFDRDtBQUNGOztBQUVELGVBQVNHLFlBQVQsQ0FBc0IvQixXQUF0QixFQUFtQzUzQixPQUFuQyxFQUE0Q3lyQixNQUE1QyxFQUFvRDdDLGNBQXBELEVBQW9FO0FBQ2xFLFlBQ0U1b0IsWUFBWSxJQUFaLElBQ0FBLFFBQVFpQixHQUFSLEtBQWdCb0IsVUFEaEIsSUFFQXJDLFFBQVF1QixTQUFSLENBQWtCNFQsYUFBbEIsS0FBb0NzVyxPQUFPdFcsYUFGM0MsSUFHQW5WLFFBQVF1QixTQUFSLENBQWtCNlQsY0FBbEIsS0FBcUNxVyxPQUFPclcsY0FKOUMsRUFLRTtBQUVBLGNBQUlva0IsVUFBVWhPLHNCQUNaQyxNQURZLEVBRVptTSxZQUFZNU4sSUFGQSxFQUdacEIsY0FIWSxDQUFkO0FBS0E0USxrQkFBUSxRQUFSLElBQW9CNUIsV0FBcEI7QUFDQSxpQkFBTzRCLE9BQVA7QUFDRCxTQWRELE1BY087QUFFTCxjQUFJQyxXQUFXWCxTQUFTOTRCLE9BQVQsRUFBa0J5ckIsT0FBT3ZXLFFBQVAsSUFBbUIsRUFBckMsRUFBeUMwVCxjQUF6QyxDQUFmO0FBQ0E2USxtQkFBUyxRQUFULElBQXFCN0IsV0FBckI7QUFDQSxpQkFBTzZCLFFBQVA7QUFDRDtBQUNGOztBQUVELGVBQVNHLGNBQVQsQ0FBd0JoQyxXQUF4QixFQUFxQzUzQixPQUFyQyxFQUE4QzY1QixRQUE5QyxFQUF3RGpSLGNBQXhELEVBQXdFdlQsR0FBeEUsRUFBNkU7QUFDM0UsWUFBSXJWLFlBQVksSUFBWixJQUFvQkEsUUFBUWlCLEdBQVIsS0FBZ0IwQixRQUF4QyxFQUFrRDtBQUVoRCxjQUFJNjJCLFVBQVV2Tyx3QkFDWjRPLFFBRFksRUFFWmpDLFlBQVk1TixJQUZBLEVBR1pwQixjQUhZLEVBSVp2VCxHQUpZLENBQWQ7QUFNQW1rQixrQkFBUSxRQUFSLElBQW9CNUIsV0FBcEI7QUFDQSxpQkFBTzRCLE9BQVA7QUFDRCxTQVZELE1BVU87QUFFTCxjQUFJQyxXQUFXWCxTQUFTOTRCLE9BQVQsRUFBa0I2NUIsUUFBbEIsRUFBNEJqUixjQUE1QixDQUFmO0FBQ0E2USxtQkFBUyxRQUFULElBQXFCN0IsV0FBckI7QUFDQSxpQkFBTzZCLFFBQVA7QUFDRDtBQUNGOztBQUVELGVBQVNLLFdBQVQsQ0FBcUJsQyxXQUFyQixFQUFrQ0ssUUFBbEMsRUFBNENyUCxjQUE1QyxFQUE0RDtBQUMxRCxZQUFJLE9BQU9xUCxRQUFQLEtBQW9CLFFBQXBCLElBQWdDLE9BQU9BLFFBQVAsS0FBb0IsUUFBeEQsRUFBa0U7QUFJaEUsY0FBSXVCLFVBQVVuTyxvQkFDWixLQUFLNE0sUUFETyxFQUVaTCxZQUFZNU4sSUFGQSxFQUdacEIsY0FIWSxDQUFkO0FBS0E0USxrQkFBUSxRQUFSLElBQW9CNUIsV0FBcEI7QUFDQSxpQkFBTzRCLE9BQVA7QUFDRDs7QUFFRCxZQUFJLE9BQU92QixRQUFQLEtBQW9CLFFBQXBCLElBQWdDQSxhQUFhLElBQWpELEVBQXVEO0FBQ3JELGtCQUFRQSxTQUFTM2lCLFFBQWpCO0FBQ0UsaUJBQUtwQixrQkFBTDtBQUF5QjtBQUN2QixvQkFBSTZsQixXQUFXalAsdUJBQ2JtTixRQURhLEVBRWJMLFlBQVk1TixJQUZDLEVBR2JwQixjQUhhLENBQWY7QUFLQW1SLHlCQUFTOVAsR0FBVCxHQUFlME4sVUFBVUMsV0FBVixFQUF1QixJQUF2QixFQUE2QkssUUFBN0IsQ0FBZjtBQUNBOEIseUJBQVMsUUFBVCxJQUFxQm5DLFdBQXJCO0FBQ0EsdUJBQU9tQyxRQUFQO0FBQ0Q7QUFDRCxpQkFBSzFsQixpQkFBTDtBQUF3QjtBQUN0QixvQkFBSTJsQixZQUFZeE8sc0JBQ2R5TSxRQURjLEVBRWRMLFlBQVk1TixJQUZFLEVBR2RwQixjQUhjLENBQWhCO0FBS0FvUiwwQkFBVSxRQUFWLElBQXNCcEMsV0FBdEI7QUFDQSx1QkFBT29DLFNBQVA7QUFDRDtBQW5CSDs7QUFzQkEsY0FBSXRDLFVBQVVPLFFBQVYsS0FBdUJuakIsY0FBY21qQixRQUFkLENBQTNCLEVBQW9EO0FBQ2xELGdCQUFJZ0MsWUFBWWhQLHdCQUNkZ04sUUFEYyxFQUVkTCxZQUFZNU4sSUFGRSxFQUdkcEIsY0FIYyxFQUlkLElBSmMsQ0FBaEI7QUFNQXFSLHNCQUFVLFFBQVYsSUFBc0JyQyxXQUF0QjtBQUNBLG1CQUFPcUMsU0FBUDtBQUNEOztBQUVEakMsbUNBQXlCSixXQUF6QixFQUFzQ0ssUUFBdEM7QUFDRDs7QUFFRDtBQUNFLGNBQUksT0FBT0EsUUFBUCxLQUFvQixVQUF4QixFQUFvQztBQUNsQ0c7QUFDRDtBQUNGOztBQUVELGVBQU8sSUFBUDtBQUNEOztBQUVELGVBQVM4QixVQUFULENBQW9CdEMsV0FBcEIsRUFBaUN1QyxRQUFqQyxFQUEyQ2xDLFFBQTNDLEVBQXFEclAsY0FBckQsRUFBcUU7O0FBR25FLFlBQUl2VCxNQUFNOGtCLGFBQWEsSUFBYixHQUFvQkEsU0FBUzlrQixHQUE3QixHQUFtQyxJQUE3Qzs7QUFFQSxZQUFJLE9BQU80aUIsUUFBUCxLQUFvQixRQUFwQixJQUFnQyxPQUFPQSxRQUFQLEtBQW9CLFFBQXhELEVBQWtFO0FBSWhFLGNBQUk1aUIsUUFBUSxJQUFaLEVBQWtCO0FBQ2hCLG1CQUFPLElBQVA7QUFDRDtBQUNELGlCQUFPaWtCLGVBQ0wxQixXQURLLEVBRUx1QyxRQUZLLEVBR0wsS0FBS2xDLFFBSEEsRUFJTHJQLGNBSkssQ0FBUDtBQU1EOztBQUVELFlBQUksT0FBT3FQLFFBQVAsS0FBb0IsUUFBcEIsSUFBZ0NBLGFBQWEsSUFBakQsRUFBdUQ7QUFDckQsa0JBQVFBLFNBQVMzaUIsUUFBakI7QUFDRSxpQkFBS3BCLGtCQUFMO0FBQXlCO0FBQ3ZCLG9CQUFJK2pCLFNBQVM1aUIsR0FBVCxLQUFpQkEsR0FBckIsRUFBMEI7QUFDeEIsc0JBQUk0aUIsU0FBU2g1QixJQUFULEtBQWtCcVYsbUJBQXRCLEVBQTJDO0FBQ3pDLDJCQUFPc2xCLGVBQ0xoQyxXQURLLEVBRUx1QyxRQUZLLEVBR0xsQyxTQUFTOTJCLEtBQVQsQ0FBZStULFFBSFYsRUFJTDBULGNBSkssRUFLTHZULEdBTEssQ0FBUDtBQU9EO0FBQ0QseUJBQU9xa0IsY0FDTDlCLFdBREssRUFFTHVDLFFBRkssRUFHTGxDLFFBSEssRUFJTHJQLGNBSkssQ0FBUDtBQU1ELGlCQWhCRCxNQWdCTztBQUNMLHlCQUFPLElBQVA7QUFDRDtBQUNGO0FBQ0QsaUJBQUt2VSxpQkFBTDtBQUF3QjtBQUN0QixvQkFBSTRqQixTQUFTNWlCLEdBQVQsS0FBaUJBLEdBQXJCLEVBQTBCO0FBQ3hCLHlCQUFPc2tCLGFBQ0wvQixXQURLLEVBRUx1QyxRQUZLLEVBR0xsQyxRQUhLLEVBSUxyUCxjQUpLLENBQVA7QUFNRCxpQkFQRCxNQU9PO0FBQ0wseUJBQU8sSUFBUDtBQUNEO0FBQ0Y7QUFqQ0g7O0FBb0NBLGNBQUk4TyxVQUFVTyxRQUFWLEtBQXVCbmpCLGNBQWNtakIsUUFBZCxDQUEzQixFQUFvRDtBQUNsRCxnQkFBSTVpQixRQUFRLElBQVosRUFBa0I7QUFDaEIscUJBQU8sSUFBUDtBQUNEOztBQUVELG1CQUFPdWtCLGVBQ0xoQyxXQURLLEVBRUx1QyxRQUZLLEVBR0xsQyxRQUhLLEVBSUxyUCxjQUpLLEVBS0wsSUFMSyxDQUFQO0FBT0Q7O0FBRURvUCxtQ0FBeUJKLFdBQXpCLEVBQXNDSyxRQUF0QztBQUNEOztBQUVEO0FBQ0UsY0FBSSxPQUFPQSxRQUFQLEtBQW9CLFVBQXhCLEVBQW9DO0FBQ2xDRztBQUNEO0FBQ0Y7O0FBRUQsZUFBTyxJQUFQO0FBQ0Q7O0FBRUQsZUFBU2dDLGFBQVQsQ0FDRXhCLGdCQURGLEVBRUVoQixXQUZGLEVBR0V5QyxNQUhGLEVBSUVwQyxRQUpGLEVBS0VyUCxjQUxGLEVBTUU7QUFDQSxZQUFJLE9BQU9xUCxRQUFQLEtBQW9CLFFBQXBCLElBQWdDLE9BQU9BLFFBQVAsS0FBb0IsUUFBeEQsRUFBa0U7QUFHaEUsY0FBSXFDLGVBQWUxQixpQkFBaUIvd0IsR0FBakIsQ0FBcUJ3eUIsTUFBckIsS0FBZ0MsSUFBbkQ7QUFDQSxpQkFBT2YsZUFDTDFCLFdBREssRUFFTDBDLFlBRkssRUFHTCxLQUFLckMsUUFIQSxFQUlMclAsY0FKSyxDQUFQO0FBTUQ7O0FBRUQsWUFBSSxPQUFPcVAsUUFBUCxLQUFvQixRQUFwQixJQUFnQ0EsYUFBYSxJQUFqRCxFQUF1RDtBQUNyRCxrQkFBUUEsU0FBUzNpQixRQUFqQjtBQUNFLGlCQUFLcEIsa0JBQUw7QUFBeUI7QUFDdkIsb0JBQUlxbUIsZ0JBQ0YzQixpQkFBaUIvd0IsR0FBakIsQ0FDRW93QixTQUFTNWlCLEdBQVQsS0FBaUIsSUFBakIsR0FBd0JnbEIsTUFBeEIsR0FBaUNwQyxTQUFTNWlCLEdBRDVDLEtBRUssSUFIUDtBQUlBLG9CQUFJNGlCLFNBQVNoNUIsSUFBVCxLQUFrQnFWLG1CQUF0QixFQUEyQztBQUN6Qyx5QkFBT3NsQixlQUNMaEMsV0FESyxFQUVMMkMsYUFGSyxFQUdMdEMsU0FBUzkyQixLQUFULENBQWUrVCxRQUhWLEVBSUwwVCxjQUpLLEVBS0xxUCxTQUFTNWlCLEdBTEosQ0FBUDtBQU9EO0FBQ0QsdUJBQU9xa0IsY0FDTDlCLFdBREssRUFFTDJDLGFBRkssRUFHTHRDLFFBSEssRUFJTHJQLGNBSkssQ0FBUDtBQU1EO0FBQ0QsaUJBQUt2VSxpQkFBTDtBQUF3QjtBQUN0QixvQkFBSW1tQixpQkFDRjVCLGlCQUFpQi93QixHQUFqQixDQUNFb3dCLFNBQVM1aUIsR0FBVCxLQUFpQixJQUFqQixHQUF3QmdsQixNQUF4QixHQUFpQ3BDLFNBQVM1aUIsR0FENUMsS0FFSyxJQUhQO0FBSUEsdUJBQU9za0IsYUFDTC9CLFdBREssRUFFTDRDLGNBRkssRUFHTHZDLFFBSEssRUFJTHJQLGNBSkssQ0FBUDtBQU1EO0FBakNIOztBQW9DQSxjQUFJOE8sVUFBVU8sUUFBVixLQUF1Qm5qQixjQUFjbWpCLFFBQWQsQ0FBM0IsRUFBb0Q7QUFDbEQsZ0JBQUl3QyxpQkFBaUI3QixpQkFBaUIvd0IsR0FBakIsQ0FBcUJ3eUIsTUFBckIsS0FBZ0MsSUFBckQ7QUFDQSxtQkFBT1QsZUFDTGhDLFdBREssRUFFTDZDLGNBRkssRUFHTHhDLFFBSEssRUFJTHJQLGNBSkssRUFLTCxJQUxLLENBQVA7QUFPRDs7QUFFRG9QLG1DQUF5QkosV0FBekIsRUFBc0NLLFFBQXRDO0FBQ0Q7O0FBRUQ7QUFDRSxjQUFJLE9BQU9BLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0M7QUFDbENHO0FBQ0Q7QUFDRjs7QUFFRCxlQUFPLElBQVA7QUFDRDs7QUFLRCxlQUFTc0MsZ0JBQVQsQ0FBMEJ4YixLQUExQixFQUFpQ3liLFNBQWpDLEVBQTRDO0FBQzFDO0FBQ0UsY0FBSSxPQUFPemIsS0FBUCxLQUFpQixRQUFqQixJQUE2QkEsVUFBVSxJQUEzQyxFQUFpRDtBQUMvQyxtQkFBT3liLFNBQVA7QUFDRDtBQUNELGtCQUFRemIsTUFBTTVKLFFBQWQ7QUFDRSxpQkFBS3BCLGtCQUFMO0FBQ0EsaUJBQUtHLGlCQUFMO0FBQ0VpakIsZ0NBQWtCcFksS0FBbEI7QUFDQSxrQkFBSTdKLE1BQU02SixNQUFNN0osR0FBaEI7QUFDQSxrQkFBSSxPQUFPQSxHQUFQLEtBQWUsUUFBbkIsRUFBNkI7QUFDM0I7QUFDRDtBQUNELGtCQUFJc2xCLGNBQWMsSUFBbEIsRUFBd0I7QUFDdEJBLDRCQUFZLElBQUk3WCxHQUFKLEVBQVo7QUFDQTZYLDBCQUFVeFcsR0FBVixDQUFjOU8sR0FBZDtBQUNBO0FBQ0Q7QUFDRCxrQkFBSSxDQUFDc2xCLFVBQVV6VyxHQUFWLENBQWM3TyxHQUFkLENBQUwsRUFBeUI7QUFDdkJzbEIsMEJBQVV4VyxHQUFWLENBQWM5TyxHQUFkO0FBQ0E7QUFDRDtBQUNEMWQsc0JBQ0UsS0FERixFQUVFLHVEQUNFLG1FQURGLEdBRUUsMkRBRkYsR0FHRSw4REFIRixHQUlFLHFDQU5KLEVBT0UwZCxHQVBGLEVBUUU0aEIsZ0NBUkY7QUFVQTtBQUNGO0FBQ0U7QUE3Qko7QUErQkQ7QUFDRCxlQUFPMEQsU0FBUDtBQUNEOztBQUVELGVBQVNDLHNCQUFULENBQ0VoRCxXQURGLEVBRUVjLGlCQUZGLEVBR0VtQyxXQUhGLEVBSUVqUyxjQUpGLEVBS0U7O0FBb0JBO0FBRUUsY0FBSStSLFlBQVksSUFBaEI7QUFDQSxlQUFLLElBQUl0N0IsSUFBSSxDQUFiLEVBQWdCQSxJQUFJdzdCLFlBQVluOEIsTUFBaEMsRUFBd0NXLEdBQXhDLEVBQTZDO0FBQzNDLGdCQUFJNmYsUUFBUTJiLFlBQVl4N0IsQ0FBWixDQUFaO0FBQ0FzN0Isd0JBQVlELGlCQUFpQnhiLEtBQWpCLEVBQXdCeWIsU0FBeEIsQ0FBWjtBQUNEO0FBQ0Y7O0FBRUQsWUFBSUcsc0JBQXNCLElBQTFCO0FBQ0EsWUFBSUMsbUJBQW1CLElBQXZCOztBQUVBLFlBQUlaLFdBQVd6QixpQkFBZjtBQUNBLFlBQUlRLGtCQUFrQixDQUF0QjtBQUNBLFlBQUltQixTQUFTLENBQWI7QUFDQSxZQUFJVyxlQUFlLElBQW5CO0FBQ0EsZUFBT2IsYUFBYSxJQUFiLElBQXFCRSxTQUFTUSxZQUFZbjhCLE1BQWpELEVBQXlEMjdCLFFBQXpELEVBQW1FO0FBQ2pFLGNBQUlGLFNBQVNsbkIsS0FBVCxHQUFpQm9uQixNQUFyQixFQUE2QjtBQUMzQlcsMkJBQWViLFFBQWY7QUFDQUEsdUJBQVcsSUFBWDtBQUNELFdBSEQsTUFHTztBQUNMYSwyQkFBZWIsU0FBU2hiLE9BQXhCO0FBQ0Q7QUFDRCxjQUFJOFosV0FBV2lCLFdBQ2J0QyxXQURhLEVBRWJ1QyxRQUZhLEVBR2JVLFlBQVlSLE1BQVosQ0FIYSxFQUlielIsY0FKYSxDQUFmO0FBTUEsY0FBSXFRLGFBQWEsSUFBakIsRUFBdUI7QUFLckIsZ0JBQUlrQixhQUFhLElBQWpCLEVBQXVCO0FBQ3JCQSx5QkFBV2EsWUFBWDtBQUNEO0FBQ0Q7QUFDRDtBQUNELGNBQUkxQyxzQkFBSixFQUE0QjtBQUMxQixnQkFBSTZCLFlBQVlsQixTQUFTejFCLFNBQVQsS0FBdUIsSUFBdkMsRUFBNkM7QUFHM0MrMEIsMEJBQVlYLFdBQVosRUFBeUJ1QyxRQUF6QjtBQUNEO0FBQ0Y7QUFDRGpCLDRCQUFrQkYsV0FBV0MsUUFBWCxFQUFxQkMsZUFBckIsRUFBc0NtQixNQUF0QyxDQUFsQjtBQUNBLGNBQUlVLHFCQUFxQixJQUF6QixFQUErQjtBQUU3QkQsa0NBQXNCN0IsUUFBdEI7QUFDRCxXQUhELE1BR087QUFLTDhCLDZCQUFpQjViLE9BQWpCLEdBQTJCOFosUUFBM0I7QUFDRDtBQUNEOEIsNkJBQW1COUIsUUFBbkI7QUFDQWtCLHFCQUFXYSxZQUFYO0FBQ0Q7O0FBRUQsWUFBSVgsV0FBV1EsWUFBWW44QixNQUEzQixFQUFtQztBQUVqQys1QixrQ0FBd0JiLFdBQXhCLEVBQXFDdUMsUUFBckM7QUFDQSxpQkFBT1csbUJBQVA7QUFDRDs7QUFFRCxZQUFJWCxhQUFhLElBQWpCLEVBQXVCO0FBR3JCLGlCQUFPRSxTQUFTUSxZQUFZbjhCLE1BQTVCLEVBQW9DMjdCLFFBQXBDLEVBQThDO0FBQzVDLGdCQUFJWSxZQUFZbkIsWUFDZGxDLFdBRGMsRUFFZGlELFlBQVlSLE1BQVosQ0FGYyxFQUdkelIsY0FIYyxDQUFoQjtBQUtBLGdCQUFJLENBQUNxUyxTQUFMLEVBQWdCO0FBQ2Q7QUFDRDtBQUNEL0IsOEJBQWtCRixXQUFXaUMsU0FBWCxFQUFzQi9CLGVBQXRCLEVBQXVDbUIsTUFBdkMsQ0FBbEI7QUFDQSxnQkFBSVUscUJBQXFCLElBQXpCLEVBQStCO0FBRTdCRCxvQ0FBc0JHLFNBQXRCO0FBQ0QsYUFIRCxNQUdPO0FBQ0xGLCtCQUFpQjViLE9BQWpCLEdBQTJCOGIsU0FBM0I7QUFDRDtBQUNERiwrQkFBbUJFLFNBQW5CO0FBQ0Q7QUFDRCxpQkFBT0gsbUJBQVA7QUFDRDs7QUFHRCxZQUFJbEMsbUJBQW1CRCxxQkFBcUJmLFdBQXJCLEVBQWtDdUMsUUFBbEMsQ0FBdkI7O0FBR0EsZUFBT0UsU0FBU1EsWUFBWW44QixNQUE1QixFQUFvQzI3QixRQUFwQyxFQUE4QztBQUM1QyxjQUFJYSxhQUFhZCxjQUNmeEIsZ0JBRGUsRUFFZmhCLFdBRmUsRUFHZnlDLE1BSGUsRUFJZlEsWUFBWVIsTUFBWixDQUplLEVBS2Z6UixjQUxlLENBQWpCO0FBT0EsY0FBSXNTLFVBQUosRUFBZ0I7QUFDZCxnQkFBSTVDLHNCQUFKLEVBQTRCO0FBQzFCLGtCQUFJNEMsV0FBVzEzQixTQUFYLEtBQXlCLElBQTdCLEVBQW1DO0FBS2pDbzFCLGlDQUFpQixRQUFqQixFQUNFc0MsV0FBVzdsQixHQUFYLEtBQW1CLElBQW5CLEdBQTBCZ2xCLE1BQTFCLEdBQW1DYSxXQUFXN2xCLEdBRGhEO0FBR0Q7QUFDRjtBQUNENmpCLDhCQUFrQkYsV0FBV2tDLFVBQVgsRUFBdUJoQyxlQUF2QixFQUF3Q21CLE1BQXhDLENBQWxCO0FBQ0EsZ0JBQUlVLHFCQUFxQixJQUF6QixFQUErQjtBQUM3QkQsb0NBQXNCSSxVQUF0QjtBQUNELGFBRkQsTUFFTztBQUNMSCwrQkFBaUI1YixPQUFqQixHQUEyQitiLFVBQTNCO0FBQ0Q7QUFDREgsK0JBQW1CRyxVQUFuQjtBQUNEO0FBQ0Y7O0FBRUQsWUFBSTVDLHNCQUFKLEVBQTRCO0FBRzFCTSwyQkFBaUJwNEIsT0FBakIsQ0FBeUIsVUFBUzBlLEtBQVQsRUFBZ0I7QUFDdkMsbUJBQU9xWixZQUFZWCxXQUFaLEVBQXlCMVksS0FBekIsQ0FBUDtBQUNELFdBRkQ7QUFHRDs7QUFFRCxlQUFPNGIsbUJBQVA7QUFDRDs7QUFFRCxlQUFTSyx5QkFBVCxDQUNFdkQsV0FERixFQUVFYyxpQkFGRixFQUdFMEMsbUJBSEYsRUFJRXhTLGNBSkYsRUFLRTs7QUFJQSxZQUFJeVMsYUFBYXZtQixjQUFjc21CLG1CQUFkLENBQWpCO0FBQ0ExakMsa0JBQ0UsT0FBTzJqQyxVQUFQLEtBQXNCLFVBRHhCLEVBRUUsMkVBQ0UsOEJBSEo7O0FBTUE7QUFFRSxjQUFJLE9BQU9ELG9CQUFvQkUsT0FBM0IsS0FBdUMsVUFBM0MsRUFBdUQ7QUFDckQsZ0JBQUlDLGNBQWNILG1CQUFsQjtBQUNBLGdCQUFJRyxZQUFZRCxPQUFaLEtBQXdCRCxVQUE1QixFQUF3QztBQUN0QzFqQyxzQkFDRXUvQixnQkFERixFQUVFLGlFQUNFLGlFQURGLEdBRUUsMEJBSkosRUFLRUQsZ0NBTEY7QUFPQUMsaUNBQW1CLElBQW5CO0FBQ0Q7QUFDRjs7QUFJRCxjQUFJc0UsZUFBZUgsV0FBVzdoQyxJQUFYLENBQWdCNGhDLG1CQUFoQixDQUFuQjtBQUNBLGNBQUlJLFlBQUosRUFBa0I7QUFDaEIsZ0JBQUliLFlBQVksSUFBaEI7QUFDQSxnQkFBSWMsUUFBUUQsYUFBYXY3QixJQUFiLEVBQVo7QUFDQSxtQkFBTyxDQUFDdzdCLE1BQU1DLElBQWQsRUFBb0JELFFBQVFELGFBQWF2N0IsSUFBYixFQUE1QixFQUFpRDtBQUMvQyxrQkFBSWlmLFFBQVF1YyxNQUFNaDBCLEtBQWxCO0FBQ0FrekIsMEJBQVlELGlCQUFpQnhiLEtBQWpCLEVBQXdCeWIsU0FBeEIsQ0FBWjtBQUNEO0FBQ0Y7QUFDRjs7QUFFRCxZQUFJRSxjQUFjUSxXQUFXN2hDLElBQVgsQ0FBZ0I0aEMsbUJBQWhCLENBQWxCO0FBQ0ExakMsa0JBQVVtakMsZUFBZSxJQUF6QixFQUErQiwwQ0FBL0I7O0FBRUEsWUFBSUMsc0JBQXNCLElBQTFCO0FBQ0EsWUFBSUMsbUJBQW1CLElBQXZCOztBQUVBLFlBQUlaLFdBQVd6QixpQkFBZjtBQUNBLFlBQUlRLGtCQUFrQixDQUF0QjtBQUNBLFlBQUltQixTQUFTLENBQWI7QUFDQSxZQUFJVyxlQUFlLElBQW5COztBQUVBLFlBQUlXLE9BQU9kLFlBQVk1NkIsSUFBWixFQUFYO0FBQ0EsZUFFRWs2QixhQUFhLElBQWIsSUFBcUIsQ0FBQ3dCLEtBQUtELElBRjdCLEVBR0VyQixVQUFVc0IsT0FBT2QsWUFBWTU2QixJQUFaLEVBSG5CLEVBSUU7QUFDQSxjQUFJazZCLFNBQVNsbkIsS0FBVCxHQUFpQm9uQixNQUFyQixFQUE2QjtBQUMzQlcsMkJBQWViLFFBQWY7QUFDQUEsdUJBQVcsSUFBWDtBQUNELFdBSEQsTUFHTztBQUNMYSwyQkFBZWIsU0FBU2hiLE9BQXhCO0FBQ0Q7QUFDRCxjQUFJOFosV0FBV2lCLFdBQ2J0QyxXQURhLEVBRWJ1QyxRQUZhLEVBR2J3QixLQUFLbDBCLEtBSFEsRUFJYm1oQixjQUphLENBQWY7QUFNQSxjQUFJcVEsYUFBYSxJQUFqQixFQUF1QjtBQUtyQixnQkFBSSxDQUFDa0IsUUFBTCxFQUFlO0FBQ2JBLHlCQUFXYSxZQUFYO0FBQ0Q7QUFDRDtBQUNEO0FBQ0QsY0FBSTFDLHNCQUFKLEVBQTRCO0FBQzFCLGdCQUFJNkIsWUFBWWxCLFNBQVN6MUIsU0FBVCxLQUF1QixJQUF2QyxFQUE2QztBQUczQyswQiwwQkFBWVgsV0FBWixFQUF5QnVDLFFBQXpCO0FBQ0Q7QUFDRjtBQUNEakIsNEJBQWtCRixXQUFXQyxRQUFYLEVBQXFCQyxlQUFyQixFQUFzQ21CLE1BQXRDLENBQWxCO0FBQ0EsY0FBSVUscUJBQXFCLElBQXpCLEVBQStCO0FBRTdCRCxrQ0FBc0I3QixRQUF0QjtBQUNELFdBSEQsTUFHTztBQUtMOEIsNkJBQWlCNWIsT0FBakIsR0FBMkI4WixRQUEzQjtBQUNEO0FBQ0Q4Qiw2QkFBbUI5QixRQUFuQjtBQUNBa0IscUJBQVdhLFlBQVg7QUFDRDs7QUFFRCxZQUFJVyxLQUFLRCxJQUFULEVBQWU7QUFFYmpELGtDQUF3QmIsV0FBeEIsRUFBcUN1QyxRQUFyQztBQUNBLGlCQUFPVyxtQkFBUDtBQUNEOztBQUVELFlBQUlYLGFBQWEsSUFBakIsRUFBdUI7QUFHckIsaUJBQU8sQ0FBQ3dCLEtBQUtELElBQWIsRUFBbUJyQixVQUFVc0IsT0FBT2QsWUFBWTU2QixJQUFaLEVBQXBDLEVBQXdEO0FBQ3RELGdCQUFJMjdCLGFBQWE5QixZQUFZbEMsV0FBWixFQUF5QitELEtBQUtsMEIsS0FBOUIsRUFBcUNtaEIsY0FBckMsQ0FBakI7QUFDQSxnQkFBSWdULGVBQWUsSUFBbkIsRUFBeUI7QUFDdkI7QUFDRDtBQUNEMUMsOEJBQWtCRixXQUFXNEMsVUFBWCxFQUF1QjFDLGVBQXZCLEVBQXdDbUIsTUFBeEMsQ0FBbEI7QUFDQSxnQkFBSVUscUJBQXFCLElBQXpCLEVBQStCO0FBRTdCRCxvQ0FBc0JjLFVBQXRCO0FBQ0QsYUFIRCxNQUdPO0FBQ0xiLCtCQUFpQjViLE9BQWpCLEdBQTJCeWMsVUFBM0I7QUFDRDtBQUNEYiwrQkFBbUJhLFVBQW5CO0FBQ0Q7QUFDRCxpQkFBT2QsbUJBQVA7QUFDRDs7QUFHRCxZQUFJbEMsbUJBQW1CRCxxQkFBcUJmLFdBQXJCLEVBQWtDdUMsUUFBbEMsQ0FBdkI7O0FBR0EsZUFBTyxDQUFDd0IsS0FBS0QsSUFBYixFQUFtQnJCLFVBQVVzQixPQUFPZCxZQUFZNTZCLElBQVosRUFBcEMsRUFBd0Q7QUFDdEQsY0FBSTQ3QixhQUFhekIsY0FDZnhCLGdCQURlLEVBRWZoQixXQUZlLEVBR2Z5QyxNQUhlLEVBSWZzQixLQUFLbDBCLEtBSlUsRUFLZm1oQixjQUxlLENBQWpCO0FBT0EsY0FBSWlULGVBQWUsSUFBbkIsRUFBeUI7QUFDdkIsZ0JBQUl2RCxzQkFBSixFQUE0QjtBQUMxQixrQkFBSXVELFdBQVdyNEIsU0FBWCxLQUF5QixJQUE3QixFQUFtQztBQUtqQ28xQixpQ0FBaUIsUUFBakIsRUFDRWlELFdBQVd4bUIsR0FBWCxLQUFtQixJQUFuQixHQUEwQmdsQixNQUExQixHQUFtQ3dCLFdBQVd4bUIsR0FEaEQ7QUFHRDtBQUNGO0FBQ0Q2akIsOEJBQWtCRixXQUFXNkMsVUFBWCxFQUF1QjNDLGVBQXZCLEVBQXdDbUIsTUFBeEMsQ0FBbEI7QUFDQSxnQkFBSVUscUJBQXFCLElBQXpCLEVBQStCO0FBQzdCRCxvQ0FBc0JlLFVBQXRCO0FBQ0QsYUFGRCxNQUVPO0FBQ0xkLCtCQUFpQjViLE9BQWpCLEdBQTJCMGMsVUFBM0I7QUFDRDtBQUNEZCwrQkFBbUJjLFVBQW5CO0FBQ0Q7QUFDRjs7QUFFRCxZQUFJdkQsc0JBQUosRUFBNEI7QUFHMUJNLDJCQUFpQnA0QixPQUFqQixDQUF5QixVQUFTMGUsS0FBVCxFQUFnQjtBQUN2QyxtQkFBT3FaLFlBQVlYLFdBQVosRUFBeUIxWSxLQUF6QixDQUFQO0FBQ0QsV0FGRDtBQUdEOztBQUVELGVBQU80YixtQkFBUDtBQUNEOztBQUVELGVBQVNnQix1QkFBVCxDQUNFbEUsV0FERixFQUVFYyxpQkFGRixFQUdFYSxXQUhGLEVBSUUzUSxjQUpGLEVBS0U7QUFHQSxZQUFJOFAsc0JBQXNCLElBQXRCLElBQThCQSxrQkFBa0J6M0IsR0FBbEIsS0FBMEJzQixRQUE1RCxFQUFzRTtBQUdwRWsyQixrQ0FBd0JiLFdBQXhCLEVBQXFDYyxrQkFBa0J2WixPQUF2RDtBQUNBLGNBQUlzYSxXQUFXWCxTQUFTSixpQkFBVCxFQUE0QmEsV0FBNUIsRUFBeUMzUSxjQUF6QyxDQUFmO0FBQ0E2USxtQkFBUyxRQUFULElBQXFCN0IsV0FBckI7QUFDQSxpQkFBTzZCLFFBQVA7QUFDRDs7QUFHRGhCLGdDQUF3QmIsV0FBeEIsRUFBcUNjLGlCQUFyQztBQUNBLFlBQUljLFVBQVVuTyxvQkFDWmtPLFdBRFksRUFFWjNCLFlBQVk1TixJQUZBLEVBR1pwQixjQUhZLENBQWQ7QUFLQTRRLGdCQUFRLFFBQVIsSUFBb0I1QixXQUFwQjtBQUNBLGVBQU80QixPQUFQO0FBQ0Q7O0FBRUQsZUFBU3VDLHNCQUFULENBQ0VuRSxXQURGLEVBRUVjLGlCQUZGLEVBR0UzTixPQUhGLEVBSUVuQyxjQUpGLEVBS0U7QUFDQSxZQUFJdlQsTUFBTTBWLFFBQVExVixHQUFsQjtBQUNBLFlBQUk2SixRQUFRd1osaUJBQVo7QUFDQSxlQUFPeFosVUFBVSxJQUFqQixFQUF1QjtBQUdyQixjQUFJQSxNQUFNN0osR0FBTixLQUFjQSxHQUFsQixFQUF1QjtBQUNyQixnQkFDRTZKLE1BQU1qZSxHQUFOLEtBQWMwQixRQUFkLEdBQ0lvb0IsUUFBUTlyQixJQUFSLEtBQWlCcVYsbUJBRHJCLEdBRUk0SyxNQUFNamdCLElBQU4sS0FBZThyQixRQUFROXJCLElBSDdCLEVBSUU7QUFDQXc1QixzQ0FBd0JiLFdBQXhCLEVBQXFDMVksTUFBTUMsT0FBM0M7QUFDQSxrQkFBSXNhLFdBQVdYLFNBQ2I1WixLQURhLEVBRWI2TCxRQUFROXJCLElBQVIsS0FBaUJxVixtQkFBakIsR0FDSXlXLFFBQVE1cEIsS0FBUixDQUFjK1QsUUFEbEIsR0FFSTZWLFFBQVE1cEIsS0FKQyxFQUtieW5CLGNBTGEsQ0FBZjtBQU9BNlEsdUJBQVN4UCxHQUFULEdBQWUwTixVQUFVQyxXQUFWLEVBQXVCMVksS0FBdkIsRUFBOEI2TCxPQUE5QixDQUFmO0FBQ0EwTyx1QkFBUyxRQUFULElBQXFCN0IsV0FBckI7QUFDQTtBQUNFNkIseUJBQVNqWixZQUFULEdBQXdCdUssUUFBUUksT0FBaEM7QUFDQXNPLHlCQUFTbFosV0FBVCxHQUF1QndLLFFBQVFsUixNQUEvQjtBQUNEO0FBQ0QscUJBQU80ZixRQUFQO0FBQ0QsYUFwQkQsTUFvQk87QUFDTGhCLHNDQUF3QmIsV0FBeEIsRUFBcUMxWSxLQUFyQztBQUNBO0FBQ0Q7QUFDRixXQXpCRCxNQXlCTztBQUNMcVosd0JBQVlYLFdBQVosRUFBeUIxWSxLQUF6QjtBQUNEO0FBQ0RBLGtCQUFRQSxNQUFNQyxPQUFkO0FBQ0Q7O0FBRUQsWUFBSTRMLFFBQVE5ckIsSUFBUixLQUFpQnFWLG1CQUFyQixFQUEwQztBQUN4QyxjQUFJa2xCLFVBQVV2Tyx3QkFDWkYsUUFBUTVwQixLQUFSLENBQWMrVCxRQURGLEVBRVowaUIsWUFBWTVOLElBRkEsRUFHWnBCLGNBSFksRUFJWm1DLFFBQVExVixHQUpJLENBQWQ7QUFNQW1rQixrQkFBUSxRQUFSLElBQW9CNUIsV0FBcEI7QUFDQSxpQkFBTzRCLE9BQVA7QUFDRCxTQVRELE1BU087QUFDTCxjQUFJd0MsWUFBWWxSLHVCQUNkQyxPQURjLEVBRWQ2TSxZQUFZNU4sSUFGRSxFQUdkcEIsY0FIYyxDQUFoQjtBQUtBb1Qsb0JBQVUvUixHQUFWLEdBQWdCME4sVUFBVUMsV0FBVixFQUF1QmMsaUJBQXZCLEVBQTBDM04sT0FBMUMsQ0FBaEI7QUFDQWlSLG9CQUFVLFFBQVYsSUFBc0JwRSxXQUF0QjtBQUNBLGlCQUFPb0UsU0FBUDtBQUNEO0FBQ0Y7O0FBRUQsZUFBU0MscUJBQVQsQ0FDRXJFLFdBREYsRUFFRWMsaUJBRkYsRUFHRWpOLE1BSEYsRUFJRTdDLGNBSkYsRUFLRTtBQUNBLFlBQUl2VCxNQUFNb1csT0FBT3BXLEdBQWpCO0FBQ0EsWUFBSTZKLFFBQVF3WixpQkFBWjtBQUNBLGVBQU94WixVQUFVLElBQWpCLEVBQXVCO0FBR3JCLGNBQUlBLE1BQU03SixHQUFOLEtBQWNBLEdBQWxCLEVBQXVCO0FBQ3JCLGdCQUNFNkosTUFBTWplLEdBQU4sS0FBY29CLFVBQWQsSUFDQTZjLE1BQU0zZCxTQUFOLENBQWdCNFQsYUFBaEIsS0FBa0NzVyxPQUFPdFcsYUFEekMsSUFFQStKLE1BQU0zZCxTQUFOLENBQWdCNlQsY0FBaEIsS0FBbUNxVyxPQUFPclcsY0FINUMsRUFJRTtBQUNBcWpCLHNDQUF3QmIsV0FBeEIsRUFBcUMxWSxNQUFNQyxPQUEzQztBQUNBLGtCQUFJc2EsV0FBV1gsU0FBUzVaLEtBQVQsRUFBZ0J1TSxPQUFPdlcsUUFBUCxJQUFtQixFQUFuQyxFQUF1QzBULGNBQXZDLENBQWY7QUFDQTZRLHVCQUFTLFFBQVQsSUFBcUI3QixXQUFyQjtBQUNBLHFCQUFPNkIsUUFBUDtBQUNELGFBVEQsTUFTTztBQUNMaEIsc0NBQXdCYixXQUF4QixFQUFxQzFZLEtBQXJDO0FBQ0E7QUFDRDtBQUNGLFdBZEQsTUFjTztBQUNMcVosd0JBQVlYLFdBQVosRUFBeUIxWSxLQUF6QjtBQUNEO0FBQ0RBLGtCQUFRQSxNQUFNQyxPQUFkO0FBQ0Q7O0FBRUQsWUFBSXFhLFVBQVVoTyxzQkFDWkMsTUFEWSxFQUVabU0sWUFBWTVOLElBRkEsRUFHWnBCLGNBSFksQ0FBZDtBQUtBNFEsZ0JBQVEsUUFBUixJQUFvQjVCLFdBQXBCO0FBQ0EsZUFBTzRCLE9BQVA7QUFDRDs7QUFLRCxlQUFTMEMsb0JBQVQsQ0FDRXRFLFdBREYsRUFFRWMsaUJBRkYsRUFHRVQsUUFIRixFQUlFclAsY0FKRixFQUtFO0FBU0EsWUFDRSxPQUFPcVAsUUFBUCxLQUFvQixRQUFwQixJQUNBQSxhQUFhLElBRGIsSUFFQUEsU0FBU2g1QixJQUFULEtBQWtCcVYsbUJBRmxCLElBR0EyakIsU0FBUzVpQixHQUFULEtBQWlCLElBSm5CLEVBS0U7QUFDQTRpQixxQkFBV0EsU0FBUzkyQixLQUFULENBQWUrVCxRQUExQjtBQUNEOztBQUdELFlBQUlpbkIsV0FBVyxPQUFPbEUsUUFBUCxLQUFvQixRQUFwQixJQUFnQ0EsYUFBYSxJQUE1RDs7QUFFQSxZQUFJa0UsUUFBSixFQUFjO0FBQ1osa0JBQVFsRSxTQUFTM2lCLFFBQWpCO0FBQ0UsaUJBQUtwQixrQkFBTDtBQUNFLHFCQUFPbWxCLGlCQUNMMEMsdUJBQ0VuRSxXQURGLEVBRUVjLGlCQUZGLEVBR0VULFFBSEYsRUFJRXJQLGNBSkYsQ0FESyxDQUFQO0FBUUYsaUJBQUt2VSxpQkFBTDtBQUNFLHFCQUFPZ2xCLGlCQUNMNEMsc0JBQ0VyRSxXQURGLEVBRUVjLGlCQUZGLEVBR0VULFFBSEYsRUFJRXJQLGNBSkYsQ0FESyxDQUFQO0FBWEo7QUFvQkQ7O0FBRUQsWUFBSSxPQUFPcVAsUUFBUCxLQUFvQixRQUFwQixJQUFnQyxPQUFPQSxRQUFQLEtBQW9CLFFBQXhELEVBQWtFO0FBQ2hFLGlCQUFPb0IsaUJBQ0x5Qyx3QkFDRWxFLFdBREYsRUFFRWMsaUJBRkYsRUFHRSxLQUFLVCxRQUhQLEVBSUVyUCxjQUpGLENBREssQ0FBUDtBQVFEOztBQUVELFlBQUk4TyxVQUFVTyxRQUFWLENBQUosRUFBeUI7QUFDdkIsaUJBQU8yQyx1QkFDTGhELFdBREssRUFFTGMsaUJBRkssRUFHTFQsUUFISyxFQUlMclAsY0FKSyxDQUFQO0FBTUQ7O0FBRUQsWUFBSTlULGNBQWNtakIsUUFBZCxDQUFKLEVBQTZCO0FBQzNCLGlCQUFPa0QsMEJBQ0x2RCxXQURLLEVBRUxjLGlCQUZLLEVBR0xULFFBSEssRUFJTHJQLGNBSkssQ0FBUDtBQU1EOztBQUVELFlBQUl1VCxRQUFKLEVBQWM7QUFDWm5FLG1DQUF5QkosV0FBekIsRUFBc0NLLFFBQXRDO0FBQ0Q7O0FBRUQ7QUFDRSxjQUFJLE9BQU9BLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0M7QUFDbENHO0FBQ0Q7QUFDRjtBQUNELFlBQUksT0FBT0gsUUFBUCxLQUFvQixXQUF4QixFQUFxQztBQUluQyxrQkFBUUwsWUFBWTMyQixHQUFwQjtBQUNFLGlCQUFLa0IsY0FBTDtBQUFxQjtBQUNuQjtBQUNFLHNCQUFJb0csV0FBV3F2QixZQUFZcjJCLFNBQTNCO0FBQ0Esc0JBQUlnSCxTQUFTeVMsTUFBVCxDQUFnQm9oQixlQUFwQixFQUFxQztBQUVuQztBQUNEO0FBQ0Y7QUFDRjs7QUFJRCxpQkFBS2w2QixtQkFBTDtBQUEwQjtBQUN4QixvQkFBSXFiLFlBQVlxYSxZQUFZMzRCLElBQTVCO0FBQ0F2SCwwQkFDRSxLQURGLEVBRUUscUVBQ0Usc0RBREYsR0FFRSxjQUpKLEVBS0U2bEIsVUFBVXpELFdBQVYsSUFBeUJ5RCxVQUFVOWtCLElBQW5DLElBQTJDLFdBTDdDO0FBT0Q7QUF0Qkg7QUF3QkQ7O0FBR0QsZUFBT2dnQyx3QkFBd0JiLFdBQXhCLEVBQXFDYyxpQkFBckMsQ0FBUDtBQUNEOztBQUVELGFBQU93RCxvQkFBUDtBQUNEOztBQUVELFFBQUlBLHVCQUF1QjdELGdCQUFnQixJQUFoQixDQUEzQjtBQUNBLFFBQUlnRSxtQkFBbUJoRSxnQkFBZ0IsS0FBaEIsQ0FBdkI7O0FBRUEsYUFBU2lFLGdCQUFULENBQTBCdDhCLE9BQTFCLEVBQW1DMGdCLGNBQW5DLEVBQW1EO0FBQ2pEaHBCLGdCQUNFc0ksWUFBWSxJQUFaLElBQW9CMGdCLGVBQWV4QixLQUFmLEtBQXlCbGYsUUFBUWtmLEtBRHZELEVBRUUsb0NBRkY7O0FBS0EsVUFBSXdCLGVBQWV4QixLQUFmLEtBQXlCLElBQTdCLEVBQW1DO0FBQ2pDO0FBQ0Q7O0FBRUQsVUFBSXFkLGVBQWU3YixlQUFleEIsS0FBbEM7QUFDQSxVQUFJK1ksV0FBV3ROLHFCQUNiNFIsWUFEYSxFQUViQSxhQUFheFMsWUFGQSxFQUdid1MsYUFBYTNULGNBSEEsQ0FBZjtBQUtBbEkscUJBQWV4QixLQUFmLEdBQXVCK1ksUUFBdkI7O0FBRUFBLGVBQVMsUUFBVCxJQUFxQnZYLGNBQXJCO0FBQ0EsYUFBTzZiLGFBQWFwZCxPQUFiLEtBQXlCLElBQWhDLEVBQXNDO0FBQ3BDb2QsdUJBQWVBLGFBQWFwZCxPQUE1QjtBQUNBOFksbUJBQVdBLFNBQVM5WSxPQUFULEdBQW1Cd0wscUJBQzVCNFIsWUFENEIsRUFFNUJBLGFBQWF4UyxZQUZlLEVBRzVCd1MsYUFBYTNULGNBSGUsQ0FBOUI7QUFLQXFQLGlCQUFTLFFBQVQsSUFBcUJ2WCxjQUFyQjtBQUNEO0FBQ0R1WCxlQUFTOVksT0FBVCxHQUFtQixJQUFuQjtBQUNEOztBQUVELFFBQUlxZCxtQkFBbUIsRUFBdkI7QUFDQSxRQUFJQyxvQkFBb0IsRUFBeEI7QUFDQSxRQUFJQyxRQUFRLEVBQVo7QUFDQSxRQUFJQyxVQUFVLENBQUMsQ0FBZjs7QUFFQSxRQUFJQyxnQkFBZ0IsS0FBSyxDQUF6QjtBQUNBO0FBRUVBLHNCQUFnQixFQUFoQjtBQUNEOztBQUVELGFBQVNDLFlBQVQsQ0FBc0JDLGFBQXRCLEVBQXFDO0FBQ25DLFVBQUlua0MsVUFBVW1rQyxjQUFjNzlCLElBQWQsQ0FBbUJ0RyxPQUFqQztBQUNBZ2tDLGlCQUFXLENBQVg7QUFDQUgsdUJBQWlCRyxPQUFqQixJQUE0QmhrQyxRQUFRb2tDLFlBQXBDO0FBQ0FOLHdCQUFrQkUsT0FBbEIsSUFBNkJoa0MsUUFBUXFrQyxhQUFyQztBQUNBTixZQUFNQyxPQUFOLElBQWlCRyxhQUFqQjtBQUNBbmtDLGNBQVFxa0MsYUFBUixHQUF3QkYsY0FBYy9TLFlBQWQsQ0FBMkJ0aUIsS0FBbkQ7QUFDQTlPLGNBQVFva0MsWUFBUixHQUF1QkQsY0FBY3Y3QixTQUFyQzs7QUFFQTtBQUNFNUosZ0JBQ0VnQixRQUFRc2tDLGdCQUFSLEtBQTZCLElBQTdCLElBQ0V0a0MsUUFBUXNrQyxnQkFBUixLQUE2QkwsYUFGakMsRUFHRSw0REFDRSx1REFKSjtBQU1BamtDLGdCQUFRc2tDLGdCQUFSLEdBQTJCTCxhQUEzQjtBQUNEO0FBQ0Y7O0FBRUQsYUFBU00sV0FBVCxDQUFxQkosYUFBckIsRUFBb0M7QUFDbEM7QUFDRW5sQyxnQkFDRWdsQyxVQUFVLENBQUMsQ0FBWCxJQUFnQkcsa0JBQWtCSixNQUFNQyxPQUFOLENBRHBDLEVBRUUsaUJBRkY7QUFJRDtBQUNELFVBQUlRLGNBQWNYLGlCQUFpQkcsT0FBakIsQ0FBbEI7QUFDQSxVQUFJUyxlQUFlWCxrQkFBa0JFLE9BQWxCLENBQW5CO0FBQ0FILHVCQUFpQkcsT0FBakIsSUFBNEIsSUFBNUI7QUFDQUYsd0JBQWtCRSxPQUFsQixJQUE2QixJQUE3QjtBQUNBRCxZQUFNQyxPQUFOLElBQWlCLElBQWpCO0FBQ0FBLGlCQUFXLENBQVg7QUFDQSxVQUFJaGtDLFVBQVVta0MsY0FBYzc5QixJQUFkLENBQW1CdEcsT0FBakM7QUFDQUEsY0FBUXFrQyxhQUFSLEdBQXdCSSxZQUF4QjtBQUNBemtDLGNBQVFva0MsWUFBUixHQUF1QkksV0FBdkI7QUFDRDs7QUFFRCxhQUFTRSxrQkFBVCxHQUE4QjtBQUM1QixXQUFLLElBQUloK0IsSUFBSXM5QixPQUFiLEVBQXNCdDlCLElBQUksQ0FBQyxDQUEzQixFQUE4QkEsR0FBOUIsRUFBbUM7QUFDakMsWUFBSXk5QixnQkFBZ0JKLE1BQU1yOUIsQ0FBTixDQUFwQjtBQUNBLFlBQUkxRyxVQUFVbWtDLGNBQWM3OUIsSUFBZCxDQUFtQnRHLE9BQWpDO0FBQ0FBLGdCQUFRcWtDLGFBQVIsR0FBd0Jya0MsUUFBUTJrQyxhQUFoQztBQUNBM2tDLGdCQUFRb2tDLFlBQVIsR0FBdUIsQ0FBdkI7QUFDQVAseUJBQWlCbjlCLENBQWpCLElBQXNCLElBQXRCO0FBQ0FvOUIsMEJBQWtCcDlCLENBQWxCLElBQXVCLElBQXZCO0FBQ0FxOUIsY0FBTXI5QixDQUFOLElBQVcsSUFBWDtBQUNBO0FBQ0UxRyxrQkFBUXNrQyxnQkFBUixHQUEyQixJQUEzQjtBQUNEO0FBQ0Y7QUFDRE4sZ0JBQVUsQ0FBQyxDQUFYO0FBQ0Q7O0FBRUQsUUFBSVksdUJBQXVCLEtBQUssQ0FBaEM7QUFDQSxRQUFJQyxtREFBbUQsS0FBSyxDQUE1RDtBQUNBLFFBQUlDLDRCQUE0QixLQUFLLENBQXJDOztBQUVBO0FBQ0VGLDZCQUF1QixFQUF2QjtBQUNBQyx5REFBbUQsRUFBbkQ7QUFDQUMsa0NBQTRCLEVBQTVCO0FBQ0Q7O0FBRUQsUUFBSUMsc0JBQXNCLFNBQXRCQSxtQkFBc0IsQ0FDeEJDLE1BRHdCLEVBRXhCQyxXQUZ3QixFQUd4QkMsZ0JBSHdCLEVBSXhCdEssWUFKd0IsRUFLeEJDLHlCQUx3QixFQU14QjtBQUNBLFVBQUlzSyx1QkFBdUJILE9BQU9HLG9CQUFsQztBQUFBLFVBQ0VDLDRCQUE0QkosT0FBT0kseUJBRHJDO0FBRUEsVUFBSUMsa0JBQWtCSixZQUFZSSxlQUFsQztBQUFBLFVBQ0VDLG9CQUFvQkwsWUFBWUssaUJBRGxDO0FBRUEsVUFBSUMsc0JBQXNCTCxpQkFBaUJLLG1CQUEzQztBQUFBLFVBQ0VDLHNCQUFzQk4saUJBQWlCTSxtQkFEekM7QUFBQSxVQUVFQyxtQ0FDRVAsaUJBQWlCTyxnQ0FIckI7O0FBS0EsVUFBSUMsd0JBQXdCL0sseUJBQ3hCQyxZQUR3QixFQUV4QkMseUJBRndCLEVBR3hCQyxZQUh3QixFQUl4QkMsWUFKd0IsQ0FBNUI7QUFBQSxVQU1Fb0MscUJBQXFCdUksc0JBQXNCdkksa0JBTjdDO0FBQUEsVUFPRUssK0JBQ0VrSSxzQkFBc0JsSSw0QkFSMUI7QUFBQSxVQVNFSCx5QkFBeUJxSSxzQkFBc0JySSxzQkFUakQ7QUFBQSxVQVVFTyxxQkFBcUI4SCxzQkFBc0I5SCxrQkFWN0M7QUFBQSxVQVdFRywyQkFBMkIySCxzQkFBc0IzSCx3QkFYbkQ7QUFBQSxVQVlFTSxzQkFBc0JxSCxzQkFBc0JySCxtQkFaOUM7O0FBZ0JBLGVBQVNzSCxpQkFBVCxDQUEyQnQrQixPQUEzQixFQUFvQzBnQixjQUFwQyxFQUFvRDZkLFlBQXBELEVBQWtFO0FBQ2hFQywwQ0FDRXgrQixPQURGLEVBRUUwZ0IsY0FGRixFQUdFNmQsWUFIRixFQUlFN2QsZUFBZWtJLGNBSmpCO0FBTUQ7O0FBRUQsZUFBUzRWLGlDQUFULENBQ0V4K0IsT0FERixFQUVFMGdCLGNBRkYsRUFHRTZkLFlBSEYsRUFJRTFNLG9CQUpGLEVBS0U7QUFDQSxZQUFJN3hCLFlBQVksSUFBaEIsRUFBc0I7QUFLcEIwZ0IseUJBQWV4QixLQUFmLEdBQXVCbWQsaUJBQ3JCM2IsY0FEcUIsRUFFckIsSUFGcUIsRUFHckI2ZCxZQUhxQixFQUlyQjFNLG9CQUpxQixDQUF2QjtBQU1ELFNBWEQsTUFXTztBQU9MblIseUJBQWV4QixLQUFmLEdBQXVCZ2QscUJBQ3JCeGIsY0FEcUIsRUFFckIxZ0IsUUFBUWtmLEtBRmEsRUFHckJxZixZQUhxQixFQUlyQjFNLG9CQUpxQixDQUF2QjtBQU1EO0FBQ0Y7O0FBRUQsZUFBUytILGNBQVQsQ0FBd0I1NUIsT0FBeEIsRUFBaUMwZ0IsY0FBakMsRUFBaUQ7QUFDL0MsWUFBSTZkLGVBQWU3ZCxlQUFlcUosWUFBbEM7QUFDQSxZQUFJL0MsbUJBQUosRUFBeUIsQ0FHeEIsQ0FIRCxNQUdPLElBQUl0RyxlQUFld0osYUFBZixLQUFpQ3FVLFlBQXJDLEVBQW1EO0FBQ3hELGlCQUFPRSw2QkFBNkJ6K0IsT0FBN0IsRUFBc0MwZ0IsY0FBdEMsQ0FBUDtBQUNEO0FBQ0Q0ZCwwQkFBa0J0K0IsT0FBbEIsRUFBMkIwZ0IsY0FBM0IsRUFBMkM2ZCxZQUEzQztBQUNBOUsscUJBQWEvUyxjQUFiLEVBQTZCNmQsWUFBN0I7QUFDQSxlQUFPN2QsZUFBZXhCLEtBQXRCO0FBQ0Q7O0FBRUQsZUFBU3dmLFVBQVQsQ0FBb0IxK0IsT0FBcEIsRUFBNkIwZ0IsY0FBN0IsRUFBNkM7QUFDM0MsWUFBSTZkLGVBQWU3ZCxlQUFlcUosWUFBZixDQUE0QjdVLFFBQS9DO0FBQ0EsWUFBSThSLG1CQUFKLEVBQXlCLENBR3hCLENBSEQsTUFHTyxJQUNMdVgsaUJBQWlCLElBQWpCLElBQ0E3ZCxlQUFld0osYUFBZixLQUFpQ3FVLFlBRjVCLEVBR0w7QUFDQSxpQkFBT0UsNkJBQTZCeitCLE9BQTdCLEVBQXNDMGdCLGNBQXRDLENBQVA7QUFDRDtBQUNENGQsMEJBQWtCdCtCLE9BQWxCLEVBQTJCMGdCLGNBQTNCLEVBQTJDNmQsWUFBM0M7QUFDQTlLLHFCQUFhL1MsY0FBYixFQUE2QjZkLFlBQTdCO0FBQ0EsZUFBTzdkLGVBQWV4QixLQUF0QjtBQUNEOztBQUVELGVBQVN5ZixPQUFULENBQWlCMytCLE9BQWpCLEVBQTBCMGdCLGNBQTFCLEVBQTBDO0FBQ3hDLFlBQUl1SixNQUFNdkosZUFBZXVKLEdBQXpCO0FBQ0EsWUFDR2pxQixZQUFZLElBQVosSUFBb0JpcUIsUUFBUSxJQUE3QixJQUNDanFCLFlBQVksSUFBWixJQUFvQkEsUUFBUWlxQixHQUFSLEtBQWdCQSxHQUZ2QyxFQUdFO0FBRUF2Six5QkFBZWhDLFNBQWYsSUFBNEJULEdBQTVCO0FBQ0Q7QUFDRjs7QUFFRCxlQUFTMmdCLHlCQUFULENBQW1DNStCLE9BQW5DLEVBQTRDMGdCLGNBQTVDLEVBQTREO0FBQzFELFlBQUk5YyxLQUFLOGMsZUFBZXpoQixJQUF4QjtBQUNBLFlBQUlnYSxZQUFZeUgsZUFBZXFKLFlBQS9COztBQUVBLFlBQUkvQyxtQkFBSixFQUF5QixDQUd4QixDQUhELE1BR087QUFDTCxjQUFJdEcsZUFBZXdKLGFBQWYsS0FBaUNqUixTQUFyQyxFQUFnRDtBQUM5QyxtQkFBT3dsQiw2QkFBNkJ6K0IsT0FBN0IsRUFBc0MwZ0IsY0FBdEMsQ0FBUDtBQUNEO0FBR0Y7O0FBRUQsWUFBSWdHLGtCQUFrQkosbUJBQW1CNUYsY0FBbkIsQ0FBdEI7QUFDQSxZQUFJL25CLFVBQVVtdUIsaUJBQWlCcEcsY0FBakIsRUFBaUNnRyxlQUFqQyxDQUFkOztBQUVBLFlBQUk2WCxlQUFlLEtBQUssQ0FBeEI7O0FBRUE7QUFDRWxrQiw0QkFBa0JyYSxPQUFsQixHQUE0QjBnQixjQUE1QjtBQUNBRyxpQ0FBdUJLLGVBQXZCLENBQXVDLFFBQXZDO0FBQ0FxZCx5QkFBZTM2QixHQUFHcVYsU0FBSCxFQUFjdGdCLE9BQWQsQ0FBZjtBQUNBa29CLGlDQUF1QkssZUFBdkIsQ0FBdUMsSUFBdkM7QUFDRDs7QUFFRFIsdUJBQWVoQyxTQUFmLElBQTRCakIsYUFBNUI7QUFDQTZnQiwwQkFBa0J0K0IsT0FBbEIsRUFBMkIwZ0IsY0FBM0IsRUFBMkM2ZCxZQUEzQztBQUNBOUsscUJBQWEvUyxjQUFiLEVBQTZCekgsU0FBN0I7QUFDQSxlQUFPeUgsZUFBZXhCLEtBQXRCO0FBQ0Q7O0FBRUQsZUFBUzJmLG9CQUFULENBQThCNytCLE9BQTlCLEVBQXVDMGdCLGNBQXZDLEVBQXVEbVIsb0JBQXZELEVBQTZFO0FBSTNFLFlBQUlpTixhQUFhbFgsb0JBQW9CbEgsY0FBcEIsQ0FBakI7QUFDQSxZQUFJeEgsZUFBZSxLQUFLLENBQXhCO0FBQ0EsWUFBSWxaLFlBQVksSUFBaEIsRUFBc0I7QUFDcEIsY0FBSTBnQixlQUFlbmYsU0FBZixLQUE2QixJQUFqQyxFQUF1QztBQUVyQ3kwQixtQ0FBdUJ0VixjQUF2QixFQUF1Q0EsZUFBZXFKLFlBQXREO0FBQ0F3TSwrQkFBbUI3VixjQUFuQixFQUFtQ21SLG9CQUFuQzs7QUFFQTNZLDJCQUFlLElBQWY7QUFDRCxXQU5ELE1BTU87QUFFTEEsMkJBQWV3ZCx5QkFDYmhXLGNBRGEsRUFFYm1SLG9CQUZhLENBQWY7QUFJRDtBQUNGLFNBZEQsTUFjTztBQUNMM1kseUJBQWU4ZCxvQkFDYmgzQixPQURhLEVBRWIwZ0IsY0FGYSxFQUdibVIsb0JBSGEsQ0FBZjtBQUtEOztBQUtELFlBQUlrTixrQkFBa0IsS0FBdEI7QUFDQSxZQUFJNVUsY0FBY3pKLGVBQWV5SixXQUFqQztBQUNBLFlBQUlBLGdCQUFnQixJQUFoQixJQUF3QkEsWUFBWTBHLGNBQVosS0FBK0IsSUFBM0QsRUFBaUU7QUFDL0QzWCx5QkFBZSxJQUFmO0FBQ0E2bEIsNEJBQWtCLElBQWxCO0FBQ0Q7QUFDRCxlQUFPQyxxQkFDTGgvQixPQURLLEVBRUwwZ0IsY0FGSyxFQUdMeEgsWUFISyxFQUlMNGxCLFVBSkssRUFLTEMsZUFMSyxFQU1MbE4sb0JBTkssQ0FBUDtBQVFEOztBQUVELGVBQVNtTixvQkFBVCxDQUNFaC9CLE9BREYsRUFFRTBnQixjQUZGLEVBR0V4SCxZQUhGLEVBSUU0bEIsVUFKRixFQUtFQyxlQUxGLEVBTUVsTixvQkFORixFQU9FO0FBRUE4TSxnQkFBUTMrQixPQUFSLEVBQWlCMGdCLGNBQWpCOztBQUVBLFlBQUksQ0FBQ3hILFlBQUQsSUFBaUIsQ0FBQzZsQixlQUF0QixFQUF1QztBQUVyQyxjQUFJRCxVQUFKLEVBQWdCO0FBQ2QvVyxzQ0FBMEJySCxjQUExQixFQUEwQyxLQUExQztBQUNEOztBQUVELGlCQUFPK2QsNkJBQTZCeitCLE9BQTdCLEVBQXNDMGdCLGNBQXRDLENBQVA7QUFDRDs7QUFFRCxZQUFJeVMsT0FBT3pTLGVBQWV6aEIsSUFBMUI7QUFDQSxZQUFJc0osV0FBV21ZLGVBQWVuZixTQUE5Qjs7QUFHQThZLDBCQUFrQnJhLE9BQWxCLEdBQTRCMGdCLGNBQTVCO0FBQ0EsWUFBSTZkLGVBQWUsS0FBSyxDQUF4QjtBQUNBLFlBQ0VRLG9CQUNDLENBQUMzZCw4QkFBRCxJQUNDLE9BQU8rUixLQUFLRSx3QkFBWixLQUF5QyxVQUYzQyxDQURGLEVBSUU7QUFNQWtMLHlCQUFlLElBQWY7QUFDRCxTQVhELE1BV087QUFDTDtBQUNFMWQsbUNBQXVCSyxlQUF2QixDQUF1QyxRQUF2QztBQUNBcWQsMkJBQWVoMkIsU0FBU3lTLE1BQVQsRUFBZjtBQUNBLGdCQUNFcUcsK0JBQ0NDLDRDQUNDWixlQUFlc0osSUFBZixHQUFzQlYsVUFIMUIsRUFJRTtBQUNBL2dCLHVCQUFTeVMsTUFBVDtBQUNEO0FBQ0Q2RixtQ0FBdUJLLGVBQXZCLENBQXVDLElBQXZDO0FBQ0Q7QUFDRjs7QUFHRFIsdUJBQWVoQyxTQUFmLElBQTRCakIsYUFBNUI7QUFDQSxZQUFJc2hCLGVBQUosRUFBcUI7QUFHbkJQLDRDQUNFeCtCLE9BREYsRUFFRTBnQixjQUZGLEVBR0UsSUFIRixFQUlFbVIsb0JBSkY7QUFNQW5SLHlCQUFleEIsS0FBZixHQUF1QixJQUF2QjtBQUlEO0FBQ0RzZiwwQ0FDRXgrQixPQURGLEVBRUUwZ0IsY0FGRixFQUdFNmQsWUFIRixFQUlFMU0sb0JBSkY7O0FBUUE2QixxQkFBYWhULGNBQWIsRUFBNkJuWSxTQUFTd1csS0FBdEM7QUFDQTBVLHFCQUFhL1MsY0FBYixFQUE2Qm5ZLFNBQVNwSCxLQUF0Qzs7QUFHQSxZQUFJMjlCLFVBQUosRUFBZ0I7QUFDZC9XLG9DQUEwQnJILGNBQTFCLEVBQTBDLElBQTFDO0FBQ0Q7O0FBRUQsZUFBT0EsZUFBZXhCLEtBQXRCO0FBQ0Q7O0FBRUQsZUFBUytmLG1CQUFULENBQTZCdmUsY0FBN0IsRUFBNkM7QUFDM0MsWUFBSW9MLE9BQU9wTCxlQUFlbmYsU0FBMUI7QUFDQSxZQUFJdXFCLEtBQUtHLGNBQVQsRUFBeUI7QUFDdkI1RSxvQ0FDRTNHLGNBREYsRUFFRW9MLEtBQUtHLGNBRlAsRUFHRUgsS0FBS0csY0FBTCxLQUF3QkgsS0FBS256QixPQUgvQjtBQUtELFNBTkQsTUFNTyxJQUFJbXpCLEtBQUtuekIsT0FBVCxFQUFrQjtBQUV2QjB1QixvQ0FBMEIzRyxjQUExQixFQUEwQ29MLEtBQUtuekIsT0FBL0MsRUFBd0QsS0FBeEQ7QUFDRDtBQUNEc2xDLDBCQUFrQnZkLGNBQWxCLEVBQWtDb0wsS0FBSzNXLGFBQXZDO0FBQ0Q7O0FBRUQsZUFBUytwQixjQUFULENBQXdCbC9CLE9BQXhCLEVBQWlDMGdCLGNBQWpDLEVBQWlEbVIsb0JBQWpELEVBQXVFO0FBQ3JFb04sNEJBQW9CdmUsY0FBcEI7QUFDQSxZQUFJeUosY0FBY3pKLGVBQWV5SixXQUFqQztBQUNBLFlBQUlBLGdCQUFnQixJQUFwQixFQUEwQjtBQUN4QixjQUFJdUgsWUFBWWhSLGVBQWUwSixhQUEvQjtBQUNBLGNBQUlyTCxRQUFRNlMsbUJBQ1Y1eEIsT0FEVSxFQUVWMGdCLGNBRlUsRUFHVnlKLFdBSFUsRUFJVixJQUpVLEVBS1YsSUFMVSxFQU1WMEgsb0JBTlUsQ0FBWjtBQVFBNkIsdUJBQWFoVCxjQUFiLEVBQTZCM0IsS0FBN0I7QUFDQW9MLHdCQUFjekosZUFBZXlKLFdBQTdCOztBQUVBLGNBQUlZLFVBQVUsS0FBSyxDQUFuQjtBQUNBLGNBQUlaLGdCQUFnQixJQUFoQixJQUF3QkEsWUFBWTBHLGNBQVosS0FBK0IsSUFBM0QsRUFBaUU7QUFFL0Q5RixzQkFBVSxJQUFWO0FBQ0QsV0FIRCxNQUdPLElBQUkyRyxjQUFjM1MsS0FBbEIsRUFBeUI7QUFHOUJvZjtBQUNBLG1CQUFPTSw2QkFBNkJ6K0IsT0FBN0IsRUFBc0MwZ0IsY0FBdEMsQ0FBUDtBQUNELFdBTE0sTUFLQTtBQUNMcUssc0JBQVVoTSxNQUFNZ00sT0FBaEI7QUFDRDtBQUNELGNBQUllLE9BQU9wTCxlQUFlbmYsU0FBMUI7QUFDQSxjQUNFLENBQUN2QixZQUFZLElBQVosSUFBb0JBLFFBQVFrZixLQUFSLEtBQWtCLElBQXZDLEtBQ0E0TSxLQUFLRixPQURMLElBRUFzUyxvQkFBb0J4ZCxjQUFwQixDQUhGLEVBSUU7QUFVQUEsMkJBQWVoQyxTQUFmLElBQTRCaEIsU0FBNUI7O0FBS0FnRCwyQkFBZXhCLEtBQWYsR0FBdUJtZCxpQkFDckIzYixjQURxQixFQUVyQixJQUZxQixFQUdyQnFLLE9BSHFCLEVBSXJCOEcsb0JBSnFCLENBQXZCO0FBTUQsV0F6QkQsTUF5Qk87QUFHTHNNO0FBQ0FHLDhCQUFrQnQrQixPQUFsQixFQUEyQjBnQixjQUEzQixFQUEyQ3FLLE9BQTNDO0FBQ0Q7QUFDRDJJLHVCQUFhaFQsY0FBYixFQUE2QjNCLEtBQTdCO0FBQ0EsaUJBQU8yQixlQUFleEIsS0FBdEI7QUFDRDtBQUNEaWY7O0FBRUEsZUFBT00sNkJBQTZCeitCLE9BQTdCLEVBQXNDMGdCLGNBQXRDLENBQVA7QUFDRDs7QUFFRCxlQUFTeWUsbUJBQVQsQ0FBNkJuL0IsT0FBN0IsRUFBc0MwZ0IsY0FBdEMsRUFBc0RtUixvQkFBdEQsRUFBNEU7QUFDMUVtTSx3QkFBZ0J0ZCxjQUFoQjs7QUFFQSxZQUFJMWdCLFlBQVksSUFBaEIsRUFBc0I7QUFDcEJvK0IsMkNBQWlDMWQsY0FBakM7QUFDRDs7QUFFRCxZQUFJemhCLE9BQU95aEIsZUFBZXpoQixJQUExQjtBQUNBLFlBQUlpckIsZ0JBQWdCeEosZUFBZXdKLGFBQW5DO0FBQ0EsWUFBSWpSLFlBQVl5SCxlQUFlcUosWUFBL0I7QUFDQSxZQUFJL1EsWUFBWWhaLFlBQVksSUFBWixHQUFtQkEsUUFBUWtxQixhQUEzQixHQUEyQyxJQUEzRDs7QUFFQSxZQUFJbEQsbUJBQUosRUFBeUIsQ0FHeEIsQ0FIRCxNQUdPLElBQUlrRCxrQkFBa0JqUixTQUF0QixFQUFpQztBQUN0QyxjQUFJbW1CLFdBQ0YxZSxlQUFlc0osSUFBZixHQUFzQlgsU0FBdEIsSUFDQTBVLDBCQUEwQjkrQixJQUExQixFQUFnQ2dhLFNBQWhDLENBRkY7QUFHQSxjQUFJbW1CLFFBQUosRUFBYztBQUVaMWUsMkJBQWVrSSxjQUFmLEdBQWdDTixLQUFoQztBQUNEO0FBQ0QsY0FBSSxDQUFDOFcsUUFBRCxJQUFhdk4seUJBQXlCdkosS0FBMUMsRUFBaUQ7QUFDL0MsbUJBQU9tVyw2QkFBNkJ6K0IsT0FBN0IsRUFBc0MwZ0IsY0FBdEMsQ0FBUDtBQUNEO0FBR0Y7O0FBRUQsWUFBSTZkLGVBQWV0bEIsVUFBVS9ELFFBQTdCO0FBQ0EsWUFBSW1xQixvQkFBb0J2QixxQkFBcUI3K0IsSUFBckIsRUFBMkJnYSxTQUEzQixDQUF4Qjs7QUFFQSxZQUFJb21CLGlCQUFKLEVBQXVCO0FBS3JCZCx5QkFBZSxJQUFmO0FBQ0QsU0FORCxNQU1PLElBQUl2bEIsYUFBYThrQixxQkFBcUI3K0IsSUFBckIsRUFBMkIrWixTQUEzQixDQUFqQixFQUF3RDtBQUc3RDBILHlCQUFlaEMsU0FBZixJQUE0QlosWUFBNUI7QUFDRDs7QUFFRDZnQixnQkFBUTMrQixPQUFSLEVBQWlCMGdCLGNBQWpCOztBQUdBLFlBQ0VtUix5QkFBeUJ2SixLQUF6QixJQUNBNUgsZUFBZXNKLElBQWYsR0FBc0JYLFNBRHRCLElBRUEwVSwwQkFBMEI5K0IsSUFBMUIsRUFBZ0NnYSxTQUFoQyxDQUhGLEVBSUU7QUFFQXlILHlCQUFla0ksY0FBZixHQUFnQ04sS0FBaEM7O0FBRUE1SCx5QkFBZXdKLGFBQWYsR0FBK0JqUixTQUEvQjtBQUNBLGlCQUFPLElBQVA7QUFDRDs7QUFFRHFsQiwwQkFBa0J0K0IsT0FBbEIsRUFBMkIwZ0IsY0FBM0IsRUFBMkM2ZCxZQUEzQztBQUNBOUsscUJBQWEvUyxjQUFiLEVBQTZCekgsU0FBN0I7QUFDQSxlQUFPeUgsZUFBZXhCLEtBQXRCO0FBQ0Q7O0FBRUQsZUFBU29nQixjQUFULENBQXdCdC9CLE9BQXhCLEVBQWlDMGdCLGNBQWpDLEVBQWlEO0FBQy9DLFlBQUkxZ0IsWUFBWSxJQUFoQixFQUFzQjtBQUNwQm8rQiwyQ0FBaUMxZCxjQUFqQztBQUNEO0FBQ0QsWUFBSXpILFlBQVl5SCxlQUFlcUosWUFBL0I7QUFDQTBKLHFCQUFhL1MsY0FBYixFQUE2QnpILFNBQTdCOztBQUdBLGVBQU8sSUFBUDtBQUNEOztBQUVELGVBQVNzbUIsMkJBQVQsQ0FDRXYvQixPQURGLEVBRUUwZ0IsY0FGRixFQUdFbVIsb0JBSEYsRUFJRTtBQUNBbjZCLGtCQUNFc0ksWUFBWSxJQURkLEVBRUUseUVBQ0Usd0RBSEo7QUFLQSxZQUFJNEQsS0FBSzhjLGVBQWV6aEIsSUFBeEI7QUFDQSxZQUFJa0MsUUFBUXVmLGVBQWVxSixZQUEzQjtBQUNBLFlBQUlyRCxrQkFBa0JKLG1CQUFtQjVGLGNBQW5CLENBQXRCO0FBQ0EsWUFBSS9uQixVQUFVbXVCLGlCQUFpQnBHLGNBQWpCLEVBQWlDZ0csZUFBakMsQ0FBZDs7QUFFQSxZQUFJamYsUUFBUSxLQUFLLENBQWpCOztBQUVBO0FBQ0UsY0FBSTdELEdBQUd0SyxTQUFILElBQWdCLE9BQU9zSyxHQUFHdEssU0FBSCxDQUFhMGhCLE1BQXBCLEtBQStCLFVBQW5ELEVBQStEO0FBQzdELGdCQUFJK0ksZ0JBQWdCeEosaUJBQWlCbUcsY0FBakIsS0FBb0MsU0FBeEQ7O0FBRUEsZ0JBQUksQ0FBQzZjLHFCQUFxQnhaLGFBQXJCLENBQUwsRUFBMEM7QUFDeENwc0Isc0JBQ0UsS0FERixFQUVFLCtGQUNFLDhFQUhKLEVBSUVvc0IsYUFKRixFQUtFQSxhQUxGO0FBT0F3WixtQ0FBcUJ4WixhQUFyQixJQUFzQyxJQUF0QztBQUNEO0FBQ0Y7QUFDRDFKLDRCQUFrQnJhLE9BQWxCLEdBQTRCMGdCLGNBQTVCO0FBQ0FqWixrQkFBUTdELEdBQUd6QyxLQUFILEVBQVV4SSxPQUFWLENBQVI7QUFDRDs7QUFFRCtuQix1QkFBZWhDLFNBQWYsSUFBNEJqQixhQUE1Qjs7QUFFQSxZQUNFLE9BQU9oVyxLQUFQLEtBQWlCLFFBQWpCLElBQ0FBLFVBQVUsSUFEVixJQUVBLE9BQU9BLE1BQU11VCxNQUFiLEtBQXdCLFVBRnhCLElBR0F2VCxNQUFNNk4sUUFBTixLQUFtQm5XLFNBSnJCLEVBS0U7QUFDQSxjQUFJb2UsWUFBWW1ELGVBQWV6aEIsSUFBL0I7O0FBR0F5aEIseUJBQWV6ZixHQUFmLEdBQXFCa0IsY0FBckI7O0FBRUF1ZSx5QkFBZTBKLGFBQWYsR0FDRTNpQixNQUFNc1gsS0FBTixLQUFnQixJQUFoQixJQUF3QnRYLE1BQU1zWCxLQUFOLEtBQWdCNWYsU0FBeEMsR0FBb0RzSSxNQUFNc1gsS0FBMUQsR0FBa0UsSUFEcEU7O0FBR0EsY0FBSSxPQUFPeEIsVUFBVTJZLHdCQUFqQixLQUE4QyxVQUFsRCxFQUE4RDtBQUM1RCxnQkFBSXZFLGVBQWV3RSw2QkFDakJ6VixjQURpQixFQUVqQmpaLEtBRmlCLEVBR2pCdEcsS0FIaUIsQ0FBbkI7O0FBTUEsZ0JBQUl3d0IsaUJBQWlCLElBQWpCLElBQXlCQSxpQkFBaUJ4eUIsU0FBOUMsRUFBeUQ7QUFDdkR1aEIsNkJBQWUwSixhQUFmLEdBQStCLFNBQzdCLEVBRDZCLEVBRTdCMUosZUFBZTBKLGFBRmMsRUFHN0J1SCxZQUg2QixDQUEvQjtBQUtEO0FBQ0Y7O0FBS0QsY0FBSW1OLGFBQWFsWCxvQkFBb0JsSCxjQUFwQixDQUFqQjtBQUNBb1YsNkJBQW1CcFYsY0FBbkIsRUFBbUNqWixLQUFuQztBQUNBOHVCLDZCQUFtQjdWLGNBQW5CLEVBQW1DbVIsb0JBQW5DO0FBQ0EsaUJBQU9tTixxQkFDTGgvQixPQURLLEVBRUwwZ0IsY0FGSyxFQUdMLElBSEssRUFJTG9lLFVBSkssRUFLTCxLQUxLLEVBTUxqTixvQkFOSyxDQUFQO0FBUUQsU0E1Q0QsTUE0Q087QUFFTG5SLHlCQUFlemYsR0FBZixHQUFxQmlCLG1CQUFyQjtBQUNBO0FBQ0UsZ0JBQUlzOUIsYUFBYTllLGVBQWV6aEIsSUFBaEM7O0FBRUEsZ0JBQUl1Z0MsVUFBSixFQUFnQjtBQUNkN25DLHNCQUNFLENBQUM2bkMsV0FBV3RZLGlCQURkLEVBRUUseUVBRkYsRUFHRXNZLFdBQVcxbEIsV0FBWCxJQUEwQjBsQixXQUFXL21DLElBQXJDLElBQTZDLFdBSC9DO0FBS0Q7QUFDRCxnQkFBSWlvQixlQUFldUosR0FBZixLQUF1QixJQUEzQixFQUFpQztBQUMvQixrQkFBSXRKLE9BQU8sRUFBWDtBQUNBLGtCQUFJVCxZQUFZVyx1QkFBdUJELHdCQUF2QixFQUFoQjtBQUNBLGtCQUFJVixTQUFKLEVBQWU7QUFDYlMsd0JBQVEscUNBQXFDVCxTQUFyQyxHQUFpRCxJQUF6RDtBQUNEOztBQUVELGtCQUFJdWYsYUFBYXZmLGFBQWFRLGVBQWV1RCxRQUE1QixJQUF3QyxFQUF6RDtBQUNBLGtCQUFJeWIsY0FBY2hmLGVBQWVGLFlBQWpDO0FBQ0Esa0JBQUlrZixXQUFKLEVBQWlCO0FBQ2ZELDZCQUFhQyxZQUFZdmYsUUFBWixHQUF1QixHQUF2QixHQUE2QnVmLFlBQVlyZixVQUF0RDtBQUNEO0FBQ0Qsa0JBQUksQ0FBQ29kLDBCQUEwQmdDLFVBQTFCLENBQUwsRUFBNEM7QUFDMUNoQywwQ0FBMEJnQyxVQUExQixJQUF3QyxJQUF4QztBQUNBOW5DLHdCQUNFLEtBREYsRUFFRSx5REFDRSw0Q0FISixFQUlFZ3BCLElBSkYsRUFLRUUsdUJBQXVCQyw0QkFBdkIsRUFMRjtBQU9EO0FBQ0Y7O0FBRUQsZ0JBQUksT0FBT2xkLEdBQUdzeUIsd0JBQVYsS0FBdUMsVUFBM0MsRUFBdUQ7QUFDckQsa0JBQUlJLGlCQUFpQi9iLGlCQUFpQm1HLGNBQWpCLEtBQW9DLFNBQXpEOztBQUVBLGtCQUNFLENBQUM4YyxpREFBaURsSCxjQUFqRCxDQURILEVBRUU7QUFDQTMrQix3QkFDRSxLQURGLEVBRUUsOEVBRkYsRUFHRTIrQixjQUhGO0FBS0FrSCxpRUFDRWxILGNBREYsSUFFSSxJQUZKO0FBR0Q7QUFDRjtBQUNGO0FBQ0RnSSw0QkFBa0J0K0IsT0FBbEIsRUFBMkIwZ0IsY0FBM0IsRUFBMkNqWixLQUEzQztBQUNBZ3NCLHVCQUFhL1MsY0FBYixFQUE2QnZmLEtBQTdCO0FBQ0EsaUJBQU91ZixlQUFleEIsS0FBdEI7QUFDRDtBQUNGOztBQUVELGVBQVN5Z0IsbUJBQVQsQ0FBNkIzL0IsT0FBN0IsRUFBc0MwZ0IsY0FBdEMsRUFBc0RtUixvQkFBdEQsRUFBNEU7QUFDMUUsWUFBSTVZLFlBQVl5SCxlQUFlcUosWUFBL0I7QUFDQSxZQUFJL0MsbUJBQUosRUFBeUIsQ0FHeEIsQ0FIRCxNQUdPLElBQUl0RyxlQUFld0osYUFBZixLQUFpQ2pSLFNBQXJDLEVBQWdEO0FBQ3JEQSxzQkFBWXlILGVBQWV3SixhQUEzQjtBQUlEOztBQUVELFlBQUlxVSxlQUFldGxCLFVBQVUvRCxRQUE3Qjs7QUFJQSxZQUFJbFYsWUFBWSxJQUFoQixFQUFzQjtBQUNwQjBnQix5QkFBZW5mLFNBQWYsR0FBMkI4NkIsaUJBQ3pCM2IsY0FEeUIsRUFFekJBLGVBQWVuZixTQUZVLEVBR3pCZzlCLFlBSHlCLEVBSXpCMU0sb0JBSnlCLENBQTNCO0FBTUQsU0FQRCxNQU9PO0FBQ0xuUix5QkFBZW5mLFNBQWYsR0FBMkIyNkIscUJBQ3pCeGIsY0FEeUIsRUFFekIxZ0IsUUFBUXVCLFNBRmlCLEVBR3pCZzlCLFlBSHlCLEVBSXpCMU0sb0JBSnlCLENBQTNCO0FBTUQ7O0FBRUQ0QixxQkFBYS9TLGNBQWIsRUFBNkJ6SCxTQUE3Qjs7QUFHQSxlQUFPeUgsZUFBZW5mLFNBQXRCO0FBQ0Q7O0FBRUQsZUFBU3ErQixxQkFBVCxDQUNFNS9CLE9BREYsRUFFRTBnQixjQUZGLEVBR0VtUixvQkFIRixFQUlFO0FBQ0FvTSwwQkFBa0J2ZCxjQUFsQixFQUFrQ0EsZUFBZW5mLFNBQWYsQ0FBeUI0VCxhQUEzRDtBQUNBLFlBQUlvcEIsZUFBZTdkLGVBQWVxSixZQUFsQztBQUNBLFlBQUkvQyxtQkFBSixFQUF5QixDQUd4QixDQUhELE1BR08sSUFBSXRHLGVBQWV3SixhQUFmLEtBQWlDcVUsWUFBckMsRUFBbUQ7QUFDeEQsaUJBQU9FLDZCQUE2QnorQixPQUE3QixFQUFzQzBnQixjQUF0QyxDQUFQO0FBQ0Q7O0FBRUQsWUFBSTFnQixZQUFZLElBQWhCLEVBQXNCO0FBTXBCMGdCLHlCQUFleEIsS0FBZixHQUF1QmdkLHFCQUNyQnhiLGNBRHFCLEVBRXJCLElBRnFCLEVBR3JCNmQsWUFIcUIsRUFJckIxTSxvQkFKcUIsQ0FBdkI7QUFNQTRCLHVCQUFhL1MsY0FBYixFQUE2QjZkLFlBQTdCO0FBQ0QsU0FiRCxNQWFPO0FBQ0xELDRCQUFrQnQrQixPQUFsQixFQUEyQjBnQixjQUEzQixFQUEyQzZkLFlBQTNDO0FBQ0E5Syx1QkFBYS9TLGNBQWIsRUFBNkI2ZCxZQUE3QjtBQUNEO0FBQ0QsZUFBTzdkLGVBQWV4QixLQUF0QjtBQUNEOztBQUVELGVBQVMyZ0Isc0JBQVQsQ0FDRW5mLGNBREYsRUFFRS9uQixPQUZGLEVBR0V3a0MsV0FIRixFQUlFdEwsb0JBSkYsRUFLRTtBQUNBLFlBQUlyWCxRQUFRa0csZUFBZXhCLEtBQTNCO0FBQ0EsZUFBTzFFLFVBQVUsSUFBakIsRUFBdUI7QUFDckIsY0FBSXNsQixZQUFZLEtBQUssQ0FBckI7O0FBRUEsa0JBQVF0bEIsTUFBTXZaLEdBQWQ7QUFDRSxpQkFBSzRCLGVBQUw7QUFFRSxrQkFBSWs5QixlQUFldmxCLE1BQU1qWixTQUFOLEdBQWtCLENBQXJDO0FBQ0Esa0JBQUlpWixNQUFNdmIsSUFBTixLQUFldEcsT0FBZixJQUEwQixDQUFDb25DLGVBQWU1QyxXQUFoQixNQUFpQyxDQUEvRCxFQUFrRTtBQUdoRSxvQkFBSXRsQixPQUFPMkMsS0FBWDtBQUNBLHVCQUFPM0MsU0FBUyxJQUFoQixFQUFzQjtBQUNwQixzQkFBSXJVLFlBQVlxVSxLQUFLclUsU0FBckI7QUFDQSxzQkFDRXFVLEtBQUsrUSxjQUFMLEtBQXdCUixNQUF4QixJQUNBdlEsS0FBSytRLGNBQUwsR0FBc0JpSixvQkFGeEIsRUFHRTtBQUNBaGEseUJBQUsrUSxjQUFMLEdBQXNCaUosb0JBQXRCO0FBQ0Esd0JBQ0VydUIsY0FBYyxJQUFkLEtBQ0NBLFVBQVVvbEIsY0FBVixLQUE2QlIsTUFBN0IsSUFDQzVrQixVQUFVb2xCLGNBQVYsR0FBMkJpSixvQkFGN0IsQ0FERixFQUlFO0FBQ0FydUIsZ0NBQVVvbEIsY0FBVixHQUEyQmlKLG9CQUEzQjtBQUNEO0FBQ0YsbUJBWkQsTUFZTyxJQUNMcnVCLGNBQWMsSUFBZCxLQUNDQSxVQUFVb2xCLGNBQVYsS0FBNkJSLE1BQTdCLElBQ0M1a0IsVUFBVW9sQixjQUFWLEdBQTJCaUosb0JBRjdCLENBREssRUFJTDtBQUNBcnVCLDhCQUFVb2xCLGNBQVYsR0FBMkJpSixvQkFBM0I7QUFDRCxtQkFOTSxNQU1BO0FBR0w7QUFDRDtBQUNEaGEseUJBQU9BLEtBQUssUUFBTCxDQUFQO0FBQ0Q7O0FBSURpb0IsNEJBQVksSUFBWjtBQUNELGVBbkNELE1BbUNPO0FBRUxBLDRCQUFZdGxCLE1BQU0wRSxLQUFsQjtBQUNEO0FBQ0Q7QUFDRixpQkFBS3BjLGVBQUw7QUFFRWc5QiwwQkFBWXRsQixNQUFNdmIsSUFBTixLQUFleWhCLGVBQWV6aEIsSUFBOUIsR0FBcUMsSUFBckMsR0FBNEN1YixNQUFNMEUsS0FBOUQ7QUFDQTtBQUNGO0FBRUU0Z0IsMEJBQVl0bEIsTUFBTTBFLEtBQWxCO0FBQ0E7QUFuREo7QUFxREEsY0FBSTRnQixjQUFjLElBQWxCLEVBQXdCO0FBRXRCQSxzQkFBVSxRQUFWLElBQXNCdGxCLEtBQXRCO0FBQ0QsV0FIRCxNQUdPO0FBRUxzbEIsd0JBQVl0bEIsS0FBWjtBQUNBLG1CQUFPc2xCLGNBQWMsSUFBckIsRUFBMkI7QUFDekIsa0JBQUlBLGNBQWNwZixjQUFsQixFQUFrQztBQUVoQ29mLDRCQUFZLElBQVo7QUFDQTtBQUNEO0FBQ0Qsa0JBQUkzZ0IsVUFBVTJnQixVQUFVM2dCLE9BQXhCO0FBQ0Esa0JBQUlBLFlBQVksSUFBaEIsRUFBc0I7QUFDcEIyZ0IsNEJBQVkzZ0IsT0FBWjtBQUNBO0FBQ0Q7O0FBRUQyZ0IsMEJBQVlBLFVBQVUsUUFBVixDQUFaO0FBQ0Q7QUFDRjtBQUNEdGxCLGtCQUFRc2xCLFNBQVI7QUFDRDtBQUNGOztBQUVELGVBQVNFLHFCQUFULENBQ0VoZ0MsT0FERixFQUVFMGdCLGNBRkYsRUFHRW1SLG9CQUhGLEVBSUU7QUFDQSxZQUFJb08sZUFBZXZmLGVBQWV6aEIsSUFBbEM7QUFDQSxZQUFJdEcsVUFBVXNuQyxhQUFhdG5DLE9BQTNCOztBQUVBLFlBQUk2akIsV0FBV2tFLGVBQWVxSixZQUE5QjtBQUNBLFlBQUlpSyxXQUFXdFQsZUFBZXdKLGFBQTlCOztBQUVBLFlBQUlsRCxtQkFBSixFQUF5QixDQUd4QixDQUhELE1BR08sSUFBSWdOLGFBQWF4WCxRQUFqQixFQUEyQjtBQUNoQ2tFLHlCQUFlbmYsU0FBZixHQUEyQixDQUEzQjtBQUNBczdCLHVCQUFhbmMsY0FBYjtBQUNBLGlCQUFPK2QsNkJBQTZCeitCLE9BQTdCLEVBQXNDMGdCLGNBQXRDLENBQVA7QUFDRDs7QUFFRCxZQUFJd2YsV0FBVzFqQixTQUFTL1UsS0FBeEI7QUFDQWlaLHVCQUFld0osYUFBZixHQUErQjFOLFFBQS9COztBQUVBLFlBQUkyZ0IsY0FBYyxLQUFLLENBQXZCO0FBQ0EsWUFBSW5KLGFBQWEsSUFBakIsRUFBdUI7QUFFckJtSix3QkFBY2hWLHFCQUFkO0FBQ0QsU0FIRCxNQUdPO0FBQ0wsY0FBSTZMLFNBQVN2c0IsS0FBVCxLQUFtQitVLFNBQVMvVSxLQUFoQyxFQUF1QztBQUVyQyxnQkFBSXVzQixTQUFTOWUsUUFBVCxLQUFzQnNILFNBQVN0SCxRQUFuQyxFQUE2QztBQUMzQ3dMLDZCQUFlbmYsU0FBZixHQUEyQixDQUEzQjtBQUNBczdCLDJCQUFhbmMsY0FBYjtBQUNBLHFCQUFPK2QsNkJBQTZCeitCLE9BQTdCLEVBQXNDMGdCLGNBQXRDLENBQVA7QUFDRDtBQUNEeWMsMEJBQWMsQ0FBZDtBQUNELFdBUkQsTUFRTztBQUNMLGdCQUFJZ0QsV0FBV25NLFNBQVN2c0IsS0FBeEI7O0FBSUEsZ0JBQ0cwNEIsYUFBYUQsUUFBYixLQUNFQyxhQUFhLENBQWIsSUFBa0IsSUFBSUEsUUFBSixLQUFpQixJQUFJRCxRQUR6QyxDQUFELElBRUNDLGFBQWFBLFFBQWIsSUFBeUJELGFBQWFBLFFBSHpDLEVBSUU7QUFFQSxvQkFBSWxNLFNBQVM5ZSxRQUFULEtBQXNCc0gsU0FBU3RILFFBQW5DLEVBQTZDO0FBQzNDd0wsaUNBQWVuZixTQUFmLEdBQTJCLENBQTNCO0FBQ0FzN0IsK0JBQWFuYyxjQUFiO0FBQ0EseUJBQU8rZCw2QkFBNkJ6K0IsT0FBN0IsRUFBc0MwZ0IsY0FBdEMsQ0FBUDtBQUNEO0FBQ0R5Yyw4QkFBYyxDQUFkO0FBQ0QsZUFaRCxNQVlPO0FBQ0xBLDRCQUNFLE9BQU94a0MsUUFBUXluQyxxQkFBZixLQUF5QyxVQUF6QyxHQUNJem5DLFFBQVF5bkMscUJBQVIsQ0FBOEJELFFBQTlCLEVBQXdDRCxRQUF4QyxDQURKLEdBRUkvWCxxQkFITjtBQUlBO0FBQ0V4d0Isd0JBQ0UsQ0FBQ3dsQyxjQUFjaFYscUJBQWYsTUFBMENnVixXQUQ1QyxFQUVFLDZEQUNFLHNDQUhKLEVBSUVBLFdBSkY7QUFNRDtBQUNEQSw2QkFBZSxDQUFmOztBQUVBLGtCQUFJQSxnQkFBZ0IsQ0FBcEIsRUFBdUI7QUFFckIsb0JBQUluSixTQUFTOWUsUUFBVCxLQUFzQnNILFNBQVN0SCxRQUFuQyxFQUE2QztBQUMzQ3dMLGlDQUFlbmYsU0FBZixHQUEyQixDQUEzQjtBQUNBczdCLCtCQUFhbmMsY0FBYjtBQUNBLHlCQUFPK2QsNkJBQTZCeitCLE9BQTdCLEVBQXNDMGdCLGNBQXRDLENBQVA7QUFDRDtBQUNGLGVBUEQsTUFPTztBQUNMbWYsdUNBQ0VuZixjQURGLEVBRUUvbkIsT0FGRixFQUdFd2tDLFdBSEYsRUFJRXRMLG9CQUpGO0FBTUQ7QUFDRjtBQUNGO0FBQ0Y7O0FBRURuUix1QkFBZW5mLFNBQWYsR0FBMkI0N0IsV0FBM0I7QUFDQU4scUJBQWFuYyxjQUFiOztBQUVBLFlBQUltYSxjQUFjcmUsU0FBU3RILFFBQTNCO0FBQ0FvcEIsMEJBQWtCdCtCLE9BQWxCLEVBQTJCMGdCLGNBQTNCLEVBQTJDbWEsV0FBM0M7QUFDQSxlQUFPbmEsZUFBZXhCLEtBQXRCO0FBQ0Q7O0FBRUQsZUFBU21oQixxQkFBVCxDQUNFcmdDLE9BREYsRUFFRTBnQixjQUZGLEVBR0VtUixvQkFIRixFQUlFO0FBQ0EsWUFBSWw1QixVQUFVK25CLGVBQWV6aEIsSUFBN0I7QUFDQSxZQUFJdWQsV0FBV2tFLGVBQWVxSixZQUE5QjtBQUNBLFlBQUlpSyxXQUFXdFQsZUFBZXdKLGFBQTlCOztBQUVBLFlBQUlnVyxXQUFXdm5DLFFBQVFxa0MsYUFBdkI7QUFDQSxZQUFJRyxjQUFjeGtDLFFBQVFva0MsWUFBMUI7O0FBRUEsWUFBSS9WLG1CQUFKLEVBQXlCLENBR3hCLENBSEQsTUFHTyxJQUFJbVcsZ0JBQWdCLENBQWhCLElBQXFCbkosYUFBYXhYLFFBQXRDLEVBQWdEO0FBQ3JELGlCQUFPaWlCLDZCQUE2QnorQixPQUE3QixFQUFzQzBnQixjQUF0QyxDQUFQO0FBQ0Q7QUFDREEsdUJBQWV3SixhQUFmLEdBQStCMU4sUUFBL0I7O0FBRUEsWUFBSXVqQixlQUFldmpCLFNBQVM4akIscUJBQTVCO0FBQ0EsWUFBSVAsaUJBQWlCNWdDLFNBQWpCLElBQThCNGdDLGlCQUFpQixJQUFuRCxFQUF5RDtBQUV2REEseUJBQWU1WCxxQkFBZjtBQUNEOztBQUVEekgsdUJBQWVuZixTQUFmLEdBQTJCdytCLFlBQTNCOztBQUVBLFlBQUksQ0FBQzVDLGNBQWM0QyxZQUFmLE1BQWlDLENBQXJDLEVBQXdDO0FBR3RDRixpQ0FDRW5mLGNBREYsRUFFRS9uQixPQUZGLEVBR0V3a0MsV0FIRixFQUlFdEwsb0JBSkY7QUFNRCxTQVRELE1BU08sSUFBSW1DLGFBQWEsSUFBYixJQUFxQkEsU0FBUzllLFFBQVQsS0FBc0JzSCxTQUFTdEgsUUFBeEQsRUFBa0U7QUFFdkUsaUJBQU91cEIsNkJBQTZCeitCLE9BQTdCLEVBQXNDMGdCLGNBQXRDLENBQVA7QUFDRDs7QUFFRCxZQUFJMUYsU0FBU3dCLFNBQVN0SCxRQUF0Qjs7QUFFQTtBQUNFdmQsa0JBQ0UsT0FBT3FqQixNQUFQLEtBQWtCLFVBRHBCLEVBRUUsd0VBQ0UsbUVBREYsR0FFRSxrRUFGRixHQUdFLGlEQUxKO0FBT0Q7O0FBRUQsWUFBSTZmLGNBQWM3ZixPQUFPa2xCLFFBQVAsQ0FBbEI7QUFDQTVCLDBCQUFrQnQrQixPQUFsQixFQUEyQjBnQixjQUEzQixFQUEyQ21hLFdBQTNDO0FBQ0EsZUFBT25hLGVBQWV4QixLQUF0QjtBQUNEOztBQXFCRCxlQUFTdWYsNEJBQVQsQ0FBc0N6K0IsT0FBdEMsRUFBK0MwZ0IsY0FBL0MsRUFBK0Q7QUFDN0R3RSx3QkFBZ0J4RSxjQUFoQjs7QUFnQkE0Yix5QkFBaUJ0OEIsT0FBakIsRUFBMEIwZ0IsY0FBMUI7QUFDQSxlQUFPQSxlQUFleEIsS0FBdEI7QUFDRDs7QUFFRCxlQUFTcWhCLG9CQUFULENBQThCdmdDLE9BQTlCLEVBQXVDMGdCLGNBQXZDLEVBQXVEO0FBQ3JEd0Usd0JBQWdCeEUsY0FBaEI7O0FBSUEsZ0JBQVFBLGVBQWV6ZixHQUF2QjtBQUNFLGVBQUttQixRQUFMO0FBQ0U2OEIsZ0NBQW9CdmUsY0FBcEI7QUFDQTtBQUNGLGVBQUt2ZSxjQUFMO0FBQ0V5bEIsZ0NBQW9CbEgsY0FBcEI7QUFDQTtBQUNGLGVBQUtyZSxVQUFMO0FBQ0U0N0IsOEJBQ0V2ZCxjQURGLEVBRUVBLGVBQWVuZixTQUFmLENBQXlCNFQsYUFGM0I7QUFJQTtBQUNGLGVBQUtyUyxlQUFMO0FBQ0UrNUIseUJBQWFuYyxjQUFiO0FBQ0E7QUFmSjs7QUFtQkEsZUFBTyxJQUFQO0FBQ0Q7O0FBR0QsZUFBUytTLFlBQVQsQ0FBc0IvUyxjQUF0QixFQUFzQ3pILFNBQXRDLEVBQWlEO0FBQy9DeUgsdUJBQWV3SixhQUFmLEdBQStCalIsU0FBL0I7QUFDRDs7QUFFRCxlQUFTeWEsWUFBVCxDQUFzQmhULGNBQXRCLEVBQXNDOGYsU0FBdEMsRUFBaUQ7QUFDL0M5Zix1QkFBZTBKLGFBQWYsR0FBK0JvVyxTQUEvQjtBQUdEOztBQUVELGVBQVNDLFNBQVQsQ0FBbUJ6Z0MsT0FBbkIsRUFBNEIwZ0IsY0FBNUIsRUFBNENtUixvQkFBNUMsRUFBa0U7QUFDaEUsWUFDRW5SLGVBQWVrSSxjQUFmLEtBQWtDUixNQUFsQyxJQUNBMUgsZUFBZWtJLGNBQWYsR0FBZ0NpSixvQkFGbEMsRUFHRTtBQUNBLGlCQUFPME8scUJBQXFCdmdDLE9BQXJCLEVBQThCMGdCLGNBQTlCLENBQVA7QUFDRDs7QUFFRCxnQkFBUUEsZUFBZXpmLEdBQXZCO0FBQ0UsZUFBS2dCLHNCQUFMO0FBQ0UsbUJBQU9zOUIsNEJBQ0x2L0IsT0FESyxFQUVMMGdCLGNBRkssRUFHTG1SLG9CQUhLLENBQVA7QUFLRixlQUFLM3ZCLG1CQUFMO0FBQ0UsbUJBQU8wOEIsMEJBQTBCNStCLE9BQTFCLEVBQW1DMGdCLGNBQW5DLENBQVA7QUFDRixlQUFLdmUsY0FBTDtBQUNFLG1CQUFPMDhCLHFCQUNMNytCLE9BREssRUFFTDBnQixjQUZLLEVBR0xtUixvQkFISyxDQUFQO0FBS0YsZUFBS3p2QixRQUFMO0FBQ0UsbUJBQU84OEIsZUFBZWwvQixPQUFmLEVBQXdCMGdCLGNBQXhCLEVBQXdDbVIsb0JBQXhDLENBQVA7QUFDRixlQUFLdnZCLGFBQUw7QUFDRSxtQkFBTzY4QixvQkFDTG4vQixPQURLLEVBRUwwZ0IsY0FGSyxFQUdMbVIsb0JBSEssQ0FBUDtBQUtGLGVBQUt0dkIsUUFBTDtBQUNFLG1CQUFPKzhCLGVBQWV0L0IsT0FBZixFQUF3QjBnQixjQUF4QixDQUFQO0FBQ0YsZUFBS2plLGdCQUFMO0FBRUVpZSwyQkFBZXpmLEdBQWYsR0FBcUJ1QixhQUFyQjs7QUFFRixlQUFLQSxhQUFMO0FBQ0UsbUJBQU9tOUIsb0JBQ0wzL0IsT0FESyxFQUVMMGdCLGNBRkssRUFHTG1SLG9CQUhLLENBQVA7QUFLRixlQUFLbnZCLGVBQUw7QUFHRSxtQkFBTyxJQUFQO0FBQ0YsZUFBS0wsVUFBTDtBQUNFLG1CQUFPdTlCLHNCQUNMNS9CLE9BREssRUFFTDBnQixjQUZLLEVBR0xtUixvQkFISyxDQUFQO0FBS0YsZUFBS2x2QixRQUFMO0FBQ0UsbUJBQU9pM0IsZUFBZTU1QixPQUFmLEVBQXdCMGdCLGNBQXhCLENBQVA7QUFDRixlQUFLOWQsSUFBTDtBQUNFLG1CQUFPODdCLFdBQVcxK0IsT0FBWCxFQUFvQjBnQixjQUFwQixDQUFQO0FBQ0YsZUFBSzVkLGVBQUw7QUFDRSxtQkFBT2s5QixzQkFDTGhnQyxPQURLLEVBRUwwZ0IsY0FGSyxFQUdMbVIsb0JBSEssQ0FBUDtBQUtGLGVBQUtodkIsZUFBTDtBQUNFLG1CQUFPdzlCLHNCQUNMcmdDLE9BREssRUFFTDBnQixjQUZLLEVBR0xtUixvQkFISyxDQUFQO0FBS0Y7QUFDRW42QixzQkFDRSxLQURGLEVBRUUsdUVBQ0UsOEJBSEo7QUE5REo7QUFvRUQ7O0FBRUQsYUFBTztBQUNMK29DLG1CQUFXQTtBQUROLE9BQVA7QUFHRCxLQS9oQ0Q7O0FBaWlDQSxRQUFJQyx5QkFBeUIsU0FBekJBLHNCQUF5QixDQUFTL0MsTUFBVCxFQUFpQkMsV0FBakIsRUFBOEJDLGdCQUE5QixFQUFnRDtBQUMzRSxVQUFJOEMsaUJBQWlCaEQsT0FBT2dELGNBQTVCO0FBQUEsVUFDRUMscUJBQXFCakQsT0FBT2lELGtCQUQ5QjtBQUFBLFVBRUVDLHFCQUFxQmxELE9BQU9rRCxrQkFGOUI7QUFBQSxVQUdFQywwQkFBMEJuRCxPQUFPbUQsdUJBSG5DO0FBQUEsVUFJRUMsZ0JBQWdCcEQsT0FBT29ELGFBSnpCO0FBQUEsVUFLRUMsV0FBV3JELE9BQU9xRCxRQUxwQjtBQUFBLFVBTUVDLGNBQWN0RCxPQUFPc0QsV0FOdkI7QUFPQSxVQUFJQyx1QkFBdUJ0RCxZQUFZc0Qsb0JBQXZDO0FBQUEsVUFDRUMsaUJBQWlCdkQsWUFBWXVELGNBRC9CO0FBQUEsVUFFRUMsaUJBQWlCeEQsWUFBWXdELGNBRi9CO0FBQUEsVUFHRUMsbUJBQW1CekQsWUFBWXlELGdCQUhqQztBQUlBLFVBQUlDLCtCQUNBekQsaUJBQWlCeUQsNEJBRHJCO0FBQUEsVUFFRUMsbUNBQ0UxRCxpQkFBaUIwRCxnQ0FIckI7QUFBQSxVQUlFQyxvQkFBb0IzRCxpQkFBaUIyRCxpQkFKdkM7O0FBTUEsZUFBU0MsVUFBVCxDQUFvQi9nQixjQUFwQixFQUFvQztBQUdsQ0EsdUJBQWVoQyxTQUFmLElBQTRCZixNQUE1QjtBQUNEOztBQUVELGVBQVNnaEIsT0FBVCxDQUFpQmplLGNBQWpCLEVBQWlDO0FBQy9CQSx1QkFBZWhDLFNBQWYsSUFBNEJULEdBQTVCO0FBQ0Q7O0FBRUQsZUFBU3lqQixnQkFBVCxDQUEwQkMsT0FBMUIsRUFBbUNqaEIsY0FBbkMsRUFBbUQ7QUFDakQsWUFBSTdJLE9BQU82SSxlQUFlbmYsU0FBMUI7QUFDQSxZQUFJc1csSUFBSixFQUFVO0FBQ1JBLGVBQUssUUFBTCxJQUFpQjZJLGNBQWpCO0FBQ0Q7QUFDRCxlQUFPN0ksU0FBUyxJQUFoQixFQUFzQjtBQUNwQixjQUNFQSxLQUFLNVcsR0FBTCxLQUFhcUIsYUFBYixJQUNBdVYsS0FBSzVXLEdBQUwsS0FBYXNCLFFBRGIsSUFFQXNWLEtBQUs1VyxHQUFMLEtBQWFvQixVQUhmLEVBSUU7QUFDQTNLLHNCQUFVLEtBQVYsRUFBaUIsNkNBQWpCO0FBQ0QsV0FORCxNQU1PLElBQUltZ0IsS0FBSzVXLEdBQUwsS0FBYXlCLGVBQWpCLEVBQWtDO0FBQ3ZDaS9CLG9CQUFRemhDLElBQVIsQ0FBYTJYLEtBQUtrUyxZQUFMLENBQWtCdGlCLEtBQS9CO0FBQ0QsV0FGTSxNQUVBLElBQUlvUSxLQUFLcUgsS0FBTCxLQUFlLElBQW5CLEVBQXlCO0FBQzlCckgsaUJBQUtxSCxLQUFMLENBQVcsUUFBWCxJQUF1QnJILElBQXZCO0FBQ0FBLG1CQUFPQSxLQUFLcUgsS0FBWjtBQUNBO0FBQ0Q7QUFDRCxpQkFBT3JILEtBQUtzSCxPQUFMLEtBQWlCLElBQXhCLEVBQThCO0FBQzVCLGdCQUFJdEgsS0FBSyxRQUFMLE1BQW1CLElBQW5CLElBQTJCQSxLQUFLLFFBQUwsTUFBbUI2SSxjQUFsRCxFQUFrRTtBQUNoRTtBQUNEO0FBQ0Q3SSxtQkFBT0EsS0FBSyxRQUFMLENBQVA7QUFDRDtBQUNEQSxlQUFLc0gsT0FBTCxDQUFhLFFBQWIsSUFBeUJ0SCxLQUFLLFFBQUwsQ0FBekI7QUFDQUEsaUJBQU9BLEtBQUtzSCxPQUFaO0FBQ0Q7QUFDRjs7QUFFRCxlQUFTeWlCLHNCQUFULENBQ0U1aEMsT0FERixFQUVFMGdCLGNBRkYsRUFHRW1SLG9CQUhGLEVBSUU7QUFDQSxZQUFJMXdCLFFBQVF1ZixlQUFld0osYUFBM0I7QUFDQXh5QixrQkFDRXlKLEtBREYsRUFFRSx3RUFDRSw4QkFISjs7QUFhQXVmLHVCQUFlemYsR0FBZixHQUFxQndCLGdCQUFyQjs7QUFJQSxZQUFJay9CLFVBQVUsRUFBZDtBQUNBRCx5QkFBaUJDLE9BQWpCLEVBQTBCamhCLGNBQTFCO0FBQ0EsWUFBSTljLEtBQUt6QyxNQUFNMGdDLE9BQWY7QUFDQSxZQUFJQyxhQUFhM2dDLE1BQU1BLEtBQXZCO0FBQ0EsWUFBSW85QixlQUFlMzZCLEdBQUdrK0IsVUFBSCxFQUFlSCxPQUFmLENBQW5COztBQUVBLFlBQUlqSixvQkFBb0IxNEIsWUFBWSxJQUFaLEdBQW1CQSxRQUFRa2YsS0FBM0IsR0FBbUMsSUFBM0Q7QUFDQXdCLHVCQUFleEIsS0FBZixHQUF1QmdkLHFCQUNyQnhiLGNBRHFCLEVBRXJCZ1ksaUJBRnFCLEVBR3JCNkYsWUFIcUIsRUFJckIxTSxvQkFKcUIsQ0FBdkI7QUFNQSxlQUFPblIsZUFBZXhCLEtBQXRCO0FBQ0Q7O0FBRUQsZUFBUzZpQixpQkFBVCxDQUEyQnhpQixNQUEzQixFQUFtQ21CLGNBQW5DLEVBQW1EO0FBR2pELFlBQUk3SSxPQUFPNkksZUFBZXhCLEtBQTFCO0FBQ0EsZUFBT3JILFNBQVMsSUFBaEIsRUFBc0I7QUFDcEIsY0FBSUEsS0FBSzVXLEdBQUwsS0FBYXFCLGFBQWIsSUFBOEJ1VixLQUFLNVcsR0FBTCxLQUFhc0IsUUFBL0MsRUFBeUQ7QUFDdkRzK0IsK0JBQW1CdGhCLE1BQW5CLEVBQTJCMUgsS0FBS3RXLFNBQWhDO0FBQ0QsV0FGRCxNQUVPLElBQUlzVyxLQUFLNVcsR0FBTCxLQUFhb0IsVUFBakIsRUFBNkIsQ0FJbkMsQ0FKTSxNQUlBLElBQUl3VixLQUFLcUgsS0FBTCxLQUFlLElBQW5CLEVBQXlCO0FBQzlCckgsaUJBQUtxSCxLQUFMLENBQVcsUUFBWCxJQUF1QnJILElBQXZCO0FBQ0FBLG1CQUFPQSxLQUFLcUgsS0FBWjtBQUNBO0FBQ0Q7QUFDRCxjQUFJckgsU0FBUzZJLGNBQWIsRUFBNkI7QUFDM0I7QUFDRDtBQUNELGlCQUFPN0ksS0FBS3NILE9BQUwsS0FBaUIsSUFBeEIsRUFBOEI7QUFDNUIsZ0JBQUl0SCxLQUFLLFFBQUwsTUFBbUIsSUFBbkIsSUFBMkJBLEtBQUssUUFBTCxNQUFtQjZJLGNBQWxELEVBQWtFO0FBQ2hFO0FBQ0Q7QUFDRDdJLG1CQUFPQSxLQUFLLFFBQUwsQ0FBUDtBQUNEO0FBQ0RBLGVBQUtzSCxPQUFMLENBQWEsUUFBYixJQUF5QnRILEtBQUssUUFBTCxDQUF6QjtBQUNBQSxpQkFBT0EsS0FBS3NILE9BQVo7QUFDRDtBQUNGOztBQUVELFVBQUk2aUIsc0JBQXNCLEtBQUssQ0FBL0I7QUFDQSxVQUFJN0Msc0JBQXNCLEtBQUssQ0FBL0I7QUFDQSxVQUFJRyxpQkFBaUIsS0FBSyxDQUExQjtBQUNBLFVBQUkwQixRQUFKLEVBQWM7QUFDWixZQUFJdGYsd0JBQUosRUFBOEI7QUFFNUJzZ0IsZ0NBQXNCLDZCQUFTdGhCLGNBQVQsRUFBeUIsQ0FFOUMsQ0FGRDtBQUdBeWUsZ0NBQXNCLDZCQUNwQm4vQixPQURvQixFQUVwQjBnQixjQUZvQixFQUdwQjlJLGFBSG9CLEVBSXBCM1ksSUFKb0IsRUFLcEIrMEIsUUFMb0IsRUFNcEJ4WCxRQU5vQixFQU9wQnlsQixxQkFQb0IsRUFRcEJDLGtCQVJvQixFQVNwQjtBQUVBeGhCLDJCQUFleUosV0FBZixHQUE2QnZTLGFBQTdCOztBQUdBLGdCQUFJQSxhQUFKLEVBQW1CO0FBQ2pCNnBCLHlCQUFXL2dCLGNBQVg7QUFDRDtBQUNGLFdBakJEO0FBa0JBNGUsMkJBQWlCLHdCQUFTdC9CLE9BQVQsRUFBa0IwZ0IsY0FBbEIsRUFBa0N5aEIsT0FBbEMsRUFBMkNDLE9BQTNDLEVBQW9EO0FBRW5FLGdCQUFJRCxZQUFZQyxPQUFoQixFQUF5QjtBQUN2QlgseUJBQVcvZ0IsY0FBWDtBQUNEO0FBQ0YsV0FMRDtBQU1ELFNBN0JELE1BNkJPO0FBQ0xocEIsb0JBQVUsS0FBVixFQUFpQixrQ0FBakI7QUFDRDtBQUNGLE9BakNELE1BaUNPLElBQUl1cEMsV0FBSixFQUFpQjtBQUN0QixZQUFJcmYsMEJBQUosRUFBZ0M7QUFFOUIsY0FBSXlnQixnQkFBZ0JwQixZQUFZb0IsYUFBaEM7QUFBQSxjQUNFQywwQkFBMEJyQixZQUFZcUIsdUJBRHhDO0FBQUEsY0FFRUMsaUNBQ0V0QixZQUFZc0IsOEJBSGhCO0FBQUEsY0FJRUMsNEJBQTRCdkIsWUFBWXVCLHlCQUoxQzs7QUFRQSxjQUFJQywrQkFBK0IsU0FBL0JBLDRCQUErQixDQUNqQ0MsaUJBRGlDLEVBRWpDaGlCLGNBRmlDLEVBR2pDO0FBR0EsZ0JBQUk3SSxPQUFPNkksZUFBZXhCLEtBQTFCO0FBQ0EsbUJBQU9ySCxTQUFTLElBQWhCLEVBQXNCO0FBQ3BCLGtCQUFJQSxLQUFLNVcsR0FBTCxLQUFhcUIsYUFBYixJQUE4QnVWLEtBQUs1VyxHQUFMLEtBQWFzQixRQUEvQyxFQUF5RDtBQUN2RGdnQywrQ0FBK0JHLGlCQUEvQixFQUFrRDdxQixLQUFLdFcsU0FBdkQ7QUFDRCxlQUZELE1BRU8sSUFBSXNXLEtBQUs1VyxHQUFMLEtBQWFvQixVQUFqQixFQUE2QixDQUluQyxDQUpNLE1BSUEsSUFBSXdWLEtBQUtxSCxLQUFMLEtBQWUsSUFBbkIsRUFBeUI7QUFDOUJySCxxQkFBS3FILEtBQUwsQ0FBVyxRQUFYLElBQXVCckgsSUFBdkI7QUFDQUEsdUJBQU9BLEtBQUtxSCxLQUFaO0FBQ0E7QUFDRDtBQUNELGtCQUFJckgsU0FBUzZJLGNBQWIsRUFBNkI7QUFDM0I7QUFDRDtBQUNELHFCQUFPN0ksS0FBS3NILE9BQUwsS0FBaUIsSUFBeEIsRUFBOEI7QUFDNUIsb0JBQUl0SCxLQUFLLFFBQUwsTUFBbUIsSUFBbkIsSUFBMkJBLEtBQUssUUFBTCxNQUFtQjZJLGNBQWxELEVBQWtFO0FBQ2hFO0FBQ0Q7QUFDRDdJLHVCQUFPQSxLQUFLLFFBQUwsQ0FBUDtBQUNEO0FBQ0RBLG1CQUFLc0gsT0FBTCxDQUFhLFFBQWIsSUFBeUJ0SCxLQUFLLFFBQUwsQ0FBekI7QUFDQUEscUJBQU9BLEtBQUtzSCxPQUFaO0FBQ0Q7QUFDRixXQS9CRDtBQWdDQTZpQixnQ0FBc0IsNkJBQVN0aEIsY0FBVCxFQUF5QjtBQUM3QyxnQkFBSWlpQixlQUFlamlCLGVBQWVuZixTQUFsQztBQUNBLGdCQUFJcWhDLG9CQUFvQmxpQixlQUFlNEosV0FBZixLQUErQixJQUF2RDtBQUNBLGdCQUFJc1ksaUJBQUosRUFBdUIsQ0FFdEIsQ0FGRCxNQUVPO0FBQ0wsa0JBQUlDLFlBQVlGLGFBQWF4dEIsYUFBN0I7QUFDQSxrQkFBSTJ0QixjQUFjUix3QkFBd0JPLFNBQXhCLENBQWxCOztBQUVBSiwyQ0FBNkJLLFdBQTdCLEVBQTBDcGlCLGNBQTFDO0FBQ0FpaUIsMkJBQWFqWCxlQUFiLEdBQStCb1gsV0FBL0I7O0FBRUFyQix5QkFBVy9nQixjQUFYO0FBQ0E4aEIsd0NBQTBCSyxTQUExQixFQUFxQ0MsV0FBckM7QUFDRDtBQUNGLFdBZkQ7QUFnQkEzRCxnQ0FBc0IsNkJBQ3BCbi9CLE9BRG9CLEVBRXBCMGdCLGNBRm9CLEVBR3BCOUksYUFIb0IsRUFJcEIzWSxJQUpvQixFQUtwQiswQixRQUxvQixFQU1wQnhYLFFBTm9CLEVBT3BCeWxCLHFCQVBvQixFQVFwQkMsa0JBUm9CLEVBU3BCO0FBR0EsZ0JBQUlVLG9CQUFvQmxpQixlQUFlNEosV0FBZixLQUErQixJQUF2RDtBQUNBLGdCQUFJeVksa0JBQWtCL2lDLFFBQVF1QixTQUE5QjtBQUNBLGdCQUFJcWhDLHFCQUFxQmhyQixrQkFBa0IsSUFBM0MsRUFBaUQ7QUFHL0M4SSw2QkFBZW5mLFNBQWYsR0FBMkJ3aEMsZUFBM0I7QUFDRCxhQUpELE1BSU87QUFDTCxrQkFBSUMscUJBQXFCdGlCLGVBQWVuZixTQUF4QztBQUNBLGtCQUFJMGhDLGNBQWNaLGNBQ2hCVSxlQURnQixFQUVoQm5yQixhQUZnQixFQUdoQjNZLElBSGdCLEVBSWhCKzBCLFFBSmdCLEVBS2hCeFgsUUFMZ0IsRUFNaEJrRSxjQU5nQixFQU9oQmtpQixpQkFQZ0IsRUFRaEJJLGtCQVJnQixDQUFsQjtBQVVBLGtCQUNFbEMsd0JBQ0VtQyxXQURGLEVBRUVoa0MsSUFGRixFQUdFdWQsUUFIRixFQUlFeWxCLHFCQUpGLEVBS0VDLGtCQUxGLENBREYsRUFRRTtBQUNBVCwyQkFBVy9nQixjQUFYO0FBQ0Q7QUFDREEsNkJBQWVuZixTQUFmLEdBQTJCMGhDLFdBQTNCO0FBQ0Esa0JBQUlMLGlCQUFKLEVBQXVCO0FBSXJCbkIsMkJBQVcvZ0IsY0FBWDtBQUNELGVBTEQsTUFLTztBQUVMcWhCLGtDQUFrQmtCLFdBQWxCLEVBQStCdmlCLGNBQS9CO0FBQ0Q7QUFDRjtBQUNGLFdBcEREO0FBcURBNGUsMkJBQWlCLHdCQUFTdC9CLE9BQVQsRUFBa0IwZ0IsY0FBbEIsRUFBa0N5aEIsT0FBbEMsRUFBMkNDLE9BQTNDLEVBQW9EO0FBQ25FLGdCQUFJRCxZQUFZQyxPQUFoQixFQUF5QjtBQUV2QixrQkFBSUgsd0JBQXdCZixzQkFBNUI7QUFDQSxrQkFBSWdCLHFCQUFxQmQsZ0JBQXpCO0FBQ0ExZ0IsNkJBQWVuZixTQUFmLEdBQTJCcS9CLG1CQUN6QndCLE9BRHlCLEVBRXpCSCxxQkFGeUIsRUFHekJDLGtCQUh5QixFQUl6QnhoQixjQUp5QixDQUEzQjs7QUFRQStnQix5QkFBVy9nQixjQUFYO0FBQ0Q7QUFDRixXQWZEO0FBZ0JELFNBL0hELE1BK0hPO0FBQ0xocEIsb0JBQVUsS0FBVixFQUFpQixvQ0FBakI7QUFDRDtBQUNGLE9BbklNLE1BbUlBO0FBQ0wsWUFBSWlxQixvQkFBSixFQUEwQjtBQUV4QnFnQixnQ0FBc0IsNkJBQVN0aEIsY0FBVCxFQUF5QixDQUU5QyxDQUZEO0FBR0F5ZSxnQ0FBc0IsNkJBQ3BCbi9CLE9BRG9CLEVBRXBCMGdCLGNBRm9CLEVBR3BCOUksYUFIb0IsRUFJcEIzWSxJQUpvQixFQUtwQiswQixRQUxvQixFQU1wQnhYLFFBTm9CLEVBT3BCeWxCLHFCQVBvQixFQVFwQkMsa0JBUm9CLEVBU3BCLENBRUQsQ0FYRDtBQVlBNUMsMkJBQWlCLHdCQUFTdC9CLE9BQVQsRUFBa0IwZ0IsY0FBbEIsRUFBa0N5aEIsT0FBbEMsRUFBMkNDLE9BQTNDLEVBQW9ELENBRXBFLENBRkQ7QUFHRCxTQXBCRCxNQW9CTztBQUNMMXFDLG9CQUFVLEtBQVYsRUFBaUIsOEJBQWpCO0FBQ0Q7QUFDRjs7QUFFRCxlQUFTd3JDLFlBQVQsQ0FBc0JsakMsT0FBdEIsRUFBK0IwZ0IsY0FBL0IsRUFBK0NtUixvQkFBL0MsRUFBcUU7QUFDbkUsWUFBSXJWLFdBQVdrRSxlQUFlcUosWUFBOUI7QUFDQSxnQkFBUXJKLGVBQWV6ZixHQUF2QjtBQUNFLGVBQUtpQixtQkFBTDtBQUNFLG1CQUFPLElBQVA7QUFDRixlQUFLQyxjQUFMO0FBQXFCO0FBRW5CZ2xCLGlDQUFtQnpHLGNBQW5COztBQUdBLGtCQUFJblksV0FBV21ZLGVBQWVuZixTQUE5QjtBQUNBLGtCQUFJNG9CLGNBQWN6SixlQUFleUosV0FBakM7QUFDQSxrQkFBSUEsZ0JBQWdCLElBQWhCLElBQXdCQSxZQUFZMEcsY0FBWixLQUErQixJQUEzRCxFQUFpRTtBQUMvRG5RLCtCQUFlaEMsU0FBZixJQUE0QixDQUFDVixVQUE3QjtBQUNBLG9CQUFJLE9BQU96VixTQUFTNDZCLGlCQUFoQixLQUFzQyxVQUExQyxFQUFzRDtBQUNwRHppQixpQ0FBZWhDLFNBQWYsSUFBNEJSLE1BQTVCO0FBQ0QsaUJBRkQsTUFFTztBQUdMaU0sOEJBQVkwRyxjQUFaLEdBQTZCLElBQTdCO0FBQ0Q7QUFDRjtBQUNELHFCQUFPLElBQVA7QUFDRDtBQUNELGVBQUt6dUIsUUFBTDtBQUFlO0FBQ2JpL0IsK0JBQWlCM2dCLGNBQWpCO0FBQ0EwRyx1Q0FBeUIxRyxjQUF6QjtBQUNBLGtCQUFJMGlCLFlBQVkxaUIsZUFBZW5mLFNBQS9CO0FBQ0Esa0JBQUk2aEMsVUFBVW5YLGNBQWQsRUFBOEI7QUFDNUJtWCwwQkFBVXpxQyxPQUFWLEdBQW9CeXFDLFVBQVVuWCxjQUE5QjtBQUNBbVgsMEJBQVVuWCxjQUFWLEdBQTJCLElBQTNCO0FBQ0Q7QUFDRCxrQkFBSWpzQixZQUFZLElBQVosSUFBb0JBLFFBQVFrZixLQUFSLEtBQWtCLElBQTFDLEVBQWdEO0FBRzlDc2lCLGtDQUFrQjlnQixjQUFsQjs7QUFHQUEsK0JBQWVoQyxTQUFmLElBQTRCLENBQUNoQixTQUE3QjtBQUNEO0FBQ0Rza0Isa0NBQW9CdGhCLGNBQXBCOztBQUVBLGtCQUFJMmlCLGVBQWUzaUIsZUFBZXlKLFdBQWxDO0FBQ0Esa0JBQUlrWixpQkFBaUIsSUFBakIsSUFBeUJBLGFBQWF4UyxjQUFiLEtBQWdDLElBQTdELEVBQW1FO0FBQ2pFblEsK0JBQWVoQyxTQUFmLElBQTRCUixNQUE1QjtBQUNEO0FBQ0QscUJBQU8sSUFBUDtBQUNEO0FBQ0QsZUFBSzViLGFBQUw7QUFBb0I7QUFDbEI2K0IsNkJBQWV6Z0IsY0FBZjtBQUNBLGtCQUFJdWhCLHdCQUF3QmYsc0JBQTVCO0FBQ0Esa0JBQUlqaUMsT0FBT3loQixlQUFlemhCLElBQTFCO0FBQ0Esa0JBQUllLFlBQVksSUFBWixJQUFvQjBnQixlQUFlbmYsU0FBZixJQUE0QixJQUFwRCxFQUEwRDtBQUd4RCxvQkFBSXl5QixXQUFXaDBCLFFBQVFrcUIsYUFBdkI7O0FBS0Esb0JBQUlvWixZQUFZNWlCLGVBQWVuZixTQUEvQjtBQUNBLG9CQUFJMmdDLHFCQUFxQmQsZ0JBQXpCOztBQUlBLG9CQUFJeHBCLGdCQUFnQm1wQixjQUNsQnVDLFNBRGtCLEVBRWxCcmtDLElBRmtCLEVBR2xCKzBCLFFBSGtCLEVBSWxCeFgsUUFKa0IsRUFLbEJ5bEIscUJBTGtCLEVBTWxCQyxrQkFOa0IsQ0FBcEI7O0FBU0EvQyxvQ0FDRW4vQixPQURGLEVBRUUwZ0IsY0FGRixFQUdFOUksYUFIRixFQUlFM1ksSUFKRixFQUtFKzBCLFFBTEYsRUFNRXhYLFFBTkYsRUFPRXlsQixxQkFQRixFQVFFQyxrQkFSRjs7QUFXQSxvQkFBSWxpQyxRQUFRaXFCLEdBQVIsS0FBZ0J2SixlQUFldUosR0FBbkMsRUFBd0M7QUFDdEMwVSwwQkFBUWplLGNBQVI7QUFDRDtBQUNGLGVBcENELE1Bb0NPO0FBQ0wsb0JBQUksQ0FBQ2xFLFFBQUwsRUFBZTtBQUNiOWtCLDRCQUNFZ3BCLGVBQWVuZixTQUFmLEtBQTZCLElBRC9CLEVBRUUsaUVBQ0UsaURBSEo7O0FBTUEseUJBQU8sSUFBUDtBQUNEOztBQUVELG9CQUFJZ2lDLHNCQUFzQm5DLGdCQUExQjs7QUFLQSxvQkFBSW9DLGNBQWNoQyxrQkFBa0I5Z0IsY0FBbEIsQ0FBbEI7QUFDQSxvQkFBSThpQixXQUFKLEVBQWlCO0FBR2Ysc0JBQ0VsQyw2QkFDRTVnQixjQURGLEVBRUV1aEIscUJBRkYsRUFHRXNCLG1CQUhGLENBREYsRUFNRTtBQUdBOUIsK0JBQVcvZ0IsY0FBWDtBQUNEO0FBQ0YsaUJBZEQsTUFjTztBQUNMLHNCQUFJK2lCLGFBQWE5QyxlQUNmMWhDLElBRGUsRUFFZnVkLFFBRmUsRUFHZnlsQixxQkFIZSxFQUlmc0IsbUJBSmUsRUFLZjdpQixjQUxlLENBQWpCOztBQVFBcWhCLG9DQUFrQjBCLFVBQWxCLEVBQThCL2lCLGNBQTlCOztBQUtBLHNCQUNFb2dCLHdCQUNFMkMsVUFERixFQUVFeGtDLElBRkYsRUFHRXVkLFFBSEYsRUFJRXlsQixxQkFKRixFQUtFc0IsbUJBTEYsQ0FERixFQVFFO0FBQ0E5QiwrQkFBVy9nQixjQUFYO0FBQ0Q7QUFDREEsaUNBQWVuZixTQUFmLEdBQTJCa2lDLFVBQTNCO0FBQ0Q7O0FBRUQsb0JBQUkvaUIsZUFBZXVKLEdBQWYsS0FBdUIsSUFBM0IsRUFBaUM7QUFFL0IwVSwwQkFBUWplLGNBQVI7QUFDRDtBQUNGO0FBQ0QscUJBQU8sSUFBUDtBQUNEO0FBQ0QsZUFBS25lLFFBQUw7QUFBZTtBQUNiLGtCQUFJNi9CLFVBQVU1bEIsUUFBZDtBQUNBLGtCQUFJeGMsV0FBVzBnQixlQUFlbmYsU0FBZixJQUE0QixJQUEzQyxFQUFpRDtBQUMvQyxvQkFBSTRnQyxVQUFVbmlDLFFBQVFrcUIsYUFBdEI7O0FBR0FvViwrQkFBZXQvQixPQUFmLEVBQXdCMGdCLGNBQXhCLEVBQXdDeWhCLE9BQXhDLEVBQWlEQyxPQUFqRDtBQUNELGVBTEQsTUFLTztBQUNMLG9CQUFJLE9BQU9BLE9BQVAsS0FBbUIsUUFBdkIsRUFBaUM7QUFDL0IxcUMsNEJBQ0VncEIsZUFBZW5mLFNBQWYsS0FBNkIsSUFEL0IsRUFFRSxpRUFDRSxpREFISjs7QUFNQSx5QkFBTyxJQUFQO0FBQ0Q7QUFDRCxvQkFBSW1pQyx5QkFBeUJ4QyxzQkFBN0I7QUFDQSxvQkFBSXlDLHVCQUF1QnZDLGdCQUEzQjtBQUNBLG9CQUFJd0MsZUFBZXBDLGtCQUFrQjlnQixjQUFsQixDQUFuQjtBQUNBLG9CQUFJa2pCLFlBQUosRUFBa0I7QUFDaEIsc0JBQUlyQyxpQ0FBaUM3Z0IsY0FBakMsQ0FBSixFQUFzRDtBQUNwRCtnQiwrQkFBVy9nQixjQUFYO0FBQ0Q7QUFDRixpQkFKRCxNQUlPO0FBQ0xBLGlDQUFlbmYsU0FBZixHQUEyQnEvQixtQkFDekJ3QixPQUR5QixFQUV6QnNCLHNCQUZ5QixFQUd6QkMsb0JBSHlCLEVBSXpCampCLGNBSnlCLENBQTNCO0FBTUQ7QUFDRjtBQUNELHFCQUFPLElBQVA7QUFDRDtBQUNELGVBQUtsZSxhQUFMO0FBQ0UsbUJBQU9vL0IsdUJBQ0w1aEMsT0FESyxFQUVMMGdCLGNBRkssRUFHTG1SLG9CQUhLLENBQVA7QUFLRixlQUFLcHZCLGdCQUFMO0FBRUVpZSwyQkFBZXpmLEdBQWYsR0FBcUJ1QixhQUFyQjtBQUNBLG1CQUFPLElBQVA7QUFDRixlQUFLRSxlQUFMO0FBRUUsbUJBQU8sSUFBUDtBQUNGLGVBQUtDLFFBQUw7QUFDRSxtQkFBTyxJQUFQO0FBQ0YsZUFBS0MsSUFBTDtBQUNFLG1CQUFPLElBQVA7QUFDRixlQUFLUCxVQUFMO0FBQ0VnL0IsNkJBQWlCM2dCLGNBQWpCO0FBQ0FzaEIsZ0NBQW9CdGhCLGNBQXBCO0FBQ0EsbUJBQU8sSUFBUDtBQUNGLGVBQUs1ZCxlQUFMO0FBRUVvNkIsd0JBQVl4YyxjQUFaO0FBQ0EsbUJBQU8sSUFBUDtBQUNGLGVBQUs3ZCxlQUFMO0FBQ0UsbUJBQU8sSUFBUDs7QUFFRixlQUFLWixzQkFBTDtBQUNFdkssc0JBQ0UsS0FERixFQUVFLHNFQUNFLG9FQURGLEdBRUUsZ0JBSko7O0FBT0Y7QUFDRUEsc0JBQ0UsS0FERixFQUVFLHVFQUNFLDhCQUhKO0FBaE9KO0FBc09EOztBQUVELGFBQU87QUFDTHdyQyxzQkFBY0E7QUFEVCxPQUFQO0FBR0QsS0E3aUJEOztBQStpQkEsYUFBU1csbUJBQVQsQ0FBNkJwOEIsS0FBN0IsRUFBb0N3WSxNQUFwQyxFQUE0QztBQUcxQyxhQUFPO0FBQ0x4WSxlQUFPQSxLQURGO0FBRUx3WSxnQkFBUUEsTUFGSDtBQUdMeWMsZUFBT2pjLHNDQUFzQ1IsTUFBdEM7QUFIRixPQUFQO0FBS0Q7O0FBRUQsUUFBSTZqQix1QkFBdUIsU0FBdkJBLG9CQUF1QixDQUN6QmxHLFdBRHlCLEVBRXpCckssWUFGeUIsRUFHekJ3USxrQ0FIeUIsRUFJekI7QUFDQSxVQUFJMUMsbUJBQW1CekQsWUFBWXlELGdCQUFuQztBQUFBLFVBQ0VGLGlCQUFpQnZELFlBQVl1RCxjQUQvQjs7QUFHQSxlQUFTNkMsY0FBVCxDQUF3QnBNLFdBQXhCLEVBQXFDcU0sV0FBckMsRUFBa0RDLFFBQWxELEVBQTREO0FBRTFERCxvQkFBWXZsQixTQUFaLElBQXlCTixVQUF6Qjs7QUFFQTZsQixvQkFBWTNaLFdBQVosR0FBMEIyWixZQUFZMVosVUFBWixHQUF5QixJQUFuRDs7QUFFQSxZQUFJOWlCLFFBQVFvOEIsb0JBQW9CSyxRQUFwQixFQUE4QkQsV0FBOUIsQ0FBWjs7QUFFQSxZQUFJdmpCLGlCQUFpQmtYLFdBQXJCO0FBQ0EsV0FBRztBQUNELGtCQUFRbFgsZUFBZXpmLEdBQXZCO0FBQ0UsaUJBQUttQixRQUFMO0FBQWU7QUFFYixvQkFBSStoQyxZQUFZMThCLEtBQWhCO0FBQ0EwcEIsbUNBQW1CelEsY0FBbkI7QUFDQSxvQkFBSXlKLGNBQWN6SixlQUFleUosV0FBakM7QUFDQUEsNEJBQVkwRyxjQUFaLEdBQTZCLENBQUNzVCxTQUFELENBQTdCO0FBQ0F6akIsK0JBQWVoQyxTQUFmLElBQTRCTCxhQUE1QjtBQUNBO0FBQ0Q7QUFDRCxpQkFBS2xjLGNBQUw7QUFFRSxrQkFBSWd4QixPQUFPelMsZUFBZXpoQixJQUExQjtBQUNBLGtCQUFJcWtDLFlBQVk1aUIsZUFBZW5mLFNBQS9CO0FBQ0Esa0JBQ0UsQ0FBQ21mLGVBQWVoQyxTQUFmLEdBQTJCVixVQUE1QixNQUE0Q1IsUUFBNUMsS0FDRSxPQUFPMlYsS0FBS0Usd0JBQVosS0FBeUMsVUFBekMsSUFDQWpTLDhCQURELElBRUVraUIsY0FBYyxJQUFkLElBQ0MsT0FBT0EsVUFBVUgsaUJBQWpCLEtBQXVDLFVBRHhDLElBRUMsQ0FBQ1ksbUNBQW1DVCxTQUFuQyxDQUxMLENBREYsRUFPRTtBQUNBblMsbUNBQW1CelEsY0FBbkI7QUFDQSxvQkFBSTJpQixlQUFlM2lCLGVBQWV5SixXQUFsQztBQUNBLG9CQUFJMEcsaUJBQWlCd1MsYUFBYXhTLGNBQWxDO0FBQ0Esb0JBQUlBLG1CQUFtQixJQUF2QixFQUE2QjtBQUMzQndTLCtCQUFheFMsY0FBYixHQUE4QixDQUFDcHBCLEtBQUQsQ0FBOUI7QUFDRCxpQkFGRCxNQUVPO0FBQ0xvcEIsaUNBQWUzd0IsSUFBZixDQUFvQnVILEtBQXBCO0FBQ0Q7QUFDRGlaLCtCQUFlaEMsU0FBZixJQUE0QkwsYUFBNUI7QUFDQTtBQUNEO0FBQ0Q7QUFDRjtBQUNFO0FBbkNKO0FBcUNBcUMsMkJBQWlCQSxlQUFlLFFBQWYsQ0FBakI7QUFDRCxTQXZDRCxRQXVDU0EsbUJBQW1CLElBdkM1QjtBQXdDRDs7QUFFRCxlQUFTMGpCLFVBQVQsQ0FBb0IxakIsY0FBcEIsRUFBb0M7QUFDbEMsZ0JBQVFBLGVBQWV6ZixHQUF2QjtBQUNFLGVBQUtrQixjQUFMO0FBQXFCO0FBQ25CZ2xCLGlDQUFtQnpHLGNBQW5CO0FBQ0Esa0JBQUloQyxZQUFZZ0MsZUFBZWhDLFNBQS9CO0FBQ0Esa0JBQUlBLFlBQVlMLGFBQWhCLEVBQStCO0FBQzdCcUMsK0JBQWVoQyxTQUFmLEdBQTRCQSxZQUFZLENBQUNMLGFBQWQsR0FBK0JMLFVBQTFEO0FBQ0EsdUJBQU8wQyxjQUFQO0FBQ0Q7QUFDRCxxQkFBTyxJQUFQO0FBQ0Q7QUFDRCxlQUFLdGUsUUFBTDtBQUFlO0FBQ2JpL0IsK0JBQWlCM2dCLGNBQWpCO0FBQ0EwRyx1Q0FBeUIxRyxjQUF6QjtBQUNBLGtCQUFJMmpCLGFBQWEzakIsZUFBZWhDLFNBQWhDO0FBQ0Esa0JBQUkybEIsYUFBYWhtQixhQUFqQixFQUFnQztBQUM5QnFDLCtCQUFlaEMsU0FBZixHQUE0QjJsQixhQUFhLENBQUNobUIsYUFBZixHQUFnQ0wsVUFBM0Q7QUFDQSx1QkFBTzBDLGNBQVA7QUFDRDtBQUNELHFCQUFPLElBQVA7QUFDRDtBQUNELGVBQUtwZSxhQUFMO0FBQW9CO0FBQ2xCNitCLDZCQUFlemdCLGNBQWY7QUFDQSxxQkFBTyxJQUFQO0FBQ0Q7QUFDRCxlQUFLcmUsVUFBTDtBQUNFZy9CLDZCQUFpQjNnQixjQUFqQjtBQUNBLG1CQUFPLElBQVA7QUFDRixlQUFLNWQsZUFBTDtBQUNFbzZCLHdCQUFZeGMsY0FBWjtBQUNBLG1CQUFPLElBQVA7QUFDRjtBQUNFLG1CQUFPLElBQVA7QUEvQko7QUFpQ0Q7QUFDRCxhQUFPO0FBQ0xzakIsd0JBQWdCQSxjQURYO0FBRUxJLG9CQUFZQTtBQUZQLE9BQVA7QUFJRCxLQWxHRDs7QUF5R0EsYUFBU0UsZUFBVCxDQUF5QkMsYUFBekIsRUFBd0M7QUFDdEMsVUFBSUMsaUJBQWlCRCxjQUFjQyxjQUFuQztBQUFBLFVBQ0U3cUMsUUFBUTRxQyxjQUFjNXFDLEtBRHhCOztBQUdBLFVBQUk4cUMsZ0JBQWdCLEtBQUssQ0FBekI7O0FBR0EsVUFBSTlxQyxpQkFBaUJxQixLQUFyQixFQUE0QjtBQUMxQixZQUFJeXlCLFVBQVU5ekIsTUFBTTh6QixPQUFwQjtBQUFBLFlBQ0VoMUIsT0FBT2tCLE1BQU1sQixJQURmOztBQUdBLFlBQUlpc0MsVUFBVWpYLFVBQVVoMUIsT0FBTyxJQUFQLEdBQWNnMUIsT0FBeEIsR0FBa0NoMUIsSUFBaEQ7O0FBRUFnc0Msd0JBQWdCOXFDLEtBQWhCOztBQUVBLFlBQUk7QUFDRjhxQyx3QkFBY2hYLE9BQWQsR0FDRWlYLFVBQVUsK0JBQVYsR0FBNENGLGNBRDlDO0FBRUQsU0FIRCxDQUdFLE9BQU94ckMsQ0FBUCxFQUFVLENBQUU7QUFDZixPQVpELE1BWU8sSUFBSSxPQUFPVyxLQUFQLEtBQWlCLFFBQXJCLEVBQStCO0FBQ3BDOHFDLHdCQUFnQixJQUFJenBDLEtBQUosQ0FDZHJCLFFBQVEsK0JBQVIsR0FBMEM2cUMsY0FENUIsQ0FBaEI7QUFHRCxPQUpNLE1BSUE7QUFDTEMsd0JBQWdCLElBQUl6cEMsS0FBSixDQUFVLDBCQUEwQndwQyxjQUFwQyxDQUFoQjtBQUNEOztBQUVEbHNDLHdCQUFrQnFzQyxlQUFsQixDQUFrQ0YsYUFBbEMsRUFBaUQsS0FBakQ7O0FBTUEsYUFBTyxLQUFQO0FBQ0Q7O0FBRUQsYUFBU0csZ0JBQVQsQ0FBMEJMLGFBQTFCLEVBQXlDO0FBQ3ZDLFVBQUlNLFdBQVdQLGdCQUFnQkMsYUFBaEIsQ0FBZjs7QUFJQSxVQUFJTSxhQUFhLEtBQWpCLEVBQXdCO0FBQ3RCO0FBQ0Q7O0FBRUQsVUFBSWxyQyxRQUFRNHFDLGNBQWM1cUMsS0FBMUI7QUFDQSxVQUFJbXJDLGtCQUFrQm5yQyxTQUFTQSxNQUFNb3JDLHlCQUFyQztBQUNBLFVBQUlELGVBQUosRUFBcUI7QUFDbkI7QUFDRDs7QUFFRDtBQUNFLFlBQUkvZ0IsZ0JBQWdCd2dCLGNBQWN4Z0IsYUFBbEM7QUFBQSxZQUNFeWdCLGlCQUFpQkQsY0FBY0MsY0FEakM7QUFBQSxZQUVFUSxvQkFBb0JULGNBQWNTLGlCQUZwQztBQUFBLFlBR0VDLHFCQUFxQlYsY0FBY1Usa0JBSHJDO0FBQUEsWUFJRUMsWUFBWVgsY0FBY1csU0FKNUI7O0FBTUEsWUFBSUMsdUJBQXVCcGhCLGdCQUN2QixzQ0FBc0NBLGFBQXRDLEdBQXNELGNBRC9CLEdBRXZCLDJEQUZKOztBQUlBLFlBQUlxaEIsdUJBQXVCLEtBQUssQ0FBaEM7O0FBRUEsWUFBSUgsc0JBQXNCRCxpQkFBMUIsRUFBNkM7QUFDM0MsY0FBSUUsU0FBSixFQUFlO0FBQ2JFLG1DQUNFLGtFQUNDLDRDQUE0Q0osaUJBQTVDLEdBQWdFLEdBRGpFLENBREY7QUFHRCxXQUpELE1BSU87QUFDTEksbUNBQ0UsNERBQ0FKLGlCQURBLEdBRUEsS0FGQSxHQUdBLHlFQUpGO0FBS0Q7QUFDRixTQVpELE1BWU87QUFDTEksaUNBQ0UsMkZBQ0Esa0ZBRkY7QUFHRDtBQUNELFlBQUlDLGtCQUNGLEtBQ0FGLG9CQURBLEdBRUFYLGNBRkEsR0FHQSxNQUhBLElBSUMsS0FBS1ksb0JBSk4sQ0FERjs7QUFXQTE2QixnQkFBUS9RLEtBQVIsQ0FBYzByQyxlQUFkO0FBQ0Q7QUFDRjs7QUFFRCxRQUFJQywwQkFBMEJwcUMsZ0JBQWdCMUMscUJBQTlDO0FBQ0EsUUFBSStzQyxtQkFBbUJycUMsZ0JBQWdCSSxjQUF2QztBQUNBLFFBQUlrcUMscUJBQXFCdHFDLGdCQUFnQkssZ0JBQXpDOztBQUVBLGFBQVNzcEMsUUFBVCxDQUFrQlksUUFBbEIsRUFBNEJ0QixTQUE1QixFQUF1QztBQUNyQyxVQUFJbGtCLFNBQVNra0IsVUFBVWxrQixNQUF2QjtBQUNBLFVBQUl5YyxRQUFReUgsVUFBVXpILEtBQXRCO0FBQ0EsVUFBSUEsVUFBVSxJQUFkLEVBQW9CO0FBQ2xCQSxnQkFBUWpjLHNDQUFzQ1IsTUFBdEMsQ0FBUjtBQUNEOztBQUVELFVBQUlza0IsZ0JBQWdCO0FBQ2xCeGdCLHVCQUFlOUQsV0FBVyxJQUFYLEdBQWtCMUYsaUJBQWlCMEYsTUFBakIsQ0FBbEIsR0FBNkMsSUFEMUM7QUFFbEJ0bUIsZUFBT3dxQyxVQUFVMThCLEtBRkM7QUFHbEJpK0IsdUJBQWVELFFBSEc7QUFJbEJqQix3QkFBZ0I5SCxVQUFVLElBQVYsR0FBaUJBLEtBQWpCLEdBQXlCLEVBSnZCO0FBS2xCc0ksMkJBQW1CLElBTEQ7QUFNbEJDLDRCQUFvQixLQU5GO0FBT2xCQyxtQkFBVztBQVBPLE9BQXBCOztBQVVBLFVBQUlPLGFBQWEsSUFBakIsRUFBdUI7QUFDckJsQixzQkFBY1MsaUJBQWQsR0FBa0N6cUIsaUJBQWlCa3JCLFFBQWpCLENBQWxDO0FBQ0FsQixzQkFBY1Usa0JBQWQsR0FBbUNWLGNBQWNXLFNBQWQsR0FDakNPLFNBQVN4a0MsR0FBVCxLQUFpQmtCLGNBRG5CO0FBRUQsT0FKRCxNQUlPO0FBQ0xvaUMsc0JBQWNTLGlCQUFkLEdBQWtDLElBQWxDO0FBQ0FULHNCQUFjVSxrQkFBZCxHQUFtQ1YsY0FBY1csU0FBZCxHQUEwQixLQUE3RDtBQUNEOztBQUVELFVBQUk7QUFDRk4seUJBQWlCTCxhQUFqQjtBQUNELE9BRkQsQ0FFRSxPQUFPdnJDLENBQVAsRUFBVTtBQUdWLFlBQUk4ckMsa0JBQWtCOXJDLEtBQUtBLEVBQUUrckMseUJBQTdCO0FBQ0EsWUFBSSxDQUFDRCxlQUFMLEVBQXNCO0FBQ3BCcDZCLGtCQUFRL1EsS0FBUixDQUFjWCxDQUFkO0FBQ0Q7QUFDRjtBQUNGOztBQUVELFFBQUkyc0MsdUJBQXVCLFNBQXZCQSxvQkFBdUIsQ0FDekJoSSxNQUR5QixFQUV6QmlJLFlBRnlCLEVBR3pCclMsWUFIeUIsRUFJekJDLHlCQUp5QixFQUt6QnFTLCtCQUx5QixFQU16QkMsc0JBTnlCLEVBT3pCO0FBQ0EsVUFBSUMsb0JBQW9CcEksT0FBT29JLGlCQUEvQjtBQUFBLFVBQ0UvRSxXQUFXckQsT0FBT3FELFFBRHBCO0FBQUEsVUFFRUMsY0FBY3RELE9BQU9zRCxXQUZ2Qjs7QUFJQSxVQUFJK0Usb0NBQW9DLFNBQXBDQSxpQ0FBb0MsQ0FBU2htQyxPQUFULEVBQWtCdUksUUFBbEIsRUFBNEI7QUFDbEU4Yyx3QkFBZ0JybEIsT0FBaEIsRUFBeUIsc0JBQXpCO0FBQ0F1SSxpQkFBU3BILEtBQVQsR0FBaUJuQixRQUFRa3FCLGFBQXpCO0FBQ0EzaEIsaUJBQVN3VyxLQUFULEdBQWlCL2UsUUFBUW9xQixhQUF6QjtBQUNBN2hCLGlCQUFTMDlCLG9CQUFUO0FBQ0EzZ0I7QUFDRCxPQU5EOztBQVNBLGVBQVM0Z0IsOEJBQVQsQ0FBd0NsbUMsT0FBeEMsRUFBaUR1SSxRQUFqRCxFQUEyRDtBQUN6RDtBQUNFKzhCLGtDQUNFLElBREYsRUFFRVUsaUNBRkYsRUFHRSxJQUhGLEVBSUVobUMsT0FKRixFQUtFdUksUUFMRjtBQU9BLGNBQUlnOUIsa0JBQUosRUFBd0I7QUFDdEIsZ0JBQUlZLGVBQWVYLG9CQUFuQjtBQUNBSSx5QkFBYTVsQyxPQUFiLEVBQXNCbW1DLFlBQXRCO0FBQ0Q7QUFDRjtBQUNGOztBQUVELGVBQVNDLGVBQVQsQ0FBeUJwbUMsT0FBekIsRUFBa0M7QUFDaEMsWUFBSWlxQixNQUFNanFCLFFBQVFpcUIsR0FBbEI7QUFDQSxZQUFJQSxRQUFRLElBQVosRUFBa0I7QUFDaEIsY0FBSSxPQUFPQSxHQUFQLEtBQWUsVUFBbkIsRUFBK0I7QUFDN0I7QUFDRXFiLHNDQUF3QixJQUF4QixFQUE4QnJiLEdBQTlCLEVBQW1DLElBQW5DLEVBQXlDLElBQXpDO0FBQ0Esa0JBQUlzYixrQkFBSixFQUF3QjtBQUN0QixvQkFBSWMsV0FBV2Isb0JBQWY7QUFDQUksNkJBQWE1bEMsT0FBYixFQUFzQnFtQyxRQUF0QjtBQUNEO0FBQ0Y7QUFDRixXQVJELE1BUU87QUFDTHBjLGdCQUFJeGlCLEtBQUosR0FBWSxJQUFaO0FBQ0Q7QUFDRjtBQUNGOztBQUVELGVBQVM2K0IsZ0JBQVQsQ0FDRUMsWUFERixFQUVFdm1DLE9BRkYsRUFHRWdzQixZQUhGLEVBSUUvQyxXQUpGLEVBS0V1ZCx1QkFMRixFQU1FO0FBQ0EsZ0JBQVF4YSxhQUFhL3FCLEdBQXJCO0FBQ0UsZUFBS2tCLGNBQUw7QUFBcUI7QUFDbkIsa0JBQUltaEMsWUFBWXRYLGFBQWF6cUIsU0FBN0I7QUFDQSxrQkFBSXlxQixhQUFhdE4sU0FBYixHQUF5QmYsTUFBN0IsRUFBcUM7QUFDbkMsb0JBQUkzZCxZQUFZLElBQWhCLEVBQXNCO0FBQ3BCcWxCLGtDQUFnQjJHLFlBQWhCLEVBQThCLG1CQUE5QjtBQUNBc1gsNEJBQVVuaUMsS0FBVixHQUFrQjZxQixhQUFhOUIsYUFBL0I7QUFDQW9aLDRCQUFVdmtCLEtBQVYsR0FBa0JpTixhQUFhNUIsYUFBL0I7QUFDQWtaLDRCQUFVN00saUJBQVY7QUFDQW5SO0FBQ0QsaUJBTkQsTUFNTztBQUNMLHNCQUFJdE0sWUFBWWhaLFFBQVFrcUIsYUFBeEI7QUFDQSxzQkFBSXdILFlBQVkxeEIsUUFBUW9xQixhQUF4QjtBQUNBL0Usa0NBQWdCMkcsWUFBaEIsRUFBOEIsb0JBQTlCO0FBQ0FzWCw0QkFBVW5pQyxLQUFWLEdBQWtCNnFCLGFBQWE5QixhQUEvQjtBQUNBb1osNEJBQVV2a0IsS0FBVixHQUFrQmlOLGFBQWE1QixhQUEvQjtBQUNBa1osNEJBQVV2TSxrQkFBVixDQUE2Qi9kLFNBQTdCLEVBQXdDMFksU0FBeEM7QUFDQXBNO0FBQ0Q7QUFDRjtBQUNELGtCQUFJNkUsY0FBYzZCLGFBQWE3QixXQUEvQjtBQUNBLGtCQUFJQSxnQkFBZ0IsSUFBcEIsRUFBMEI7QUFDeEJxSSxnQ0FBZ0JySSxXQUFoQixFQUE2Qm1aLFNBQTdCO0FBQ0Q7QUFDRDtBQUNEO0FBQ0QsZUFBS2xoQyxRQUFMO0FBQWU7QUFDYixrQkFBSWloQyxlQUFlclgsYUFBYTdCLFdBQWhDO0FBQ0Esa0JBQUlrWixpQkFBaUIsSUFBckIsRUFBMkI7QUFDekIsb0JBQUlJLGFBQWEsSUFBakI7QUFDQSxvQkFBSXpYLGFBQWE5TSxLQUFiLEtBQXVCLElBQTNCLEVBQWlDO0FBQy9CLDBCQUFROE0sYUFBYTlNLEtBQWIsQ0FBbUJqZSxHQUEzQjtBQUNFLHlCQUFLcUIsYUFBTDtBQUNFbWhDLG1DQUFhc0Msa0JBQWtCL1osYUFBYTlNLEtBQWIsQ0FBbUIzZCxTQUFyQyxDQUFiO0FBQ0E7QUFDRix5QkFBS1ksY0FBTDtBQUNFc2hDLG1DQUFhelgsYUFBYTlNLEtBQWIsQ0FBbUIzZCxTQUFoQztBQUNBO0FBTko7QUFRRDtBQUNEaXhCLGdDQUFnQjZRLFlBQWhCLEVBQThCSSxVQUE5QjtBQUNEO0FBQ0Q7QUFDRDtBQUNELGVBQUtuaEMsYUFBTDtBQUFvQjtBQUNsQixrQkFBSW1rQyxhQUFhemEsYUFBYXpxQixTQUE5Qjs7QUFNQSxrQkFBSXZCLFlBQVksSUFBWixJQUFvQmdzQixhQUFhdE4sU0FBYixHQUF5QmYsTUFBakQsRUFBeUQ7QUFDdkQsb0JBQUkxZSxPQUFPK3NCLGFBQWEvc0IsSUFBeEI7QUFDQSxvQkFBSWtDLFFBQVE2cUIsYUFBYTlCLGFBQXpCO0FBQ0F3Yyw0QkFBWUQsVUFBWixFQUF3QnhuQyxJQUF4QixFQUE4QmtDLEtBQTlCLEVBQXFDNnFCLFlBQXJDO0FBQ0Q7O0FBRUQ7QUFDRDtBQUNELGVBQUt6cEIsUUFBTDtBQUFlO0FBRWI7QUFDRDtBQUNELGVBQUtGLFVBQUw7QUFBaUI7QUFFZjtBQUNEO0FBQ0Q7QUFBUztBQUNQM0ssd0JBQ0UsS0FERixFQUVFLHVFQUNFLHdEQUhKO0FBS0Q7QUF6RUg7QUEyRUQ7O0FBRUQsZUFBU2l2QyxrQkFBVCxDQUE0QjNhLFlBQTVCLEVBQTBDNGEsZUFBMUMsRUFBMkQ7QUFDekQsZ0JBQVE1YSxhQUFhL3FCLEdBQXJCO0FBQ0UsZUFBS2tCLGNBQUw7QUFDRTtBQUNFLGtCQUFJZ3hCLE9BQU9uSCxhQUFhL3NCLElBQXhCO0FBQ0Esa0JBQUk0bkMsYUFBYTdhLGFBQWF6cUIsU0FBOUI7QUFDQSxrQkFBSTRvQixjQUFjNkIsYUFBYTdCLFdBQS9CO0FBQ0F6eUIsd0JBQ0V5eUIsZ0JBQWdCLElBQWhCLElBQXdCQSxZQUFZMEcsY0FBWixLQUErQixJQUR6RCxFQUVFLHlFQUNFLGdFQURGLEdBRUUsdUJBSko7QUFNQSxrQkFBSWlXLGlCQUFpQjNjLFlBQVkwRyxjQUFqQztBQUNBMUcsMEJBQVkwRyxjQUFaLEdBQTZCLElBQTdCOztBQUVBLGtCQUFJLE9BQU9zQyxLQUFLRSx3QkFBWixLQUF5QyxVQUE3QyxFQUF5RDtBQU12RHdTLGdEQUFnQ2dCLFVBQWhDO0FBQ0Q7O0FBRURBLHlCQUFXMWxDLEtBQVgsR0FBbUI2cUIsYUFBYTlCLGFBQWhDO0FBQ0EyYyx5QkFBVzluQixLQUFYLEdBQW1CaU4sYUFBYTVCLGFBQWhDO0FBQ0EsbUJBQUssSUFBSS9xQixJQUFJLENBQWIsRUFBZ0JBLElBQUl5bkMsZUFBZXBvQyxNQUFuQyxFQUEyQ1csR0FBM0MsRUFBZ0Q7QUFDOUMsb0JBQUk4a0MsWUFBWTJDLGVBQWV6bkMsQ0FBZixDQUFoQjtBQUNBLG9CQUFJMG5DLFNBQVM1QyxVQUFVMThCLEtBQXZCO0FBQ0FvOUIseUJBQVM3WSxZQUFULEVBQXVCbVksU0FBdkI7QUFDQTBDLDJCQUFXMUQsaUJBQVgsQ0FBNkI0RCxNQUE3QjtBQUNEO0FBQ0Y7QUFDRDtBQUNGLGVBQUsza0MsUUFBTDtBQUFlO0FBQ2Isa0JBQUk0a0MsZ0JBQWdCaGIsYUFBYTdCLFdBQWpDO0FBQ0F6eUIsd0JBQ0VzdkMsa0JBQWtCLElBQWxCLElBQTBCQSxjQUFjblcsY0FBZCxLQUFpQyxJQUQ3RCxFQUVFLHlFQUNFLGdFQURGLEdBRUUsdUJBSko7QUFNQSxrQkFBSW9XLGtCQUFrQkQsY0FBY25XLGNBQXBDO0FBQ0FtVyw0QkFBY25XLGNBQWQsR0FBK0IsSUFBL0I7QUFDQSxtQkFBSyxJQUFJcVcsS0FBSyxDQUFkLEVBQWlCQSxLQUFLRCxnQkFBZ0J2b0MsTUFBdEMsRUFBOEN3b0MsSUFBOUMsRUFBb0Q7QUFDbEQsb0JBQUlDLGFBQWFGLGdCQUFnQkMsRUFBaEIsQ0FBakI7QUFDQXJDLHlCQUFTN1ksWUFBVCxFQUF1Qm1iLFVBQXZCO0FBQ0FQLGdDQUFnQk8sV0FBVzEvQixLQUEzQjtBQUNEO0FBQ0Q7QUFDRDtBQUNEO0FBQ0UvUCxzQkFDRSxLQURGLEVBRUUsaUVBQ0Usd0RBSEo7QUFwREo7QUEwREQ7O0FBRUQsZUFBUzB2QyxlQUFULENBQXlCcGIsWUFBekIsRUFBdUM7QUFDckMsWUFBSS9CLE1BQU0rQixhQUFhL0IsR0FBdkI7QUFDQSxZQUFJQSxRQUFRLElBQVosRUFBa0I7QUFDaEIsY0FBSW9kLGFBQWFyYixhQUFhenFCLFNBQTlCO0FBQ0EsY0FBSStsQyxnQkFBZ0IsS0FBSyxDQUF6QjtBQUNBLGtCQUFRdGIsYUFBYS9xQixHQUFyQjtBQUNFLGlCQUFLcUIsYUFBTDtBQUNFZ2xDLDhCQUFnQnZCLGtCQUFrQnNCLFVBQWxCLENBQWhCO0FBQ0E7QUFDRjtBQUNFQyw4QkFBZ0JELFVBQWhCO0FBTEo7QUFPQSxjQUFJLE9BQU9wZCxHQUFQLEtBQWUsVUFBbkIsRUFBK0I7QUFDN0JBLGdCQUFJcWQsYUFBSjtBQUNELFdBRkQsTUFFTztBQUNMcmQsZ0JBQUl4aUIsS0FBSixHQUFZNi9CLGFBQVo7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsZUFBU0MsZUFBVCxDQUF5QnZuQyxPQUF6QixFQUFrQztBQUNoQyxZQUFJd25DLGFBQWF4bkMsUUFBUWlxQixHQUF6QjtBQUNBLFlBQUl1ZCxlQUFlLElBQW5CLEVBQXlCO0FBQ3ZCLGNBQUksT0FBT0EsVUFBUCxLQUFzQixVQUExQixFQUFzQztBQUNwQ0EsdUJBQVcsSUFBWDtBQUNELFdBRkQsTUFFTztBQUNMQSx1QkFBVy8vQixLQUFYLEdBQW1CLElBQW5CO0FBQ0Q7QUFDRjtBQUNGOztBQUtELGVBQVNnZ0MsYUFBVCxDQUF1QnpuQyxPQUF2QixFQUFnQztBQUM5QixZQUFJLE9BQU9rdEIsZUFBUCxLQUEyQixVQUEvQixFQUEyQztBQUN6Q0EsMEJBQWdCbHRCLE9BQWhCO0FBQ0Q7O0FBRUQsZ0JBQVFBLFFBQVFpQixHQUFoQjtBQUNFLGVBQUtrQixjQUFMO0FBQXFCO0FBQ25CaWtDLDhCQUFnQnBtQyxPQUFoQjtBQUNBLGtCQUFJMG5DLGFBQWExbkMsUUFBUXVCLFNBQXpCO0FBQ0Esa0JBQUksT0FBT21tQyxXQUFXekIsb0JBQWxCLEtBQTJDLFVBQS9DLEVBQTJEO0FBQ3pEQywrQ0FBK0JsbUMsT0FBL0IsRUFBd0MwbkMsVUFBeEM7QUFDRDtBQUNEO0FBQ0Q7QUFDRCxlQUFLcGxDLGFBQUw7QUFBb0I7QUFDbEI4akMsOEJBQWdCcG1DLE9BQWhCO0FBQ0E7QUFDRDtBQUNELGVBQUt3QyxhQUFMO0FBQW9CO0FBQ2xCbWxDLG1DQUFxQjNuQyxRQUFRdUIsU0FBN0I7QUFDQTtBQUNEO0FBQ0QsZUFBS2MsVUFBTDtBQUFpQjtBQUlmLGtCQUFJcWYsNEJBQTRCc2YsUUFBaEMsRUFBMEM7QUFDeEM0RyxzQ0FBc0I1bkMsT0FBdEI7QUFDRCxlQUZELE1BRU8sSUFBSTRoQiw4QkFBOEJxZixXQUFsQyxFQUErQztBQUNwRDRHLHFDQUFxQjduQyxPQUFyQjtBQUNEO0FBQ0Q7QUFDRDtBQTNCSDtBQTZCRDs7QUFFRCxlQUFTMm5DLG9CQUFULENBQThCN2IsSUFBOUIsRUFBb0M7QUFLbEMsWUFBSWpVLE9BQU9pVSxJQUFYO0FBQ0EsZUFBTyxJQUFQLEVBQWE7QUFDWDJiLHdCQUFjNXZCLElBQWQ7O0FBR0EsY0FDRUEsS0FBS3FILEtBQUwsS0FBZSxJQUFmLEtBR0MsQ0FBQzhoQixRQUFELElBQWFucEIsS0FBSzVXLEdBQUwsS0FBYW9CLFVBSDNCLENBREYsRUFLRTtBQUNBd1YsaUJBQUtxSCxLQUFMLENBQVcsUUFBWCxJQUF1QnJILElBQXZCO0FBQ0FBLG1CQUFPQSxLQUFLcUgsS0FBWjtBQUNBO0FBQ0Q7QUFDRCxjQUFJckgsU0FBU2lVLElBQWIsRUFBbUI7QUFDakI7QUFDRDtBQUNELGlCQUFPalUsS0FBS3NILE9BQUwsS0FBaUIsSUFBeEIsRUFBOEI7QUFDNUIsZ0JBQUl0SCxLQUFLLFFBQUwsTUFBbUIsSUFBbkIsSUFBMkJBLEtBQUssUUFBTCxNQUFtQmlVLElBQWxELEVBQXdEO0FBQ3REO0FBQ0Q7QUFDRGpVLG1CQUFPQSxLQUFLLFFBQUwsQ0FBUDtBQUNEO0FBQ0RBLGVBQUtzSCxPQUFMLENBQWEsUUFBYixJQUF5QnRILEtBQUssUUFBTCxDQUF6QjtBQUNBQSxpQkFBT0EsS0FBS3NILE9BQVo7QUFDRDtBQUNGOztBQUVELGVBQVMyb0IsV0FBVCxDQUFxQjluQyxPQUFyQixFQUE4QjtBQU01QkEsZ0JBQVEsUUFBUixJQUFvQixJQUFwQjtBQUNBQSxnQkFBUWtmLEtBQVIsR0FBZ0IsSUFBaEI7QUFDQSxZQUFJbGYsUUFBUXdELFNBQVosRUFBdUI7QUFDckJ4RCxrQkFBUXdELFNBQVIsQ0FBa0IwYixLQUFsQixHQUEwQixJQUExQjtBQUNBbGYsa0JBQVF3RCxTQUFSLENBQWtCLFFBQWxCLElBQThCLElBQTlCO0FBQ0Q7QUFDRjs7QUFFRCxVQUFJcWtDLHVCQUF1QixLQUFLLENBQWhDOztBQUVBLFVBQUksQ0FBQzdHLFFBQUwsRUFBZTtBQUNiLFlBQUkrRyxrQkFBa0IsS0FBSyxDQUEzQjtBQUNBLFlBQUk5RyxXQUFKLEVBQWlCO0FBQ2YsY0FBSStHLDJCQUEyQi9HLFlBQVkrRyx3QkFBM0M7QUFBQSxjQUNFMUYsMEJBQTBCckIsWUFBWXFCLHVCQUR4Qzs7QUFHQXVGLGlDQUF1Qiw4QkFBUzduQyxPQUFULEVBQWtCO0FBQ3ZDLGdCQUFJeXJCLFNBQVN6ckIsUUFBUXVCLFNBQXJCO0FBQ0EsZ0JBQUk0VCxnQkFBZ0JzVyxPQUFPdFcsYUFBM0I7O0FBRUEsZ0JBQUk4eUIsZ0JBQWdCM0Ysd0JBQXdCbnRCLGFBQXhCLENBQXBCO0FBQ0E2eUIscUNBQXlCN3lCLGFBQXpCLEVBQXdDOHlCLGFBQXhDO0FBQ0QsV0FORDtBQU9BRiw0QkFBa0IseUJBQVMvYixZQUFULEVBQXVCO0FBQ3ZDLG9CQUFRQSxhQUFhL3FCLEdBQXJCO0FBQ0UsbUJBQUtrQixjQUFMO0FBQXFCO0FBQ25CO0FBQ0Q7QUFDRCxtQkFBS0csYUFBTDtBQUFvQjtBQUNsQjtBQUNEO0FBQ0QsbUJBQUtDLFFBQUw7QUFBZTtBQUNiO0FBQ0Q7QUFDRCxtQkFBS0gsUUFBTDtBQUNBLG1CQUFLQyxVQUFMO0FBQWlCO0FBQ2Ysc0JBQUlzZ0MsZUFBZTNXLGFBQWF6cUIsU0FBaEM7QUFDQSxzQkFBSTRULGdCQUFnQnd0QixhQUFheHRCLGFBQWpDO0FBQUEsc0JBQ0UreUIsbUJBQW1CdkYsYUFBYWpYLGVBRGxDOztBQUdBc2MsMkNBQXlCN3lCLGFBQXpCLEVBQXdDK3lCLGdCQUF4QztBQUNBO0FBQ0Q7QUFDRDtBQUFTO0FBQ1B4d0MsNEJBQ0UsS0FERixFQUVFLHVFQUNFLHdEQUhKO0FBS0Q7QUF6Qkg7QUEyQkQsV0E1QkQ7QUE2QkQsU0F4Q0QsTUF3Q087QUFDTHF3Qyw0QkFBa0IseUJBQVMvYixZQUFULEVBQXVCLENBRXhDLENBRkQ7QUFHRDtBQUNELFlBQUlwSyw4QkFBOEJELG9CQUFsQyxFQUF3RDtBQUN0RCxpQkFBTztBQUNMd21CLG9DQUF3QixnQ0FBU25jLFlBQVQsRUFBdUIsQ0FBRSxDQUQ1QztBQUVMb2MsNkJBQWlCLHlCQUFTcGMsWUFBVCxFQUF1QixDQUFFLENBRnJDO0FBR0xxYyw0QkFBZ0Isd0JBQVNyb0MsT0FBVCxFQUFrQjtBQUVoQzJuQyxtQ0FBcUIzbkMsT0FBckI7QUFDQThuQywwQkFBWTluQyxPQUFaO0FBQ0QsYUFQSTtBQVFMc29DLHdCQUFZLG9CQUFTdG9DLE9BQVQsRUFBa0Jnc0IsWUFBbEIsRUFBZ0M7QUFDMUMrYiw4QkFBZ0IvYixZQUFoQjtBQUNELGFBVkk7O0FBWUxzYSw4QkFBa0JBLGdCQVpiO0FBYUxLLGdDQUFvQkEsa0JBYmY7QUFjTFMsNkJBQWlCQSxlQWRaO0FBZUxHLDZCQUFpQkE7QUFmWixXQUFQO0FBaUJELFNBbEJELE1Ba0JPLElBQUl0RyxXQUFKLEVBQWlCO0FBQ3RCdnBDLG9CQUFVLEtBQVYsRUFBaUIsb0NBQWpCO0FBQ0QsU0FGTSxNQUVBO0FBQ0xBLG9CQUFVLEtBQVYsRUFBaUIsOEJBQWpCO0FBQ0Q7QUFDRjtBQUNELFVBQUlndkMsY0FBYzFGLFNBQVMwRixXQUEzQjtBQUFBLFVBQ0U2QixlQUFldkgsU0FBU3VILFlBRDFCO0FBQUEsVUFFRUMsbUJBQW1CeEgsU0FBU3dILGdCQUY5QjtBQUFBLFVBR0VDLG1CQUFtQnpILFNBQVN5SCxnQkFIOUI7QUFBQSxVQUlFQyxjQUFjMUgsU0FBUzBILFdBSnpCO0FBQUEsVUFLRUMseUJBQXlCM0gsU0FBUzJILHNCQUxwQztBQUFBLFVBTUVDLGVBQWU1SCxTQUFTNEgsWUFOMUI7QUFBQSxVQU9FQywwQkFBMEI3SCxTQUFTNkgsdUJBUHJDO0FBQUEsVUFRRUMsY0FBYzlILFNBQVM4SCxXQVJ6QjtBQUFBLFVBU0VDLDJCQUEyQi9ILFNBQVMrSCx3QkFUdEM7O0FBV0EsZUFBU0Msa0JBQVQsQ0FBNEJ4dUIsS0FBNUIsRUFBbUM7QUFDakMsWUFBSStFLFNBQVMvRSxNQUFNLFFBQU4sQ0FBYjtBQUNBLGVBQU8rRSxXQUFXLElBQWxCLEVBQXdCO0FBQ3RCLGNBQUkwcEIsYUFBYTFwQixNQUFiLENBQUosRUFBMEI7QUFDeEIsbUJBQU9BLE1BQVA7QUFDRDtBQUNEQSxtQkFBU0EsT0FBTyxRQUFQLENBQVQ7QUFDRDtBQUNEN25CLGtCQUNFLEtBREYsRUFFRSwwRUFDRSxpQ0FISjtBQUtEOztBQUVELGVBQVN1eEMsWUFBVCxDQUFzQnp1QixLQUF0QixFQUE2QjtBQUMzQixlQUNFQSxNQUFNdlosR0FBTixLQUFjcUIsYUFBZCxJQUNBa1ksTUFBTXZaLEdBQU4sS0FBY21CLFFBRGQsSUFFQW9ZLE1BQU12WixHQUFOLEtBQWNvQixVQUhoQjtBQUtEOztBQUVELGVBQVM2bUMsY0FBVCxDQUF3QjF1QixLQUF4QixFQUErQjtBQUk3QixZQUFJM0MsT0FBTzJDLEtBQVg7QUFDQTJ1QixrQkFBVSxPQUFPLElBQVAsRUFBYTtBQUVyQixpQkFBT3R4QixLQUFLc0gsT0FBTCxLQUFpQixJQUF4QixFQUE4QjtBQUM1QixnQkFBSXRILEtBQUssUUFBTCxNQUFtQixJQUFuQixJQUEyQm94QixhQUFhcHhCLEtBQUssUUFBTCxDQUFiLENBQS9CLEVBQTZEO0FBRzNELHFCQUFPLElBQVA7QUFDRDtBQUNEQSxtQkFBT0EsS0FBSyxRQUFMLENBQVA7QUFDRDtBQUNEQSxlQUFLc0gsT0FBTCxDQUFhLFFBQWIsSUFBeUJ0SCxLQUFLLFFBQUwsQ0FBekI7QUFDQUEsaUJBQU9BLEtBQUtzSCxPQUFaO0FBQ0EsaUJBQU90SCxLQUFLNVcsR0FBTCxLQUFhcUIsYUFBYixJQUE4QnVWLEtBQUs1VyxHQUFMLEtBQWFzQixRQUFsRCxFQUE0RDtBQUcxRCxnQkFBSXNWLEtBQUs2RyxTQUFMLEdBQWlCaEIsU0FBckIsRUFBZ0M7QUFFOUIsdUJBQVN5ckIsUUFBVDtBQUNEOztBQUdELGdCQUFJdHhCLEtBQUtxSCxLQUFMLEtBQWUsSUFBZixJQUF1QnJILEtBQUs1VyxHQUFMLEtBQWFvQixVQUF4QyxFQUFvRDtBQUNsRCx1QkFBUzhtQyxRQUFUO0FBQ0QsYUFGRCxNQUVPO0FBQ0x0eEIsbUJBQUtxSCxLQUFMLENBQVcsUUFBWCxJQUF1QnJILElBQXZCO0FBQ0FBLHFCQUFPQSxLQUFLcUgsS0FBWjtBQUNEO0FBQ0Y7O0FBRUQsY0FBSSxFQUFFckgsS0FBSzZHLFNBQUwsR0FBaUJoQixTQUFuQixDQUFKLEVBQW1DO0FBRWpDLG1CQUFPN0YsS0FBS3RXLFNBQVo7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsZUFBUzZtQyxlQUFULENBQXlCcGMsWUFBekIsRUFBdUM7QUFFckMsWUFBSW9kLGNBQWNKLG1CQUFtQmhkLFlBQW5CLENBQWxCO0FBQ0EsWUFBSXpNLFNBQVMsS0FBSyxDQUFsQjtBQUNBLFlBQUk4cEIsY0FBYyxLQUFLLENBQXZCO0FBQ0EsZ0JBQVFELFlBQVlub0MsR0FBcEI7QUFDRSxlQUFLcUIsYUFBTDtBQUNFaWQscUJBQVM2cEIsWUFBWTduQyxTQUFyQjtBQUNBOG5DLDBCQUFjLEtBQWQ7QUFDQTtBQUNGLGVBQUtqbkMsUUFBTDtBQUNFbWQscUJBQVM2cEIsWUFBWTduQyxTQUFaLENBQXNCNFQsYUFBL0I7QUFDQWswQiwwQkFBYyxJQUFkO0FBQ0E7QUFDRixlQUFLaG5DLFVBQUw7QUFDRWtkLHFCQUFTNnBCLFlBQVk3bkMsU0FBWixDQUFzQjRULGFBQS9CO0FBQ0FrMEIsMEJBQWMsSUFBZDtBQUNBO0FBQ0Y7QUFDRTN4QyxzQkFDRSxLQURGLEVBRUUscUVBQ0UsaUNBSEo7QUFkSjtBQW9CQSxZQUFJMHhDLFlBQVkxcUIsU0FBWixHQUF3QlosWUFBNUIsRUFBMEM7QUFFeEMwcUIsMkJBQWlCanBCLE1BQWpCOztBQUVBNnBCLHNCQUFZMXFCLFNBQVosSUFBeUIsQ0FBQ1osWUFBMUI7QUFDRDs7QUFFRCxZQUFJd3JCLFNBQVNKLGVBQWVsZCxZQUFmLENBQWI7O0FBR0EsWUFBSW5VLE9BQU9tVSxZQUFYO0FBQ0EsZUFBTyxJQUFQLEVBQWE7QUFDWCxjQUFJblUsS0FBSzVXLEdBQUwsS0FBYXFCLGFBQWIsSUFBOEJ1VixLQUFLNVcsR0FBTCxLQUFhc0IsUUFBL0MsRUFBeUQ7QUFDdkQsZ0JBQUkrbUMsTUFBSixFQUFZO0FBQ1Ysa0JBQUlELFdBQUosRUFBaUI7QUFDZlIsd0NBQXdCdHBCLE1BQXhCLEVBQWdDMUgsS0FBS3RXLFNBQXJDLEVBQWdEK25DLE1BQWhEO0FBQ0QsZUFGRCxNQUVPO0FBQ0xWLDZCQUFhcnBCLE1BQWIsRUFBcUIxSCxLQUFLdFcsU0FBMUIsRUFBcUMrbkMsTUFBckM7QUFDRDtBQUNGLGFBTkQsTUFNTztBQUNMLGtCQUFJRCxXQUFKLEVBQWlCO0FBQ2ZWLHVDQUF1QnBwQixNQUF2QixFQUErQjFILEtBQUt0VyxTQUFwQztBQUNELGVBRkQsTUFFTztBQUNMbW5DLDRCQUFZbnBCLE1BQVosRUFBb0IxSCxLQUFLdFcsU0FBekI7QUFDRDtBQUNGO0FBQ0YsV0FkRCxNQWNPLElBQUlzVyxLQUFLNVcsR0FBTCxLQUFhb0IsVUFBakIsRUFBNkIsQ0FJbkMsQ0FKTSxNQUlBLElBQUl3VixLQUFLcUgsS0FBTCxLQUFlLElBQW5CLEVBQXlCO0FBQzlCckgsaUJBQUtxSCxLQUFMLENBQVcsUUFBWCxJQUF1QnJILElBQXZCO0FBQ0FBLG1CQUFPQSxLQUFLcUgsS0FBWjtBQUNBO0FBQ0Q7QUFDRCxjQUFJckgsU0FBU21VLFlBQWIsRUFBMkI7QUFDekI7QUFDRDtBQUNELGlCQUFPblUsS0FBS3NILE9BQUwsS0FBaUIsSUFBeEIsRUFBOEI7QUFDNUIsZ0JBQUl0SCxLQUFLLFFBQUwsTUFBbUIsSUFBbkIsSUFBMkJBLEtBQUssUUFBTCxNQUFtQm1VLFlBQWxELEVBQWdFO0FBQzlEO0FBQ0Q7QUFDRG5VLG1CQUFPQSxLQUFLLFFBQUwsQ0FBUDtBQUNEO0FBQ0RBLGVBQUtzSCxPQUFMLENBQWEsUUFBYixJQUF5QnRILEtBQUssUUFBTCxDQUF6QjtBQUNBQSxpQkFBT0EsS0FBS3NILE9BQVo7QUFDRDtBQUNGOztBQUVELGVBQVN5b0IscUJBQVQsQ0FBK0I1bkMsT0FBL0IsRUFBd0M7QUFFdEMsWUFBSTZYLE9BQU83WCxPQUFYOztBQUlBLFlBQUl1cEMsdUJBQXVCLEtBQTNCO0FBQ0EsWUFBSS9wQixnQkFBZ0IsS0FBSyxDQUF6QjtBQUNBLFlBQUlncUIsMkJBQTJCLEtBQUssQ0FBcEM7O0FBRUEsZUFBTyxJQUFQLEVBQWE7QUFDWCxjQUFJLENBQUNELG9CQUFMLEVBQTJCO0FBQ3pCLGdCQUFJaHFCLFNBQVMxSCxLQUFLLFFBQUwsQ0FBYjtBQUNBNHhCLHdCQUFZLE9BQU8sSUFBUCxFQUFhO0FBQ3ZCL3hDLHdCQUNFNm5CLFdBQVcsSUFEYixFQUVFLG9FQUNFLHVDQUhKO0FBS0Esc0JBQVFBLE9BQU90ZSxHQUFmO0FBQ0UscUJBQUtxQixhQUFMO0FBQ0VrZCxrQ0FBZ0JELE9BQU9oZSxTQUF2QjtBQUNBaW9DLDZDQUEyQixLQUEzQjtBQUNBLHdCQUFNQyxVQUFOO0FBQ0YscUJBQUtybkMsUUFBTDtBQUNFb2Qsa0NBQWdCRCxPQUFPaGUsU0FBUCxDQUFpQjRULGFBQWpDO0FBQ0FxMEIsNkNBQTJCLElBQTNCO0FBQ0Esd0JBQU1DLFVBQU47QUFDRixxQkFBS3BuQyxVQUFMO0FBQ0VtZCxrQ0FBZ0JELE9BQU9oZSxTQUFQLENBQWlCNFQsYUFBakM7QUFDQXEwQiw2Q0FBMkIsSUFBM0I7QUFDQSx3QkFBTUMsVUFBTjtBQVpKO0FBY0FscUIsdUJBQVNBLE9BQU8sUUFBUCxDQUFUO0FBQ0Q7QUFDRGdxQixtQ0FBdUIsSUFBdkI7QUFDRDs7QUFFRCxjQUFJMXhCLEtBQUs1VyxHQUFMLEtBQWFxQixhQUFiLElBQThCdVYsS0FBSzVXLEdBQUwsS0FBYXNCLFFBQS9DLEVBQXlEO0FBQ3ZEb2xDLGlDQUFxQjl2QixJQUFyQjs7QUFHQSxnQkFBSTJ4Qix3QkFBSixFQUE4QjtBQUM1QlQsdUNBQXlCdnBCLGFBQXpCLEVBQXdDM0gsS0FBS3RXLFNBQTdDO0FBQ0QsYUFGRCxNQUVPO0FBQ0x1bkMsMEJBQVl0cEIsYUFBWixFQUEyQjNILEtBQUt0VyxTQUFoQztBQUNEO0FBRUYsV0FWRCxNQVVPLElBQUlzVyxLQUFLNVcsR0FBTCxLQUFhb0IsVUFBakIsRUFBNkI7QUFHbENtZCw0QkFBZ0IzSCxLQUFLdFcsU0FBTCxDQUFlNFQsYUFBL0I7O0FBRUEsZ0JBQUkwQyxLQUFLcUgsS0FBTCxLQUFlLElBQW5CLEVBQXlCO0FBQ3ZCckgsbUJBQUtxSCxLQUFMLENBQVcsUUFBWCxJQUF1QnJILElBQXZCO0FBQ0FBLHFCQUFPQSxLQUFLcUgsS0FBWjtBQUNBO0FBQ0Q7QUFDRixXQVZNLE1BVUE7QUFDTHVvQiwwQkFBYzV2QixJQUFkOztBQUVBLGdCQUFJQSxLQUFLcUgsS0FBTCxLQUFlLElBQW5CLEVBQXlCO0FBQ3ZCckgsbUJBQUtxSCxLQUFMLENBQVcsUUFBWCxJQUF1QnJILElBQXZCO0FBQ0FBLHFCQUFPQSxLQUFLcUgsS0FBWjtBQUNBO0FBQ0Q7QUFDRjtBQUNELGNBQUlySCxTQUFTN1gsT0FBYixFQUFzQjtBQUNwQjtBQUNEO0FBQ0QsaUJBQU82WCxLQUFLc0gsT0FBTCxLQUFpQixJQUF4QixFQUE4QjtBQUM1QixnQkFBSXRILEtBQUssUUFBTCxNQUFtQixJQUFuQixJQUEyQkEsS0FBSyxRQUFMLE1BQW1CN1gsT0FBbEQsRUFBMkQ7QUFDekQ7QUFDRDtBQUNENlgsbUJBQU9BLEtBQUssUUFBTCxDQUFQO0FBQ0EsZ0JBQUlBLEtBQUs1VyxHQUFMLEtBQWFvQixVQUFqQixFQUE2QjtBQUczQmtuQyxxQ0FBdUIsS0FBdkI7QUFDRDtBQUNGO0FBQ0QxeEIsZUFBS3NILE9BQUwsQ0FBYSxRQUFiLElBQXlCdEgsS0FBSyxRQUFMLENBQXpCO0FBQ0FBLGlCQUFPQSxLQUFLc0gsT0FBWjtBQUNEO0FBQ0Y7O0FBRUQsZUFBU2twQixjQUFULENBQXdCcm9DLE9BQXhCLEVBQWlDO0FBRy9CNG5DLDhCQUFzQjVuQyxPQUF0QjtBQUNBOG5DLG9CQUFZOW5DLE9BQVo7QUFDRDs7QUFFRCxlQUFTc29DLFVBQVQsQ0FBb0J0b0MsT0FBcEIsRUFBNkJnc0IsWUFBN0IsRUFBMkM7QUFDekMsZ0JBQVFBLGFBQWEvcUIsR0FBckI7QUFDRSxlQUFLa0IsY0FBTDtBQUFxQjtBQUNuQjtBQUNEO0FBQ0QsZUFBS0csYUFBTDtBQUFvQjtBQUNsQixrQkFBSW9uQyxhQUFhMWQsYUFBYXpxQixTQUE5QjtBQUNBLGtCQUFJbW9DLGNBQWMsSUFBbEIsRUFBd0I7QUFFdEIsb0JBQUlsdEIsV0FBV3dQLGFBQWE5QixhQUE1Qjs7QUFJQSxvQkFBSThKLFdBQVdoMEIsWUFBWSxJQUFaLEdBQW1CQSxRQUFRa3FCLGFBQTNCLEdBQTJDMU4sUUFBMUQ7QUFDQSxvQkFBSXZkLE9BQU8rc0IsYUFBYS9zQixJQUF4Qjs7QUFFQSxvQkFBSTJZLGdCQUFnQm9VLGFBQWE3QixXQUFqQztBQUNBNkIsNkJBQWE3QixXQUFiLEdBQTJCLElBQTNCO0FBQ0Esb0JBQUl2UyxrQkFBa0IsSUFBdEIsRUFBNEI7QUFDMUIyd0IsK0JBQ0VtQixVQURGLEVBRUU5eEIsYUFGRixFQUdFM1ksSUFIRixFQUlFKzBCLFFBSkYsRUFLRXhYLFFBTEYsRUFNRXdQLFlBTkY7QUFRRDtBQUNGO0FBQ0Q7QUFDRDtBQUNELGVBQUt6cEIsUUFBTDtBQUFlO0FBQ2I3Syx3QkFDRXMwQixhQUFhenFCLFNBQWIsS0FBMkIsSUFEN0IsRUFFRSxvRUFDRSxpREFISjtBQUtBLGtCQUFJb29DLGVBQWUzZCxhQUFhenFCLFNBQWhDO0FBQ0Esa0JBQUk2Z0MsVUFBVXBXLGFBQWE5QixhQUEzQjs7QUFJQSxrQkFBSWlZLFVBQVVuaUMsWUFBWSxJQUFaLEdBQW1CQSxRQUFRa3FCLGFBQTNCLEdBQTJDa1ksT0FBekQ7QUFDQXFHLCtCQUFpQmtCLFlBQWpCLEVBQStCeEgsT0FBL0IsRUFBd0NDLE9BQXhDO0FBQ0E7QUFDRDtBQUNELGVBQUtoZ0MsUUFBTDtBQUFlO0FBQ2I7QUFDRDtBQUNEO0FBQVM7QUFDUDFLLHdCQUNFLEtBREYsRUFFRSx1RUFDRSx3REFISjtBQUtEO0FBdERIO0FBd0REOztBQUVELGVBQVN5d0Msc0JBQVQsQ0FBZ0Nub0MsT0FBaEMsRUFBeUM7QUFDdkN3b0MseUJBQWlCeG9DLFFBQVF1QixTQUF6QjtBQUNEOztBQUVELFVBQUltZ0Isd0JBQUosRUFBOEI7QUFDNUIsZUFBTztBQUNMeW1CLGtDQUF3QkEsc0JBRG5CO0FBRUxDLDJCQUFpQkEsZUFGWjtBQUdMQywwQkFBZ0JBLGNBSFg7QUFJTEMsc0JBQVlBLFVBSlA7QUFLTGhDLDRCQUFrQkEsZ0JBTGI7QUFNTEssOEJBQW9CQSxrQkFOZjtBQU9MUywyQkFBaUJBLGVBUFo7QUFRTEcsMkJBQWlCQTtBQVJaLFNBQVA7QUFVRCxPQVhELE1BV087QUFDTDd2QyxrQkFBVSxLQUFWLEVBQWlCLGtDQUFqQjtBQUNEO0FBQ0YsS0Fyc0JEOztBQXVzQkEsUUFBSWt5QyxhQUFhLEVBQWpCOztBQUVBLFFBQUlDLHdCQUF3QixTQUF4QkEscUJBQXdCLENBQVNsTSxNQUFULEVBQWlCO0FBQzNDLFVBQUltTSxzQkFBc0JuTSxPQUFPbU0sbUJBQWpDO0FBQUEsVUFDRUMscUJBQXFCcE0sT0FBT29NLGtCQUQ5Qjs7QUFHQSxVQUFJNWpCLHFCQUFxQnZHLGFBQWFncUIsVUFBYixDQUF6QjtBQUNBLFVBQUlJLDBCQUEwQnBxQixhQUFhZ3FCLFVBQWIsQ0FBOUI7QUFDQSxVQUFJSywwQkFBMEJycUIsYUFBYWdxQixVQUFiLENBQTlCOztBQUVBLGVBQVNNLGVBQVQsQ0FBeUJweEMsQ0FBekIsRUFBNEI7QUFDMUJwQixrQkFDRW9CLE1BQU04d0MsVUFEUixFQUVFLDBFQUNFLGlDQUhKO0FBS0EsZUFBTzl3QyxDQUFQO0FBQ0Q7O0FBRUQsZUFBU29vQyxvQkFBVCxHQUFnQztBQUM5QixZQUFJaUosZUFBZUQsZ0JBQWdCRCx3QkFBd0JqcUMsT0FBeEMsQ0FBbkI7QUFDQSxlQUFPbXFDLFlBQVA7QUFDRDs7QUFFRCxlQUFTbE0saUJBQVQsQ0FBMkJ6akIsS0FBM0IsRUFBa0M0dkIsZ0JBQWxDLEVBQW9EO0FBR2xEbHFDLGFBQUsrcEMsdUJBQUwsRUFBOEJHLGdCQUE5QixFQUFnRDV2QixLQUFoRDs7QUFFQSxZQUFJNnZCLGtCQUFrQk4sbUJBQW1CSyxnQkFBbkIsQ0FBdEI7O0FBSUFscUMsYUFBSzhwQyx1QkFBTCxFQUE4Qnh2QixLQUE5QixFQUFxQ0EsS0FBckM7QUFDQXRhLGFBQUtpbUIsa0JBQUwsRUFBeUJra0IsZUFBekIsRUFBMEM3dkIsS0FBMUM7QUFDRDs7QUFFRCxlQUFTNm1CLGdCQUFULENBQTBCN21CLEtBQTFCLEVBQWlDO0FBQy9CaFMsWUFBSTJkLGtCQUFKLEVBQXdCM0wsS0FBeEI7QUFDQWhTLFlBQUl3aEMsdUJBQUosRUFBNkJ4dkIsS0FBN0I7QUFDQWhTLFlBQUl5aEMsdUJBQUosRUFBNkJ6dkIsS0FBN0I7QUFDRDs7QUFFRCxlQUFTNG1CLGNBQVQsR0FBMEI7QUFDeEIsWUFBSXpvQyxVQUFVdXhDLGdCQUFnQi9qQixtQkFBbUJubUIsT0FBbkMsQ0FBZDtBQUNBLGVBQU9ySCxPQUFQO0FBQ0Q7O0FBRUQsZUFBU3FsQyxlQUFULENBQXlCeGpCLEtBQXpCLEVBQWdDO0FBQzlCLFlBQUkydkIsZUFBZUQsZ0JBQWdCRCx3QkFBd0JqcUMsT0FBeEMsQ0FBbkI7QUFDQSxZQUFJckgsVUFBVXV4QyxnQkFBZ0IvakIsbUJBQW1Cbm1CLE9BQW5DLENBQWQ7QUFDQSxZQUFJc3FDLGNBQWNSLG9CQUFvQm54QyxPQUFwQixFQUE2QjZoQixNQUFNdmIsSUFBbkMsRUFBeUNrckMsWUFBekMsQ0FBbEI7O0FBR0EsWUFBSXh4QyxZQUFZMnhDLFdBQWhCLEVBQTZCO0FBQzNCO0FBQ0Q7O0FBSURwcUMsYUFBSzhwQyx1QkFBTCxFQUE4Qnh2QixLQUE5QixFQUFxQ0EsS0FBckM7QUFDQXRhLGFBQUtpbUIsa0JBQUwsRUFBeUJta0IsV0FBekIsRUFBc0M5dkIsS0FBdEM7QUFDRDs7QUFFRCxlQUFTMm1CLGNBQVQsQ0FBd0IzbUIsS0FBeEIsRUFBK0I7QUFHN0IsWUFBSXd2Qix3QkFBd0JocUMsT0FBeEIsS0FBb0N3YSxLQUF4QyxFQUErQztBQUM3QztBQUNEOztBQUVEaFMsWUFBSTJkLGtCQUFKLEVBQXdCM0wsS0FBeEI7QUFDQWhTLFlBQUl3aEMsdUJBQUosRUFBNkJ4dkIsS0FBN0I7QUFDRDs7QUFFRCxlQUFTK3ZCLGtCQUFULEdBQThCO0FBQzVCcGtCLDJCQUFtQm5tQixPQUFuQixHQUE2QjRwQyxVQUE3QjtBQUNBSyxnQ0FBd0JqcUMsT0FBeEIsR0FBa0M0cEMsVUFBbEM7QUFDRDs7QUFFRCxhQUFPO0FBQ0x4SSx3QkFBZ0JBLGNBRFg7QUFFTEYsOEJBQXNCQSxvQkFGakI7QUFHTEcsMEJBQWtCQSxnQkFIYjtBQUlMRix3QkFBZ0JBLGNBSlg7QUFLTGxELDJCQUFtQkEsaUJBTGQ7QUFNTEQseUJBQWlCQSxlQU5aO0FBT0x1TSw0QkFBb0JBO0FBUGYsT0FBUDtBQVNELEtBdkZEOztBQXlGQSxRQUFJQyw2QkFBNkIsU0FBN0JBLDBCQUE2QixDQUFTN00sTUFBVCxFQUFpQjtBQUNoRCxVQUFJRyx1QkFBdUJILE9BQU9HLG9CQUFsQztBQUFBLFVBQ0UyTSxZQUFZOU0sT0FBTzhNLFNBRHJCOztBQUtBLFVBQUksQ0FBQ0EsU0FBTCxFQUFnQjtBQUNkLGVBQU87QUFDTHZNLCtCQUFxQiwrQkFBVztBQUM5QixtQkFBTyxLQUFQO0FBQ0QsV0FISTtBQUlMQywrQkFBcUIsK0JBQVcsQ0FBRSxDQUo3QjtBQUtMQyw0Q0FBa0MsNENBQVcsQ0FBRSxDQUwxQztBQU1Ma0Qsd0NBQThCLHdDQUFXO0FBQ3ZDNXBDLHNCQUNFLEtBREYsRUFFRSxpRUFDRSxzRUFISjtBQUtELFdBWkk7QUFhTDZwQyw0Q0FBa0MsNENBQVc7QUFDM0M3cEMsc0JBQ0UsS0FERixFQUVFLHFFQUNFLHNFQUhKO0FBS0QsV0FuQkk7QUFvQkw4cEMsNkJBQW1CLDJCQUFTaG5CLEtBQVQsRUFBZ0I7QUFDakMsbUJBQU8sS0FBUDtBQUNEO0FBdEJJLFNBQVA7QUF3QkQ7O0FBRUQsVUFBSWt3QixxQkFBcUJELFVBQVVDLGtCQUFuQztBQUFBLFVBQ0VDLHlCQUF5QkYsVUFBVUUsc0JBRHJDO0FBQUEsVUFFRUMsMkJBQTJCSCxVQUFVRyx3QkFGdkM7QUFBQSxVQUdFQywwQkFBMEJKLFVBQVVJLHVCQUh0QztBQUFBLFVBSUVDLGtCQUFrQkwsVUFBVUssZUFKOUI7QUFBQSxVQUtFQyxzQkFBc0JOLFVBQVVNLG1CQUxsQztBQUFBLFVBTUVDLDJDQUNFUCxVQUFVTyx3Q0FQZDtBQUFBLFVBUUVDLGtDQUFrQ1IsVUFBVVEsK0JBUjlDO0FBQUEsVUFTRUMsaUNBQWlDVCxVQUFVUyw4QkFUN0M7QUFBQSxVQVVFQyx3QkFBd0JWLFVBQVVVLHFCQVZwQztBQUFBLFVBV0VDLHdDQUNFWCxVQUFVVyxxQ0FaZDtBQUFBLFVBYUVDLDRDQUNFWixVQUFVWSx5Q0FkZDtBQUFBLFVBZUVDLCtCQUErQmIsVUFBVWEsNEJBZjNDO0FBQUEsVUFnQkVDLG1DQUNFZCxVQUFVYyxnQ0FqQmQ7O0FBc0JBLFVBQUlDLHVCQUF1QixJQUEzQjtBQUNBLFVBQUlDLHlCQUF5QixJQUE3QjtBQUNBLFVBQUlDLGNBQWMsS0FBbEI7O0FBRUEsZUFBU3hOLG1CQUFULENBQTZCMWpCLEtBQTdCLEVBQW9DO0FBQ2xDLFlBQUlteEIsaUJBQWlCbnhCLE1BQU1qWixTQUFOLENBQWdCNFQsYUFBckM7QUFDQXMyQixpQ0FBeUJaLHdCQUF3QmMsY0FBeEIsQ0FBekI7QUFDQUgsK0JBQXVCaHhCLEtBQXZCO0FBQ0FreEIsc0JBQWMsSUFBZDtBQUNBLGVBQU8sSUFBUDtBQUNEOztBQUVELGVBQVNFLHdCQUFULENBQWtDaFUsV0FBbEMsRUFBK0NydkIsUUFBL0MsRUFBeUQ7QUFDdkQ7QUFDRSxrQkFBUXF2QixZQUFZMzJCLEdBQXBCO0FBQ0UsaUJBQUttQixRQUFMO0FBQ0U4b0MsNkNBQ0V0VCxZQUFZcjJCLFNBQVosQ0FBc0I0VCxhQUR4QixFQUVFNU0sUUFGRjtBQUlBO0FBQ0YsaUJBQUtqRyxhQUFMO0FBQ0U2b0Msb0NBQ0V2VCxZQUFZMzRCLElBRGQsRUFFRTI0QixZQUFZMU4sYUFGZCxFQUdFME4sWUFBWXIyQixTQUhkLEVBSUVnSCxRQUpGO0FBTUE7QUFkSjtBQWdCRDs7QUFFRCxZQUFJaXdCLGdCQUFnQmpOLHdDQUFwQjtBQUNBaU4sc0JBQWNqM0IsU0FBZCxHQUEwQmdILFFBQTFCO0FBQ0Fpd0Isc0JBQWMsUUFBZCxJQUEwQlosV0FBMUI7QUFDQVksc0JBQWM5WixTQUFkLEdBQTBCYixRQUExQjs7QUFPQSxZQUFJK1osWUFBWXJOLFVBQVosS0FBMkIsSUFBL0IsRUFBcUM7QUFDbkNxTixzQkFBWXJOLFVBQVosQ0FBdUJGLFVBQXZCLEdBQW9DbU8sYUFBcEM7QUFDQVosc0JBQVlyTixVQUFaLEdBQXlCaU8sYUFBekI7QUFDRCxTQUhELE1BR087QUFDTFosc0JBQVl0TixXQUFaLEdBQTBCc04sWUFBWXJOLFVBQVosR0FBeUJpTyxhQUFuRDtBQUNEO0FBQ0Y7O0FBRUQsZUFBU3FULHlCQUFULENBQW1DalUsV0FBbkMsRUFBZ0RwZCxLQUFoRCxFQUF1RDtBQUNyREEsY0FBTWtFLFNBQU4sSUFBbUJoQixTQUFuQjtBQUNBO0FBQ0Usa0JBQVFrYSxZQUFZMzJCLEdBQXBCO0FBQ0UsaUJBQUttQixRQUFMO0FBQWU7QUFDYixvQkFBSTBwQyxrQkFBa0JsVSxZQUFZcjJCLFNBQVosQ0FBc0I0VCxhQUE1QztBQUNBLHdCQUFRcUYsTUFBTXZaLEdBQWQ7QUFDRSx1QkFBS3FCLGFBQUw7QUFDRSx3QkFBSXJELE9BQU91YixNQUFNdmIsSUFBakI7QUFDQSx3QkFBSWtDLFFBQVFxWixNQUFNdVAsWUFBbEI7QUFDQXFoQiwwREFDRVUsZUFERixFQUVFN3NDLElBRkYsRUFHRWtDLEtBSEY7QUFLQTtBQUNGLHVCQUFLb0IsUUFBTDtBQUNFLHdCQUFJd3BDLE9BQU92eEIsTUFBTXVQLFlBQWpCO0FBQ0FzaEIsOERBQTBDUyxlQUExQyxFQUEyREMsSUFBM0Q7QUFDQTtBQWJKO0FBZUE7QUFDRDtBQUNELGlCQUFLenBDLGFBQUw7QUFBb0I7QUFDbEIsb0JBQUkwcEMsYUFBYXBVLFlBQVkzNEIsSUFBN0I7QUFDQSxvQkFBSWd0QyxjQUFjclUsWUFBWTFOLGFBQTlCO0FBQ0Esb0JBQUl5aEIsaUJBQWlCL1QsWUFBWXIyQixTQUFqQztBQUNBLHdCQUFRaVosTUFBTXZaLEdBQWQ7QUFDRSx1QkFBS3FCLGFBQUw7QUFDRSx3QkFBSTRwQyxRQUFRMXhCLE1BQU12YixJQUFsQjtBQUNBLHdCQUFJa3RDLFNBQVMzeEIsTUFBTXVQLFlBQW5CO0FBQ0F1aEIsaURBQ0VVLFVBREYsRUFFRUMsV0FGRixFQUdFTixjQUhGLEVBSUVPLEtBSkYsRUFLRUMsTUFMRjtBQU9BO0FBQ0YsdUJBQUs1cEMsUUFBTDtBQUNFLHdCQUFJNnBDLFFBQVE1eEIsTUFBTXVQLFlBQWxCO0FBQ0F3aEIscURBQ0VTLFVBREYsRUFFRUMsV0FGRixFQUdFTixjQUhGLEVBSUVTLEtBSkY7QUFNQTtBQXBCSjtBQXNCQTtBQUNEO0FBQ0Q7QUFDRTtBQWpESjtBQW1ERDtBQUNGOztBQUVELGVBQVNDLFVBQVQsQ0FBb0I3eEIsS0FBcEIsRUFBMkI4eEIsWUFBM0IsRUFBeUM7QUFDdkMsZ0JBQVE5eEIsTUFBTXZaLEdBQWQ7QUFDRSxlQUFLcUIsYUFBTDtBQUFvQjtBQUNsQixrQkFBSXJELE9BQU91YixNQUFNdmIsSUFBakI7QUFDQSxrQkFBSWtDLFFBQVFxWixNQUFNdVAsWUFBbEI7QUFDQSxrQkFBSXhoQixXQUFXbWlDLG1CQUFtQjRCLFlBQW5CLEVBQWlDcnRDLElBQWpDLEVBQXVDa0MsS0FBdkMsQ0FBZjtBQUNBLGtCQUFJb0gsYUFBYSxJQUFqQixFQUF1QjtBQUNyQmlTLHNCQUFNalosU0FBTixHQUFrQmdILFFBQWxCO0FBQ0EsdUJBQU8sSUFBUDtBQUNEO0FBQ0QscUJBQU8sS0FBUDtBQUNEO0FBQ0QsZUFBS2hHLFFBQUw7QUFBZTtBQUNiLGtCQUFJd3BDLE9BQU92eEIsTUFBTXVQLFlBQWpCO0FBQ0Esa0JBQUk0ZixlQUFlZ0IsdUJBQXVCMkIsWUFBdkIsRUFBcUNQLElBQXJDLENBQW5CO0FBQ0Esa0JBQUlwQyxpQkFBaUIsSUFBckIsRUFBMkI7QUFDekJudkIsc0JBQU1qWixTQUFOLEdBQWtCb29DLFlBQWxCO0FBQ0EsdUJBQU8sSUFBUDtBQUNEO0FBQ0QscUJBQU8sS0FBUDtBQUNEO0FBQ0Q7QUFDRSxtQkFBTyxLQUFQO0FBckJKO0FBdUJEOztBQUVELGVBQVN2TCxnQ0FBVCxDQUEwQzVqQixLQUExQyxFQUFpRDtBQUMvQyxZQUFJLENBQUNreEIsV0FBTCxFQUFrQjtBQUNoQjtBQUNEO0FBQ0QsWUFBSVksZUFBZWIsc0JBQW5CO0FBQ0EsWUFBSSxDQUFDYSxZQUFMLEVBQW1CO0FBRWpCVCxvQ0FBMEJMLG9CQUExQixFQUFnRGh4QixLQUFoRDtBQUNBa3hCLHdCQUFjLEtBQWQ7QUFDQUYsaUNBQXVCaHhCLEtBQXZCO0FBQ0E7QUFDRDtBQUNELFlBQUksQ0FBQzZ4QixXQUFXN3hCLEtBQVgsRUFBa0I4eEIsWUFBbEIsQ0FBTCxFQUFzQztBQUlwQ0EseUJBQWUxQix5QkFBeUIwQixZQUF6QixDQUFmO0FBQ0EsY0FBSSxDQUFDQSxZQUFELElBQWlCLENBQUNELFdBQVc3eEIsS0FBWCxFQUFrQjh4QixZQUFsQixDQUF0QixFQUF1RDtBQUVyRFQsc0NBQTBCTCxvQkFBMUIsRUFBZ0RoeEIsS0FBaEQ7QUFDQWt4QiwwQkFBYyxLQUFkO0FBQ0FGLG1DQUF1Qmh4QixLQUF2QjtBQUNBO0FBQ0Q7O0FBS0RveEIsbUNBQXlCSixvQkFBekIsRUFBK0NDLHNCQUEvQztBQUNEO0FBQ0RELCtCQUF1Qmh4QixLQUF2QjtBQUNBaXhCLGlDQUF5Qlosd0JBQXdCeUIsWUFBeEIsQ0FBekI7QUFDRDs7QUFFRCxlQUFTaEwsNEJBQVQsQ0FDRTltQixLQURGLEVBRUV5bkIscUJBRkYsRUFHRXJFLFdBSEYsRUFJRTtBQUNBLFlBQUlyMUIsV0FBV2lTLE1BQU1qWixTQUFyQjtBQUNBLFlBQUlxVyxnQkFBZ0JrekIsZ0JBQ2xCdmlDLFFBRGtCLEVBRWxCaVMsTUFBTXZiLElBRlksRUFHbEJ1YixNQUFNMFAsYUFIWSxFQUlsQitYLHFCQUprQixFQUtsQnJFLFdBTGtCLEVBTWxCcGpCLEtBTmtCLENBQXBCOztBQVNBQSxjQUFNMlAsV0FBTixHQUFvQnZTLGFBQXBCOztBQUdBLFlBQUlBLGtCQUFrQixJQUF0QixFQUE0QjtBQUMxQixpQkFBTyxJQUFQO0FBQ0Q7QUFDRCxlQUFPLEtBQVA7QUFDRDs7QUFFRCxlQUFTMnBCLGdDQUFULENBQTBDL21CLEtBQTFDLEVBQWlEO0FBQy9DLFlBQUltdkIsZUFBZW52QixNQUFNalosU0FBekI7QUFDQSxZQUFJZzRCLGNBQWMvZSxNQUFNMFAsYUFBeEI7QUFDQSxZQUFJaFIsZUFBZTZ4QixvQkFBb0JwQixZQUFwQixFQUFrQ3BRLFdBQWxDLEVBQStDL2UsS0FBL0MsQ0FBbkI7QUFDQTtBQUNFLGNBQUl0QixZQUFKLEVBQWtCO0FBR2hCLGdCQUFJMGUsY0FBYzRULG9CQUFsQjtBQUNBLGdCQUFJNVQsZ0JBQWdCLElBQXBCLEVBQTBCO0FBQ3hCLHNCQUFRQSxZQUFZMzJCLEdBQXBCO0FBQ0UscUJBQUttQixRQUFMO0FBQWU7QUFDYix3QkFBSTBwQyxrQkFBa0JsVSxZQUFZcjJCLFNBQVosQ0FBc0I0VCxhQUE1QztBQUNBNjFCLDZEQUNFYyxlQURGLEVBRUVuQyxZQUZGLEVBR0VwUSxXQUhGO0FBS0E7QUFDRDtBQUNELHFCQUFLajNCLGFBQUw7QUFBb0I7QUFDbEIsd0JBQUkwcEMsYUFBYXBVLFlBQVkzNEIsSUFBN0I7QUFDQSx3QkFBSWd0QyxjQUFjclUsWUFBWTFOLGFBQTlCO0FBQ0Esd0JBQUl5aEIsaUJBQWlCL1QsWUFBWXIyQixTQUFqQztBQUNBMHBDLG9EQUNFZSxVQURGLEVBRUVDLFdBRkYsRUFHRU4sY0FIRixFQUlFaEMsWUFKRixFQUtFcFEsV0FMRjtBQU9BO0FBQ0Q7QUF0Qkg7QUF3QkQ7QUFDRjtBQUNGO0FBQ0QsZUFBT3JnQixZQUFQO0FBQ0Q7O0FBRUQsZUFBU3F6QixtQkFBVCxDQUE2Qi94QixLQUE3QixFQUFvQztBQUNsQyxZQUFJK0UsU0FBUy9FLE1BQU0sUUFBTixDQUFiO0FBQ0EsZUFDRStFLFdBQVcsSUFBWCxJQUNBQSxPQUFPdGUsR0FBUCxLQUFlcUIsYUFEZixJQUVBaWQsT0FBT3RlLEdBQVAsS0FBZW1CLFFBSGpCLEVBSUU7QUFDQW1kLG1CQUFTQSxPQUFPLFFBQVAsQ0FBVDtBQUNEO0FBQ0Rpc0IsK0JBQXVCanNCLE1BQXZCO0FBQ0Q7O0FBRUQsZUFBU2lpQixpQkFBVCxDQUEyQmhuQixLQUEzQixFQUFrQztBQUNoQyxZQUFJQSxVQUFVZ3hCLG9CQUFkLEVBQW9DO0FBR2xDLGlCQUFPLEtBQVA7QUFDRDtBQUNELFlBQUksQ0FBQ0UsV0FBTCxFQUFrQjtBQUloQmEsOEJBQW9CL3hCLEtBQXBCO0FBQ0FreEIsd0JBQWMsSUFBZDtBQUNBLGlCQUFPLEtBQVA7QUFDRDs7QUFFRCxZQUFJenNDLE9BQU91YixNQUFNdmIsSUFBakI7O0FBT0EsWUFDRXViLE1BQU12WixHQUFOLEtBQWNxQixhQUFkLElBQ0NyRCxTQUFTLE1BQVQsSUFDQ0EsU0FBUyxNQURWLElBRUMsQ0FBQzYrQixxQkFBcUI3K0IsSUFBckIsRUFBMkJ1YixNQUFNMFAsYUFBakMsQ0FKTCxFQUtFO0FBQ0EsY0FBSW9pQixlQUFlYixzQkFBbkI7QUFDQSxpQkFBT2EsWUFBUCxFQUFxQjtBQUNuQlYscUNBQXlCcHhCLEtBQXpCLEVBQWdDOHhCLFlBQWhDO0FBQ0FBLDJCQUFlMUIseUJBQXlCMEIsWUFBekIsQ0FBZjtBQUNEO0FBQ0Y7O0FBRURDLDRCQUFvQi94QixLQUFwQjtBQUNBaXhCLGlDQUF5QkQsdUJBQ3JCWix5QkFBeUJwd0IsTUFBTWpaLFNBQS9CLENBRHFCLEdBRXJCLElBRko7QUFHQSxlQUFPLElBQVA7QUFDRDs7QUFFRCxlQUFTNDhCLG1CQUFULEdBQStCO0FBQzdCcU4sK0JBQXVCLElBQXZCO0FBQ0FDLGlDQUF5QixJQUF6QjtBQUNBQyxzQkFBYyxLQUFkO0FBQ0Q7O0FBRUQsYUFBTztBQUNMeE4sNkJBQXFCQSxtQkFEaEI7QUFFTEMsNkJBQXFCQSxtQkFGaEI7QUFHTEMsMENBQWtDQSxnQ0FIN0I7QUFJTGtELHNDQUE4QkEsNEJBSnpCO0FBS0xDLDBDQUFrQ0EsZ0NBTDdCO0FBTUxDLDJCQUFtQkE7QUFOZCxPQUFQO0FBUUQsS0FsV0Q7O0FBd1dBLFFBQUlnTCw0QkFBNEI7QUFDOUJDLGlCQUFXO0FBRG1CLEtBQWhDOztBQUlBLFFBQUlDLDhCQUE4QkYseUJBQWxDOztBQUVBLFFBQUlHLDBCQUEwQnp4QyxnQkFBZ0IxQyxxQkFBOUM7QUFDQSxRQUFJOEMsaUJBQWlCSixnQkFBZ0JJLGNBQXJDO0FBQ0EsUUFBSUMsbUJBQW1CTCxnQkFBZ0JLLGdCQUF2Qzs7QUFFQSxRQUFJcXhDLDhCQUE4QixLQUFLLENBQXZDO0FBQ0EsUUFBSUMsOEJBQThCLEtBQUssQ0FBdkM7QUFDQSxRQUFJQyw2QkFBNkIsS0FBSyxDQUF0QztBQUNBLFFBQUlDLDBCQUEwQixLQUFLLENBQW5DOztBQUVBO0FBQ0VILG9DQUE4QixLQUE5QjtBQUNBQyxvQ0FBOEIsS0FBOUI7QUFDQSxVQUFJRywwQ0FBMEMsRUFBOUM7O0FBRUFGLG1DQUE2QixvQ0FBU3R5QixLQUFULEVBQWdCO0FBQzNDLFlBQUl1SixnQkFBZ0J4SixpQkFBaUJDLEtBQWpCLEtBQTJCLFlBQS9DO0FBQ0EsWUFBSXd5Qix3Q0FBd0NqcEIsYUFBeEMsQ0FBSixFQUE0RDtBQUMxRDtBQUNEO0FBQ0Rwc0IsZ0JBQ0UsS0FERixFQUVFLDJDQUNFLG1FQURGLEdBRUUsdUVBRkYsR0FHRSxzQ0FMSixFQU1Fb3NCLGFBTkY7QUFRQWlwQixnREFBd0NqcEIsYUFBeEMsSUFBeUQsSUFBekQ7QUFDRCxPQWREOztBQWdCQWdwQixnQ0FBMEIsaUNBQVN4a0MsUUFBVCxFQUFtQjtBQUMzQyxnQkFBUXNZLHVCQUF1QjNjLEtBQS9CO0FBQ0UsZUFBSyxpQkFBTDtBQUNFLGdCQUFJMm9DLDJCQUFKLEVBQWlDO0FBQy9CO0FBQ0Q7QUFDRGwxQyxvQkFDRSxLQURGLEVBRUUsZ0VBRkY7QUFJQWsxQywwQ0FBOEIsSUFBOUI7QUFDQTtBQUNGLGVBQUssUUFBTDtBQUNFLGdCQUFJRCwyQkFBSixFQUFpQztBQUMvQjtBQUNEO0FBQ0RqMUMsb0JBQ0UsS0FERixFQUVFLHVFQUNFLHNFQURGLEdBRUUsc0VBRkYsR0FHRSw0REFMSjtBQU9BaTFDLDBDQUE4QixJQUE5QjtBQUNBO0FBdkJKO0FBeUJELE9BMUJEO0FBMkJEOztBQUVELFFBQUlLLHNCQUFzQixTQUF0QkEsbUJBQXNCLENBQVN0UCxNQUFULEVBQWlCO0FBQ3pDLFVBQUlDLGNBQWNpTSxzQkFBc0JsTSxNQUF0QixDQUFsQjtBQUNBLFVBQUl3RCxpQkFBaUJ2RCxZQUFZdUQsY0FBakM7QUFBQSxVQUNFRSxtQkFBbUJ6RCxZQUFZeUQsZ0JBRGpDOztBQUdBLFVBQUl4RCxtQkFBbUIyTSwyQkFBMkI3TSxNQUEzQixDQUF2QjtBQUNBLFVBQUk0TSxxQkFBcUIzTSxZQUFZMk0sa0JBQXJDOztBQUVBLFVBQUkyQyx1QkFBdUJ4UCxvQkFDdkJDLE1BRHVCLEVBRXZCQyxXQUZ1QixFQUd2QkMsZ0JBSHVCLEVBSXZCdEssWUFKdUIsRUFLdkJDLHlCQUx1QixDQUEzQjtBQUFBLFVBT0VpTixZQUFZeU0scUJBQXFCek0sU0FQbkM7O0FBU0EsVUFBSTBNLHdCQUF3QnpNLHVCQUN4Qi9DLE1BRHdCLEVBRXhCQyxXQUZ3QixFQUd4QkMsZ0JBSHdCLENBQTVCO0FBQUEsVUFLRXFGLGVBQWVpSyxzQkFBc0JqSyxZQUx2Qzs7QUFPQSxVQUFJa0ssd0JBQXdCdEoscUJBQ3hCbEcsV0FEd0IsRUFFeEJySyxZQUZ3QixFQUd4QndRLGtDQUh3QixDQUE1QjtBQUFBLFVBS0VDLGlCQUFpQm9KLHNCQUFzQnBKLGNBTHpDO0FBQUEsVUFNRUksYUFBYWdKLHNCQUFzQmhKLFVBTnJDOztBQVFBLFVBQUlpSix3QkFBd0IxSCxxQkFDeEJoSSxNQUR3QixFQUV4QjJQLGtCQUZ3QixFQUd4Qi9aLFlBSHdCLEVBSXhCQyx5QkFKd0IsRUFLeEJxUywrQkFMd0IsRUFNeEJDLHNCQU53QixDQUE1QjtBQUFBLFVBUUVxQyx5QkFBeUJrRixzQkFBc0JsRixzQkFSakQ7QUFBQSxVQVNFQyxrQkFBa0JpRixzQkFBc0JqRixlQVQxQztBQUFBLFVBVUVDLGlCQUFpQmdGLHNCQUFzQmhGLGNBVnpDO0FBQUEsVUFXRUMsYUFBYStFLHNCQUFzQi9FLFVBWHJDO0FBQUEsVUFZRWhDLG1CQUFtQitHLHNCQUFzQi9HLGdCQVozQztBQUFBLFVBYUVLLHFCQUFxQjBHLHNCQUFzQjFHLGtCQWI3QztBQUFBLFVBY0VTLGtCQUFrQmlHLHNCQUFzQmpHLGVBZDFDO0FBQUEsVUFlRUcsa0JBQWtCOEYsc0JBQXNCOUYsZUFmMUM7O0FBaUJBLFVBQUkvaEMsTUFBTW00QixPQUFPbjRCLEdBQWpCO0FBQUEsVUFDRStuQywyQkFBMkI1UCxPQUFPNFAsd0JBRHBDO0FBQUEsVUFFRUMseUJBQXlCN1AsT0FBTzZQLHNCQUZsQztBQUFBLFVBR0VDLG1CQUFtQjlQLE9BQU84UCxnQkFINUI7QUFBQSxVQUlFQyxtQkFBbUIvUCxPQUFPK1AsZ0JBSjVCOztBQVFBLFVBQUlDLHNCQUFzQm5vQyxLQUExQjtBQUNBLFVBQUlvb0Msd0JBQXdCbmxCLG1CQUFtQixDQUFuQixDQUE1QjtBQUNBLFVBQUlvbEIsMEJBQTBCRixtQkFBOUI7O0FBR0EsVUFBSUcsNEJBQTRCLENBQWhDOztBQUtBLFVBQUlDLG9CQUFvQjNsQixNQUF4Qjs7QUFFQSxVQUFJNGxCLFlBQVksS0FBaEI7O0FBR0EsVUFBSXhvQixpQkFBaUIsSUFBckI7QUFDQSxVQUFJeW9CLFdBQVcsSUFBZjs7QUFFQSxVQUFJQywyQkFBMkI5bEIsTUFBL0I7O0FBR0EsVUFBSWlDLGFBQWEsSUFBakI7O0FBRUEsVUFBSTlILGVBQWUsS0FBbkI7O0FBRUEsVUFBSTRyQix1QkFBdUIsS0FBM0I7O0FBRUEsVUFBSUMseUNBQXlDLElBQTdDOztBQUdBLFVBQUkxb0IsZ0JBQWdCLElBQXBCOztBQUVBLFVBQUkyb0Isa0NBQWtDLEtBQUssQ0FBM0M7QUFDQSxVQUFJQyxtQkFBbUIsS0FBSyxDQUE1QjtBQUNBLFVBQUksUUFBUTlzQiwrQ0FBWixFQUE2RDtBQUMzRDZzQiwwQ0FBa0MsSUFBbEM7QUFDQUMsMkJBQW1CLDBCQUFTQyxnQkFBVCxFQUEyQjFqQixPQUEzQixFQUFvQztBQUVyRCxtQkFBYzBqQixnQkFBZCxFQUFnQ0YsK0JBQWhDO0FBQ0Esa0JBQVFFLGlCQUFpQnR0QyxHQUF6QjtBQUNFLGlCQUFLbUIsUUFBTDtBQUNFaS9CLCtCQUFpQmtOLGdCQUFqQjtBQUNBbm5CLHVDQUF5Qm1uQixnQkFBekI7QUFDQTtBQUNGLGlCQUFLanNDLGFBQUw7QUFDRTYrQiw2QkFBZW9OLGdCQUFmO0FBQ0E7QUFDRixpQkFBS3BzQyxjQUFMO0FBQ0VnbEIsaUNBQW1Cb25CLGdCQUFuQjtBQUNBO0FBQ0YsaUJBQUtsc0MsVUFBTDtBQUNFZy9CLCtCQUFpQmtOLGdCQUFqQjtBQUNBO0FBQ0YsaUJBQUt6ckMsZUFBTDtBQUNFbzZCLDBCQUFZcVIsZ0JBQVo7QUFDQTtBQWhCSjs7QUFtQkE1QixrQ0FBd0IsSUFBeEIsRUFBOEI2QixRQUE5QixFQUF3QyxJQUF4QyxFQUE4QzNqQixPQUE5QztBQUNBLGNBQUl2dkIsZ0JBQUosRUFBc0I7QUFDcEJDO0FBQ0QsV0FGRCxNQUVPLENBR047QUFDRixTQTdCRDtBQThCRDs7QUFFRCxlQUFTa3pDLGlCQUFULEdBQTZCO0FBRTNCMXVCOztBQUVBa0k7QUFDQXNpQjs7QUFHQWxOOztBQUVBO0FBQ0V0UCxrQ0FBd0JDLHNCQUF4QjtBQUNEOztBQUVEaWdCLG1CQUFXLElBQVg7QUFDQUMsbUNBQTJCOWxCLE1BQTNCO0FBQ0E1Qyx5QkFBaUIsSUFBakI7O0FBRUEyb0IsK0JBQXVCLEtBQXZCO0FBQ0Q7O0FBRUQsZUFBU08sb0JBQVQsR0FBZ0M7QUFDOUIsZUFBT3JrQixlQUFlLElBQXRCLEVBQTRCO0FBQzFCO0FBQ0V4SixtQ0FBdUJJLGVBQXZCLENBQXVDb0osVUFBdkM7QUFDRDtBQUNEekY7O0FBRUEsY0FBSWxHLFlBQVkyTCxXQUFXM0wsU0FBM0I7QUFDQSxjQUFJQSxZQUFZWixZQUFoQixFQUE4QjtBQUM1QnFxQixtQ0FBdUI5ZCxVQUF2QjtBQUNEOztBQUVELGNBQUkzTCxZQUFZVCxHQUFoQixFQUFxQjtBQUNuQixnQkFBSWplLFVBQVVxcUIsV0FBVzdtQixTQUF6QjtBQUNBLGdCQUFJeEQsWUFBWSxJQUFoQixFQUFzQjtBQUNwQnVuQyw4QkFBZ0J2bkMsT0FBaEI7QUFDRDtBQUNGOztBQU1ELGNBQUkydUMsbUJBQW1CandCLGFBQWFoQixZQUFZQyxNQUFaLEdBQXFCRSxRQUFsQyxDQUF2QjtBQUNBLGtCQUFROHdCLGdCQUFSO0FBQ0UsaUJBQUtqeEIsU0FBTDtBQUFnQjtBQUNkMHFCLGdDQUFnQi9kLFVBQWhCOztBQU1BQSwyQkFBVzNMLFNBQVgsSUFBd0IsQ0FBQ2hCLFNBQXpCO0FBQ0E7QUFDRDtBQUNELGlCQUFLRSxrQkFBTDtBQUF5QjtBQUV2QndxQixnQ0FBZ0IvZCxVQUFoQjs7QUFHQUEsMkJBQVczTCxTQUFYLElBQXdCLENBQUNoQixTQUF6Qjs7QUFHQSxvQkFBSWt4QixXQUFXdmtCLFdBQVc3bUIsU0FBMUI7QUFDQThrQywyQkFBV3NHLFFBQVgsRUFBcUJ2a0IsVUFBckI7QUFDQTtBQUNEO0FBQ0QsaUJBQUsxTSxNQUFMO0FBQWE7QUFDWCxvQkFBSWt4QixZQUFZeGtCLFdBQVc3bUIsU0FBM0I7QUFDQThrQywyQkFBV3VHLFNBQVgsRUFBc0J4a0IsVUFBdEI7QUFDQTtBQUNEO0FBQ0QsaUJBQUt4TSxRQUFMO0FBQWU7QUFDYndxQiwrQkFBZWhlLFVBQWY7QUFDQTtBQUNEO0FBL0JIO0FBaUNBQSx1QkFBYUEsV0FBV0EsVUFBeEI7QUFDRDs7QUFFRDtBQUNFeEosaUNBQXVCRSxpQkFBdkI7QUFDRDtBQUNGOztBQUVELGVBQVMrdEIsbUJBQVQsQ0FDRXZJLFlBREYsRUFFRXRkLFdBRkYsRUFHRXVkLHVCQUhGLEVBSUU7QUFDQTtBQUNFelksa0NBQXdCRyxtQ0FBeEI7O0FBRUEsY0FBSTNNLDZCQUFKLEVBQW1DO0FBQ2pDd00sb0NBQXdCRSwrQkFBeEI7QUFDRDtBQUNGO0FBQ0QsZUFBTzVELGVBQWUsSUFBdEIsRUFBNEI7QUFDMUIsY0FBSTNMLFlBQVkyTCxXQUFXM0wsU0FBM0I7O0FBRUEsY0FBSUEsYUFBYWYsU0FBU0ksUUFBdEIsQ0FBSixFQUFxQztBQUNuQzZHO0FBQ0EsZ0JBQUk1a0IsVUFBVXFxQixXQUFXN21CLFNBQXpCO0FBQ0E4aUMsNkJBQ0VDLFlBREYsRUFFRXZtQyxPQUZGLEVBR0VxcUIsVUFIRixFQUlFcEIsV0FKRixFQUtFdWQsdUJBTEY7QUFPRDs7QUFFRCxjQUFJOW5CLFlBQVlSLE1BQWhCLEVBQXdCO0FBQ3RCeW9CLCtCQUFtQnRjLFVBQW5CLEVBQStCdWMsZUFBL0I7QUFDRDs7QUFFRCxjQUFJbG9CLFlBQVlULEdBQWhCLEVBQXFCO0FBQ25CMkc7QUFDQXdpQiw0QkFBZ0IvYyxVQUFoQjtBQUNEOztBQUVELGNBQUlwcUIsT0FBT29xQixXQUFXQSxVQUF0Qjs7QUFLQUEscUJBQVdBLFVBQVgsR0FBd0IsSUFBeEI7O0FBR0FBLHVCQUFhcHFCLElBQWI7QUFDRDtBQUNGOztBQUVELGVBQVM4akMsa0NBQVQsQ0FBNEN4N0IsUUFBNUMsRUFBc0Q7QUFDcEQsZUFDRTZsQywyQ0FBMkMsSUFBM0MsSUFDQUEsdUNBQXVDbHFCLEdBQXZDLENBQTJDM2IsUUFBM0MsQ0FGRjtBQUlEOztBQUVELGVBQVNzOUIsK0JBQVQsQ0FBeUN0OUIsUUFBekMsRUFBbUQ7QUFDakQsWUFBSTZsQywyQ0FBMkMsSUFBL0MsRUFBcUQ7QUFDbkRBLG1EQUF5QyxJQUFJdHJCLEdBQUosQ0FBUSxDQUFDdmEsUUFBRCxDQUFSLENBQXpDO0FBQ0QsU0FGRCxNQUVPO0FBQ0w2bEMsaURBQXVDanFCLEdBQXZDLENBQTJDNWIsUUFBM0M7QUFDRDtBQUNGOztBQUVELGVBQVN3bUMsVUFBVCxDQUFvQi9pQixZQUFwQixFQUFrQztBQUNoQ2dpQixvQkFBWSxJQUFaO0FBQ0F6ckIsdUJBQWUsSUFBZjtBQUNBb0Q7O0FBRUEsWUFBSW1HLE9BQU9FLGFBQWF6cUIsU0FBeEI7QUFDQTdKLGtCQUNFbzBCLEtBQUs5ckIsT0FBTCxLQUFpQmdzQixZQURuQixFQUVFLG1FQUNFLG9FQURGLEdBRUUsaUNBSko7QUFNQSxZQUFJd2EsMEJBQTBCMWEsS0FBS0MsMkJBQW5DO0FBQ0FyMEIsa0JBQ0U4dUMsNEJBQTRCcGUsTUFEOUIsRUFFRSx3RUFDRSxxQ0FISjtBQUtBMEQsYUFBS0MsMkJBQUwsR0FBbUMzRCxNQUFuQzs7QUFFQSxZQUFJYSxjQUFjNmMsd0JBQWxCOztBQUdBenJCLDBCQUFrQnJhLE9BQWxCLEdBQTRCLElBQTVCOztBQUVBLFlBQUlzcUIsY0FBYyxLQUFLLENBQXZCO0FBQ0EsWUFBSTBCLGFBQWF0TixTQUFiLEdBQXlCakIsYUFBN0IsRUFBNEM7QUFLMUMsY0FBSXVPLGFBQWF6QixVQUFiLEtBQTRCLElBQWhDLEVBQXNDO0FBQ3BDeUIseUJBQWF6QixVQUFiLENBQXdCRixVQUF4QixHQUFxQzJCLFlBQXJDO0FBQ0ExQiwwQkFBYzBCLGFBQWExQixXQUEzQjtBQUNELFdBSEQsTUFHTztBQUNMQSwwQkFBYzBCLFlBQWQ7QUFDRDtBQUNGLFNBWEQsTUFXTztBQUVMMUIsd0JBQWMwQixhQUFhMUIsV0FBM0I7QUFDRDs7QUFFRG1qQix5QkFBaUIzaEIsS0FBSzNXLGFBQXRCOztBQUtBa1YscUJBQWFDLFdBQWI7QUFDQXhFO0FBQ0EsZUFBT3VFLGVBQWUsSUFBdEIsRUFBNEI7QUFDMUIsY0FBSWp3QixXQUFXLEtBQWY7QUFDQSxjQUFJVCxRQUFRLEtBQUssQ0FBakI7QUFDQTtBQUNFZ3pDLG9DQUF3QixJQUF4QixFQUE4QitCLG9CQUE5QixFQUFvRCxJQUFwRDtBQUNBLGdCQUFJcHpDLGdCQUFKLEVBQXNCO0FBQ3BCbEIseUJBQVcsSUFBWDtBQUNBVCxzQkFBUTRCLGtCQUFSO0FBQ0Q7QUFDRjtBQUNELGNBQUluQixRQUFKLEVBQWM7QUFDWjFDLHNCQUNFMnlCLGVBQWUsSUFEakIsRUFFRSxtRUFDRSxpQ0FISjtBQUtBaWpCLCtCQUFtQmpqQixVQUFuQixFQUErQjF3QixLQUEvQjs7QUFFQSxnQkFBSTB3QixlQUFlLElBQW5CLEVBQXlCO0FBQ3ZCQSwyQkFBYUEsV0FBV0EsVUFBeEI7QUFDRDtBQUNGO0FBQ0Y7QUFDRHRFOztBQUVBMm5CLHlCQUFpQjVoQixLQUFLM1csYUFBdEI7O0FBTUEyVyxhQUFLOXJCLE9BQUwsR0FBZWdzQixZQUFmOztBQU1BM0IscUJBQWFDLFdBQWI7QUFDQXRFO0FBQ0EsZUFBT3FFLGVBQWUsSUFBdEIsRUFBNEI7QUFDMUIsY0FBSTJrQixZQUFZLEtBQWhCO0FBQ0EsY0FBSWpJLFNBQVMsS0FBSyxDQUFsQjtBQUNBO0FBQ0U0RixvQ0FDRSxJQURGLEVBRUVtQyxtQkFGRixFQUdFLElBSEYsRUFJRWhqQixJQUpGLEVBS0U3QyxXQUxGLEVBTUV1ZCx1QkFORjtBQVFBLGdCQUFJbHJDLGdCQUFKLEVBQXNCO0FBQ3BCMHpDLDBCQUFZLElBQVo7QUFDQWpJLHVCQUFTeHJDLGtCQUFUO0FBQ0Q7QUFDRjtBQUNELGNBQUl5ekMsU0FBSixFQUFlO0FBQ2J0M0Msc0JBQ0UyeUIsZUFBZSxJQURqQixFQUVFLG1FQUNFLGlDQUhKO0FBS0FpakIsK0JBQW1CampCLFVBQW5CLEVBQStCMGMsTUFBL0I7QUFDQSxnQkFBSTFjLGVBQWUsSUFBbkIsRUFBeUI7QUFDdkJBLDJCQUFhQSxXQUFXQSxVQUF4QjtBQUNEO0FBQ0Y7QUFDRjs7QUFFRDlILHVCQUFlLEtBQWY7QUFDQXlyQixvQkFBWSxLQUFaO0FBQ0EvbkI7QUFDQUo7QUFDQSxZQUFJLE9BQU9vSCxZQUFQLEtBQXdCLFVBQTVCLEVBQXdDO0FBQ3RDQSx1QkFBYWpCLGFBQWF6cUIsU0FBMUI7QUFDRDtBQUNELFlBQUksUUFBUW1yQyw0QkFBNEJELFNBQXhDLEVBQW1EO0FBQ2pEQyxzQ0FBNEJELFNBQTVCLENBQXNDd0MsWUFBdEMsQ0FBbURqakIsWUFBbkQ7QUFDRDs7QUFFRCxZQUFJa2pCLGdCQUFnQnBqQixLQUFLOXJCLE9BQUwsQ0FBYTRvQixjQUFqQztBQUNBLFlBQUlzbUIsa0JBQWtCOW1CLE1BQXRCLEVBQThCO0FBRzVCZ21CLG1EQUF5QyxJQUF6QztBQUNEO0FBQ0QsZUFBT2MsYUFBUDtBQUNEOztBQUVELGVBQVNDLG1CQUFULENBQTZCenVCLGNBQTdCLEVBQTZDMHVCLFVBQTdDLEVBQXlEO0FBQ3ZELFlBQUlBLGVBQWU5bUIsS0FBZixJQUF3QjVILGVBQWVrSSxjQUFmLEtBQWtDTixLQUE5RCxFQUFxRTtBQUduRTtBQUNEOztBQUdELFlBQUkrbUIsb0JBQW9CN2Qsd0JBQXdCOVEsY0FBeEIsQ0FBeEI7O0FBS0EsWUFBSXhCLFFBQVF3QixlQUFleEIsS0FBM0I7QUFDQSxlQUFPQSxVQUFVLElBQWpCLEVBQXVCO0FBQ3JCLGNBQ0VBLE1BQU0wSixjQUFOLEtBQXlCUixNQUF6QixLQUNDaW5CLHNCQUFzQmpuQixNQUF0QixJQUNDaW5CLG9CQUFvQm53QixNQUFNMEosY0FGNUIsQ0FERixFQUlFO0FBQ0F5bUIsZ0NBQW9CbndCLE1BQU0wSixjQUExQjtBQUNEO0FBQ0QxSixrQkFBUUEsTUFBTUMsT0FBZDtBQUNEO0FBQ0R1Qix1QkFBZWtJLGNBQWYsR0FBZ0N5bUIsaUJBQWhDO0FBQ0Q7O0FBRUQsZUFBU0Msa0JBQVQsQ0FBNEI1dUIsY0FBNUIsRUFBNEM7QUFJMUMsZUFBTyxJQUFQLEVBQWE7QUFLWCxjQUFJMWdCLFVBQVUwZ0IsZUFBZWxkLFNBQTdCO0FBQ0E7QUFDRXFkLG1DQUF1QkksZUFBdkIsQ0FBdUNQLGNBQXZDO0FBQ0Q7O0FBRUQsY0FBSWtYLGNBQWNsWCxlQUFlLFFBQWYsQ0FBbEI7QUFDQSxjQUFJNnVCLGVBQWU3dUIsZUFBZXZCLE9BQWxDOztBQUVBLGNBQUksQ0FBQ3VCLGVBQWVoQyxTQUFmLEdBQTJCTixVQUE1QixNQUE0Q1osUUFBaEQsRUFBMEQ7QUFFeEQsZ0JBQUl2ZCxPQUFPaWpDLGFBQ1RsakMsT0FEUyxFQUVUMGdCLGNBRlMsRUFHVHd0Qix3QkFIUyxDQUFYO0FBS0Evb0IsMEJBQWN6RSxjQUFkO0FBQ0F5dUIsZ0NBQW9CenVCLGNBQXBCLEVBQW9Dd3RCLHdCQUFwQztBQUNBO0FBQ0VydEIscUNBQXVCRSxpQkFBdkI7QUFDRDs7QUFFRCxnQkFBSTlnQixTQUFTLElBQWIsRUFBbUI7QUFDakJrbEIsNEJBQWN6RSxjQUFkO0FBQ0Esa0JBQUksUUFBUWdzQiw0QkFBNEJELFNBQXhDLEVBQW1EO0FBQ2pEQyw0Q0FBNEJELFNBQTVCLENBQXNDK0MsY0FBdEMsQ0FDRTl1QixjQURGO0FBR0Q7O0FBR0QscUJBQU96Z0IsSUFBUDtBQUNEOztBQUVELGdCQUNFMjNCLGdCQUFnQixJQUFoQixJQUVBLENBQUNBLFlBQVlsWixTQUFaLEdBQXdCTixVQUF6QixNQUF5Q1osUUFIM0MsRUFJRTtBQUlBLGtCQUFJb2EsWUFBWXROLFdBQVosS0FBNEIsSUFBaEMsRUFBc0M7QUFDcENzTiw0QkFBWXROLFdBQVosR0FBMEI1SixlQUFlNEosV0FBekM7QUFDRDtBQUNELGtCQUFJNUosZUFBZTZKLFVBQWYsS0FBOEIsSUFBbEMsRUFBd0M7QUFDdEMsb0JBQUlxTixZQUFZck4sVUFBWixLQUEyQixJQUEvQixFQUFxQztBQUNuQ3FOLDhCQUFZck4sVUFBWixDQUF1QkYsVUFBdkIsR0FBb0MzSixlQUFlNEosV0FBbkQ7QUFDRDtBQUNEc04sNEJBQVlyTixVQUFaLEdBQXlCN0osZUFBZTZKLFVBQXhDO0FBQ0Q7O0FBUUQsa0JBQUk3TCxZQUFZZ0MsZUFBZWhDLFNBQS9COztBQUdBLGtCQUFJQSxZQUFZakIsYUFBaEIsRUFBK0I7QUFDN0Isb0JBQUltYSxZQUFZck4sVUFBWixLQUEyQixJQUEvQixFQUFxQztBQUNuQ3FOLDhCQUFZck4sVUFBWixDQUF1QkYsVUFBdkIsR0FBb0MzSixjQUFwQztBQUNELGlCQUZELE1BRU87QUFDTGtYLDhCQUFZdE4sV0FBWixHQUEwQjVKLGNBQTFCO0FBQ0Q7QUFDRGtYLDRCQUFZck4sVUFBWixHQUF5QjdKLGNBQXpCO0FBQ0Q7QUFDRjs7QUFFRCxnQkFBSSxRQUFRZ3NCLDRCQUE0QkQsU0FBeEMsRUFBbUQ7QUFDakRDLDBDQUE0QkQsU0FBNUIsQ0FBc0MrQyxjQUF0QyxDQUFxRDl1QixjQUFyRDtBQUNEOztBQUVELGdCQUFJNnVCLGlCQUFpQixJQUFyQixFQUEyQjtBQUV6QixxQkFBT0EsWUFBUDtBQUNELGFBSEQsTUFHTyxJQUFJM1gsZ0JBQWdCLElBQXBCLEVBQTBCO0FBRS9CbFgsK0JBQWlCa1gsV0FBakI7QUFDQTtBQUNELGFBSk0sTUFJQTtBQUVMdVcscUNBQXVCLElBQXZCO0FBQ0EscUJBQU8sSUFBUDtBQUNEO0FBQ0YsV0E5RUQsTUE4RU87QUFJTCxnQkFBSXNCLFFBQVFyTCxXQUFXMWpCLGNBQVgsQ0FBWjs7QUFFQSxnQkFBSUEsZUFBZWhDLFNBQWYsR0FBMkJWLFVBQS9CLEVBQTJDO0FBRXpDb0gsa0NBQW9CMUUsY0FBcEI7QUFDRCxhQUhELE1BR087QUFDTHlFLDRCQUFjekUsY0FBZDtBQUNEOztBQUVEO0FBQ0VHLHFDQUF1QkUsaUJBQXZCO0FBQ0Q7O0FBRUQsZ0JBQUkwdUIsVUFBVSxJQUFkLEVBQW9CO0FBQ2xCdHFCLDRCQUFjekUsY0FBZDtBQUNBLGtCQUFJLFFBQVFnc0IsNEJBQTRCRCxTQUF4QyxFQUFtRDtBQUNqREMsNENBQTRCRCxTQUE1QixDQUFzQytDLGNBQXRDLENBQ0U5dUIsY0FERjtBQUdEOztBQUtEK3VCLG9CQUFNL3dCLFNBQU4sSUFBbUJQLGNBQW5CO0FBQ0EscUJBQU9zeEIsS0FBUDtBQUNEOztBQUVELGdCQUFJN1gsZ0JBQWdCLElBQXBCLEVBQTBCO0FBRXhCQSwwQkFBWXROLFdBQVosR0FBMEJzTixZQUFZck4sVUFBWixHQUF5QixJQUFuRDtBQUNBcU4sMEJBQVlsWixTQUFaLElBQXlCTixVQUF6QjtBQUNEOztBQUVELGdCQUFJLFFBQVFzdUIsNEJBQTRCRCxTQUF4QyxFQUFtRDtBQUNqREMsMENBQTRCRCxTQUE1QixDQUFzQytDLGNBQXRDLENBQXFEOXVCLGNBQXJEO0FBQ0Q7O0FBRUQsZ0JBQUk2dUIsaUJBQWlCLElBQXJCLEVBQTJCO0FBRXpCLHFCQUFPQSxZQUFQO0FBQ0QsYUFIRCxNQUdPLElBQUkzWCxnQkFBZ0IsSUFBcEIsRUFBMEI7QUFFL0JsWCwrQkFBaUJrWCxXQUFqQjtBQUNBO0FBQ0QsYUFKTSxNQUlBO0FBQ0wscUJBQU8sSUFBUDtBQUNEO0FBQ0Y7QUFDRjs7QUFLRCxlQUFPLElBQVA7QUFDRDs7QUFFRCxlQUFTOFgsaUJBQVQsQ0FBMkJodkIsY0FBM0IsRUFBMkM7QUFLekMsWUFBSTFnQixVQUFVMGdCLGVBQWVsZCxTQUE3Qjs7QUFHQXloQix1QkFBZXZFLGNBQWY7QUFDQTtBQUNFRyxpQ0FBdUJJLGVBQXZCLENBQXVDUCxjQUF2QztBQUNEOztBQUVELFlBQUksUUFBUWMsK0NBQVosRUFBNkQ7QUFDM0Q2c0IsNENBQWtDLFNBQWMsRUFBZCxFQUFrQjN0QixjQUFsQixDQUFsQztBQUNEO0FBQ0QsWUFBSXpnQixPQUFPd2dDLFVBQVV6Z0MsT0FBVixFQUFtQjBnQixjQUFuQixFQUFtQ3d0Qix3QkFBbkMsQ0FBWDs7QUFFQTtBQUNFcnRCLGlDQUF1QkUsaUJBQXZCO0FBQ0Q7QUFDRCxZQUFJLFFBQVEyckIsNEJBQTRCRCxTQUF4QyxFQUFtRDtBQUNqREMsc0NBQTRCRCxTQUE1QixDQUFzQ2tELFdBQXRDLENBQWtEanZCLGNBQWxEO0FBQ0Q7O0FBRUQsWUFBSXpnQixTQUFTLElBQWIsRUFBbUI7QUFFakJBLGlCQUFPcXZDLG1CQUFtQjV1QixjQUFuQixDQUFQO0FBQ0Q7O0FBRURyRywwQkFBa0JyYSxPQUFsQixHQUE0QixJQUE1Qjs7QUFFQSxlQUFPQyxJQUFQO0FBQ0Q7O0FBRUQsZUFBU3V1QyxRQUFULENBQWtCM2pCLE9BQWxCLEVBQTJCO0FBQ3pCLFlBQUksQ0FBQ0EsT0FBTCxFQUFjO0FBRVosaUJBQU9yRixtQkFBbUIsSUFBMUIsRUFBZ0M7QUFDOUJBLDZCQUFpQmtxQixrQkFBa0JscUIsY0FBbEIsQ0FBakI7QUFDRDtBQUNGLFNBTEQsTUFLTztBQUVMLGlCQUFPQSxtQkFBbUIsSUFBbkIsSUFBMkIsQ0FBQ29xQixhQUFuQyxFQUFrRDtBQUNoRHBxQiw2QkFBaUJrcUIsa0JBQWtCbHFCLGNBQWxCLENBQWpCO0FBQ0Q7QUFDRjtBQUNGOztBQUVELGVBQVNxcUIsVUFBVCxDQUFvQi9qQixJQUFwQixFQUEwQmxELGNBQTFCLEVBQTBDaUMsT0FBMUMsRUFBbUQ7QUFDakRuekIsa0JBQ0UsQ0FBQ3MyQyxTQURILEVBRUUsb0VBQ0UsMENBSEo7QUFLQUEsb0JBQVksSUFBWjs7QUFJQSxZQUNFcGxCLG1CQUFtQnNsQix3QkFBbkIsSUFDQXBpQixTQUFTbWlCLFFBRFQsSUFFQXpvQixtQkFBbUIsSUFIckIsRUFJRTtBQUVBaXBCO0FBQ0FSLHFCQUFXbmlCLElBQVg7QUFDQW9pQixxQ0FBMkJ0bEIsY0FBM0I7QUFDQXBELDJCQUFpQm1GLHFCQUNmc2pCLFNBQVNqdUMsT0FETSxFQUVmLElBRmUsRUFHZmt1Qyx3QkFIZSxDQUFqQjtBQUtBcGlCLGVBQUtDLDJCQUFMLEdBQW1DM0QsTUFBbkM7QUFDRDs7QUFFRCxZQUFJMG5CLFdBQVcsS0FBZjs7QUFFQXZxQiwyQkFBbUJDLGNBQW5COztBQUVBLFdBQUc7QUFDRCxjQUFJO0FBQ0ZncEIscUJBQVMzakIsT0FBVDtBQUNELFdBRkQsQ0FFRSxPQUFPa2xCLFdBQVAsRUFBb0I7QUFDcEIsZ0JBQUl2cUIsbUJBQW1CLElBQXZCLEVBQTZCO0FBRTNCc3FCLHlCQUFXLElBQVg7QUFDQWxKLDhCQUFnQm1KLFdBQWhCO0FBQ0E7QUFDRDs7QUFFRCxnQkFBSSxRQUFRdnVCLCtDQUFaLEVBQTZEO0FBQzNELGtCQUFJK3NCLG1CQUFtQi9vQixjQUF2QjtBQUNBOG9CLCtCQUFpQkMsZ0JBQWpCLEVBQW1DMWpCLE9BQW5DO0FBQ0Q7O0FBRUQsZ0JBQUlvWixjQUFjemUsY0FBbEI7QUFDQSxnQkFBSW9TLGNBQWNxTSxZQUFZLFFBQVosQ0FBbEI7QUFDQSxnQkFBSXJNLGdCQUFnQixJQUFwQixFQUEwQjtBQUV4QmtZLHlCQUFXLElBQVg7QUFDQWxKLDhCQUFnQm1KLFdBQWhCO0FBQ0E7QUFDRDtBQUNEL0wsMkJBQWVwTSxXQUFmLEVBQTRCcU0sV0FBNUIsRUFBeUM4TCxXQUF6QztBQUNBdnFCLDZCQUFpQjhwQixtQkFBbUJyTCxXQUFuQixDQUFqQjtBQUNEO0FBQ0Q7QUFDRCxTQTVCRCxRQTRCUyxJQTVCVDs7QUErQkF4ZSwwQkFBa0JDLGFBQWxCO0FBQ0FBLHdCQUFnQixJQUFoQjtBQUNBc29CLG9CQUFZLEtBQVo7O0FBR0EsWUFBSThCLFFBQUosRUFBYztBQUVaLGlCQUFPLElBQVA7QUFDRCxTQUhELE1BR08sSUFBSXRxQixtQkFBbUIsSUFBdkIsRUFBNkI7QUFFbEMsY0FBSTJvQixvQkFBSixFQUEwQjtBQUV4QnJpQixpQkFBS0MsMkJBQUwsR0FBbUNuRCxjQUFuQztBQUNBLGdCQUFJb0QsZUFBZUYsS0FBSzlyQixPQUFMLENBQWF3RCxTQUFoQztBQUNBLG1CQUFPd29CLFlBQVA7QUFDRCxXQUxELE1BS087QUFFTHQwQixzQkFDRSxLQURGLEVBRUUscUVBQ0UsMENBSEo7QUFLRDtBQUNGLFNBZk0sTUFlQTtBQUdMLGlCQUFPLElBQVA7QUFDRDtBQUNGOztBQUVELGVBQVNzNEMsZUFBVCxDQUF5Qi9MLFdBQXpCLEVBQXNDZ00sYUFBdEMsRUFBcUR4b0MsS0FBckQsRUFBNERtaEIsY0FBNUQsRUFBNEU7QUFFMUUsWUFBSTBKLGdCQUFnQnVSLG9CQUFvQnA4QixLQUFwQixFQUEyQnc4QixXQUEzQixDQUFwQjtBQUNBLFlBQUlqVCxTQUFTO0FBQ1hwSSwwQkFBZ0JBLGNBREw7QUFFWCtJLHdCQUFjLElBRkg7QUFHWHJZLG9CQUFVLElBSEM7QUFJWDZZLHFCQUFXLEtBSkE7QUFLWEMsb0JBQVUsS0FMQztBQU1YRSx5QkFBZUEsYUFOSjtBQU9YcnlCLGdCQUFNO0FBUEssU0FBYjtBQVNBc3hCLDhCQUFzQjBlLGFBQXRCLEVBQXFDamYsTUFBckM7QUFDQXVDLHFCQUFhMGMsYUFBYixFQUE0QnJuQixjQUE1QjtBQUNEOztBQUVELGVBQVNzbkIsUUFBVCxDQUFrQmpNLFdBQWxCLEVBQStCeDhCLEtBQS9CLEVBQXNDbWhCLGNBQXRDLEVBQXNEO0FBQ3BEbHhCLGtCQUNFLENBQUNzMkMsU0FBRCxJQUFjenJCLFlBRGhCLEVBRUUsb0RBRkY7O0FBT0EsWUFBSS9ILFFBQVF5cEIsWUFBWSxRQUFaLENBQVo7QUFDQSxlQUFPenBCLFVBQVUsSUFBakIsRUFBdUI7QUFDckIsa0JBQVFBLE1BQU12WixHQUFkO0FBQ0UsaUJBQUtrQixjQUFMO0FBQ0Usa0JBQUlneEIsT0FBTzNZLE1BQU12YixJQUFqQjtBQUNBLGtCQUFJc0osV0FBV2lTLE1BQU1qWixTQUFyQjtBQUNBLGtCQUNFLE9BQU80eEIsS0FBS0Usd0JBQVosS0FBeUMsVUFBekMsSUFDQyxPQUFPOXFCLFNBQVM0NkIsaUJBQWhCLEtBQXNDLFVBQXRDLElBQ0MsQ0FBQ1ksbUNBQW1DeDdCLFFBQW5DLENBSEwsRUFJRTtBQUNBeW5DLGdDQUFnQi9MLFdBQWhCLEVBQTZCenBCLEtBQTdCLEVBQW9DL1MsS0FBcEMsRUFBMkNtaEIsY0FBM0M7QUFDQTtBQUNEO0FBQ0Q7O0FBRUYsaUJBQUt4bUIsUUFBTDtBQUNFNHRDLDhCQUFnQi9MLFdBQWhCLEVBQTZCenBCLEtBQTdCLEVBQW9DL1MsS0FBcEMsRUFBMkNtaEIsY0FBM0M7QUFDQTtBQWhCSjtBQWtCQXBPLGtCQUFRQSxNQUFNLFFBQU4sQ0FBUjtBQUNEOztBQUVELFlBQUl5cEIsWUFBWWhqQyxHQUFaLEtBQW9CbUIsUUFBeEIsRUFBa0M7QUFHaEM0dEMsMEJBQWdCL0wsV0FBaEIsRUFBNkJBLFdBQTdCLEVBQTBDeDhCLEtBQTFDLEVBQWlEbWhCLGNBQWpEO0FBQ0Q7QUFDRjs7QUFFRCxlQUFTMGtCLGtCQUFULENBQTRCOXlCLEtBQTVCLEVBQW1DN2dCLEtBQW5DLEVBQTBDO0FBQ3hDLGVBQU91MkMsU0FBUzExQixLQUFULEVBQWdCN2dCLEtBQWhCLEVBQXVCMHVCLElBQXZCLENBQVA7QUFDRDs7QUFFRCxlQUFTOG5CLHNCQUFULENBQWdDbG5CLFdBQWhDLEVBQTZDO0FBSTNDLFlBQUltbkIsZUFBZSxJQUFuQjtBQUNBLFlBQUlqbkIsZUFBZSxHQUFuQjtBQUNBLGVBQU9ILHdCQUF3QkMsV0FBeEIsRUFBcUNtbkIsWUFBckMsRUFBbURqbkIsWUFBbkQsQ0FBUDtBQUNEOztBQUVELGVBQVNrbkIsNEJBQVQsQ0FBc0NwbkIsV0FBdEMsRUFBbUQ7QUFFakQsWUFBSW1uQixlQUFlLEdBQW5CO0FBQ0EsWUFBSWpuQixlQUFlLEdBQW5CO0FBQ0EsZUFBT0gsd0JBQXdCQyxXQUF4QixFQUFxQ21uQixZQUFyQyxFQUFtRGpuQixZQUFuRCxDQUFQO0FBQ0Q7O0FBR0QsZUFBU21uQiw0QkFBVCxHQUF3QztBQUN0QyxZQUFJcm5CLGNBQWM2Yyx3QkFBbEI7QUFDQSxZQUFJNzlCLFNBQVNrb0MsdUJBQXVCbG5CLFdBQXZCLENBQWI7QUFDQSxZQUFJaGhCLFVBQVU2bEMseUJBQWQsRUFBeUM7QUFJdkM3bEMsbUJBQVM2bEMsNEJBQTRCLENBQXJDO0FBQ0Q7QUFDREEsb0NBQTRCN2xDLE1BQTVCO0FBQ0EsZUFBTzZsQyx5QkFBUDtBQUNEOztBQUVELGVBQVN0YSx5QkFBVCxDQUFtQ2haLEtBQW5DLEVBQTBDO0FBQ3hDLFlBQUlvTyxpQkFBaUIsS0FBSyxDQUExQjtBQUNBLFlBQUltbEIsc0JBQXNCM2xCLE1BQTFCLEVBQWtDO0FBRWhDUSwyQkFBaUJtbEIsaUJBQWpCO0FBQ0QsU0FIRCxNQUdPLElBQUlDLFNBQUosRUFBZTtBQUNwQixjQUFJenJCLFlBQUosRUFBa0I7QUFHaEJxRyw2QkFBaUJQLElBQWpCO0FBQ0QsV0FKRCxNQUlPO0FBR0xPLDZCQUFpQnNsQix3QkFBakI7QUFDRDtBQUNGLFNBVk0sTUFVQTtBQUdMLGNBQUkxekIsTUFBTXdQLElBQU4sR0FBYVgsU0FBakIsRUFBNEI7QUFDMUIsZ0JBQUlrbkIsNEJBQUosRUFBa0M7QUFFaEMsa0JBQUl0bkIsY0FBYzZjLHdCQUFsQjtBQUNBbGQsK0JBQWlCeW5CLDZCQUE2QnBuQixXQUE3QixDQUFqQjtBQUNELGFBSkQsTUFJTztBQUVMLGtCQUFJdW5CLGVBQWUxSyx3QkFBbkI7QUFDQWxkLCtCQUFpQnVuQix1QkFBdUJLLFlBQXZCLENBQWpCO0FBQ0Q7QUFDRixXQVZELE1BVU87QUFFTDVuQiw2QkFBaUJQLElBQWpCO0FBQ0Q7QUFDRjtBQUNELFlBQUlrb0IsNEJBQUosRUFBa0M7QUFJaEMsY0FDRUUsMkNBQTJDcm9CLE1BQTNDLElBQ0FRLGlCQUFpQjZuQixzQ0FGbkIsRUFHRTtBQUNBQSxxREFBeUM3bkIsY0FBekM7QUFDRDtBQUNGO0FBQ0QsZUFBT0EsY0FBUDtBQUNEOztBQUVELGVBQVMySyxZQUFULENBQXNCL1ksS0FBdEIsRUFBNkJvTyxjQUE3QixFQUE2QztBQUMzQyxlQUFPOG5CLGlCQUFpQmwyQixLQUFqQixFQUF3Qm9PLGNBQXhCLEVBQXdDLEtBQXhDLENBQVA7QUFDRDs7QUFFRCxlQUFTOG5CLGdCQUFULENBQTBCbDJCLEtBQTFCLEVBQWlDb08sY0FBakMsRUFBaUQrbkIsZUFBakQsRUFBa0U7QUFDaEU5ckI7O0FBRUE7QUFDRSxjQUFJLENBQUM4ckIsZUFBRCxJQUFvQm4yQixNQUFNdlosR0FBTixLQUFja0IsY0FBdEMsRUFBc0Q7QUFDcEQsZ0JBQUlvRyxXQUFXaVMsTUFBTWpaLFNBQXJCO0FBQ0F3ckMsb0NBQXdCeGtDLFFBQXhCO0FBQ0Q7QUFDRjs7QUFFRCxZQUFJc1AsT0FBTzJDLEtBQVg7QUFDQSxlQUFPM0MsU0FBUyxJQUFoQixFQUFzQjtBQUdwQixjQUNFQSxLQUFLK1EsY0FBTCxLQUF3QlIsTUFBeEIsSUFDQXZRLEtBQUsrUSxjQUFMLEdBQXNCQSxjQUZ4QixFQUdFO0FBQ0EvUSxpQkFBSytRLGNBQUwsR0FBc0JBLGNBQXRCO0FBQ0Q7QUFDRCxjQUFJL1EsS0FBS3JVLFNBQUwsS0FBbUIsSUFBdkIsRUFBNkI7QUFDM0IsZ0JBQ0VxVSxLQUFLclUsU0FBTCxDQUFlb2xCLGNBQWYsS0FBa0NSLE1BQWxDLElBQ0F2USxLQUFLclUsU0FBTCxDQUFlb2xCLGNBQWYsR0FBZ0NBLGNBRmxDLEVBR0U7QUFDQS9RLG1CQUFLclUsU0FBTCxDQUFlb2xCLGNBQWYsR0FBZ0NBLGNBQWhDO0FBQ0Q7QUFDRjtBQUNELGNBQUkvUSxLQUFLLFFBQUwsTUFBbUIsSUFBdkIsRUFBNkI7QUFDM0IsZ0JBQUlBLEtBQUs1VyxHQUFMLEtBQWFtQixRQUFqQixFQUEyQjtBQUN6QixrQkFBSTBwQixPQUFPalUsS0FBS3RXLFNBQWhCO0FBQ0Esa0JBQ0UsQ0FBQ3lzQyxTQUFELElBQ0FFLDZCQUE2QjlsQixNQUQ3QixJQUVBUSxpQkFBaUJzbEIsd0JBSG5CLEVBSUU7QUFFQXhvQixnQ0FBZ0JsTCxLQUFoQjtBQUNBaTBCO0FBQ0Q7QUFDRCxrQkFBSVIsYUFBYW5pQixJQUFiLElBQXFCLENBQUNraUIsU0FBMUIsRUFBcUM7QUFDbkM0Qyw0QkFBWTlrQixJQUFaLEVBQWtCbEQsY0FBbEI7QUFDRDtBQUNELGtCQUFJaW9CLG9CQUFvQkMsbUJBQXhCLEVBQTZDO0FBQzNDcDVDLDBCQUNFLEtBREYsRUFFRSwyREFDRSw2Q0FERixHQUVFLDBEQUZGLEdBR0UseURBTEo7QUFPRDtBQUNGLGFBdkJELE1BdUJPO0FBQ0w7QUFDRSxvQkFBSSxDQUFDaTVDLGVBQUQsSUFBb0JuMkIsTUFBTXZaLEdBQU4sS0FBY2tCLGNBQXRDLEVBQXNEO0FBQ3BEMnFDLDZDQUEyQnR5QixLQUEzQjtBQUNEO0FBQ0Y7QUFDRDtBQUNEO0FBQ0Y7QUFDRDNDLGlCQUFPQSxLQUFLLFFBQUwsQ0FBUDtBQUNEO0FBQ0Y7O0FBRUQsZUFBU2l1QixzQkFBVCxHQUFrQztBQUVoQytILGtDQUEwQnJvQyxRQUFRbW9DLG1CQUFsQztBQUNBQyxnQ0FBd0JubEIsbUJBQW1Cb2xCLHVCQUFuQixDQUF4QjtBQUNBLGVBQU9ELHFCQUFQO0FBQ0Q7O0FBRUQsZUFBU21ELGVBQVQsQ0FBeUJudEMsRUFBekIsRUFBNkI7QUFDM0IsWUFBSW90Qyw0QkFBNEJqRCxpQkFBaEM7QUFDQSxZQUFJOWtCLGNBQWM2Yyx3QkFBbEI7QUFDQWlJLDRCQUFvQm9DLHVCQUF1QmxuQixXQUF2QixDQUFwQjtBQUNBLFlBQUk7QUFDRixpQkFBT3JsQixJQUFQO0FBQ0QsU0FGRCxTQUVVO0FBQ1JtcUMsOEJBQW9CaUQseUJBQXBCO0FBQ0Q7QUFDRjtBQUNELGVBQVNDLFdBQVQsQ0FBcUJydEMsRUFBckIsRUFBeUJoTCxDQUF6QixFQUE0QkMsQ0FBNUIsRUFBK0JDLENBQS9CLEVBQWtDQyxDQUFsQyxFQUFxQztBQUNuQyxZQUFJaTRDLDRCQUE0QmpELGlCQUFoQztBQUNBQSw0QkFBb0IxbEIsSUFBcEI7QUFDQSxZQUFJO0FBQ0YsaUJBQU96a0IsR0FBR2hMLENBQUgsRUFBTUMsQ0FBTixFQUFTQyxDQUFULEVBQVlDLENBQVosQ0FBUDtBQUNELFNBRkQsU0FFVTtBQUNSZzFDLDhCQUFvQmlELHlCQUFwQjtBQUNEO0FBQ0Y7O0FBTUQsVUFBSUUscUJBQXFCLElBQXpCO0FBQ0EsVUFBSUMsb0JBQW9CLElBQXhCOztBQUVBLFVBQUlDLHlCQUF5QmhwQixNQUE3QjtBQUNBLFVBQUlpcEIsYUFBYSxDQUFDLENBQWxCO0FBQ0EsVUFBSUMsY0FBYyxLQUFsQjtBQUNBLFVBQUlDLGtCQUFrQixJQUF0QjtBQUNBLFVBQUlDLDRCQUE0QnBwQixNQUFoQztBQUNBLFVBQUlxb0IseUNBQXlDcm9CLE1BQTdDO0FBQ0EsVUFBSXFwQixvQkFBb0IsS0FBeEI7QUFDQSxVQUFJQyxvQkFBb0IsS0FBeEI7QUFDQSxVQUFJQyxpQkFBaUIsSUFBckI7QUFDQSxVQUFJQyxXQUFXLElBQWY7O0FBRUEsVUFBSUMsb0JBQW9CLEtBQXhCO0FBQ0EsVUFBSUMsc0JBQXNCLEtBQTFCO0FBQ0EsVUFBSXZCLCtCQUErQixLQUFuQzs7QUFFQSxVQUFJd0IsbUJBQW1CLElBQXZCOztBQUdBLFVBQUlqQixzQkFBc0IsSUFBMUI7QUFDQSxVQUFJRCxvQkFBb0IsQ0FBeEI7O0FBRUEsVUFBSW1CLDZCQUE2QixDQUFqQzs7QUFFQSxlQUFTQyw4QkFBVCxDQUF3Q3JwQixjQUF4QyxFQUF3RDtBQUN0RCxZQUFJd29CLDJCQUEyQmhwQixNQUEvQixFQUF1QztBQUVyQyxjQUFJUSxpQkFBaUJ3b0Isc0JBQXJCLEVBQTZDO0FBRTNDO0FBQ0QsV0FIRCxNQUdPO0FBR0w1RCxtQ0FBdUI2RCxVQUF2QjtBQUNEO0FBRUYsU0FYRCxNQVdPO0FBQ0x2c0I7QUFDRDs7QUFHRCxZQUFJb3RCLFlBQVkxc0MsUUFBUW1vQyxtQkFBeEI7QUFDQSxZQUFJeUMsZUFBZXpuQixtQkFBbUJDLGNBQW5CLENBQW5CO0FBQ0EsWUFBSXVwQixVQUFVL0IsZUFBZThCLFNBQTdCOztBQUVBZCxpQ0FBeUJ4b0IsY0FBekI7QUFDQXlvQixxQkFBYTlELHlCQUF5QjZFLGdCQUF6QixFQUEyQztBQUN0REQsbUJBQVNBO0FBRDZDLFNBQTNDLENBQWI7QUFHRDs7QUFJRCxlQUFTdkIsV0FBVCxDQUFxQjlrQixJQUFyQixFQUEyQmxELGNBQTNCLEVBQTJDO0FBQ3pDeXBCLDBCQUFrQnZtQixJQUFsQixFQUF3QmxELGNBQXhCOztBQUVBLFlBQUkwb0IsV0FBSixFQUFpQjtBQUdmO0FBQ0Q7O0FBRUQsWUFBSU8saUJBQUosRUFBdUI7QUFFckIsY0FBSUMsbUJBQUosRUFBeUI7QUFHdkJQLDhCQUFrQnpsQixJQUFsQjtBQUNBMGxCLHdDQUE0Qm5wQixJQUE1QjtBQUNBaXFCLDhCQUFrQnhtQixJQUFsQixFQUF3QnpELElBQXhCLEVBQThCLEtBQTlCO0FBQ0Q7QUFDRDtBQUNEOztBQUdELFlBQUlPLG1CQUFtQlAsSUFBdkIsRUFBNkI7QUFDM0JrcUI7QUFDRCxTQUZELE1BRU87QUFDTE4seUNBQStCcnBCLGNBQS9CO0FBQ0Q7QUFDRjs7QUFFRCxlQUFTeXBCLGlCQUFULENBQTJCdm1CLElBQTNCLEVBQWlDbEQsY0FBakMsRUFBaUQ7QUFHL0MsWUFBSWtELEtBQUtNLGlCQUFMLEtBQTJCLElBQS9CLEVBQXFDO0FBRW5DTixlQUFLSSx1QkFBTCxHQUErQnRELGNBQS9CO0FBQ0EsY0FBSXVvQixzQkFBc0IsSUFBMUIsRUFBZ0M7QUFDOUJELGlDQUFxQkMsb0JBQW9CcmxCLElBQXpDO0FBQ0FBLGlCQUFLTSxpQkFBTCxHQUF5Qk4sSUFBekI7QUFDRCxXQUhELE1BR087QUFDTHFsQiw4QkFBa0Iva0IsaUJBQWxCLEdBQXNDTixJQUF0QztBQUNBcWxCLGdDQUFvQnJsQixJQUFwQjtBQUNBcWxCLDhCQUFrQi9rQixpQkFBbEIsR0FBc0M4a0Isa0JBQXRDO0FBQ0Q7QUFDRixTQVhELE1BV087QUFFTCxjQUFJaGxCLDBCQUEwQkosS0FBS0ksdUJBQW5DO0FBQ0EsY0FDRUEsNEJBQTRCOUQsTUFBNUIsSUFDQVEsaUJBQWlCc0QsdUJBRm5CLEVBR0U7QUFFQUosaUJBQUtJLHVCQUFMLEdBQStCdEQsY0FBL0I7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsZUFBUzRwQix1QkFBVCxHQUFtQztBQUNqQyxZQUFJQyxzQkFBc0JycUIsTUFBMUI7QUFDQSxZQUFJc3FCLHNCQUFzQixJQUExQjtBQUNBLFlBQUl2QixzQkFBc0IsSUFBMUIsRUFBZ0M7QUFDOUIsY0FBSXdCLHdCQUF3QnhCLGlCQUE1QjtBQUNBLGNBQUlybEIsT0FBT29sQixrQkFBWDtBQUNBLGlCQUFPcGxCLFNBQVMsSUFBaEIsRUFBc0I7QUFDcEIsZ0JBQUlJLDBCQUEwQkosS0FBS0ksdUJBQW5DO0FBQ0EsZ0JBQUlBLDRCQUE0QjlELE1BQWhDLEVBQXdDO0FBTXRDMXdCLHdCQUNFaTdDLDBCQUEwQixJQUExQixJQUFrQ3hCLHNCQUFzQixJQUQxRCxFQUVFLGdFQUNFLGlEQUhKO0FBS0Esa0JBQUlybEIsU0FBU0EsS0FBS00saUJBQWxCLEVBQXFDO0FBRW5DTixxQkFBS00saUJBQUwsR0FBeUIsSUFBekI7QUFDQThrQixxQ0FBcUJDLG9CQUFvQixJQUF6QztBQUNBO0FBQ0QsZUFMRCxNQUtPLElBQUlybEIsU0FBU29sQixrQkFBYixFQUFpQztBQUV0QyxvQkFBSWp4QyxPQUFPNnJCLEtBQUtNLGlCQUFoQjtBQUNBOGtCLHFDQUFxQmp4QyxJQUFyQjtBQUNBa3hDLGtDQUFrQi9rQixpQkFBbEIsR0FBc0Nuc0IsSUFBdEM7QUFDQTZyQixxQkFBS00saUJBQUwsR0FBeUIsSUFBekI7QUFDRCxlQU5NLE1BTUEsSUFBSU4sU0FBU3FsQixpQkFBYixFQUFnQztBQUVyQ0Esb0NBQW9Cd0IscUJBQXBCO0FBQ0F4QixrQ0FBa0Iva0IsaUJBQWxCLEdBQXNDOGtCLGtCQUF0QztBQUNBcGxCLHFCQUFLTSxpQkFBTCxHQUF5QixJQUF6QjtBQUNBO0FBQ0QsZUFOTSxNQU1BO0FBQ0x1bUIsc0NBQXNCdm1CLGlCQUF0QixHQUEwQ04sS0FBS00saUJBQS9DO0FBQ0FOLHFCQUFLTSxpQkFBTCxHQUF5QixJQUF6QjtBQUNEO0FBQ0ROLHFCQUFPNm1CLHNCQUFzQnZtQixpQkFBN0I7QUFDRCxhQWpDRCxNQWlDTztBQUNMLGtCQUNFcW1CLHdCQUF3QnJxQixNQUF4QixJQUNBOEQsMEJBQTBCdW1CLG1CQUY1QixFQUdFO0FBRUFBLHNDQUFzQnZtQix1QkFBdEI7QUFDQXdtQixzQ0FBc0I1bUIsSUFBdEI7QUFDRDtBQUNELGtCQUFJQSxTQUFTcWxCLGlCQUFiLEVBQWdDO0FBQzlCO0FBQ0Q7QUFDRHdCLHNDQUF3QjdtQixJQUF4QjtBQUNBQSxxQkFBT0EsS0FBS00saUJBQVo7QUFDRDtBQUNGO0FBQ0Y7O0FBSUQsWUFBSXdtQixzQkFBc0JyQixlQUExQjtBQUNBLFlBQ0VxQix3QkFBd0IsSUFBeEIsSUFDQUEsd0JBQXdCRixtQkFEeEIsSUFFQUQsd0JBQXdCcHFCLElBSDFCLEVBSUU7QUFDQXdvQjtBQUNELFNBTkQsTUFNTztBQUVMQSw4QkFBb0IsQ0FBcEI7QUFDRDtBQUNEVSwwQkFBa0JtQixtQkFBbEI7QUFDQWxCLG9DQUE0QmlCLG1CQUE1QjtBQUNEOztBQUVELGVBQVNMLGdCQUFULENBQTBCUyxFQUExQixFQUE4QjtBQUM1QkMsb0JBQVkxcUIsTUFBWixFQUFvQixJQUFwQixFQUEwQnlxQixFQUExQjtBQUNEOztBQUVELGVBQVNOLGVBQVQsR0FBMkI7QUFDekJPLG9CQUFZenFCLElBQVosRUFBa0IsS0FBbEIsRUFBeUIsSUFBekI7QUFDRDs7QUFFRCxlQUFTeXFCLFdBQVQsQ0FBcUJDLGlCQUFyQixFQUF3Q2xvQixPQUF4QyxFQUFpRGdvQixFQUFqRCxFQUFxRDtBQUNuRGpCLG1CQUFXaUIsRUFBWDs7QUFJQUw7O0FBRUEsWUFBSS93Qix1QkFBdUJtd0IsYUFBYSxJQUF4QyxFQUE4QztBQUM1QyxjQUFJNXNCLFlBQVl3c0IsNEJBQTRCMUwsd0JBQTVDO0FBQ0EvZ0IsbUNBQXlCQyxTQUF6QjtBQUNEOztBQUVELFlBQUk2RixPQUFKLEVBQWE7QUFDWCxpQkFDRTBtQixvQkFBb0IsSUFBcEIsSUFDQUMsOEJBQThCcHBCLE1BRDlCLEtBRUMycUIsc0JBQXNCM3FCLE1BQXRCLElBQ0MycUIscUJBQXFCdkIseUJBSHZCLE1BSUMsQ0FBQ0MsaUJBQUQsSUFDQzNMLDRCQUE0QjBMLHlCQUw5QixDQURGLEVBT0U7QUFDQWMsOEJBQ0VmLGVBREYsRUFFRUMseUJBRkYsRUFHRSxDQUFDQyxpQkFISDtBQUtBZTtBQUNEO0FBQ0YsU0FoQkQsTUFnQk87QUFDTCxpQkFDRWpCLG9CQUFvQixJQUFwQixJQUNBQyw4QkFBOEJwcEIsTUFEOUIsS0FFQzJxQixzQkFBc0IzcUIsTUFBdEIsSUFDQzJxQixxQkFBcUJ2Qix5QkFIdkIsQ0FERixFQUtFO0FBQ0FjLDhCQUFrQmYsZUFBbEIsRUFBbUNDLHlCQUFuQyxFQUE4RCxLQUE5RDtBQUNBZ0I7QUFDRDtBQUNGOztBQU1ELFlBQUlaLGFBQWEsSUFBakIsRUFBdUI7QUFDckJSLG1DQUF5QmhwQixNQUF6QjtBQUNBaXBCLHVCQUFhLENBQUMsQ0FBZDtBQUNEOztBQUVELFlBQUlHLDhCQUE4QnBwQixNQUFsQyxFQUEwQztBQUN4QzZwQix5Q0FBK0JULHlCQUEvQjtBQUNEOztBQUdESSxtQkFBVyxJQUFYO0FBQ0FILDRCQUFvQixLQUFwQjs7QUFFQXVCO0FBQ0Q7O0FBRUQsZUFBU0MsU0FBVCxDQUFtQm5uQixJQUFuQixFQUF5QmxELGNBQXpCLEVBQXlDO0FBQ3ZDbHhCLGtCQUNFLENBQUM0NUMsV0FESCxFQUVFLHVFQUNFLCtEQUhKOztBQVFBZ0IsMEJBQWtCeG1CLElBQWxCLEVBQXdCbEQsY0FBeEIsRUFBd0MsS0FBeEM7QUFDQW9xQjtBQUNEOztBQUVELGVBQVNBLGVBQVQsR0FBMkI7QUFDekJuQyw0QkFBb0IsQ0FBcEI7O0FBRUEsWUFBSWtCLHFCQUFxQixJQUF6QixFQUErQjtBQUM3QixjQUFJbUIsVUFBVW5CLGdCQUFkO0FBQ0FBLDZCQUFtQixJQUFuQjtBQUNBLGVBQUssSUFBSTF5QyxJQUFJLENBQWIsRUFBZ0JBLElBQUk2ekMsUUFBUXgwQyxNQUE1QixFQUFvQ1csR0FBcEMsRUFBeUM7QUFDdkMsZ0JBQUk4ekMsUUFBUUQsUUFBUTd6QyxDQUFSLENBQVo7QUFDQSxnQkFBSTtBQUNGOHpDLG9CQUFNQyxXQUFOO0FBQ0QsYUFGRCxDQUVFLE9BQU96NUMsS0FBUCxFQUFjO0FBQ2Qsa0JBQUksQ0FBQyszQyxpQkFBTCxFQUF3QjtBQUN0QkEsb0NBQW9CLElBQXBCO0FBQ0FDLGlDQUFpQmg0QyxLQUFqQjtBQUNEO0FBQ0Y7QUFDRjtBQUNGOztBQUVELFlBQUkrM0MsaUJBQUosRUFBdUI7QUFDckIsY0FBSS8zQyxRQUFRZzRDLGNBQVo7QUFDQUEsMkJBQWlCLElBQWpCO0FBQ0FELDhCQUFvQixLQUFwQjtBQUNBLGdCQUFNLzNDLEtBQU47QUFDRDtBQUNGOztBQUVELGVBQVMyNEMsaUJBQVQsQ0FBMkJ4bUIsSUFBM0IsRUFBaUNsRCxjQUFqQyxFQUFpRGlDLE9BQWpELEVBQTBEO0FBQ3hEbnpCLGtCQUNFLENBQUM0NUMsV0FESCxFQUVFLDJFQUNFLDBDQUhKOztBQU1BQSxzQkFBYyxJQUFkOztBQUdBLFlBQUksQ0FBQ3ptQixPQUFMLEVBQWM7QUFFWixjQUFJbUIsZUFBZUYsS0FBS0UsWUFBeEI7QUFDQSxjQUFJQSxpQkFBaUIsSUFBckIsRUFBMkI7QUFFekJxbkIseUJBQWF2bkIsSUFBYixFQUFtQkUsWUFBbkIsRUFBaUNwRCxjQUFqQztBQUNELFdBSEQsTUFHTztBQUNMa0QsaUJBQUtFLFlBQUwsR0FBb0IsSUFBcEI7QUFDQUEsMkJBQWU2akIsV0FBVy9qQixJQUFYLEVBQWlCbEQsY0FBakIsRUFBaUMsS0FBakMsQ0FBZjtBQUNBLGdCQUFJb0QsaUJBQWlCLElBQXJCLEVBQTJCO0FBRXpCcW5CLDJCQUFhdm5CLElBQWIsRUFBbUJFLFlBQW5CLEVBQWlDcEQsY0FBakM7QUFDRDtBQUNGO0FBQ0YsU0FkRCxNQWNPO0FBRUwsY0FBSTBxQixnQkFBZ0J4bkIsS0FBS0UsWUFBekI7QUFDQSxjQUFJc25CLGtCQUFrQixJQUF0QixFQUE0QjtBQUUxQkQseUJBQWF2bkIsSUFBYixFQUFtQnduQixhQUFuQixFQUFrQzFxQixjQUFsQztBQUNELFdBSEQsTUFHTztBQUNMa0QsaUJBQUtFLFlBQUwsR0FBb0IsSUFBcEI7QUFDQXNuQiw0QkFBZ0J6RCxXQUFXL2pCLElBQVgsRUFBaUJsRCxjQUFqQixFQUFpQyxJQUFqQyxDQUFoQjtBQUNBLGdCQUFJMHFCLGtCQUFrQixJQUF0QixFQUE0QjtBQUcxQixrQkFBSSxDQUFDMUQsYUFBTCxFQUFvQjtBQUVsQnlELDZCQUFhdm5CLElBQWIsRUFBbUJ3bkIsYUFBbkIsRUFBa0MxcUIsY0FBbEM7QUFDRCxlQUhELE1BR087QUFHTGtELHFCQUFLRSxZQUFMLEdBQW9Cc25CLGFBQXBCO0FBQ0Q7QUFDRjtBQUNGO0FBQ0Y7O0FBRURoQyxzQkFBYyxLQUFkO0FBQ0Q7O0FBRUQsZUFBUytCLFlBQVQsQ0FBc0J2bkIsSUFBdEIsRUFBNEJFLFlBQTVCLEVBQTBDcEQsY0FBMUMsRUFBMEQ7QUFFeEQsWUFBSXVELGFBQWFMLEtBQUtLLFVBQXRCO0FBQ0EsWUFBSUEsZUFBZSxJQUFmLElBQXVCQSxXQUFXb25CLGVBQVgsSUFBOEIzcUIsY0FBekQsRUFBeUU7QUFDdkUsY0FBSW1wQixxQkFBcUIsSUFBekIsRUFBK0I7QUFDN0JBLCtCQUFtQixDQUFDNWxCLFVBQUQsQ0FBbkI7QUFDRCxXQUZELE1BRU87QUFDTDRsQiw2QkFBaUI3eEMsSUFBakIsQ0FBc0Jpc0IsVUFBdEI7QUFDRDtBQUNELGNBQUlBLFdBQVdxbkIsTUFBZixFQUF1QjtBQUdyQjFuQixpQkFBS0UsWUFBTCxHQUFvQkEsWUFBcEI7QUFDQUYsaUJBQUtJLHVCQUFMLEdBQStCOUQsTUFBL0I7QUFDQTtBQUNEO0FBQ0Y7O0FBR0QwRCxhQUFLRSxZQUFMLEdBQW9CLElBQXBCO0FBQ0FGLGFBQUtJLHVCQUFMLEdBQStCNmlCLFdBQVcvaUIsWUFBWCxDQUEvQjtBQUNEOztBQUlELGVBQVM0akIsV0FBVCxHQUF1QjtBQUNyQixZQUFJZ0MsYUFBYSxJQUFqQixFQUF1QjtBQUNyQixpQkFBTyxLQUFQO0FBQ0Q7QUFDRCxZQUFJQSxTQUFTNkIsYUFBVCxLQUEyQnpCLDBCQUEvQixFQUEyRDtBQUd6RCxpQkFBTyxLQUFQO0FBQ0Q7QUFDRFAsNEJBQW9CLElBQXBCO0FBQ0EsZUFBTyxJQUFQO0FBQ0Q7O0FBRUQsZUFBUzdLLGVBQVQsQ0FBeUJqdEMsS0FBekIsRUFBZ0M7QUFDOUJqQyxrQkFDRTY1QyxvQkFBb0IsSUFEdEIsRUFFRSwwRUFDRSw4QkFISjs7QUFPQUEsd0JBQWdCcmxCLHVCQUFoQixHQUEwQzlELE1BQTFDO0FBQ0EsWUFBSSxDQUFDc3BCLGlCQUFMLEVBQXdCO0FBQ3RCQSw4QkFBb0IsSUFBcEI7QUFDQUMsMkJBQWlCaDRDLEtBQWpCO0FBQ0Q7QUFDRjs7QUFJRCxlQUFTaVksY0FBVCxDQUF3QmhPLEVBQXhCLEVBQTRCaEwsQ0FBNUIsRUFBK0I7QUFDN0IsWUFBSTg2Qyw0QkFBNEI3QixpQkFBaEM7QUFDQUEsNEJBQW9CLElBQXBCO0FBQ0EsWUFBSTtBQUNGLGlCQUFPanVDLEdBQUdoTCxDQUFILENBQVA7QUFDRCxTQUZELFNBRVU7QUFDUmk1Qyw4QkFBb0I2Qix5QkFBcEI7QUFDQSxjQUFJLENBQUM3QixpQkFBRCxJQUFzQixDQUFDUCxXQUEzQixFQUF3QztBQUN0Q2lCO0FBQ0Q7QUFDRjtBQUNGOztBQUlELGVBQVNvQixnQkFBVCxDQUEwQi92QyxFQUExQixFQUE4QmhMLENBQTlCLEVBQWlDO0FBQy9CLFlBQUlpNUMscUJBQXFCLENBQUNDLG1CQUExQixFQUErQztBQUM3Q0EsZ0NBQXNCLElBQXRCO0FBQ0EsY0FBSTtBQUNGLG1CQUFPbHVDLEdBQUdoTCxDQUFILENBQVA7QUFDRCxXQUZELFNBRVU7QUFDUms1QyxrQ0FBc0IsS0FBdEI7QUFDRDtBQUNGO0FBQ0QsZUFBT2x1QyxHQUFHaEwsQ0FBSCxDQUFQO0FBQ0Q7O0FBSUQsZUFBU2c3QyxTQUFULENBQW1CaHdDLEVBQW5CLEVBQXVCaEwsQ0FBdkIsRUFBMEI7QUFDeEJsQixrQkFDRSxDQUFDNDVDLFdBREgsRUFFRSx1RUFDRSx5Q0FISjtBQUtBLFlBQUlvQyw0QkFBNEI3QixpQkFBaEM7QUFDQUEsNEJBQW9CLElBQXBCO0FBQ0EsWUFBSTtBQUNGLGlCQUFPWixZQUFZcnRDLEVBQVosRUFBZ0JoTCxDQUFoQixDQUFQO0FBQ0QsU0FGRCxTQUVVO0FBQ1JpNUMsOEJBQW9CNkIseUJBQXBCO0FBQ0FuQjtBQUNEO0FBQ0Y7O0FBRUQsZUFBU3RnQyxrQkFBVCxDQUE0QnJPLEVBQTVCLEVBQWdDaEwsQ0FBaEMsRUFBbUNDLENBQW5DLEVBQXNDO0FBQ3BDLFlBQUkwM0MsNEJBQUosRUFBa0M7QUFDaEMsaUJBQU8zc0MsR0FBR2hMLENBQUgsRUFBTUMsQ0FBTixDQUFQO0FBQ0Q7O0FBS0QsWUFDRSxDQUFDZzVDLGlCQUFELElBQ0EsQ0FBQ1AsV0FERCxJQUVBYiwyQ0FBMkNyb0IsTUFIN0MsRUFJRTtBQUVBMHFCLHNCQUFZckMsc0NBQVosRUFBb0QsS0FBcEQsRUFBMkQsSUFBM0Q7QUFDQUEsbURBQXlDcm9CLE1BQXpDO0FBQ0Q7QUFDRCxZQUFJeXJCLHVDQUF1Q3RELDRCQUEzQztBQUNBLFlBQUltRCw0QkFBNEI3QixpQkFBaEM7QUFDQXRCLHVDQUErQixJQUEvQjtBQUNBc0IsNEJBQW9CLElBQXBCO0FBQ0EsWUFBSTtBQUNGLGlCQUFPanVDLEdBQUdoTCxDQUFILEVBQU1DLENBQU4sQ0FBUDtBQUNELFNBRkQsU0FFVTtBQUNSMDNDLHlDQUErQnNELG9DQUEvQjtBQUNBaEMsOEJBQW9CNkIseUJBQXBCO0FBQ0EsY0FBSSxDQUFDN0IsaUJBQUQsSUFBc0IsQ0FBQ1AsV0FBM0IsRUFBd0M7QUFDdENpQjtBQUNEO0FBQ0Y7QUFDRjs7QUFFRCxlQUFTcmdDLHVCQUFULEdBQW1DO0FBQ2pDLFlBQUksQ0FBQ28vQixXQUFELElBQWdCYiwyQ0FBMkNyb0IsTUFBL0QsRUFBdUU7QUFFckUwcUIsc0JBQVlyQyxzQ0FBWixFQUFvRCxLQUFwRCxFQUEyRCxJQUEzRDtBQUNBQSxtREFBeUNyb0IsTUFBekM7QUFDRDtBQUNGOztBQUVELGVBQVMwckIsZUFBVCxDQUF5Qmx3QyxFQUF6QixFQUE2QjtBQUMzQixZQUFJOHZDLDRCQUE0QjdCLGlCQUFoQztBQUNBQSw0QkFBb0IsSUFBcEI7QUFDQSxZQUFJO0FBQ0ZaLHNCQUFZcnRDLEVBQVo7QUFDRCxTQUZELFNBRVU7QUFDUml1Qyw4QkFBb0I2Qix5QkFBcEI7QUFDQSxjQUFJLENBQUM3QixpQkFBRCxJQUFzQixDQUFDUCxXQUEzQixFQUF3QztBQUN0Q3dCLHdCQUFZenFCLElBQVosRUFBa0IsS0FBbEIsRUFBeUIsSUFBekI7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsYUFBTztBQUNMeWQsZ0NBQXdCQSxzQkFEbkI7QUFFTHRTLG1DQUEyQkEseUJBRnRCO0FBR0xELHNCQUFjQSxZQUhUO0FBSUxxZCxxQkFBYUEsV0FKUjtBQUtMcUMsbUJBQVdBLFNBTE47QUFNTHJoQyx3QkFBZ0JBLGNBTlg7QUFPTCtoQywwQkFBa0JBLGdCQVBiO0FBUUxDLG1CQUFXQSxTQVJOO0FBU0xFLHlCQUFpQkEsZUFUWjtBQVVML0MseUJBQWlCQSxlQVZaO0FBV0xFLHFCQUFhQSxXQVhSO0FBWUxoL0IsNEJBQW9CQSxrQkFaZjtBQWFMQyxpQ0FBeUJBLHVCQWJwQjtBQWNMbytCLHNDQUE4QkE7QUFkekIsT0FBUDtBQWdCRCxLQTk4Q0Q7O0FBZzlDQSxRQUFJeUQsNEJBQTRCLEtBQUssQ0FBckM7O0FBRUE7QUFDRUEsa0NBQTRCLEtBQTVCO0FBQ0Q7O0FBS0QsYUFBU0Msb0JBQVQsQ0FBOEJDLGVBQTlCLEVBQStDO0FBQzdDLFVBQUksQ0FBQ0EsZUFBTCxFQUFzQjtBQUNwQixlQUFPOTdDLFdBQVA7QUFDRDs7QUFFRCxVQUFJcWlCLFFBQVEzUyxJQUFJb3NDLGVBQUosQ0FBWjtBQUNBLFVBQUl6c0IsZ0JBQWdCVSwyQkFBMkIxTixLQUEzQixDQUFwQjtBQUNBLGFBQU9nTSxrQkFBa0JoTSxLQUFsQixJQUNIK00sb0JBQW9CL00sS0FBcEIsRUFBMkJnTixhQUEzQixDQURHLEdBRUhBLGFBRko7QUFHRDs7QUFFRCxRQUFJMHNCLHlCQUF5QixTQUF6QkEsc0JBQXlCLENBQVN2VyxNQUFULEVBQWlCO0FBQzVDLFVBQUlvSSxvQkFBb0JwSSxPQUFPb0ksaUJBQS9COztBQUVBLFVBQUlvTyx1QkFBdUJsSCxvQkFBb0J0UCxNQUFwQixDQUEzQjtBQUFBLFVBQ0UyUywrQkFDRTZELHFCQUFxQjdELDRCQUZ6QjtBQUFBLFVBR0V4Syx5QkFBeUJxTyxxQkFBcUJyTyxzQkFIaEQ7QUFBQSxVQUlFdFMsNEJBQTRCMmdCLHFCQUFxQjNnQix5QkFKbkQ7QUFBQSxVQUtFRCxlQUFlNGdCLHFCQUFxQjVnQixZQUx0QztBQUFBLFVBTUVxZCxjQUFjdUQscUJBQXFCdkQsV0FOckM7QUFBQSxVQU9FcUMsWUFBWWtCLHFCQUFxQmxCLFNBUG5DO0FBQUEsVUFRRXJoQyxpQkFBaUJ1aUMscUJBQXFCdmlDLGNBUnhDO0FBQUEsVUFTRStoQyxtQkFBbUJRLHFCQUFxQlIsZ0JBVDFDO0FBQUEsVUFVRUMsWUFBWU8scUJBQXFCUCxTQVZuQztBQUFBLFVBV0VFLGtCQUFrQksscUJBQXFCTCxlQVh6QztBQUFBLFVBWUUvQyxrQkFBa0JvRCxxQkFBcUJwRCxlQVp6QztBQUFBLFVBYUVFLGNBQWNrRCxxQkFBcUJsRCxXQWJyQztBQUFBLFVBY0VoL0IscUJBQXFCa2lDLHFCQUFxQmxpQyxrQkFkNUM7QUFBQSxVQWVFQywwQkFBMEJpaUMscUJBQXFCamlDLHVCQWZqRDs7QUFpQkEsZUFBU2tpQyxrQkFBVCxDQUNFcDBDLE9BREYsRUFFRStxQixPQUZGLEVBR0U5QixXQUhGLEVBSUVMLGNBSkYsRUFLRXRQLFFBTEYsRUFNRTtBQUNBO0FBQ0UsY0FDRXVILHVCQUF1QjNjLEtBQXZCLEtBQWlDLFFBQWpDLElBQ0EyYyx1QkFBdUI3Z0IsT0FBdkIsS0FBbUMsSUFEbkMsSUFFQSxDQUFDK3pDLHlCQUhILEVBSUU7QUFDQUEsd0NBQTRCLElBQTVCO0FBQ0FwOEMsb0JBQ0UsS0FERixFQUVFLGtFQUNFLGtFQURGLEdBRUUsaUVBRkYsR0FHRSxnQ0FMSixFQU1FNGlCLGlCQUFpQnNHLHVCQUF1QjdnQixPQUF4QyxLQUFvRCxTQU50RDtBQVFEO0FBQ0Y7O0FBRURzWixtQkFBV0EsYUFBYW5hLFNBQWIsR0FBeUIsSUFBekIsR0FBZ0NtYSxRQUEzQztBQUNBO0FBQ0UzaEIsa0JBQ0UyaEIsYUFBYSxJQUFiLElBQXFCLE9BQU9BLFFBQVAsS0FBb0IsVUFEM0MsRUFFRSx5RUFDRSxpQ0FISixFQUlFQSxRQUpGO0FBTUQ7O0FBRUQsWUFBSTBYLFNBQVM7QUFDWHBJLDBCQUFnQkEsY0FETDtBQUVYK0ksd0JBQWMsRUFBRTVHLFNBQVNBLE9BQVgsRUFGSDtBQUdYelIsb0JBQVVBLFFBSEM7QUFJWDZZLHFCQUFXLEtBSkE7QUFLWEMsb0JBQVUsS0FMQztBQU1YRSx5QkFBZSxJQU5KO0FBT1hyeUIsZ0JBQU07QUFQSyxTQUFiO0FBU0FzeEIsOEJBQXNCdnhCLE9BQXRCLEVBQStCZ3hCLE1BQS9CO0FBQ0F1QyxxQkFBYXZ6QixPQUFiLEVBQXNCNG9CLGNBQXRCOztBQUVBLGVBQU9BLGNBQVA7QUFDRDs7QUFFRCxlQUFTeXJCLGdDQUFULENBQ0V0cEIsT0FERixFQUVFOFgsU0FGRixFQUdFb1IsZUFIRixFQUlFaHJCLFdBSkYsRUFLRUwsY0FMRixFQU1FdFAsUUFORixFQU9FO0FBRUEsWUFBSXRaLFVBQVU2aUMsVUFBVTdpQyxPQUF4Qjs7QUFFQTtBQUNFLGNBQUkwc0MsNEJBQTRCRCxTQUFoQyxFQUEyQztBQUN6QyxnQkFBSXpzQyxRQUFRd0QsU0FBUixLQUFzQixJQUExQixFQUFnQztBQUM5QmtwQywwQ0FBNEJELFNBQTVCLENBQXNDNkgsZ0JBQXRDLENBQXVEelIsU0FBdkQ7QUFDRCxhQUZELE1BRU8sSUFBSTlYLFlBQVksSUFBaEIsRUFBc0I7QUFDM0IyaEIsMENBQTRCRCxTQUE1QixDQUFzQzhILGtCQUF0QyxDQUF5RDFSLFNBQXpEO0FBQ0QsYUFGTSxNQUVBO0FBQ0w2SiwwQ0FBNEJELFNBQTVCLENBQXNDK0gsaUJBQXRDLENBQXdEM1IsU0FBeEQ7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsWUFBSWxxQyxVQUFVcTdDLHFCQUFxQkMsZUFBckIsQ0FBZDtBQUNBLFlBQUlwUixVQUFVbHFDLE9BQVYsS0FBc0IsSUFBMUIsRUFBZ0M7QUFDOUJrcUMsb0JBQVVscUMsT0FBVixHQUFvQkEsT0FBcEI7QUFDRCxTQUZELE1BRU87QUFDTGtxQyxvQkFBVTVXLGNBQVYsR0FBMkJ0ekIsT0FBM0I7QUFDRDs7QUFFRCxlQUFPeTdDLG1CQUNMcDBDLE9BREssRUFFTCtxQixPQUZLLEVBR0w5QixXQUhLLEVBSUxMLGNBSkssRUFLTHRQLFFBTEssQ0FBUDtBQU9EOztBQUVELGVBQVNtQixnQkFBVCxDQUEwQkQsS0FBMUIsRUFBaUM7QUFDL0IsWUFBSWk2QixZQUFZbjFCLHFCQUFxQjlFLEtBQXJCLENBQWhCO0FBQ0EsWUFBSWk2QixjQUFjLElBQWxCLEVBQXdCO0FBQ3RCLGlCQUFPLElBQVA7QUFDRDtBQUNELGVBQU9BLFVBQVVsekMsU0FBakI7QUFDRDs7QUFFRCxhQUFPO0FBQ0xtekMseUJBQWlCLHlCQUFTdi9CLGFBQVQsRUFBd0IwVixPQUF4QixFQUFpQ2UsT0FBakMsRUFBMEM7QUFDekQsaUJBQU9ELGdCQUFnQnhXLGFBQWhCLEVBQStCMFYsT0FBL0IsRUFBd0NlLE9BQXhDLENBQVA7QUFDRCxTQUhJO0FBSUwrb0IseUJBQWlCLHlCQUFTNXBCLE9BQVQsRUFBa0I4WCxTQUFsQixFQUE2Qm9SLGVBQTdCLEVBQThDMzZCLFFBQTlDLEVBQXdEO0FBQ3ZFLGNBQUl0WixVQUFVNmlDLFVBQVU3aUMsT0FBeEI7QUFDQSxjQUFJaXBCLGNBQWM2Yyx3QkFBbEI7QUFDQSxjQUFJbGQsaUJBQWlCNEssMEJBQTBCeHpCLE9BQTFCLENBQXJCO0FBQ0EsaUJBQU9xMEMsaUNBQ0x0cEIsT0FESyxFQUVMOFgsU0FGSyxFQUdMb1IsZUFISyxFQUlMaHJCLFdBSkssRUFLTEwsY0FMSyxFQU1MdFAsUUFOSyxDQUFQO0FBUUQsU0FoQkk7QUFpQkwrNkIseUNBQWlDLHlDQUMvQnRwQixPQUQrQixFQUUvQjhYLFNBRitCLEVBRy9Cb1IsZUFIK0IsRUFJL0JyckIsY0FKK0IsRUFLL0J0UCxRQUwrQixFQU0vQjtBQUNBLGNBQUkyUCxjQUFjNmMsd0JBQWxCO0FBQ0EsaUJBQU91TyxpQ0FDTHRwQixPQURLLEVBRUw4WCxTQUZLLEVBR0xvUixlQUhLLEVBSUxockIsV0FKSyxFQUtMTCxjQUxLLEVBTUx0UCxRQU5LLENBQVA7QUFRRCxTQWpDSTs7QUFtQ0wyNUIsbUJBQVdBLFNBbkNOOztBQXFDTHJDLHFCQUFhQSxXQXJDUjs7QUF1Q0xOLHNDQUE4QkEsNEJBdkN6Qjs7QUF5Q0wxK0Isd0JBQWdCQSxjQXpDWDs7QUEyQ0wraEMsMEJBQWtCQSxnQkEzQ2I7O0FBNkNMNUMseUJBQWlCQSxlQTdDWjs7QUErQ0xFLHFCQUFhQSxXQS9DUjs7QUFpRExoL0IsNEJBQW9CQSxrQkFqRGY7O0FBbURMQyxpQ0FBeUJBLHVCQW5EcEI7O0FBcURMNGhDLHlCQUFpQkEsZUFyRFo7O0FBdURMRixtQkFBV0EsU0F2RE47O0FBeURMZ0IsK0JBQXVCLCtCQUFTL1IsU0FBVCxFQUFvQjtBQUN6QyxjQUFJZ1MsaUJBQWlCaFMsVUFBVTdpQyxPQUEvQjtBQUNBLGNBQUksQ0FBQzYwQyxlQUFlMzFCLEtBQXBCLEVBQTJCO0FBQ3pCLG1CQUFPLElBQVA7QUFDRDtBQUNELGtCQUFRMjFCLGVBQWUzMUIsS0FBZixDQUFxQmplLEdBQTdCO0FBQ0UsaUJBQUtxQixhQUFMO0FBQ0UscUJBQU95akMsa0JBQWtCOE8sZUFBZTMxQixLQUFmLENBQXFCM2QsU0FBdkMsQ0FBUDtBQUNGO0FBQ0UscUJBQU9zekMsZUFBZTMxQixLQUFmLENBQXFCM2QsU0FBNUI7QUFKSjtBQU1ELFNBcEVJOztBQXNFTGtaLDBCQUFrQkEsZ0JBdEViOztBQXdFTHE2Qix1Q0FBK0IsdUNBQVN0NkIsS0FBVCxFQUFnQjtBQUM3QyxjQUFJaTZCLFlBQVloMUIsa0NBQWtDakYsS0FBbEMsQ0FBaEI7QUFDQSxjQUFJaTZCLGNBQWMsSUFBbEIsRUFBd0I7QUFDdEIsbUJBQU8sSUFBUDtBQUNEO0FBQ0QsaUJBQU9BLFVBQVVsekMsU0FBakI7QUFDRCxTQTlFSTtBQStFTHd6Qyw0QkFBb0IsNEJBQVNDLGNBQVQsRUFBeUI7QUFDM0MsY0FBSUMsMkJBQTBCRCxlQUFlQyx1QkFBN0M7O0FBRUEsaUJBQU94b0IsZ0JBQ0wsU0FBYyxFQUFkLEVBQWtCdW9CLGNBQWxCLEVBQWtDO0FBQ2hDRSxxQ0FBeUIsaUNBQVMxNkIsS0FBVCxFQUFnQjtBQUN2QyxxQkFBT0MsaUJBQWlCRCxLQUFqQixDQUFQO0FBQ0QsYUFIK0I7QUFJaEN5NkIscUNBQXlCLGlDQUFTMXNDLFFBQVQsRUFBbUI7QUFDMUMsa0JBQUksQ0FBQzBzQyx3QkFBTCxFQUE4QjtBQUU1Qix1QkFBTyxJQUFQO0FBQ0Q7QUFDRCxxQkFBT0EseUJBQXdCMXNDLFFBQXhCLENBQVA7QUFDRDtBQVYrQixXQUFsQyxDQURLLENBQVA7QUFjRDtBQWhHSSxPQUFQO0FBa0dELEtBdk5EOztBQXlOQSxRQUFJNHNDLHlCQUF5QjN1QyxPQUFPNkosTUFBUCxDQUFjO0FBQ3pDK2tDLGVBQVNsQjtBQURnQyxLQUFkLENBQTdCOztBQUlBLFFBQUltQix5QkFDREYsMEJBQTBCakIsc0JBQTNCLElBQXNEaUIsc0JBRHhEOztBQU9BLFFBQUlHLGtCQUFrQkQsdUJBQXVCLFNBQXZCLElBQ2xCQSx1QkFBdUIsU0FBdkIsQ0FEa0IsR0FFbEJBLHNCQUZKOztBQUlBLFFBQUlFLHNCQUFzQixJQUFJNXJCLEdBQUosRUFBMUI7QUFDQSxRQUFJNnJCLGNBQWMsSUFBSTdyQixHQUFKLEVBQWxCOztBQVFBLGFBQVM1VixRQUFULENBQWtCdGIsSUFBbEIsRUFBd0I2Z0IsUUFBeEIsRUFBa0M7QUFDaEM1aEIsZ0JBQ0UsQ0FBQzY5QyxvQkFBb0JyeEIsR0FBcEIsQ0FBd0J6ckIsSUFBeEIsQ0FESCxFQUVFLG1EQUZGLEVBR0VBLElBSEY7QUFLQTg4QywwQkFBb0JodUMsR0FBcEIsQ0FBd0I5TyxJQUF4QixFQUE4QjZnQixRQUE5QjtBQUNBLGFBQU83Z0IsSUFBUDtBQUNEOztBQU9ELGFBQVNnOUMsS0FBVCxDQUFlaDlDLElBQWYsRUFBcUI7QUFDbkIsVUFBSTJXLGFBQWEsS0FBSyxDQUF0QjtBQUNBLFVBQUksQ0FBQ29tQyxZQUFZdHhCLEdBQVosQ0FBZ0J6ckIsSUFBaEIsQ0FBTCxFQUE0QjtBQUMxQixZQUFJNmdCLFdBQVdpOEIsb0JBQW9CMXRDLEdBQXBCLENBQXdCcFAsSUFBeEIsQ0FBZjtBQUNBZixrQkFDRSxPQUFPNGhCLFFBQVAsS0FBb0IsVUFEdEIsRUFFRSxtQ0FGRixFQUdFN2dCLElBSEY7QUFLQTg4Qyw0QkFBb0JodUMsR0FBcEIsQ0FBd0I5TyxJQUF4QixFQUE4QixJQUE5QjtBQUNBMlcscUJBQWFrSyxVQUFiO0FBQ0FrOEIsb0JBQVlqdUMsR0FBWixDQUFnQjlPLElBQWhCLEVBQXNCMlcsVUFBdEI7QUFDRCxPQVZELE1BVU87QUFDTEEscUJBQWFvbUMsWUFBWTN0QyxHQUFaLENBQWdCcFAsSUFBaEIsQ0FBYjtBQUNEO0FBQ0RmLGdCQUFVMFgsVUFBVixFQUFzQixtQ0FBdEIsRUFBMkQzVyxJQUEzRDtBQUNBLGFBQU8yVyxVQUFQO0FBQ0Q7O0FBRUQsYUFBU3NtQyxpQkFBVCxDQUEyQm50QyxRQUEzQixFQUFxQ21PLFdBQXJDLEVBQWtEO0FBQ2hELFVBQUksRUFBRW5PLG9CQUFvQm1PLFdBQXRCLENBQUosRUFBd0M7QUFDdEMsY0FBTSxJQUFJQyxTQUFKLENBQWMsbUNBQWQsQ0FBTjtBQUNEO0FBQ0Y7O0FBV0QsUUFBSWcvQixnQ0FBaUMsWUFBVztBQUM5QyxlQUFTQSw2QkFBVCxDQUF1QzEwQyxHQUF2QyxFQUE0Q21PLFVBQTVDLEVBQXdEO0FBQ3REc21DLDBCQUFrQixJQUFsQixFQUF3QkMsNkJBQXhCOztBQUVBLGFBQUszbEMsVUFBTCxHQUFrQi9PLEdBQWxCO0FBQ0EsYUFBSzIwQyxTQUFMLEdBQWlCLEVBQWpCO0FBQ0EsYUFBS3htQyxVQUFMLEdBQWtCQSxVQUFsQjtBQUNEOztBQUVEdW1DLG9DQUE4QnI4QyxTQUE5QixDQUF3QzJpQixJQUF4QyxHQUErQyxTQUFTQSxJQUFULEdBQWdCO0FBQzdEbGtCLHVCQUFlbWtCLGFBQWYsQ0FBNkIsS0FBS2xNLFVBQWxDO0FBQ0QsT0FGRDs7QUFJQTJsQyxvQ0FBOEJyOEMsU0FBOUIsQ0FBd0N5aUIsS0FBeEMsR0FBZ0QsU0FBU0EsS0FBVCxHQUFpQjtBQUMvRGhrQix1QkFBZWlrQixjQUFmLENBQThCLEtBQUtoTSxVQUFuQztBQUNELE9BRkQ7O0FBSUEybEMsb0NBQThCcjhDLFNBQTlCLENBQXdDOGhCLE9BQXhDLEdBQWtELFNBQVNBLE9BQVQsQ0FBaUI5QixRQUFqQixFQUEyQjtBQUMzRXpoQixrQkFBVXVqQixPQUFWLENBQWtCLEtBQUtwTCxVQUF2QixFQUFtQ3FKLGtCQUFrQixJQUFsQixFQUF3QkMsUUFBeEIsQ0FBbkM7QUFDRCxPQUZEOztBQUlBcThCLG9DQUE4QnI4QyxTQUE5QixDQUF3QytoQixlQUF4QyxHQUEwRCxTQUFTQSxlQUFULENBQ3hEL0IsUUFEd0QsRUFFeEQ7QUFDQXpoQixrQkFBVXdqQixlQUFWLENBQ0UsS0FBS3JMLFVBRFAsRUFFRXFKLGtCQUFrQixJQUFsQixFQUF3QkMsUUFBeEIsQ0FGRjtBQUlELE9BUEQ7O0FBU0FxOEIsb0NBQThCcjhDLFNBQTlCLENBQXdDZ2lCLGFBQXhDLEdBQXdELFNBQVNBLGFBQVQsQ0FDdERDLG9CQURzRCxFQUV0REMsU0FGc0QsRUFHdERDLE1BSHNELEVBSXREO0FBQ0E1akIsa0JBQVV5akIsYUFBVixDQUNFLEtBQUt0TCxVQURQLEVBRUV1TCxvQkFGRixFQUdFbEMsa0JBQWtCLElBQWxCLEVBQXdCb0MsTUFBeEIsQ0FIRixFQUlFcEMsa0JBQWtCLElBQWxCLEVBQXdCbUMsU0FBeEIsQ0FKRjtBQU1ELE9BWEQ7O0FBYUFtNkIsb0NBQThCcjhDLFNBQTlCLENBQXdDb2lCLGNBQXhDLEdBQXlELFNBQVNBLGNBQVQsQ0FDdkRDLFdBRHVELEVBRXZEO0FBQ0E7QUFDRTNCLDRCQUFrQjJCLFdBQWxCLEVBQStCLEtBQUt2TSxVQUFMLENBQWdCMEksZUFBL0M7QUFDRDs7QUFFRCxZQUFJRixnQkFBZ0J2USxPQUFPc1UsV0FBUCxFQUFvQixLQUFLdk0sVUFBTCxDQUFnQjBJLGVBQXBDLENBQXBCOztBQUtBLFlBQUlGLGlCQUFpQixJQUFyQixFQUEyQjtBQUN6Qi9mLG9CQUFVZ2tCLFVBQVYsQ0FDRSxLQUFLN0wsVUFEUCxFQUVFLEtBQUtaLFVBQUwsQ0FBZ0IwTSxlQUZsQixFQUdFbEUsYUFIRjtBQUtEO0FBQ0YsT0FuQkQ7O0FBcUJBLGFBQU8rOUIsNkJBQVA7QUFDRCxLQWpFbUMsRUFBcEM7O0FBbUVBLFFBQUlFLDBCQUNGLE9BQU83ekIsV0FBUCxLQUF1QixRQUF2QixJQUFtQyxPQUFPQSxZQUFZeGMsR0FBbkIsS0FBMkIsVUFEaEU7O0FBR0EsUUFBSUEsTUFBTXF3QywwQkFDTixZQUFXO0FBQ1QsYUFBTzd6QixZQUFZeGMsR0FBWixFQUFQO0FBQ0QsS0FISyxHQUlOLFlBQVc7QUFDVCxhQUFPRCxLQUFLQyxHQUFMLEVBQVA7QUFDRCxLQU5MOztBQVFBLFFBQUlzd0Msb0JBQW9CLElBQXhCO0FBQ0EsUUFBSUMsZ0JBQWdCLENBQXBCOztBQUVBLFFBQUlDLHNCQUFzQjtBQUN4QnZDLHFCQUFlLHlCQUFXO0FBQ3hCLGVBQU9zQyxnQkFBZ0J2d0MsS0FBdkI7QUFDRDtBQUh1QixLQUExQjs7QUFNQSxhQUFTeXdDLGtCQUFULEdBQThCO0FBSzVCRixzQkFBZ0J2d0MsUUFBUSxDQUF4Qjs7QUFFQSxVQUFJOFQsV0FBV3c4QixpQkFBZjtBQUNBQSwwQkFBb0IsSUFBcEI7QUFDQSxVQUFJeDhCLGFBQWEsSUFBakIsRUFBdUI7QUFDckJBLGlCQUFTMDhCLG1CQUFUO0FBQ0Q7QUFDRjs7QUFLRCxhQUFTekksd0JBQVQsQ0FBa0NqMEIsUUFBbEMsRUFBNEM7QUFFMUN3OEIsMEJBQW9CeDhCLFFBQXBCO0FBQ0EsYUFBTzQ4QixXQUFXRCxrQkFBWCxFQUErQixDQUEvQixDQUFQO0FBQ0Q7O0FBRUQsYUFBU3pJLHNCQUFULENBQWdDNkQsVUFBaEMsRUFBNEM7QUFDMUN5RSwwQkFBb0IsSUFBcEI7QUFDQUssbUJBQWE5RSxVQUFiO0FBQ0Q7O0FBR0QsYUFBUytFLDJCQUFULENBQXFDditCLElBQXJDLEVBQTJDO0FBQ3pDLFVBQUksT0FBT0EsSUFBUCxLQUFnQixRQUFwQixFQUE4QjtBQUU1QmhJLHlCQUFpQmdJLElBQWpCO0FBQ0QsT0FIRCxNQUdPO0FBQ0xoSSx5QkFBaUJnSSxLQUFLN0gsVUFBdEI7O0FBRUE2SCxhQUFLKzlCLFNBQUwsQ0FBZXAxQyxPQUFmLENBQXVCNDFDLDJCQUF2QjtBQUNEO0FBQ0Y7O0FBRUQsUUFBSUMsaUJBQWlCZixnQkFBZ0I7QUFDbkN6VSwwQkFBb0IsNEJBQVM4SyxjQUFULEVBQXlCenNCLEtBQXpCLEVBQWdDO0FBQ2xEeXNCLHVCQUFlaUssU0FBZixDQUF5QjExQyxJQUF6QixDQUE4QmdmLEtBQTlCO0FBQ0QsT0FIa0M7QUFJbkN5aEIsc0JBQWdCLHdCQUNkMWhDLElBRGMsRUFFZGtDLEtBRmMsRUFHZDhnQyxxQkFIYyxFQUlkckUsV0FKYyxFQUtkMFksc0JBTGMsRUFNZDtBQUNBLFlBQUlyMUMsTUFBTW1SLHNCQUFzQkcsV0FBdEIsRUFBVjtBQUNBLFlBQUluRCxhQUFhcW1DLE1BQU14MkMsSUFBTixDQUFqQjs7QUFFQTtBQUNFLGVBQUssSUFBSW9XLEdBQVQsSUFBZ0JqRyxXQUFXMEksZUFBM0IsRUFBNEM7QUFDMUMsZ0JBQUkzVyxNQUFNM0UsY0FBTixDQUFxQjZZLEdBQXJCLENBQUosRUFBK0I7QUFDN0I5YyxnREFBa0M0SSxNQUFNa1UsR0FBTixDQUFsQztBQUNEO0FBQ0Y7QUFDRjs7QUFFRCxZQUFJdUMsZ0JBQWdCdlEsT0FBT2xHLEtBQVAsRUFBY2lPLFdBQVcwSSxlQUF6QixDQUFwQjs7QUFFQWpnQixrQkFBVTArQyxVQUFWLENBQ0V0MUMsR0FERixFQUVFbU8sV0FBVzBNLGVBRmIsRUFHRW1tQixxQkFIRixFQUlFcnFCLGFBSkY7O0FBT0EsWUFBSThCLFlBQVksSUFBSWk4Qiw2QkFBSixDQUFrQzEwQyxHQUFsQyxFQUF1Q21PLFVBQXZDLENBQWhCOztBQUVBTywwQkFBa0IybUMsc0JBQWxCLEVBQTBDcjFDLEdBQTFDO0FBQ0FrUCx5QkFBaUJsUCxHQUFqQixFQUFzQkUsS0FBdEI7O0FBSUEsZUFBT3VZLFNBQVA7QUFDRCxPQXZDa0M7QUF3Q25Da25CLDBCQUFvQiw0QkFDbEJtTCxJQURrQixFQUVsQjlKLHFCQUZrQixFQUdsQnJFLFdBSGtCLEVBSWxCMFksc0JBSmtCLEVBS2xCO0FBQ0EsWUFBSXIxQyxNQUFNbVIsc0JBQXNCRyxXQUF0QixFQUFWOztBQUVBMWEsa0JBQVUwK0MsVUFBVixDQUNFdDFDLEdBREYsRUFFRSxZQUZGLEVBR0VnaEMscUJBSEYsRUFJRSxFQUFFOEosTUFBTUEsSUFBUixFQUpGOztBQU9BcDhCLDBCQUFrQjJtQyxzQkFBbEIsRUFBMENyMUMsR0FBMUM7O0FBRUEsZUFBT0EsR0FBUDtBQUNELE9BMURrQztBQTJEbkM2L0IsK0JBQXlCLGlDQUN2QjZLLGNBRHVCLEVBRXZCMXNDLElBRnVCLEVBR3ZCa0MsS0FIdUIsRUFJdkI4Z0MscUJBSnVCLEVBS3ZCO0FBRUEsWUFBSTBKLGVBQWVpSyxTQUFmLENBQXlCbDNDLE1BQXpCLEtBQW9DLENBQXhDLEVBQTJDO0FBQ3pDLGlCQUFPLEtBQVA7QUFDRDs7QUFJRCxZQUFJODNDLGFBQWE3SyxlQUFlaUssU0FBZixDQUF5QmEsR0FBekIsQ0FBNkIsVUFBU3YzQixLQUFULEVBQWdCO0FBQzVELGlCQUFPLE9BQU9BLEtBQVAsS0FBaUIsUUFBakIsR0FDSEEsS0FERyxHQUVIQSxNQUFNbFAsVUFGVjtBQUdELFNBSmdCLENBQWpCOztBQU1Bblksa0JBQVU2K0MsV0FBVixDQUNFL0ssZUFBZTM3QixVQURqQixFQUVFd21DLFVBRkY7O0FBS0EsZUFBTyxLQUFQO0FBQ0QsT0FwRmtDO0FBcUZuQ3pNLDBCQUFvQiw4QkFBVztBQUM3QixlQUFPNXhDLFdBQVA7QUFDRCxPQXZGa0M7QUF3Rm5DMnhDLDJCQUFxQiwrQkFBVztBQUM5QixlQUFPM3hDLFdBQVA7QUFDRCxPQTFGa0M7QUEyRm5DNHRDLHlCQUFtQiwyQkFBU3g5QixRQUFULEVBQW1CO0FBQ3BDLGVBQU9BLFFBQVA7QUFDRCxPQTdGa0M7O0FBK0ZuQy9DLFdBQUtBLEdBL0Y4Qjs7QUFpR25DaW9DLHdCQUFrQiw0QkFBVyxDQUU1QixDQW5Ha0M7QUFvR25DMU0scUJBQWUsdUJBQ2J4NEIsUUFEYSxFQUVidEosSUFGYSxFQUdiKzBCLFFBSGEsRUFJYnhYLFFBSmEsRUFLYnlsQixxQkFMYSxFQU1ickUsV0FOYSxFQU9iO0FBQ0EsZUFBT3psQyxXQUFQO0FBQ0QsT0E3R2tDO0FBOEduQ3UxQyx3QkFBa0IsNEJBQVcsQ0FFNUIsQ0FoSGtDOztBQWtIbkNILGdDQUEwQkEsd0JBbEhTO0FBbUhuQ0MsOEJBQXdCQSxzQkFuSFc7O0FBcUhuQ3pQLGlDQUEyQixtQ0FBUzkrQixJQUFULEVBQWVrQyxLQUFmLEVBQXNCO0FBQy9DLGVBQU8sS0FBUDtBQUNELE9BdkhrQztBQXdIbkMyOEIsNEJBQXNCLDhCQUFTNytCLElBQVQsRUFBZWtDLEtBQWYsRUFBc0I7QUFPMUMsZUFBTyxLQUFQO0FBQ0QsT0FoSWtDOztBQWtJbkM2L0IsZ0JBQVU7QUFDUjBILHFCQUFhLHFCQUFTaUQsY0FBVCxFQUF5QnpzQixLQUF6QixFQUFnQztBQUMzQyxjQUFJeTNCLFdBQVcsT0FBT3ozQixLQUFQLEtBQWlCLFFBQWpCLEdBQTRCQSxLQUE1QixHQUFvQ0EsTUFBTWxQLFVBQXpEO0FBQ0EsY0FBSWtGLFdBQVd5MkIsZUFBZWlLLFNBQTlCO0FBQ0EsY0FBSTNpQyxRQUFRaUMsU0FBU25aLE9BQVQsQ0FBaUJtakIsS0FBakIsQ0FBWjs7QUFFQSxjQUFJak0sU0FBUyxDQUFiLEVBQWdCO0FBQ2RpQyxxQkFBUzBoQyxNQUFULENBQWdCM2pDLEtBQWhCLEVBQXVCLENBQXZCO0FBQ0FpQyxxQkFBU2hWLElBQVQsQ0FBY2dmLEtBQWQ7O0FBRUFybkIsc0JBQVVnL0MsY0FBVixDQUNFbEwsZUFBZTM3QixVQURqQixFQUVFLENBQUNpRCxLQUFELENBRkYsRUFHRSxDQUFDaUMsU0FBU3hXLE1BQVQsR0FBa0IsQ0FBbkIsQ0FIRixFQUlFLEVBSkYsRUFLRSxFQUxGLEVBTUUsRUFORjtBQVFELFdBWkQsTUFZTztBQUNMd1cscUJBQVNoVixJQUFULENBQWNnZixLQUFkOztBQUVBcm5CLHNCQUFVZy9DLGNBQVYsQ0FDRWxMLGVBQWUzN0IsVUFEakIsRUFFRSxFQUZGLEVBR0UsRUFIRixFQUlFLENBQUMybUMsUUFBRCxDQUpGLEVBS0UsQ0FBQ3poQyxTQUFTeFcsTUFBVCxHQUFrQixDQUFuQixDQUxGLEVBTUUsRUFORjtBQVFEO0FBQ0YsU0E5Qk87QUErQlJpcUMsZ0NBQXdCLGdDQUFTZ0QsY0FBVCxFQUF5QnpzQixLQUF6QixFQUFnQztBQUN0RCxjQUFJeTNCLFdBQVcsT0FBT3ozQixLQUFQLEtBQWlCLFFBQWpCLEdBQTRCQSxLQUE1QixHQUFvQ0EsTUFBTWxQLFVBQXpEO0FBQ0FuWSxvQkFBVTYrQyxXQUFWLENBQ0UvSyxjQURGLEVBRUUsQ0FBQ2dMLFFBQUQsQ0FGRjtBQUlELFNBckNPO0FBc0NSbE8sMEJBQWtCLDBCQUFTa0IsWUFBVCxFQUF1QnhILE9BQXZCLEVBQWdDQyxPQUFoQyxFQUF5QztBQUN6RHZxQyxvQkFBVWdrQixVQUFWLENBQ0U4dEIsWUFERixFQUVFLFlBRkYsRUFHRSxFQUFFb0MsTUFBTTNKLE9BQVIsRUFIRjtBQUtELFNBNUNPO0FBNkNSc0UscUJBQWEscUJBQVNuK0IsUUFBVCxFQUFtQnRKLElBQW5CLEVBQXlCdWQsUUFBekIsRUFBbUM4NUIsc0JBQW5DLEVBQTJELENBRXZFLENBL0NPO0FBZ0RSL04sc0JBQWMsc0JBQ1poZ0MsUUFEWSxFQUVadXVDLGlCQUZZLEVBR1o3M0MsSUFIWSxFQUlaKzBCLFFBSlksRUFLWnhYLFFBTFksRUFNWjg1QixzQkFOWSxFQU9aO0FBQ0EsY0FBSWxuQyxhQUFhN0csU0FBUzZHLFVBQTFCOztBQUVBZSwyQkFBaUI1SCxTQUFTeUgsVUFBMUIsRUFBc0N3TSxRQUF0Qzs7QUFFQSxjQUFJNUUsZ0JBQWdCTyxLQUFLNmIsUUFBTCxFQUFleFgsUUFBZixFQUF5QnBOLFdBQVcwSSxlQUFwQyxDQUFwQjs7QUFLQSxjQUFJRixpQkFBaUIsSUFBckIsRUFBMkI7QUFDekIvZixzQkFBVWdrQixVQUFWLENBQ0V0VCxTQUFTeUgsVUFEWCxFQUVFWixXQUFXME0sZUFGYixFQUdFbEUsYUFIRjtBQUtEO0FBQ0YsU0F4RU87QUF5RVJneEIsc0JBQWMsc0JBQVMrQyxjQUFULEVBQXlCenNCLEtBQXpCLEVBQWdDNjNCLFdBQWhDLEVBQTZDO0FBQ3pELGNBQUk3aEMsV0FBV3kyQixlQUFlaUssU0FBOUI7QUFDQSxjQUFJM2lDLFFBQVFpQyxTQUFTblosT0FBVCxDQUFpQm1qQixLQUFqQixDQUFaOztBQUdBLGNBQUlqTSxTQUFTLENBQWIsRUFBZ0I7QUFDZGlDLHFCQUFTMGhDLE1BQVQsQ0FBZ0IzakMsS0FBaEIsRUFBdUIsQ0FBdkI7QUFDQSxnQkFBSStqQyxtQkFBbUI5aEMsU0FBU25aLE9BQVQsQ0FBaUJnN0MsV0FBakIsQ0FBdkI7QUFDQTdoQyxxQkFBUzBoQyxNQUFULENBQWdCSSxnQkFBaEIsRUFBa0MsQ0FBbEMsRUFBcUM5M0IsS0FBckM7O0FBRUFybkIsc0JBQVVnL0MsY0FBVixDQUNFbEwsZUFBZTM3QixVQURqQixFQUVFLENBQUNpRCxLQUFELENBRkYsRUFHRSxDQUFDK2pDLGdCQUFELENBSEYsRUFJRSxFQUpGLEVBS0UsRUFMRixFQU1FLEVBTkY7QUFRRCxXQWJELE1BYU87QUFDTCxnQkFBSUMsb0JBQW9CL2hDLFNBQVNuWixPQUFULENBQWlCZzdDLFdBQWpCLENBQXhCO0FBQ0E3aEMscUJBQVMwaEMsTUFBVCxDQUFnQkssaUJBQWhCLEVBQW1DLENBQW5DLEVBQXNDLzNCLEtBQXRDOztBQUVBLGdCQUFJeTNCLFdBQVcsT0FBT3ozQixLQUFQLEtBQWlCLFFBQWpCLEdBQTRCQSxLQUE1QixHQUFvQ0EsTUFBTWxQLFVBQXpEOztBQUVBblksc0JBQVVnL0MsY0FBVixDQUNFbEwsZUFBZTM3QixVQURqQixFQUVFLEVBRkYsRUFHRSxFQUhGLEVBSUUsQ0FBQzJtQyxRQUFELENBSkYsRUFLRSxDQUFDTSxpQkFBRCxDQUxGLEVBTUUsRUFORjtBQVFEO0FBQ0YsU0ExR087QUEyR1JwTyxpQ0FBeUIsaUNBQVM4QyxjQUFULEVBQXlCenNCLEtBQXpCLEVBQWdDNjNCLFdBQWhDLEVBQTZDO0FBS3BFci9DLG9CQUNFLE9BQU9pMEMsY0FBUCxLQUEwQixRQUQ1QixFQUVFLG1EQUZGO0FBSUQsU0FwSE87QUFxSFI3QyxxQkFBYSxxQkFBUzZDLGNBQVQsRUFBeUJ6c0IsS0FBekIsRUFBZ0M7QUFDM0NrM0Isc0NBQTRCbDNCLEtBQTVCO0FBQ0EsY0FBSWhLLFdBQVd5MkIsZUFBZWlLLFNBQTlCO0FBQ0EsY0FBSTNpQyxRQUFRaUMsU0FBU25aLE9BQVQsQ0FBaUJtakIsS0FBakIsQ0FBWjs7QUFFQWhLLG1CQUFTMGhDLE1BQVQsQ0FBZ0IzakMsS0FBaEIsRUFBdUIsQ0FBdkI7O0FBRUFwYixvQkFBVWcvQyxjQUFWLENBQ0VsTCxlQUFlMzdCLFVBRGpCLEVBRUUsRUFGRixFQUdFLEVBSEYsRUFJRSxFQUpGLEVBS0UsRUFMRixFQU1FLENBQUNpRCxLQUFELENBTkY7QUFRRCxTQXBJTztBQXFJUjgxQixrQ0FBMEIsa0NBQVM0QyxjQUFULEVBQXlCenNCLEtBQXpCLEVBQWdDO0FBQ3hEazNCLHNDQUE0QmwzQixLQUE1QjtBQUNBcm5CLG9CQUFVZy9DLGNBQVYsQ0FDRWxMLGNBREYsRUFFRSxFQUZGLEVBR0UsRUFIRixFQUlFLEVBSkYsRUFLRSxFQUxGLEVBTUUsQ0FBQyxDQUFELENBTkY7QUFRRCxTQS9JTztBQWdKUm5ELDBCQUFrQiwwQkFBU2pnQyxRQUFULEVBQW1CLENBRXBDO0FBbEpPO0FBbEl5QixLQUFoQixDQUFyQjs7QUF5UkEsUUFBSTJ1Qyw2QkFBNkIsS0FBSyxDQUF0Qzs7QUFFQTtBQUNFLFVBQUlDLHNCQUFzQixTQUF0QkEsbUJBQXNCLENBQVNDLFNBQVQsRUFBb0I3dUMsUUFBcEIsRUFBOEI7QUFDdEQsWUFBSUEsUUFBSixFQUFjO0FBQ1o2dUMsb0JBQVVDLE9BQVYsQ0FBa0I5dUMsUUFBbEI7QUFDQTR1Qyw4QkFBb0JDLFNBQXBCLEVBQStCN3VDLFNBQVNnWSxXQUF4QztBQUNEO0FBQ0YsT0FMRDs7QUFPQSxVQUFJKzJCLG9CQUFvQixTQUFwQkEsaUJBQW9CLENBQVMvdUMsUUFBVCxFQUFtQjtBQUN6QyxZQUFJNnVDLFlBQVksRUFBaEI7QUFDQUQsNEJBQW9CQyxTQUFwQixFQUErQjd1QyxRQUEvQjtBQUNBLGVBQU82dUMsU0FBUDtBQUNELE9BSkQ7O0FBTUEsVUFBSUcsc0JBQXNCLFNBQXRCQSxtQkFBc0IsQ0FBU0gsU0FBVCxFQUFvQjtBQUM1QyxhQUFLLElBQUkvM0MsSUFBSSszQyxVQUFVMTRDLE1BQVYsR0FBbUIsQ0FBaEMsRUFBbUNXLElBQUksQ0FBdkMsRUFBMENBLEdBQTFDLEVBQStDO0FBQzdDLGNBQUlrSixXQUFXNnVDLFVBQVUvM0MsQ0FBVixDQUFmOztBQUVBLGNBQUlrSixTQUFTdEgsR0FBVCxLQUFpQnFCLGFBQXJCLEVBQW9DO0FBQ2xDLG1CQUFPaUcsUUFBUDtBQUNEO0FBQ0Y7QUFDRCxlQUFPNnVDLFVBQVUsQ0FBVixDQUFQO0FBQ0QsT0FURDs7QUFXQSxVQUFJSSxlQUFlLFNBQWZBLFlBQWUsQ0FBU2g5QixLQUFULEVBQWdCO0FBQ2pDLFlBQUlpOUIsT0FBT240QixxQkFBcUI5RSxLQUFyQixDQUFYO0FBQ0EsWUFBSWk5QixJQUFKLEVBQVU7QUFDUixpQkFBT0EsS0FBS3Z0QixhQUFMLElBQXNCL3hCLFdBQTdCO0FBQ0Q7QUFDRCxlQUFPQSxXQUFQO0FBQ0QsT0FORDs7QUFRQSxVQUFJdS9DLGNBQWMsU0FBZEEsV0FBYyxDQUFTbDlCLEtBQVQsRUFBZ0JLLGNBQWhCLEVBQWdDO0FBQ2hELFlBQUk4OEIsV0FBVyxLQUFLLENBQXBCOztBQUdBLGVBQU9uOUIsS0FBUCxFQUFjO0FBQ1osY0FBSUEsTUFBTWpaLFNBQU4sS0FBb0IsSUFBcEIsSUFBNEJpWixNQUFNdlosR0FBTixLQUFjcUIsYUFBOUMsRUFBNkQ7QUFDM0RxMUMsdUJBQVc5OEIsZUFBZUwsTUFBTWpaLFNBQXJCLENBQVg7QUFDRDtBQUNELGNBQUlvMkMsUUFBSixFQUFjO0FBQ1osbUJBQU9BLFFBQVA7QUFDRDtBQUNEbjlCLGtCQUFRQSxNQUFNMEUsS0FBZDtBQUNEO0FBQ0QsZUFBTyxJQUFQO0FBQ0QsT0FkRDs7QUFnQkEsVUFBSTA0QixrQkFBa0IsU0FBbEJBLGVBQWtCLENBQVNDLGNBQVQsRUFBeUI7QUFDN0MsZUFBT0EsZUFBZXBCLEdBQWYsQ0FBbUIsVUFBU2o4QixLQUFULEVBQWdCO0FBQ3hDLGlCQUFPO0FBQ0wvaEIsa0JBQU04aEIsaUJBQWlCQyxLQUFqQixDQUREO0FBRUxzOUIsOEJBQWtCLDBCQUFTajlCLGNBQVQsRUFBeUI7QUFDekMscUJBQU87QUFDTE8seUJBQVMsaUJBQVM5QixRQUFULEVBQW1CO0FBQzFCLHlCQUFPemhCLFVBQVV1akIsT0FBVixDQUNMczhCLFlBQVlsOUIsS0FBWixFQUFtQkssY0FBbkIsQ0FESyxFQUVMdkIsUUFGSyxDQUFQO0FBSUQsaUJBTkk7QUFPTG5ZLHVCQUFPcTJDLGFBQWFoOUIsS0FBYixDQVBGO0FBUUx5Rix3QkFBUXpGLE1BQU1nRztBQVJULGVBQVA7QUFVRDtBQWJJLFdBQVA7QUFlRCxTQWhCTSxDQUFQO0FBaUJELE9BbEJEOztBQW9CQTAyQixtQ0FBNkIsb0NBQVNhLE9BQVQsRUFBa0I7QUFDN0MsWUFBSUMsa0JBQWtCbG9DLG1CQUFtQmlvQyxPQUFuQixDQUF0Qjs7QUFHQSxZQUFJLENBQUNDLGVBQUwsRUFBc0I7QUFDcEIsaUJBQU87QUFDTFosdUJBQVcsRUFETjtBQUVMajJDLG1CQUFPaEosV0FGRjtBQUdMOC9DLHVCQUFXLElBSE47QUFJTGg0QixvQkFBUTtBQUpILFdBQVA7QUFNRDs7QUFFRCxZQUFJekYsUUFBUXNFLDhCQUE4Qms1QixlQUE5QixDQUFaO0FBQ0EsWUFBSUgsaUJBQWlCUCxrQkFBa0I5OEIsS0FBbEIsQ0FBckI7QUFDQSxZQUFJalMsV0FBV2d2QyxvQkFBb0JNLGNBQXBCLENBQWY7QUFDQSxZQUFJVCxZQUFZUSxnQkFBZ0JDLGNBQWhCLENBQWhCO0FBQ0EsWUFBSTEyQyxRQUFRcTJDLGFBQWFqdkMsUUFBYixDQUFaO0FBQ0EsWUFBSTBYLFNBQVMxWCxTQUFTaVksWUFBdEI7QUFDQSxZQUFJeTNCLFlBQVlKLGVBQWU5N0MsT0FBZixDQUF1QndNLFFBQXZCLENBQWhCOztBQUVBLGVBQU87QUFDTDZ1QyxxQkFBV0EsU0FETjtBQUVMajJDLGlCQUFPQSxLQUZGO0FBR0w4MkMscUJBQVdBLFNBSE47QUFJTGg0QixrQkFBUUE7QUFKSCxTQUFQO0FBTUQsT0EzQkQ7QUE0QkQ7O0FBVUQsUUFBSWk0QixrQ0FBa0MsU0FBbENBLCtCQUFrQyxDQUFTei9DLElBQVQsRUFBZTZnQixRQUFmLEVBQXlCO0FBQzdELGFBQU92RixTQUFTdGIsSUFBVCxFQUFlNmdCLFFBQWYsQ0FBUDtBQUNELEtBRkQ7O0FBc0JBLGFBQVM2K0IsWUFBVCxDQUFzQkMsSUFBdEIsRUFBNEJDLE9BQTVCLEVBQXFDO0FBQ25DLFVBQUksT0FBT0QsSUFBUCxLQUFnQixRQUFoQixJQUE0QkEsU0FBUyxRQUF6QyxFQUFtRDtBQUNqREEsZUFBT2w5QiwyQkFBMkJrOUIsSUFBM0IsS0FBb0MsUUFBM0M7QUFDRDs7QUFJRCxhQUFPdmdELFVBQVV5Z0QsY0FBVixDQUF5QkYsSUFBekIsRUFBK0JDLE9BQS9CLENBQVA7QUFDRDs7QUFHRDE5QiwyQkFBdUIwN0IsZUFBZTU3QixnQkFBdEM7O0FBRUEzSSxnQkFBWUMsY0FBWixDQUEyQnNrQyxjQUEzQjs7QUFFQSxRQUFJa0MsUUFBUSxJQUFJNXVCLEdBQUosRUFBWjs7QUFFQSxRQUFJNnVCLHNCQUFzQjtBQUN4QkMsdUJBQWlCcDdCLG9CQURPOztBQUd4QnhDLHNCQUFnQkssMEJBSFE7O0FBS3hCRixjQUFRLGdCQUFTK1AsT0FBVCxFQUFrQjJ0QixZQUFsQixFQUFnQ3AvQixRQUFoQyxFQUEwQztBQUNoRCxZQUFJd1MsT0FBT3lzQixNQUFNMXdDLEdBQU4sQ0FBVTZ3QyxZQUFWLENBQVg7O0FBRUEsWUFBSSxDQUFDNXNCLElBQUwsRUFBVztBQUdUQSxpQkFBT3VxQixlQUFlM0IsZUFBZixDQUErQmdFLFlBQS9CLEVBQTZDLEtBQTdDLEVBQW9ELEtBQXBELENBQVA7QUFDQUgsZ0JBQU1oeEMsR0FBTixDQUFVbXhDLFlBQVYsRUFBd0I1c0IsSUFBeEI7QUFDRDtBQUNEdXFCLHVCQUFlMUIsZUFBZixDQUErQjVwQixPQUEvQixFQUF3Q2UsSUFBeEMsRUFBOEMsSUFBOUMsRUFBb0R4UyxRQUFwRDs7QUFFQSxlQUFPKzhCLGVBQWV6QixxQkFBZixDQUFxQzlvQixJQUFyQyxDQUFQO0FBQ0QsT0FqQnVCO0FBa0J4QjZzQiw4QkFBd0IsZ0NBQVNELFlBQVQsRUFBdUI7QUFDN0MsWUFBSTVzQixPQUFPeXNCLE1BQU0xd0MsR0FBTixDQUFVNndDLFlBQVYsQ0FBWDtBQUNBLFlBQUk1c0IsSUFBSixFQUFVO0FBRVJ1cUIseUJBQWUxQixlQUFmLENBQStCLElBQS9CLEVBQXFDN29CLElBQXJDLEVBQTJDLElBQTNDLEVBQWlELFlBQVc7QUFDMUR5c0Isa0JBQU0sUUFBTixFQUFnQkcsWUFBaEI7QUFDRCxXQUZEO0FBR0Q7QUFDRixPQTFCdUI7QUEyQnhCRSxnREFBMEMsa0RBQVNGLFlBQVQsRUFBdUI7QUFDL0RGLDRCQUFvQkcsc0JBQXBCLENBQTJDRCxZQUEzQzs7QUFHQTdnRCxrQkFBVWdoRCxjQUFWLENBQXlCSCxZQUF6QjtBQUNELE9BaEN1QjtBQWlDeEJ6akMsb0JBQWMsc0JBQVNDLFFBQVQsRUFBbUJ3akMsWUFBbkIsRUFBaUM7QUFDN0MsWUFBSXJqQyxNQUNGNWIsVUFBVWlGLE1BQVYsR0FBbUIsQ0FBbkIsSUFBd0JqRixVQUFVLENBQVYsTUFBaUIwRixTQUF6QyxHQUFxRDFGLFVBQVUsQ0FBVixDQUFyRCxHQUFvRSxJQUR0RTs7QUFHQSxlQUFPd2IsY0FBYUMsUUFBYixFQUF1QndqQyxZQUF2QixFQUFxQyxJQUFyQyxFQUEyQ3JqQyxHQUEzQyxDQUFQO0FBQ0QsT0F0Q3VCOztBQXdDeEJ5akMsK0JBQXlCbG5DLGNBeENEOztBQTBDeEJnaUMsaUJBQVd5QyxlQUFlekMsU0ExQ0Y7O0FBNEN4Qng1QiwwREFBb0Q7QUFFbERlLDRCQUFvQkEsa0JBRjhCOztBQUlsRG5NLHNDQUE4QkEsNEJBSm9CO0FBS2xEb0Isa0NBQTBCQSx3QkFMd0I7QUFNbEQyRyxpQ0FBeUJBLHVCQU55QjtBQU9sRHhCLDBCQUFrQkEsZ0JBUGdDO0FBUWxEMmlDLHlDQUFpQ0EsK0JBUmlCO0FBU2xEQyxzQkFBY0E7QUFUb0M7QUE1QzVCLEtBQTFCOztBQXlEQTtBQUVFLGVBQ0VLLG9CQUFvQnArQixrREFEdEIsRUFFRTtBQUdFMitCLHdCQUFnQjtBQUNkQyxtQkFBUyxtQkFBVyxDQUFFLENBRFI7QUFFZEMsc0JBQVksc0JBQVcsQ0FBRTtBQUZYLFNBSGxCOztBQVFFQyxtQkFBVztBQUNUQyxpQkFBTyxpQkFBVyxDQUFFLENBRFg7QUFFVEMsZ0JBQU0sZ0JBQVcsQ0FBRSxDQUZWO0FBR1RDLDBCQUFnQiwwQkFBVyxDQUFFLENBSHBCO0FBSVRDLHVCQUFhLHVCQUFXLENBQUU7QUFKakI7QUFSYixPQUZGO0FBa0JEOztBQUVEakQsbUJBQWV0QixrQkFBZixDQUFrQztBQUNoQ0UsK0JBQXlCbmxDLGtCQURPO0FBRWhDb25DLGtDQUE0QkEsMEJBRkk7QUFHaENxQyxrQkFBWSxDQUhvQjtBQUloQ0MsZUFBU2hqQyxZQUp1QjtBQUtoQ2lqQywyQkFBcUI7QUFMVyxLQUFsQzs7QUFRQSxRQUFJQyx3QkFBd0JsekMsT0FBTzZKLE1BQVAsQ0FBYztBQUN4QytrQyxlQUFTb0Q7QUFEK0IsS0FBZCxDQUE1Qjs7QUFJQSxRQUFJbUIsd0JBQ0RELHlCQUF5QmxCLG1CQUExQixJQUFrRGtCLHFCQURwRDs7QUFLQSxRQUFJRSxzQkFBc0JELHNCQUFzQixTQUF0QixJQUN0QkEsc0JBQXNCLFNBQXRCLENBRHNCLEdBRXRCQSxxQkFGSjs7QUFJQUUsV0FBT0MsT0FBUCxHQUFpQkYsbUJBQWpCO0FBRUcsR0FoM2JEO0FBaTNiRCIsImZpbGUiOiJSZWFjdE5hdGl2ZVJlbmRlcmVyLWRldi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQG5vZmxvd1xuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0TmF0aXZlUmVuZGVyZXItZGV2XG4gKiBAcHJldmVudE11bmdlXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAoX19ERVZfXykge1xuICAoZnVuY3Rpb24oKSB7XG5cInVzZSBzdHJpY3RcIjtcblxucmVxdWlyZShcIkluaXRpYWxpemVDb3JlXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoXCJmYmpzL2xpYi9pbnZhcmlhbnRcIik7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoXCJmYmpzL2xpYi93YXJuaW5nXCIpO1xudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKFwiZmJqcy9saWIvZW1wdHlGdW5jdGlvblwiKTtcbnZhciBVSU1hbmFnZXIgPSByZXF1aXJlKFwiVUlNYW5hZ2VyXCIpO1xudmFyIFJDVEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJSQ1RFdmVudEVtaXR0ZXJcIik7XG52YXIgVGV4dElucHV0U3RhdGUgPSByZXF1aXJlKFwiVGV4dElucHV0U3RhdGVcIik7XG52YXIgZGVlcERpZmZlciA9IHJlcXVpcmUoXCJkZWVwRGlmZmVyXCIpO1xudmFyIGZsYXR0ZW5TdHlsZSA9IHJlcXVpcmUoXCJmbGF0dGVuU3R5bGVcIik7XG52YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKFwiZmJqcy9saWIvZW1wdHlPYmplY3RcIik7XG52YXIgY2hlY2tQcm9wVHlwZXMgPSByZXF1aXJlKFwicHJvcC10eXBlcy9jaGVja1Byb3BUeXBlc1wiKTtcbnZhciBzaGFsbG93RXF1YWwgPSByZXF1aXJlKFwiZmJqcy9saWIvc2hhbGxvd0VxdWFsXCIpO1xudmFyIEV4Y2VwdGlvbnNNYW5hZ2VyID0gcmVxdWlyZShcIkV4Y2VwdGlvbnNNYW5hZ2VyXCIpO1xudmFyIGRlZXBGcmVlemVBbmRUaHJvd09uTXV0YXRpb25JbkRldiA9IHJlcXVpcmUoXCJkZWVwRnJlZXplQW5kVGhyb3dPbk11dGF0aW9uSW5EZXZcIik7XG5cbnZhciBpbnZva2VHdWFyZGVkQ2FsbGJhY2sgPSBmdW5jdGlvbihuYW1lLCBmdW5jLCBjb250ZXh0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIHRoaXMuX2hhc0NhdWdodEVycm9yID0gZmFsc2U7XG4gIHRoaXMuX2NhdWdodEVycm9yID0gbnVsbDtcbiAgdmFyIGZ1bmNBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKTtcbiAgdHJ5IHtcbiAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGZ1bmNBcmdzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aGlzLl9jYXVnaHRFcnJvciA9IGVycm9yO1xuICAgIHRoaXMuX2hhc0NhdWdodEVycm9yID0gdHJ1ZTtcbiAgfVxufTtcblxue1xuICAvLyBJbiBERVYgbW9kZSwgd2Ugc3dhcCBvdXQgaW52b2tlR3VhcmRlZENhbGxiYWNrIGZvciBhIHNwZWNpYWwgdmVyc2lvblxuICAvLyB0aGF0IHBsYXlzIG1vcmUgbmljZWx5IHdpdGggdGhlIGJyb3dzZXIncyBEZXZUb29scy4gVGhlIGlkZWEgaXMgdG8gcHJlc2VydmVcbiAgLy8gXCJQYXVzZSBvbiBleGNlcHRpb25zXCIgYmVoYXZpb3IuIEJlY2F1c2UgUmVhY3Qgd3JhcHMgYWxsIHVzZXItcHJvdmlkZWRcbiAgLy8gZnVuY3Rpb25zIGluIGludm9rZUd1YXJkZWRDYWxsYmFjaywgYW5kIHRoZSBwcm9kdWN0aW9uIHZlcnNpb24gb2ZcbiAgLy8gaW52b2tlR3VhcmRlZENhbGxiYWNrIHVzZXMgYSB0cnktY2F0Y2gsIGFsbCB1c2VyIGV4Y2VwdGlvbnMgYXJlIHRyZWF0ZWRcbiAgLy8gbGlrZSBjYXVnaHQgZXhjZXB0aW9ucywgYW5kIHRoZSBEZXZUb29scyB3b24ndCBwYXVzZSB1bmxlc3MgdGhlIGRldmVsb3BlclxuICAvLyB0YWtlcyB0aGUgZXh0cmEgc3RlcCBvZiBlbmFibGluZyBwYXVzZSBvbiBjYXVnaHQgZXhjZXB0aW9ucy4gVGhpcyBpc1xuICAvLyB1bnRpbnR1aXRpdmUsIHRob3VnaCwgYmVjYXVzZSBldmVuIHRob3VnaCBSZWFjdCBoYXMgY2F1Z2h0IHRoZSBlcnJvciwgZnJvbVxuICAvLyB0aGUgZGV2ZWxvcGVyJ3MgcGVyc3BlY3RpdmUsIHRoZSBlcnJvciBpcyB1bmNhdWdodC5cbiAgLy9cbiAgLy8gVG8gcHJlc2VydmUgdGhlIGV4cGVjdGVkIFwiUGF1c2Ugb24gZXhjZXB0aW9uc1wiIGJlaGF2aW9yLCB3ZSBkb24ndCB1c2UgYVxuICAvLyB0cnktY2F0Y2ggaW4gREVWLiBJbnN0ZWFkLCB3ZSBzeW5jaHJvbm91c2x5IGRpc3BhdGNoIGEgZmFrZSBldmVudCB0byBhIGZha2VcbiAgLy8gRE9NIG5vZGUsIGFuZCBjYWxsIHRoZSB1c2VyLXByb3ZpZGVkIGNhbGxiYWNrIGZyb20gaW5zaWRlIGFuIGV2ZW50IGhhbmRsZXJcbiAgLy8gZm9yIHRoYXQgZmFrZSBldmVudC4gSWYgdGhlIGNhbGxiYWNrIHRocm93cywgdGhlIGVycm9yIGlzIFwiY2FwdHVyZWRcIiB1c2luZ1xuICAvLyBhIGdsb2JhbCBldmVudCBoYW5kbGVyLiBCdXQgYmVjYXVzZSB0aGUgZXJyb3IgaGFwcGVucyBpbiBhIGRpZmZlcmVudFxuICAvLyBldmVudCBsb29wIGNvbnRleHQsIGl0IGRvZXMgbm90IGludGVycnVwdCB0aGUgbm9ybWFsIHByb2dyYW0gZmxvdy5cbiAgLy8gRWZmZWN0aXZlbHksIHRoaXMgZ2l2ZXMgdXMgdHJ5LWNhdGNoIGJlaGF2aW9yIHdpdGhvdXQgYWN0dWFsbHkgdXNpbmdcbiAgLy8gdHJ5LWNhdGNoLiBOZWF0IVxuXG4gIC8vIENoZWNrIHRoYXQgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIEFQSXMgd2UgbmVlZCB0byBpbXBsZW1lbnQgb3VyIHNwZWNpYWxcbiAgLy8gREVWIHZlcnNpb24gb2YgaW52b2tlR3VhcmRlZENhbGxiYWNrXG4gIGlmIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHdpbmRvdy5kaXNwYXRjaEV2ZW50ID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRXZlbnQgPT09IFwiZnVuY3Rpb25cIlxuICApIHtcbiAgICB2YXIgZmFrZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicmVhY3RcIik7XG5cbiAgICB2YXIgaW52b2tlR3VhcmRlZENhbGxiYWNrRGV2ID0gZnVuY3Rpb24oXG4gICAgICBuYW1lLFxuICAgICAgZnVuYyxcbiAgICAgIGNvbnRleHQsXG4gICAgICBhLFxuICAgICAgYixcbiAgICAgIGMsXG4gICAgICBkLFxuICAgICAgZSxcbiAgICAgIGZcbiAgICApIHtcbiAgICAgIC8vIElmIGRvY3VtZW50IGRvZXNuJ3QgZXhpc3Qgd2Uga25vdyBmb3Igc3VyZSB3ZSB3aWxsIGNyYXNoIGluIHRoaXMgbWV0aG9kXG4gICAgICAvLyB3aGVuIHdlIGNhbGwgZG9jdW1lbnQuY3JlYXRlRXZlbnQoKS4gSG93ZXZlciB0aGlzIGNhbiBjYXVzZSBjb25mdXNpbmdcbiAgICAgIC8vIGVycm9yczogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29raW5jdWJhdG9yL2NyZWF0ZS1yZWFjdC1hcHAvaXNzdWVzLzM0ODJcbiAgICAgIC8vIFNvIHdlIHByZWVtcHRpdmVseSB0aHJvdyB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UgaW5zdGVhZC5cbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiLFxuICAgICAgICBcIlRoZSBgZG9jdW1lbnRgIGdsb2JhbCB3YXMgZGVmaW5lZCB3aGVuIFJlYWN0IHdhcyBpbml0aWFsaXplZCwgYnV0IGlzIG5vdCBcIiArXG4gICAgICAgICAgXCJkZWZpbmVkIGFueW1vcmUuIFRoaXMgY2FuIGhhcHBlbiBpbiBhIHRlc3QgZW52aXJvbm1lbnQgaWYgYSBjb21wb25lbnQgXCIgK1xuICAgICAgICAgIFwic2NoZWR1bGVzIGFuIHVwZGF0ZSBmcm9tIGFuIGFzeW5jaHJvbm91cyBjYWxsYmFjaywgYnV0IHRoZSB0ZXN0IGhhcyBhbHJlYWR5IFwiICtcbiAgICAgICAgICBcImZpbmlzaGVkIHJ1bm5pbmcuIFRvIHNvbHZlIHRoaXMsIHlvdSBjYW4gZWl0aGVyIHVubW91bnQgdGhlIGNvbXBvbmVudCBhdCBcIiArXG4gICAgICAgICAgXCJ0aGUgZW5kIG9mIHlvdXIgdGVzdCAoYW5kIGVuc3VyZSB0aGF0IGFueSBhc3luY2hyb25vdXMgb3BlcmF0aW9ucyBnZXQgXCIgK1xuICAgICAgICAgIFwiY2FuY2VsZWQgaW4gYGNvbXBvbmVudFdpbGxVbm1vdW50YCksIG9yIHlvdSBjYW4gY2hhbmdlIHRoZSB0ZXN0IGl0c2VsZiBcIiArXG4gICAgICAgICAgXCJ0byBiZSBhc3luY2hyb25vdXMuXCJcbiAgICAgICk7XG4gICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtcblxuICAgICAgLy8gS2VlcHMgdHJhY2sgb2Ygd2hldGhlciB0aGUgdXNlci1wcm92aWRlZCBjYWxsYmFjayB0aHJldyBhbiBlcnJvci4gV2VcbiAgICAgIC8vIHNldCB0aGlzIHRvIHRydWUgYXQgdGhlIGJlZ2lubmluZywgdGhlbiBzZXQgaXQgdG8gZmFsc2UgcmlnaHQgYWZ0ZXJcbiAgICAgIC8vIGNhbGxpbmcgdGhlIGZ1bmN0aW9uLiBJZiB0aGUgZnVuY3Rpb24gZXJyb3JzLCBgZGlkRXJyb3JgIHdpbGwgbmV2ZXIgYmVcbiAgICAgIC8vIHNldCB0byBmYWxzZS4gVGhpcyBzdHJhdGVneSB3b3JrcyBldmVuIGlmIHRoZSBicm93c2VyIGlzIGZsYWt5IGFuZFxuICAgICAgLy8gZmFpbHMgdG8gY2FsbCBvdXIgZ2xvYmFsIGVycm9yIGhhbmRsZXIsIGJlY2F1c2UgaXQgZG9lc24ndCByZWx5IG9uXG4gICAgICAvLyB0aGUgZXJyb3IgZXZlbnQgYXQgYWxsLlxuICAgICAgdmFyIGRpZEVycm9yID0gdHJ1ZTtcblxuICAgICAgLy8gQ3JlYXRlIGFuIGV2ZW50IGhhbmRsZXIgZm9yIG91ciBmYWtlIGV2ZW50LiBXZSB3aWxsIHN5bmNocm9ub3VzbHlcbiAgICAgIC8vIGRpc3BhdGNoIG91ciBmYWtlIGV2ZW50IHVzaW5nIGBkaXNwYXRjaEV2ZW50YC4gSW5zaWRlIHRoZSBoYW5kbGVyLCB3ZVxuICAgICAgLy8gY2FsbCB0aGUgdXNlci1wcm92aWRlZCBjYWxsYmFjay5cbiAgICAgIHZhciBmdW5jQXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMyk7XG4gICAgICBmdW5jdGlvbiBjYWxsQ2FsbGJhY2soKSB7XG4gICAgICAgIC8vIFdlIGltbWVkaWF0ZWx5IHJlbW92ZSB0aGUgY2FsbGJhY2sgZnJvbSBldmVudCBsaXN0ZW5lcnMgc28gdGhhdFxuICAgICAgICAvLyBuZXN0ZWQgYGludm9rZUd1YXJkZWRDYWxsYmFja2AgY2FsbHMgZG8gbm90IGNsYXNoLiBPdGhlcndpc2UsIGFcbiAgICAgICAgLy8gbmVzdGVkIGNhbGwgd291bGQgdHJpZ2dlciB0aGUgZmFrZSBldmVudCBoYW5kbGVycyBvZiBhbnkgY2FsbCBoaWdoZXJcbiAgICAgICAgLy8gaW4gdGhlIHN0YWNrLlxuICAgICAgICBmYWtlTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2dFR5cGUsIGNhbGxDYWxsYmFjaywgZmFsc2UpO1xuICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGZ1bmNBcmdzKTtcbiAgICAgICAgZGlkRXJyb3IgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGEgZ2xvYmFsIGVycm9yIGV2ZW50IGhhbmRsZXIuIFdlIHVzZSB0aGlzIHRvIGNhcHR1cmUgdGhlIHZhbHVlXG4gICAgICAvLyB0aGF0IHdhcyB0aHJvd24uIEl0J3MgcG9zc2libGUgdGhhdCB0aGlzIGVycm9yIGhhbmRsZXIgd2lsbCBmaXJlIG1vcmVcbiAgICAgIC8vIHRoYW4gb25jZTsgZm9yIGV4YW1wbGUsIGlmIG5vbi1SZWFjdCBjb2RlIGFsc28gY2FsbHMgYGRpc3BhdGNoRXZlbnRgXG4gICAgICAvLyBhbmQgYSBoYW5kbGVyIGZvciB0aGF0IGV2ZW50IHRocm93cy4gV2Ugc2hvdWxkIGJlIHJlc2lsaWVudCB0byBtb3N0IG9mXG4gICAgICAvLyB0aG9zZSBjYXNlcy4gRXZlbiBpZiBvdXIgZXJyb3IgZXZlbnQgaGFuZGxlciBmaXJlcyBtb3JlIHRoYW4gb25jZSwgdGhlXG4gICAgICAvLyBsYXN0IGVycm9yIGV2ZW50IGlzIGFsd2F5cyB1c2VkLiBJZiB0aGUgY2FsbGJhY2sgYWN0dWFsbHkgZG9lcyBlcnJvcixcbiAgICAgIC8vIHdlIGtub3cgdGhhdCB0aGUgbGFzdCBlcnJvciBldmVudCBpcyB0aGUgY29ycmVjdCBvbmUsIGJlY2F1c2UgaXQncyBub3RcbiAgICAgIC8vIHBvc3NpYmxlIGZvciBhbnl0aGluZyBlbHNlIHRvIGhhdmUgaGFwcGVuZWQgaW4gYmV0d2VlbiBvdXIgY2FsbGJhY2tcbiAgICAgIC8vIGVycm9yaW5nIGFuZCB0aGUgY29kZSB0aGF0IGZvbGxvd3MgdGhlIGBkaXNwYXRjaEV2ZW50YCBjYWxsIGJlbG93LiBJZlxuICAgICAgLy8gdGhlIGNhbGxiYWNrIGRvZXNuJ3QgZXJyb3IsIGJ1dCB0aGUgZXJyb3IgZXZlbnQgd2FzIGZpcmVkLCB3ZSBrbm93IHRvXG4gICAgICAvLyBpZ25vcmUgaXQgYmVjYXVzZSBgZGlkRXJyb3JgIHdpbGwgYmUgZmFsc2UsIGFzIGRlc2NyaWJlZCBhYm92ZS5cbiAgICAgIHZhciBlcnJvciA9IHZvaWQgMDtcbiAgICAgIC8vIFVzZSB0aGlzIHRvIHRyYWNrIHdoZXRoZXIgdGhlIGVycm9yIGV2ZW50IGlzIGV2ZXIgY2FsbGVkLlxuICAgICAgdmFyIGRpZFNldEVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgaXNDcm9zc09yaWdpbkVycm9yID0gZmFsc2U7XG5cbiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXZlbnQpIHtcbiAgICAgICAgZXJyb3IgPSBldmVudC5lcnJvcjtcbiAgICAgICAgZGlkU2V0RXJyb3IgPSB0cnVlO1xuICAgICAgICBpZiAoZXJyb3IgPT09IG51bGwgJiYgZXZlbnQuY29sbm8gPT09IDAgJiYgZXZlbnQubGluZW5vID09PSAwKSB7XG4gICAgICAgICAgaXNDcm9zc09yaWdpbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBmYWtlIGV2ZW50IHR5cGUuXG4gICAgICB2YXIgZXZ0VHlwZSA9IFwicmVhY3QtXCIgKyAobmFtZSA/IG5hbWUgOiBcImludm9rZWd1YXJkZWRjYWxsYmFja1wiKTtcblxuICAgICAgLy8gQXR0YWNoIG91ciBldmVudCBoYW5kbGVyc1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBvbkVycm9yKTtcbiAgICAgIGZha2VOb2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgY2FsbENhbGxiYWNrLCBmYWxzZSk7XG5cbiAgICAgIC8vIFN5bmNocm9ub3VzbHkgZGlzcGF0Y2ggb3VyIGZha2UgZXZlbnQuIElmIHRoZSB1c2VyLXByb3ZpZGVkIGZ1bmN0aW9uXG4gICAgICAvLyBlcnJvcnMsIGl0IHdpbGwgdHJpZ2dlciBvdXIgZ2xvYmFsIGVycm9yIGhhbmRsZXIuXG4gICAgICBldnQuaW5pdEV2ZW50KGV2dFR5cGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICBmYWtlTm9kZS5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cbiAgICAgIGlmIChkaWRFcnJvcikge1xuICAgICAgICBpZiAoIWRpZFNldEVycm9yKSB7XG4gICAgICAgICAgLy8gVGhlIGNhbGxiYWNrIGVycm9yZWQsIGJ1dCB0aGUgZXJyb3IgZXZlbnQgbmV2ZXIgZmlyZWQuXG4gICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIkFuIGVycm9yIHdhcyB0aHJvd24gaW5zaWRlIG9uZSBvZiB5b3VyIGNvbXBvbmVudHMsIGJ1dCBSZWFjdCBcIiArXG4gICAgICAgICAgICAgIFwiZG9lc24ndCBrbm93IHdoYXQgaXQgd2FzLiBUaGlzIGlzIGxpa2VseSBkdWUgdG8gYnJvd3NlciBcIiArXG4gICAgICAgICAgICAgICdmbGFraW5lc3MuIFJlYWN0IGRvZXMgaXRzIGJlc3QgdG8gcHJlc2VydmUgdGhlIFwiUGF1c2Ugb24gJyArXG4gICAgICAgICAgICAgICdleGNlcHRpb25zXCIgYmVoYXZpb3Igb2YgdGhlIERldlRvb2xzLCB3aGljaCByZXF1aXJlcyBzb21lICcgK1xuICAgICAgICAgICAgICBcIkRFVi1tb2RlIG9ubHkgdHJpY2tzLiBJdCdzIHBvc3NpYmxlIHRoYXQgdGhlc2UgZG9uJ3Qgd29yayBpbiBcIiArXG4gICAgICAgICAgICAgIFwieW91ciBicm93c2VyLiBUcnkgdHJpZ2dlcmluZyB0aGUgZXJyb3IgaW4gcHJvZHVjdGlvbiBtb2RlLCBcIiArXG4gICAgICAgICAgICAgIFwib3Igc3dpdGNoaW5nIHRvIGEgbW9kZXJuIGJyb3dzZXIuIElmIHlvdSBzdXNwZWN0IHRoYXQgdGhpcyBpcyBcIiArXG4gICAgICAgICAgICAgIFwiYWN0dWFsbHkgYW4gaXNzdWUgd2l0aCBSZWFjdCwgcGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQ3Jvc3NPcmlnaW5FcnJvcikge1xuICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAgICAgXCJBIGNyb3NzLW9yaWdpbiBlcnJvciB3YXMgdGhyb3duLiBSZWFjdCBkb2Vzbid0IGhhdmUgYWNjZXNzIHRvIFwiICtcbiAgICAgICAgICAgICAgXCJ0aGUgYWN0dWFsIGVycm9yIG9iamVjdCBpbiBkZXZlbG9wbWVudC4gXCIgK1xuICAgICAgICAgICAgICBcIlNlZSBodHRwczovL2ZiLm1lL3JlYWN0LWNyb3Nzb3JpZ2luLWVycm9yIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYXNDYXVnaHRFcnJvciA9IHRydWU7XG4gICAgICAgIHRoaXMuX2NhdWdodEVycm9yID0gZXJyb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9oYXNDYXVnaHRFcnJvciA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jYXVnaHRFcnJvciA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBvdXIgZXZlbnQgbGlzdGVuZXJzXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpO1xuICAgIH07XG5cbiAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2sgPSBpbnZva2VHdWFyZGVkQ2FsbGJhY2tEZXY7XG4gIH1cbn1cblxudmFyIGludm9rZUd1YXJkZWRDYWxsYmFjayQxID0gaW52b2tlR3VhcmRlZENhbGxiYWNrO1xuXG52YXIgUmVhY3RFcnJvclV0aWxzID0ge1xuICAvLyBVc2VkIGJ5IEZpYmVyIHRvIHNpbXVsYXRlIGEgdHJ5LWNhdGNoLlxuICBfY2F1Z2h0RXJyb3I6IG51bGwsXG4gIF9oYXNDYXVnaHRFcnJvcjogZmFsc2UsXG5cbiAgLy8gVXNlZCBieSBldmVudCBzeXN0ZW0gdG8gY2FwdHVyZS9yZXRocm93IHRoZSBmaXJzdCBlcnJvci5cbiAgX3JldGhyb3dFcnJvcjogbnVsbCxcbiAgX2hhc1JldGhyb3dFcnJvcjogZmFsc2UsXG5cbiAgLyoqXG4gICAqIENhbGwgYSBmdW5jdGlvbiB3aGlsZSBndWFyZGluZyBhZ2FpbnN0IGVycm9ycyB0aGF0IGhhcHBlbnMgd2l0aGluIGl0LlxuICAgKiBSZXR1cm5zIGFuIGVycm9yIGlmIGl0IHRocm93cywgb3RoZXJ3aXNlIG51bGwuXG4gICAqXG4gICAqIEluIHByb2R1Y3Rpb24sIHRoaXMgaXMgaW1wbGVtZW50ZWQgdXNpbmcgYSB0cnktY2F0Y2guIFRoZSByZWFzb24gd2UgZG9uJ3RcbiAgICogdXNlIGEgdHJ5LWNhdGNoIGRpcmVjdGx5IGlzIHNvIHRoYXQgd2UgY2FuIHN3YXAgb3V0IGEgZGlmZmVyZW50XG4gICAqIGltcGxlbWVudGF0aW9uIGluIERFViBtb2RlLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBvZiB0aGUgZ3VhcmQgdG8gdXNlIGZvciBsb2dnaW5nIG9yIGRlYnVnZ2luZ1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2VcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIHVzZSB3aGVuIGNhbGxpbmcgdGhlIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJncyBBcmd1bWVudHMgZm9yIGZ1bmN0aW9uXG4gICAqL1xuICBpbnZva2VHdWFyZGVkQ2FsbGJhY2s6IGZ1bmN0aW9uKG5hbWUsIGZ1bmMsIGNvbnRleHQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2skMS5hcHBseShSZWFjdEVycm9yVXRpbHMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNhbWUgYXMgaW52b2tlR3VhcmRlZENhbGxiYWNrLCBidXQgaW5zdGVhZCBvZiByZXR1cm5pbmcgYW4gZXJyb3IsIGl0IHN0b3Jlc1xuICAgKiBpdCBpbiBhIGdsb2JhbCBzbyBpdCBjYW4gYmUgcmV0aHJvd24gYnkgYHJldGhyb3dDYXVnaHRFcnJvcmAgbGF0ZXIuXG4gICAqIFRPRE86IFNlZSBpZiBfY2F1Z2h0RXJyb3IgYW5kIF9yZXRocm93RXJyb3IgY2FuIGJlIHVuaWZpZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG9mIHRoZSBndWFyZCB0byB1c2UgZm9yIGxvZ2dpbmcgb3IgZGVidWdnaW5nXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZVxuICAgKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gdXNlIHdoZW4gY2FsbGluZyB0aGUgZnVuY3Rpb25cbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzIEFyZ3VtZW50cyBmb3IgZnVuY3Rpb25cbiAgICovXG4gIGludm9rZUd1YXJkZWRDYWxsYmFja0FuZENhdGNoRmlyc3RFcnJvcjogZnVuY3Rpb24oXG4gICAgbmFtZSxcbiAgICBmdW5jLFxuICAgIGNvbnRleHQsXG4gICAgYSxcbiAgICBiLFxuICAgIGMsXG4gICAgZCxcbiAgICBlLFxuICAgIGZcbiAgKSB7XG4gICAgUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChSZWFjdEVycm9yVXRpbHMuaGFzQ2F1Z2h0RXJyb3IoKSkge1xuICAgICAgdmFyIGVycm9yID0gUmVhY3RFcnJvclV0aWxzLmNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgIGlmICghUmVhY3RFcnJvclV0aWxzLl9oYXNSZXRocm93RXJyb3IpIHtcbiAgICAgICAgUmVhY3RFcnJvclV0aWxzLl9oYXNSZXRocm93RXJyb3IgPSB0cnVlO1xuICAgICAgICBSZWFjdEVycm9yVXRpbHMuX3JldGhyb3dFcnJvciA9IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRHVyaW5nIGV4ZWN1dGlvbiBvZiBndWFyZGVkIGZ1bmN0aW9ucyB3ZSB3aWxsIGNhcHR1cmUgdGhlIGZpcnN0IGVycm9yIHdoaWNoXG4gICAqIHdlIHdpbGwgcmV0aHJvdyB0byBiZSBoYW5kbGVkIGJ5IHRoZSB0b3AgbGV2ZWwgZXJyb3IgaGFuZGxlci5cbiAgICovXG4gIHJldGhyb3dDYXVnaHRFcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHJldGhyb3dDYXVnaHRFcnJvci5hcHBseShSZWFjdEVycm9yVXRpbHMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cbiAgaGFzQ2F1Z2h0RXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBSZWFjdEVycm9yVXRpbHMuX2hhc0NhdWdodEVycm9yO1xuICB9LFxuXG4gIGNsZWFyQ2F1Z2h0RXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChSZWFjdEVycm9yVXRpbHMuX2hhc0NhdWdodEVycm9yKSB7XG4gICAgICB2YXIgZXJyb3IgPSBSZWFjdEVycm9yVXRpbHMuX2NhdWdodEVycm9yO1xuICAgICAgUmVhY3RFcnJvclV0aWxzLl9jYXVnaHRFcnJvciA9IG51bGw7XG4gICAgICBSZWFjdEVycm9yVXRpbHMuX2hhc0NhdWdodEVycm9yID0gZmFsc2U7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFwiY2xlYXJDYXVnaHRFcnJvciB3YXMgY2FsbGVkIGJ1dCBubyBlcnJvciB3YXMgY2FwdHVyZWQuIFRoaXMgZXJyb3IgXCIgK1xuICAgICAgICAgIFwiaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICk7XG4gICAgfVxuICB9XG59O1xuXG52YXIgcmV0aHJvd0NhdWdodEVycm9yID0gZnVuY3Rpb24oKSB7XG4gIGlmIChSZWFjdEVycm9yVXRpbHMuX2hhc1JldGhyb3dFcnJvcikge1xuICAgIHZhciBlcnJvciA9IFJlYWN0RXJyb3JVdGlscy5fcmV0aHJvd0Vycm9yO1xuICAgIFJlYWN0RXJyb3JVdGlscy5fcmV0aHJvd0Vycm9yID0gbnVsbDtcbiAgICBSZWFjdEVycm9yVXRpbHMuX2hhc1JldGhyb3dFcnJvciA9IGZhbHNlO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vKipcbiAqIEluamVjdGFibGUgb3JkZXJpbmcgb2YgZXZlbnQgcGx1Z2lucy5cbiAqL1xudmFyIGV2ZW50UGx1Z2luT3JkZXIgPSBudWxsO1xuXG4vKipcbiAqIEluamVjdGFibGUgbWFwcGluZyBmcm9tIG5hbWVzIHRvIGV2ZW50IHBsdWdpbiBtb2R1bGVzLlxuICovXG52YXIgbmFtZXNUb1BsdWdpbnMgPSB7fTtcblxuLyoqXG4gKiBSZWNvbXB1dGVzIHRoZSBwbHVnaW4gbGlzdCB1c2luZyB0aGUgaW5qZWN0ZWQgcGx1Z2lucyBhbmQgcGx1Z2luIG9yZGVyaW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCkge1xuICBpZiAoIWV2ZW50UGx1Z2luT3JkZXIpIHtcbiAgICAvLyBXYWl0IHVudGlsIGFuIGBldmVudFBsdWdpbk9yZGVyYCBpcyBpbmplY3RlZC5cbiAgICByZXR1cm47XG4gIH1cbiAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBuYW1lc1RvUGx1Z2lucykge1xuICAgIHZhciBwbHVnaW5Nb2R1bGUgPSBuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXTtcbiAgICB2YXIgcGx1Z2luSW5kZXggPSBldmVudFBsdWdpbk9yZGVyLmluZGV4T2YocGx1Z2luTmFtZSk7XG4gICAgaW52YXJpYW50KFxuICAgICAgcGx1Z2luSW5kZXggPiAtMSxcbiAgICAgIFwiRXZlbnRQbHVnaW5SZWdpc3RyeTogQ2Fubm90IGluamVjdCBldmVudCBwbHVnaW5zIHRoYXQgZG8gbm90IGV4aXN0IGluIFwiICtcbiAgICAgICAgXCJ0aGUgcGx1Z2luIG9yZGVyaW5nLCBgJXNgLlwiLFxuICAgICAgcGx1Z2luTmFtZVxuICAgICk7XG4gICAgaWYgKHBsdWdpbnNbcGx1Z2luSW5kZXhdKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaW52YXJpYW50KFxuICAgICAgcGx1Z2luTW9kdWxlLmV4dHJhY3RFdmVudHMsXG4gICAgICBcIkV2ZW50UGx1Z2luUmVnaXN0cnk6IEV2ZW50IHBsdWdpbnMgbXVzdCBpbXBsZW1lbnQgYW4gYGV4dHJhY3RFdmVudHNgIFwiICtcbiAgICAgICAgXCJtZXRob2QsIGJ1dCBgJXNgIGRvZXMgbm90LlwiLFxuICAgICAgcGx1Z2luTmFtZVxuICAgICk7XG4gICAgcGx1Z2luc1twbHVnaW5JbmRleF0gPSBwbHVnaW5Nb2R1bGU7XG4gICAgdmFyIHB1Ymxpc2hlZEV2ZW50cyA9IHBsdWdpbk1vZHVsZS5ldmVudFR5cGVzO1xuICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiBwdWJsaXNoZWRFdmVudHMpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgcHVibGlzaEV2ZW50Rm9yUGx1Z2luKFxuICAgICAgICAgIHB1Ymxpc2hlZEV2ZW50c1tldmVudE5hbWVdLFxuICAgICAgICAgIHBsdWdpbk1vZHVsZSxcbiAgICAgICAgICBldmVudE5hbWVcbiAgICAgICAgKSxcbiAgICAgICAgXCJFdmVudFBsdWdpblJlZ2lzdHJ5OiBGYWlsZWQgdG8gcHVibGlzaCBldmVudCBgJXNgIGZvciBwbHVnaW4gYCVzYC5cIixcbiAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICBwbHVnaW5OYW1lXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFB1Ymxpc2hlcyBhbiBldmVudCBzbyB0aGF0IGl0IGNhbiBiZSBkaXNwYXRjaGVkIGJ5IHRoZSBzdXBwbGllZCBwbHVnaW4uXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGRpc3BhdGNoQ29uZmlnIERpc3BhdGNoIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBldmVudC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBQbHVnaW5Nb2R1bGUgUGx1Z2luIHB1Ymxpc2hpbmcgdGhlIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgd2FzIHN1Y2Nlc3NmdWxseSBwdWJsaXNoZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwdWJsaXNoRXZlbnRGb3JQbHVnaW4oZGlzcGF0Y2hDb25maWcsIHBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKSB7XG4gIGludmFyaWFudChcbiAgICAhZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSksXG4gICAgXCJFdmVudFBsdWdpbkh1YjogTW9yZSB0aGFuIG9uZSBwbHVnaW4gYXR0ZW1wdGVkIHRvIHB1Ymxpc2ggdGhlIHNhbWUgXCIgK1xuICAgICAgXCJldmVudCBuYW1lLCBgJXNgLlwiLFxuICAgIGV2ZW50TmFtZVxuICApO1xuICBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3NbZXZlbnROYW1lXSA9IGRpc3BhdGNoQ29uZmlnO1xuXG4gIHZhciBwaGFzZWRSZWdpc3RyYXRpb25OYW1lcyA9IGRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzO1xuICBpZiAocGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICBmb3IgKHZhciBwaGFzZU5hbWUgaW4gcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgIGlmIChwaGFzZWRSZWdpc3RyYXRpb25OYW1lcy5oYXNPd25Qcm9wZXJ0eShwaGFzZU5hbWUpKSB7XG4gICAgICAgIHZhciBwaGFzZWRSZWdpc3RyYXRpb25OYW1lID0gcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcGhhc2VOYW1lXTtcbiAgICAgICAgcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUoXG4gICAgICAgICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZSxcbiAgICAgICAgICBwbHVnaW5Nb2R1bGUsXG4gICAgICAgICAgZXZlbnROYW1lXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICBwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZShcbiAgICAgIGRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUsXG4gICAgICBwbHVnaW5Nb2R1bGUsXG4gICAgICBldmVudE5hbWVcbiAgICApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBQdWJsaXNoZXMgYSByZWdpc3RyYXRpb24gbmFtZSB0aGF0IGlzIHVzZWQgdG8gaWRlbnRpZnkgZGlzcGF0Y2hlZCBldmVudHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ2lzdHJhdGlvbk5hbWUgUmVnaXN0cmF0aW9uIG5hbWUgdG8gYWRkLlxuICogQHBhcmFtIHtvYmplY3R9IFBsdWdpbk1vZHVsZSBQbHVnaW4gcHVibGlzaGluZyB0aGUgZXZlbnQuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZShyZWdpc3RyYXRpb25OYW1lLCBwbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSkge1xuICBpbnZhcmlhbnQoXG4gICAgIXJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW3JlZ2lzdHJhdGlvbk5hbWVdLFxuICAgIFwiRXZlbnRQbHVnaW5IdWI6IE1vcmUgdGhhbiBvbmUgcGx1Z2luIGF0dGVtcHRlZCB0byBwdWJsaXNoIHRoZSBzYW1lIFwiICtcbiAgICAgIFwicmVnaXN0cmF0aW9uIG5hbWUsIGAlc2AuXCIsXG4gICAgcmVnaXN0cmF0aW9uTmFtZVxuICApO1xuICByZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSA9IHBsdWdpbk1vZHVsZTtcbiAgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1tyZWdpc3RyYXRpb25OYW1lXSA9XG4gICAgcGx1Z2luTW9kdWxlLmV2ZW50VHlwZXNbZXZlbnROYW1lXS5kZXBlbmRlbmNpZXM7XG5cbiAge1xuICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IHJlZ2lzdHJhdGlvbk5hbWUudG9Mb3dlckNhc2UoKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBwbHVnaW5zIHNvIHRoYXQgdGhleSBjYW4gZXh0cmFjdCBhbmQgZGlzcGF0Y2ggZXZlbnRzLlxuICpcbiAqIEBzZWUge0V2ZW50UGx1Z2luSHVifVxuICovXG5cbi8qKlxuICogT3JkZXJlZCBsaXN0IG9mIGluamVjdGVkIHBsdWdpbnMuXG4gKi9cbnZhciBwbHVnaW5zID0gW107XG5cbi8qKlxuICogTWFwcGluZyBmcm9tIGV2ZW50IG5hbWUgdG8gZGlzcGF0Y2ggY29uZmlnXG4gKi9cbnZhciBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MgPSB7fTtcblxuLyoqXG4gKiBNYXBwaW5nIGZyb20gcmVnaXN0cmF0aW9uIG5hbWUgdG8gcGx1Z2luIG1vZHVsZVxuICovXG52YXIgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMgPSB7fTtcblxuLyoqXG4gKiBNYXBwaW5nIGZyb20gcmVnaXN0cmF0aW9uIG5hbWUgdG8gZXZlbnQgbmFtZVxuICovXG52YXIgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcyA9IHt9O1xuXG4vKipcbiAqIE1hcHBpbmcgZnJvbSBsb3dlcmNhc2UgcmVnaXN0cmF0aW9uIG5hbWVzIHRvIHRoZSBwcm9wZXJseSBjYXNlZCB2ZXJzaW9uLFxuICogdXNlZCB0byB3YXJuIGluIHRoZSBjYXNlIG9mIG1pc3NpbmcgZXZlbnQgaGFuZGxlcnMuIEF2YWlsYWJsZVxuICogb25seSBpbiB0cnVlLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuXG4vLyBUcnVzdCB0aGUgZGV2ZWxvcGVyIHRvIG9ubHkgdXNlIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMgaW4gdHJ1ZVxuXG4vKipcbiAqIEluamVjdHMgYW4gb3JkZXJpbmcgb2YgcGx1Z2lucyAoYnkgcGx1Z2luIG5hbWUpLiBUaGlzIGFsbG93cyB0aGUgb3JkZXJpbmdcbiAqIHRvIGJlIGRlY291cGxlZCBmcm9tIGluamVjdGlvbiBvZiB0aGUgYWN0dWFsIHBsdWdpbnMgc28gdGhhdCBvcmRlcmluZyBpc1xuICogYWx3YXlzIGRldGVybWluaXN0aWMgcmVnYXJkbGVzcyBvZiBwYWNrYWdpbmcsIG9uLXRoZS1mbHkgaW5qZWN0aW9uLCBldGMuXG4gKlxuICogQHBhcmFtIHthcnJheX0gSW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyXG4gKiBAaW50ZXJuYWxcbiAqIEBzZWUge0V2ZW50UGx1Z2luSHViLmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbk9yZGVyfVxuICovXG5mdW5jdGlvbiBpbmplY3RFdmVudFBsdWdpbk9yZGVyKGluamVjdGVkRXZlbnRQbHVnaW5PcmRlcikge1xuICBpbnZhcmlhbnQoXG4gICAgIWV2ZW50UGx1Z2luT3JkZXIsXG4gICAgXCJFdmVudFBsdWdpblJlZ2lzdHJ5OiBDYW5ub3QgaW5qZWN0IGV2ZW50IHBsdWdpbiBvcmRlcmluZyBtb3JlIHRoYW4gXCIgK1xuICAgICAgXCJvbmNlLiBZb3UgYXJlIGxpa2VseSB0cnlpbmcgdG8gbG9hZCBtb3JlIHRoYW4gb25lIGNvcHkgb2YgUmVhY3QuXCJcbiAgKTtcbiAgLy8gQ2xvbmUgdGhlIG9yZGVyaW5nIHNvIGl0IGNhbm5vdCBiZSBkeW5hbWljYWxseSBtdXRhdGVkLlxuICBldmVudFBsdWdpbk9yZGVyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyKTtcbiAgcmVjb21wdXRlUGx1Z2luT3JkZXJpbmcoKTtcbn1cblxuLyoqXG4gKiBJbmplY3RzIHBsdWdpbnMgdG8gYmUgdXNlZCBieSBgRXZlbnRQbHVnaW5IdWJgLiBUaGUgcGx1Z2luIG5hbWVzIG11c3QgYmVcbiAqIGluIHRoZSBvcmRlcmluZyBpbmplY3RlZCBieSBgaW5qZWN0RXZlbnRQbHVnaW5PcmRlcmAuXG4gKlxuICogUGx1Z2lucyBjYW4gYmUgaW5qZWN0ZWQgYXMgcGFydCBvZiBwYWdlIGluaXRpYWxpemF0aW9uIG9yIG9uLXRoZS1mbHkuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGluamVjdGVkTmFtZXNUb1BsdWdpbnMgTWFwIGZyb20gbmFtZXMgdG8gcGx1Z2luIG1vZHVsZXMuXG4gKiBAaW50ZXJuYWxcbiAqIEBzZWUge0V2ZW50UGx1Z2luSHViLmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWV9XG4gKi9cbmZ1bmN0aW9uIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZShpbmplY3RlZE5hbWVzVG9QbHVnaW5zKSB7XG4gIHZhciBpc09yZGVyaW5nRGlydHkgPSBmYWxzZTtcbiAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBpbmplY3RlZE5hbWVzVG9QbHVnaW5zKSB7XG4gICAgaWYgKCFpbmplY3RlZE5hbWVzVG9QbHVnaW5zLmhhc093blByb3BlcnR5KHBsdWdpbk5hbWUpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIHBsdWdpbk1vZHVsZSA9IGluamVjdGVkTmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV07XG4gICAgaWYgKFxuICAgICAgIW5hbWVzVG9QbHVnaW5zLmhhc093blByb3BlcnR5KHBsdWdpbk5hbWUpIHx8XG4gICAgICBuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXSAhPT0gcGx1Z2luTW9kdWxlXG4gICAgKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgICFuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXSxcbiAgICAgICAgXCJFdmVudFBsdWdpblJlZ2lzdHJ5OiBDYW5ub3QgaW5qZWN0IHR3byBkaWZmZXJlbnQgZXZlbnQgcGx1Z2lucyBcIiArXG4gICAgICAgICAgXCJ1c2luZyB0aGUgc2FtZSBuYW1lLCBgJXNgLlwiLFxuICAgICAgICBwbHVnaW5OYW1lXG4gICAgICApO1xuICAgICAgbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0gPSBwbHVnaW5Nb2R1bGU7XG4gICAgICBpc09yZGVyaW5nRGlydHkgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoaXNPcmRlcmluZ0RpcnR5KSB7XG4gICAgcmVjb21wdXRlUGx1Z2luT3JkZXJpbmcoKTtcbiAgfVxufVxuXG52YXIgZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSA9IG51bGw7XG52YXIgZ2V0SW5zdGFuY2VGcm9tTm9kZSA9IG51bGw7XG52YXIgZ2V0Tm9kZUZyb21JbnN0YW5jZSA9IG51bGw7XG5cbnZhciBpbmplY3Rpb24kMSA9IHtcbiAgaW5qZWN0Q29tcG9uZW50VHJlZTogZnVuY3Rpb24oSW5qZWN0ZWQpIHtcbiAgICBnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlID0gSW5qZWN0ZWQuZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZTtcbiAgICBnZXRJbnN0YW5jZUZyb21Ob2RlID0gSW5qZWN0ZWQuZ2V0SW5zdGFuY2VGcm9tTm9kZTtcbiAgICBnZXROb2RlRnJvbUluc3RhbmNlID0gSW5qZWN0ZWQuZ2V0Tm9kZUZyb21JbnN0YW5jZTtcblxuICAgIHtcbiAgICAgIHdhcm5pbmcoXG4gICAgICAgIGdldE5vZGVGcm9tSW5zdGFuY2UgJiYgZ2V0SW5zdGFuY2VGcm9tTm9kZSxcbiAgICAgICAgXCJFdmVudFBsdWdpblV0aWxzLmluamVjdGlvbi5pbmplY3RDb21wb25lbnRUcmVlKC4uLik6IEluamVjdGVkIFwiICtcbiAgICAgICAgICBcIm1vZHVsZSBpcyBtaXNzaW5nIGdldE5vZGVGcm9tSW5zdGFuY2Ugb3IgZ2V0SW5zdGFuY2VGcm9tTm9kZS5cIlxuICAgICAgKTtcbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGlzRW5kaXNoKHRvcExldmVsVHlwZSkge1xuICByZXR1cm4gKFxuICAgIHRvcExldmVsVHlwZSA9PT0gXCJ0b3BNb3VzZVVwXCIgfHxcbiAgICB0b3BMZXZlbFR5cGUgPT09IFwidG9wVG91Y2hFbmRcIiB8fFxuICAgIHRvcExldmVsVHlwZSA9PT0gXCJ0b3BUb3VjaENhbmNlbFwiXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzTW92ZWlzaCh0b3BMZXZlbFR5cGUpIHtcbiAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gXCJ0b3BNb3VzZU1vdmVcIiB8fCB0b3BMZXZlbFR5cGUgPT09IFwidG9wVG91Y2hNb3ZlXCI7XG59XG5mdW5jdGlvbiBpc1N0YXJ0aXNoKHRvcExldmVsVHlwZSkge1xuICByZXR1cm4gdG9wTGV2ZWxUeXBlID09PSBcInRvcE1vdXNlRG93blwiIHx8IHRvcExldmVsVHlwZSA9PT0gXCJ0b3BUb3VjaFN0YXJ0XCI7XG59XG5cbnZhciB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyA9IHZvaWQgMDtcbntcbiAgdmFsaWRhdGVFdmVudERpc3BhdGNoZXMgPSBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgICB2YXIgZGlzcGF0Y2hJbnN0YW5jZXMgPSBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXM7XG5cbiAgICB2YXIgbGlzdGVuZXJzSXNBcnIgPSBBcnJheS5pc0FycmF5KGRpc3BhdGNoTGlzdGVuZXJzKTtcbiAgICB2YXIgbGlzdGVuZXJzTGVuID0gbGlzdGVuZXJzSXNBcnJcbiAgICAgID8gZGlzcGF0Y2hMaXN0ZW5lcnMubGVuZ3RoXG4gICAgICA6IGRpc3BhdGNoTGlzdGVuZXJzID8gMSA6IDA7XG5cbiAgICB2YXIgaW5zdGFuY2VzSXNBcnIgPSBBcnJheS5pc0FycmF5KGRpc3BhdGNoSW5zdGFuY2VzKTtcbiAgICB2YXIgaW5zdGFuY2VzTGVuID0gaW5zdGFuY2VzSXNBcnJcbiAgICAgID8gZGlzcGF0Y2hJbnN0YW5jZXMubGVuZ3RoXG4gICAgICA6IGRpc3BhdGNoSW5zdGFuY2VzID8gMSA6IDA7XG5cbiAgICB3YXJuaW5nKFxuICAgICAgaW5zdGFuY2VzSXNBcnIgPT09IGxpc3RlbmVyc0lzQXJyICYmIGluc3RhbmNlc0xlbiA9PT0gbGlzdGVuZXJzTGVuLFxuICAgICAgXCJFdmVudFBsdWdpblV0aWxzOiBJbnZhbGlkIGBldmVudGAuXCJcbiAgICApO1xuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIHRoZSBldmVudCB0byB0aGUgbGlzdGVuZXIuXG4gKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBTeW50aGV0aWNFdmVudCB0byBoYW5kbGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2ltdWxhdGVkIElmIHRoZSBldmVudCBpcyBzaW11bGF0ZWQgKGNoYW5nZXMgZXhuIGJlaGF2aW9yKVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbGlzdGVuZXIgQXBwbGljYXRpb24tbGV2ZWwgY2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gaW5zdCBJbnRlcm5hbCBjb21wb25lbnQgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGxpc3RlbmVyLCBpbnN0KSB7XG4gIHZhciB0eXBlID0gZXZlbnQudHlwZSB8fCBcInVua25vd24tZXZlbnRcIjtcbiAgZXZlbnQuY3VycmVudFRhcmdldCA9IGdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCk7XG4gIFJlYWN0RXJyb3JVdGlscy5pbnZva2VHdWFyZGVkQ2FsbGJhY2tBbmRDYXRjaEZpcnN0RXJyb3IoXG4gICAgdHlwZSxcbiAgICBsaXN0ZW5lcixcbiAgICB1bmRlZmluZWQsXG4gICAgZXZlbnRcbiAgKTtcbiAgZXZlbnQuY3VycmVudFRhcmdldCA9IG51bGw7XG59XG5cbi8qKlxuICogU3RhbmRhcmQvc2ltcGxlIGl0ZXJhdGlvbiB0aHJvdWdoIGFuIGV2ZW50J3MgY29sbGVjdGVkIGRpc3BhdGNoZXMuXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlcihldmVudCwgc2ltdWxhdGVkKSB7XG4gIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgdmFyIGRpc3BhdGNoSW5zdGFuY2VzID0gZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzO1xuICB7XG4gICAgdmFsaWRhdGVFdmVudERpc3BhdGNoZXMoZXZlbnQpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGRpc3BhdGNoTGlzdGVuZXJzKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlzcGF0Y2hMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy8gTGlzdGVuZXJzIGFuZCBJbnN0YW5jZXMgYXJlIHR3byBwYXJhbGxlbCBhcnJheXMgdGhhdCBhcmUgYWx3YXlzIGluIHN5bmMuXG4gICAgICBleGVjdXRlRGlzcGF0Y2goXG4gICAgICAgIGV2ZW50LFxuICAgICAgICBzaW11bGF0ZWQsXG4gICAgICAgIGRpc3BhdGNoTGlzdGVuZXJzW2ldLFxuICAgICAgICBkaXNwYXRjaEluc3RhbmNlc1tpXVxuICAgICAgKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGlzcGF0Y2hMaXN0ZW5lcnMpIHtcbiAgICBleGVjdXRlRGlzcGF0Y2goZXZlbnQsIHNpbXVsYXRlZCwgZGlzcGF0Y2hMaXN0ZW5lcnMsIGRpc3BhdGNoSW5zdGFuY2VzKTtcbiAgfVxuICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPSBudWxsO1xuICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBudWxsO1xufVxuXG4vKipcbiAqIFN0YW5kYXJkL3NpbXBsZSBpdGVyYXRpb24gdGhyb3VnaCBhbiBldmVudCdzIGNvbGxlY3RlZCBkaXNwYXRjaGVzLCBidXQgc3RvcHNcbiAqIGF0IHRoZSBmaXJzdCBkaXNwYXRjaCBleGVjdXRpb24gcmV0dXJuaW5nIHRydWUsIGFuZCByZXR1cm5zIHRoYXQgaWQuXG4gKlxuICogQHJldHVybiB7P3N0cmluZ30gaWQgb2YgdGhlIGZpcnN0IGRpc3BhdGNoIGV4ZWN1dGlvbiB3aG8ncyBsaXN0ZW5lciByZXR1cm5zXG4gKiB0cnVlLCBvciBudWxsIGlmIG5vIGxpc3RlbmVyIHJldHVybmVkIHRydWUuXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlclN0b3BBdFRydWVJbXBsKGV2ZW50KSB7XG4gIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgdmFyIGRpc3BhdGNoSW5zdGFuY2VzID0gZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzO1xuICB7XG4gICAgdmFsaWRhdGVFdmVudERpc3BhdGNoZXMoZXZlbnQpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGRpc3BhdGNoTGlzdGVuZXJzKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlzcGF0Y2hMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy8gTGlzdGVuZXJzIGFuZCBJbnN0YW5jZXMgYXJlIHR3byBwYXJhbGxlbCBhcnJheXMgdGhhdCBhcmUgYWx3YXlzIGluIHN5bmMuXG4gICAgICBpZiAoZGlzcGF0Y2hMaXN0ZW5lcnNbaV0oZXZlbnQsIGRpc3BhdGNoSW5zdGFuY2VzW2ldKSkge1xuICAgICAgICByZXR1cm4gZGlzcGF0Y2hJbnN0YW5jZXNbaV07XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGRpc3BhdGNoTGlzdGVuZXJzKSB7XG4gICAgaWYgKGRpc3BhdGNoTGlzdGVuZXJzKGV2ZW50LCBkaXNwYXRjaEluc3RhbmNlcykpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaEluc3RhbmNlcztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQHNlZSBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlSW1wbFxuICovXG5mdW5jdGlvbiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlKGV2ZW50KSB7XG4gIHZhciByZXQgPSBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlSW1wbChldmVudCk7XG4gIGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcyA9IG51bGw7XG4gIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IG51bGw7XG4gIHJldHVybiByZXQ7XG59XG5cbi8qKlxuICogRXhlY3V0aW9uIG9mIGEgXCJkaXJlY3RcIiBkaXNwYXRjaCAtIHRoZXJlIG11c3QgYmUgYXQgbW9zdCBvbmUgZGlzcGF0Y2hcbiAqIGFjY3VtdWxhdGVkIG9uIHRoZSBldmVudCBvciBpdCBpcyBjb25zaWRlcmVkIGFuIGVycm9yLiBJdCBkb2Vzbid0IHJlYWxseSBtYWtlXG4gKiBzZW5zZSBmb3IgYW4gZXZlbnQgd2l0aCBtdWx0aXBsZSBkaXNwYXRjaGVzIChidWJibGVkKSB0byBrZWVwIHRyYWNrIG9mIHRoZVxuICogcmV0dXJuIHZhbHVlcyBhdCBlYWNoIGRpc3BhdGNoIGV4ZWN1dGlvbiwgYnV0IGl0IGRvZXMgdGVuZCB0byBtYWtlIHNlbnNlIHdoZW5cbiAqIGRlYWxpbmcgd2l0aCBcImRpcmVjdFwiIGRpc3BhdGNoZXMuXG4gKlxuICogQHJldHVybiB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBleGVjdXRpbmcgdGhlIHNpbmdsZSBkaXNwYXRjaC5cbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZURpcmVjdERpc3BhdGNoKGV2ZW50KSB7XG4gIHtcbiAgICB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyhldmVudCk7XG4gIH1cbiAgdmFyIGRpc3BhdGNoTGlzdGVuZXIgPSBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnM7XG4gIHZhciBkaXNwYXRjaEluc3RhbmNlID0gZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzO1xuICBpbnZhcmlhbnQoXG4gICAgIUFycmF5LmlzQXJyYXkoZGlzcGF0Y2hMaXN0ZW5lciksXG4gICAgXCJleGVjdXRlRGlyZWN0RGlzcGF0Y2goLi4uKTogSW52YWxpZCBgZXZlbnRgLlwiXG4gICk7XG4gIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBkaXNwYXRjaExpc3RlbmVyXG4gICAgPyBnZXROb2RlRnJvbUluc3RhbmNlKGRpc3BhdGNoSW5zdGFuY2UpXG4gICAgOiBudWxsO1xuICB2YXIgcmVzID0gZGlzcGF0Y2hMaXN0ZW5lciA/IGRpc3BhdGNoTGlzdGVuZXIoZXZlbnQpIDogbnVsbDtcbiAgZXZlbnQuY3VycmVudFRhcmdldCA9IG51bGw7XG4gIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IG51bGw7XG4gIGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcyA9IG51bGw7XG4gIHJldHVybiByZXM7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWZmIG51bWJlciBvZiBkaXNwYXRjaGVzIGFjY3VtdWxhdGVkIGlzIGdyZWF0ZXIgdGhhbiAwLlxuICovXG5mdW5jdGlvbiBoYXNEaXNwYXRjaGVzKGV2ZW50KSB7XG4gIHJldHVybiAhIWV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbn1cblxuLyoqXG4gKiBBY2N1bXVsYXRlcyBpdGVtcyB0aGF0IG11c3Qgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkIGludG8gdGhlIGZpcnN0IG9uZS4gVGhpc1xuICogaXMgdXNlZCB0byBjb25zZXJ2ZSBtZW1vcnkgYnkgYXZvaWRpbmcgYXJyYXkgYWxsb2NhdGlvbnMsIGFuZCB0aHVzIHNhY3JpZmljZXNcbiAqIEFQSSBjbGVhbm5lc3MuIFNpbmNlIGBjdXJyZW50YCBjYW4gYmUgbnVsbCBiZWZvcmUgYmVpbmcgcGFzc2VkIGluIGFuZCBub3RcbiAqIG51bGwgYWZ0ZXIgdGhpcyBmdW5jdGlvbiwgbWFrZSBzdXJlIHRvIGFzc2lnbiBpdCBiYWNrIHRvIGBjdXJyZW50YDpcbiAqXG4gKiBgYSA9IGFjY3VtdWxhdGVJbnRvKGEsIGIpO2BcbiAqXG4gKiBUaGlzIEFQSSBzaG91bGQgYmUgc3BhcmluZ2x5IHVzZWQuIFRyeSBgYWNjdW11bGF0ZWAgZm9yIHNvbWV0aGluZyBjbGVhbmVyLlxuICpcbiAqIEByZXR1cm4geyp8YXJyYXk8Kj59IEFuIGFjY3VtdWxhdGlvbiBvZiBpdGVtcy5cbiAqL1xuXG5mdW5jdGlvbiBhY2N1bXVsYXRlSW50byhjdXJyZW50LCBuZXh0KSB7XG4gIGludmFyaWFudChcbiAgICBuZXh0ICE9IG51bGwsXG4gICAgXCJhY2N1bXVsYXRlSW50byguLi4pOiBBY2N1bXVsYXRlZCBpdGVtcyBtdXN0IG5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5cIlxuICApO1xuXG4gIGlmIChjdXJyZW50ID09IG51bGwpIHtcbiAgICByZXR1cm4gbmV4dDtcbiAgfVxuXG4gIC8vIEJvdGggYXJlIG5vdCBlbXB0eS4gV2FybmluZzogTmV2ZXIgY2FsbCB4LmNvbmNhdCh5KSB3aGVuIHlvdSBhcmUgbm90XG4gIC8vIGNlcnRhaW4gdGhhdCB4IGlzIGFuIEFycmF5ICh4IGNvdWxkIGJlIGEgc3RyaW5nIHdpdGggY29uY2F0IG1ldGhvZCkuXG4gIGlmIChBcnJheS5pc0FycmF5KGN1cnJlbnQpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmV4dCkpIHtcbiAgICAgIGN1cnJlbnQucHVzaC5hcHBseShjdXJyZW50LCBuZXh0KTtcbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cbiAgICBjdXJyZW50LnB1c2gobmV4dCk7XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShuZXh0KSkge1xuICAgIC8vIEEgYml0IHRvbyBkYW5nZXJvdXMgdG8gbXV0YXRlIGBuZXh0YC5cbiAgICByZXR1cm4gW2N1cnJlbnRdLmNvbmNhdChuZXh0KTtcbiAgfVxuXG4gIHJldHVybiBbY3VycmVudCwgbmV4dF07XG59XG5cbi8qKlxuICogQHBhcmFtIHthcnJheX0gYXJyIGFuIFwiYWNjdW11bGF0aW9uXCIgb2YgaXRlbXMgd2hpY2ggaXMgZWl0aGVyIGFuIEFycmF5IG9yXG4gKiBhIHNpbmdsZSBpdGVtLiBVc2VmdWwgd2hlbiBwYWlyZWQgd2l0aCB0aGUgYGFjY3VtdWxhdGVgIG1vZHVsZS4gVGhpcyBpcyBhXG4gKiBzaW1wbGUgdXRpbGl0eSB0aGF0IGFsbG93cyB1cyB0byByZWFzb24gYWJvdXQgYSBjb2xsZWN0aW9uIG9mIGl0ZW1zLCBidXRcbiAqIGhhbmRsaW5nIHRoZSBjYXNlIHdoZW4gdGhlcmUgaXMgZXhhY3RseSBvbmUgaXRlbSAoYW5kIHdlIGRvIG5vdCBuZWVkIHRvXG4gKiBhbGxvY2F0ZSBhbiBhcnJheSkuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiBDYWxsYmFjayBpbnZva2VkIHdpdGggZWFjaCBlbGVtZW50IG9yIGEgY29sbGVjdGlvbi5cbiAqIEBwYXJhbSB7P30gW3Njb3BlXSBTY29wZSB1c2VkIGFzIGB0aGlzYCBpbiBhIGNhbGxiYWNrLlxuICovXG5mdW5jdGlvbiBmb3JFYWNoQWNjdW11bGF0ZWQoYXJyLCBjYiwgc2NvcGUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIGFyci5mb3JFYWNoKGNiLCBzY29wZSk7XG4gIH0gZWxzZSBpZiAoYXJyKSB7XG4gICAgY2IuY2FsbChzY29wZSwgYXJyKTtcbiAgfVxufVxuXG4vKipcbiAqIEludGVybmFsIHF1ZXVlIG9mIGV2ZW50cyB0aGF0IGhhdmUgYWNjdW11bGF0ZWQgdGhlaXIgZGlzcGF0Y2hlcyBhbmQgYXJlXG4gKiB3YWl0aW5nIHRvIGhhdmUgdGhlaXIgZGlzcGF0Y2hlcyBleGVjdXRlZC5cbiAqL1xudmFyIGV2ZW50UXVldWUgPSBudWxsO1xuXG4vKipcbiAqIERpc3BhdGNoZXMgYW4gZXZlbnQgYW5kIHJlbGVhc2VzIGl0IGJhY2sgaW50byB0aGUgcG9vbCwgdW5sZXNzIHBlcnNpc3RlbnQuXG4gKlxuICogQHBhcmFtIHs/b2JqZWN0fSBldmVudCBTeW50aGV0aWMgZXZlbnQgdG8gYmUgZGlzcGF0Y2hlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2ltdWxhdGVkIElmIHRoZSBldmVudCBpcyBzaW11bGF0ZWQgKGNoYW5nZXMgZXhuIGJlaGF2aW9yKVxuICogQHByaXZhdGVcbiAqL1xudmFyIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZSA9IGZ1bmN0aW9uKGV2ZW50LCBzaW11bGF0ZWQpIHtcbiAgaWYgKGV2ZW50KSB7XG4gICAgZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyKGV2ZW50LCBzaW11bGF0ZWQpO1xuXG4gICAgaWYgKCFldmVudC5pc1BlcnNpc3RlbnQoKSkge1xuICAgICAgZXZlbnQuY29uc3RydWN0b3IucmVsZWFzZShldmVudCk7XG4gICAgfVxuICB9XG59O1xudmFyIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZVNpbXVsYXRlZCA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZShlLCB0cnVlKTtcbn07XG52YXIgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlVG9wTGV2ZWwgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UoZSwgZmFsc2UpO1xufTtcblxuZnVuY3Rpb24gaXNJbnRlcmFjdGl2ZSh0YWcpIHtcbiAgcmV0dXJuIChcbiAgICB0YWcgPT09IFwiYnV0dG9uXCIgfHxcbiAgICB0YWcgPT09IFwiaW5wdXRcIiB8fFxuICAgIHRhZyA9PT0gXCJzZWxlY3RcIiB8fFxuICAgIHRhZyA9PT0gXCJ0ZXh0YXJlYVwiXG4gICk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFByZXZlbnRNb3VzZUV2ZW50KG5hbWUsIHR5cGUsIHByb3BzKSB7XG4gIHN3aXRjaCAobmFtZSkge1xuICAgIGNhc2UgXCJvbkNsaWNrXCI6XG4gICAgY2FzZSBcIm9uQ2xpY2tDYXB0dXJlXCI6XG4gICAgY2FzZSBcIm9uRG91YmxlQ2xpY2tcIjpcbiAgICBjYXNlIFwib25Eb3VibGVDbGlja0NhcHR1cmVcIjpcbiAgICBjYXNlIFwib25Nb3VzZURvd25cIjpcbiAgICBjYXNlIFwib25Nb3VzZURvd25DYXB0dXJlXCI6XG4gICAgY2FzZSBcIm9uTW91c2VNb3ZlXCI6XG4gICAgY2FzZSBcIm9uTW91c2VNb3ZlQ2FwdHVyZVwiOlxuICAgIGNhc2UgXCJvbk1vdXNlVXBcIjpcbiAgICBjYXNlIFwib25Nb3VzZVVwQ2FwdHVyZVwiOlxuICAgICAgcmV0dXJuICEhKHByb3BzLmRpc2FibGVkICYmIGlzSW50ZXJhY3RpdmUodHlwZSkpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGlzIGEgdW5pZmllZCBpbnRlcmZhY2UgZm9yIGV2ZW50IHBsdWdpbnMgdG8gYmUgaW5zdGFsbGVkIGFuZCBjb25maWd1cmVkLlxuICpcbiAqIEV2ZW50IHBsdWdpbnMgY2FuIGltcGxlbWVudCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICBgZXh0cmFjdEV2ZW50c2Age2Z1bmN0aW9uKHN0cmluZywgRE9NRXZlbnRUYXJnZXQsIHN0cmluZywgb2JqZWN0KTogKn1cbiAqICAgICBSZXF1aXJlZC4gV2hlbiBhIHRvcC1sZXZlbCBldmVudCBpcyBmaXJlZCwgdGhpcyBtZXRob2QgaXMgZXhwZWN0ZWQgdG9cbiAqICAgICBleHRyYWN0IHN5bnRoZXRpYyBldmVudHMgdGhhdCB3aWxsIGluIHR1cm4gYmUgcXVldWVkIGFuZCBkaXNwYXRjaGVkLlxuICpcbiAqICAgYGV2ZW50VHlwZXNgIHtvYmplY3R9XG4gKiAgICAgT3B0aW9uYWwsIHBsdWdpbnMgdGhhdCBmaXJlIGV2ZW50cyBtdXN0IHB1Ymxpc2ggYSBtYXBwaW5nIG9mIHJlZ2lzdHJhdGlvblxuICogICAgIG5hbWVzIHRoYXQgYXJlIHVzZWQgdG8gcmVnaXN0ZXIgbGlzdGVuZXJzLiBWYWx1ZXMgb2YgdGhpcyBtYXBwaW5nIG11c3RcbiAqICAgICBiZSBvYmplY3RzIHRoYXQgY29udGFpbiBgcmVnaXN0cmF0aW9uTmFtZWAgb3IgYHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzYC5cbiAqXG4gKiAgIGBleGVjdXRlRGlzcGF0Y2hgIHtmdW5jdGlvbihvYmplY3QsIGZ1bmN0aW9uLCBzdHJpbmcpfVxuICogICAgIE9wdGlvbmFsLCBhbGxvd3MgcGx1Z2lucyB0byBvdmVycmlkZSBob3cgYW4gZXZlbnQgZ2V0cyBkaXNwYXRjaGVkLiBCeVxuICogICAgIGRlZmF1bHQsIHRoZSBsaXN0ZW5lciBpcyBzaW1wbHkgaW52b2tlZC5cbiAqXG4gKiBFYWNoIHBsdWdpbiB0aGF0IGlzIGluamVjdGVkIGludG8gYEV2ZW50c1BsdWdpbkh1YmAgaXMgaW1tZWRpYXRlbHkgb3BlcmFibGUuXG4gKlxuICogQHB1YmxpY1xuICovXG5cbi8qKlxuICogTWV0aG9kcyBmb3IgaW5qZWN0aW5nIGRlcGVuZGVuY2llcy5cbiAqL1xudmFyIGluamVjdGlvbiA9IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7YXJyYXl9IEluamVjdGVkRXZlbnRQbHVnaW5PcmRlclxuICAgKiBAcHVibGljXG4gICAqL1xuICBpbmplY3RFdmVudFBsdWdpbk9yZGVyOiBpbmplY3RFdmVudFBsdWdpbk9yZGVyLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge29iamVjdH0gaW5qZWN0ZWROYW1lc1RvUGx1Z2lucyBNYXAgZnJvbSBuYW1lcyB0byBwbHVnaW4gbW9kdWxlcy5cbiAgICovXG4gIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTogaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBpbnN0IFRoZSBpbnN0YW5jZSwgd2hpY2ggaXMgdGhlIHNvdXJjZSBvZiBldmVudHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVnaXN0cmF0aW9uTmFtZSBOYW1lIG9mIGxpc3RlbmVyIChlLmcuIGBvbkNsaWNrYCkuXG4gKiBAcmV0dXJuIHs/ZnVuY3Rpb259IFRoZSBzdG9yZWQgY2FsbGJhY2suXG4gKi9cbmZ1bmN0aW9uIGdldExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgdmFyIGxpc3RlbmVyID0gdm9pZCAwO1xuXG4gIC8vIFRPRE86IHNob3VsZFByZXZlbnRNb3VzZUV2ZW50IGlzIERPTS1zcGVjaWZpYyBhbmQgZGVmaW5pdGVseSBzaG91bGQgbm90XG4gIC8vIGxpdmUgaGVyZTsgbmVlZHMgdG8gYmUgbW92ZWQgdG8gYSBiZXR0ZXIgcGxhY2Ugc29vblxuICB2YXIgc3RhdGVOb2RlID0gaW5zdC5zdGF0ZU5vZGU7XG4gIGlmICghc3RhdGVOb2RlKSB7XG4gICAgLy8gV29yayBpbiBwcm9ncmVzcyAoZXg6IG9ubG9hZCBldmVudHMgaW4gaW5jcmVtZW50YWwgbW9kZSkuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHByb3BzID0gZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZShzdGF0ZU5vZGUpO1xuICBpZiAoIXByb3BzKSB7XG4gICAgLy8gV29yayBpbiBwcm9ncmVzcy5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsaXN0ZW5lciA9IHByb3BzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuICBpZiAoc2hvdWxkUHJldmVudE1vdXNlRXZlbnQocmVnaXN0cmF0aW9uTmFtZSwgaW5zdC50eXBlLCBwcm9wcykpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpbnZhcmlhbnQoXG4gICAgIWxpc3RlbmVyIHx8IHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiLFxuICAgIFwiRXhwZWN0ZWQgYCVzYCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLCBpbnN0ZWFkIGdvdCBhIHZhbHVlIG9mIGAlc2AgdHlwZS5cIixcbiAgICByZWdpc3RyYXRpb25OYW1lLFxuICAgIHR5cGVvZiBsaXN0ZW5lclxuICApO1xuICByZXR1cm4gbGlzdGVuZXI7XG59XG5cbi8qKlxuICogQWxsb3dzIHJlZ2lzdGVyZWQgcGx1Z2lucyBhbiBvcHBvcnR1bml0eSB0byBleHRyYWN0IGV2ZW50cyBmcm9tIHRvcC1sZXZlbFxuICogbmF0aXZlIGJyb3dzZXIgZXZlbnRzLlxuICpcbiAqIEByZXR1cm4geyp9IEFuIGFjY3VtdWxhdGlvbiBvZiBzeW50aGV0aWMgZXZlbnRzLlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RFdmVudHMoXG4gIHRvcExldmVsVHlwZSxcbiAgdGFyZ2V0SW5zdCxcbiAgbmF0aXZlRXZlbnQsXG4gIG5hdGl2ZUV2ZW50VGFyZ2V0XG4pIHtcbiAgdmFyIGV2ZW50cyA9IG51bGw7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGx1Z2lucy5sZW5ndGg7IGkrKykge1xuICAgIC8vIE5vdCBldmVyeSBwbHVnaW4gaW4gdGhlIG9yZGVyaW5nIG1heSBiZSBsb2FkZWQgYXQgcnVudGltZS5cbiAgICB2YXIgcG9zc2libGVQbHVnaW4gPSBwbHVnaW5zW2ldO1xuICAgIGlmIChwb3NzaWJsZVBsdWdpbikge1xuICAgICAgdmFyIGV4dHJhY3RlZEV2ZW50cyA9IHBvc3NpYmxlUGx1Z2luLmV4dHJhY3RFdmVudHMoXG4gICAgICAgIHRvcExldmVsVHlwZSxcbiAgICAgICAgdGFyZ2V0SW5zdCxcbiAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICApO1xuICAgICAgaWYgKGV4dHJhY3RlZEV2ZW50cykge1xuICAgICAgICBldmVudHMgPSBhY2N1bXVsYXRlSW50byhldmVudHMsIGV4dHJhY3RlZEV2ZW50cyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBldmVudHM7XG59XG5cbmZ1bmN0aW9uIHJ1bkV2ZW50c0luQmF0Y2goZXZlbnRzLCBzaW11bGF0ZWQpIHtcbiAgaWYgKGV2ZW50cyAhPT0gbnVsbCkge1xuICAgIGV2ZW50UXVldWUgPSBhY2N1bXVsYXRlSW50byhldmVudFF1ZXVlLCBldmVudHMpO1xuICB9XG5cbiAgLy8gU2V0IGBldmVudFF1ZXVlYCB0byBudWxsIGJlZm9yZSBwcm9jZXNzaW5nIGl0IHNvIHRoYXQgd2UgY2FuIHRlbGwgaWYgbW9yZVxuICAvLyBldmVudHMgZ2V0IGVucXVldWVkIHdoaWxlIHByb2Nlc3NpbmcuXG4gIHZhciBwcm9jZXNzaW5nRXZlbnRRdWV1ZSA9IGV2ZW50UXVldWU7XG4gIGV2ZW50UXVldWUgPSBudWxsO1xuXG4gIGlmICghcHJvY2Vzc2luZ0V2ZW50UXVldWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoc2ltdWxhdGVkKSB7XG4gICAgZm9yRWFjaEFjY3VtdWxhdGVkKFxuICAgICAgcHJvY2Vzc2luZ0V2ZW50UXVldWUsXG4gICAgICBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VTaW11bGF0ZWRcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGZvckVhY2hBY2N1bXVsYXRlZChcbiAgICAgIHByb2Nlc3NpbmdFdmVudFF1ZXVlLFxuICAgICAgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlVG9wTGV2ZWxcbiAgICApO1xuICB9XG4gIGludmFyaWFudChcbiAgICAhZXZlbnRRdWV1ZSxcbiAgICBcInByb2Nlc3NFdmVudFF1ZXVlKCk6IEFkZGl0aW9uYWwgZXZlbnRzIHdlcmUgZW5xdWV1ZWQgd2hpbGUgcHJvY2Vzc2luZyBcIiArXG4gICAgICBcImFuIGV2ZW50IHF1ZXVlLiBTdXBwb3J0IGZvciB0aGlzIGhhcyBub3QgeWV0IGJlZW4gaW1wbGVtZW50ZWQuXCJcbiAgKTtcbiAgLy8gVGhpcyB3b3VsZCBiZSBhIGdvb2QgdGltZSB0byByZXRocm93IGlmIGFueSBvZiB0aGUgZXZlbnQgaGFuZGxlcnMgdGhyZXcuXG4gIFJlYWN0RXJyb3JVdGlscy5yZXRocm93Q2F1Z2h0RXJyb3IoKTtcbn1cblxuZnVuY3Rpb24gcnVuRXh0cmFjdGVkRXZlbnRzSW5CYXRjaChcbiAgdG9wTGV2ZWxUeXBlLFxuICB0YXJnZXRJbnN0LFxuICBuYXRpdmVFdmVudCxcbiAgbmF0aXZlRXZlbnRUYXJnZXRcbikge1xuICB2YXIgZXZlbnRzID0gZXh0cmFjdEV2ZW50cyhcbiAgICB0b3BMZXZlbFR5cGUsXG4gICAgdGFyZ2V0SW5zdCxcbiAgICBuYXRpdmVFdmVudCxcbiAgICBuYXRpdmVFdmVudFRhcmdldFxuICApO1xuICBydW5FdmVudHNJbkJhdGNoKGV2ZW50cywgZmFsc2UpO1xufVxuXG52YXIgSW5kZXRlcm1pbmF0ZUNvbXBvbmVudCA9IDA7IC8vIEJlZm9yZSB3ZSBrbm93IHdoZXRoZXIgaXQgaXMgZnVuY3Rpb25hbCBvciBjbGFzc1xudmFyIEZ1bmN0aW9uYWxDb21wb25lbnQgPSAxO1xudmFyIENsYXNzQ29tcG9uZW50ID0gMjtcbnZhciBIb3N0Um9vdCA9IDM7IC8vIFJvb3Qgb2YgYSBob3N0IHRyZWUuIENvdWxkIGJlIG5lc3RlZCBpbnNpZGUgYW5vdGhlciBub2RlLlxudmFyIEhvc3RQb3J0YWwgPSA0OyAvLyBBIHN1YnRyZWUuIENvdWxkIGJlIGFuIGVudHJ5IHBvaW50IHRvIGEgZGlmZmVyZW50IHJlbmRlcmVyLlxudmFyIEhvc3RDb21wb25lbnQgPSA1O1xudmFyIEhvc3RUZXh0ID0gNjtcbnZhciBDYWxsQ29tcG9uZW50ID0gNztcbnZhciBDYWxsSGFuZGxlclBoYXNlID0gODtcbnZhciBSZXR1cm5Db21wb25lbnQgPSA5O1xudmFyIEZyYWdtZW50ID0gMTA7XG52YXIgTW9kZSA9IDExO1xudmFyIENvbnRleHRDb25zdW1lciA9IDEyO1xudmFyIENvbnRleHRQcm92aWRlciA9IDEzO1xuXG5mdW5jdGlvbiBnZXRQYXJlbnQoaW5zdCkge1xuICBkbyB7XG4gICAgaW5zdCA9IGluc3RbXCJyZXR1cm5cIl07XG4gICAgLy8gVE9ETzogSWYgdGhpcyBpcyBhIEhvc3RSb290IHdlIG1pZ2h0IHdhbnQgdG8gYmFpbCBvdXQuXG4gICAgLy8gVGhhdCBpcyBkZXBlbmRpbmcgb24gaWYgd2Ugd2FudCBuZXN0ZWQgc3VidHJlZXMgKGxheWVycykgdG8gYnViYmxlXG4gICAgLy8gZXZlbnRzIHRvIHRoZWlyIHBhcmVudC4gV2UgY291bGQgYWxzbyBnbyB0aHJvdWdoIHBhcmVudE5vZGUgb24gdGhlXG4gICAgLy8gaG9zdCBub2RlIGJ1dCB0aGF0IHdvdWxkbid0IHdvcmsgZm9yIFJlYWN0IE5hdGl2ZSBhbmQgZG9lc24ndCBsZXQgdXNcbiAgICAvLyBkbyB0aGUgcG9ydGFsIGZlYXR1cmUuXG4gIH0gd2hpbGUgKGluc3QgJiYgaW5zdC50YWcgIT09IEhvc3RDb21wb25lbnQpO1xuICBpZiAoaW5zdCkge1xuICAgIHJldHVybiBpbnN0O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgbG93ZXN0IGNvbW1vbiBhbmNlc3RvciBvZiBBIGFuZCBCLCBvciBudWxsIGlmIHRoZXkgYXJlIGluXG4gKiBkaWZmZXJlbnQgdHJlZXMuXG4gKi9cbmZ1bmN0aW9uIGdldExvd2VzdENvbW1vbkFuY2VzdG9yKGluc3RBLCBpbnN0Qikge1xuICB2YXIgZGVwdGhBID0gMDtcbiAgZm9yICh2YXIgdGVtcEEgPSBpbnN0QTsgdGVtcEE7IHRlbXBBID0gZ2V0UGFyZW50KHRlbXBBKSkge1xuICAgIGRlcHRoQSsrO1xuICB9XG4gIHZhciBkZXB0aEIgPSAwO1xuICBmb3IgKHZhciB0ZW1wQiA9IGluc3RCOyB0ZW1wQjsgdGVtcEIgPSBnZXRQYXJlbnQodGVtcEIpKSB7XG4gICAgZGVwdGhCKys7XG4gIH1cblxuICAvLyBJZiBBIGlzIGRlZXBlciwgY3Jhd2wgdXAuXG4gIHdoaWxlIChkZXB0aEEgLSBkZXB0aEIgPiAwKSB7XG4gICAgaW5zdEEgPSBnZXRQYXJlbnQoaW5zdEEpO1xuICAgIGRlcHRoQS0tO1xuICB9XG5cbiAgLy8gSWYgQiBpcyBkZWVwZXIsIGNyYXdsIHVwLlxuICB3aGlsZSAoZGVwdGhCIC0gZGVwdGhBID4gMCkge1xuICAgIGluc3RCID0gZ2V0UGFyZW50KGluc3RCKTtcbiAgICBkZXB0aEItLTtcbiAgfVxuXG4gIC8vIFdhbGsgaW4gbG9ja3N0ZXAgdW50aWwgd2UgZmluZCBhIG1hdGNoLlxuICB2YXIgZGVwdGggPSBkZXB0aEE7XG4gIHdoaWxlIChkZXB0aC0tKSB7XG4gICAgaWYgKGluc3RBID09PSBpbnN0QiB8fCBpbnN0QSA9PT0gaW5zdEIuYWx0ZXJuYXRlKSB7XG4gICAgICByZXR1cm4gaW5zdEE7XG4gICAgfVxuICAgIGluc3RBID0gZ2V0UGFyZW50KGluc3RBKTtcbiAgICBpbnN0QiA9IGdldFBhcmVudChpbnN0Qik7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogUmV0dXJuIGlmIEEgaXMgYW4gYW5jZXN0b3Igb2YgQi5cbiAqL1xuZnVuY3Rpb24gaXNBbmNlc3RvcihpbnN0QSwgaW5zdEIpIHtcbiAgd2hpbGUgKGluc3RCKSB7XG4gICAgaWYgKGluc3RBID09PSBpbnN0QiB8fCBpbnN0QSA9PT0gaW5zdEIuYWx0ZXJuYXRlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaW5zdEIgPSBnZXRQYXJlbnQoaW5zdEIpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHBhcmVudCBpbnN0YW5jZSBvZiB0aGUgcGFzc2VkLWluIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBnZXRQYXJlbnRJbnN0YW5jZShpbnN0KSB7XG4gIHJldHVybiBnZXRQYXJlbnQoaW5zdCk7XG59XG5cbi8qKlxuICogU2ltdWxhdGVzIHRoZSB0cmF2ZXJzYWwgb2YgYSB0d28tcGhhc2UsIGNhcHR1cmUvYnViYmxlIGV2ZW50IGRpc3BhdGNoLlxuICovXG5mdW5jdGlvbiB0cmF2ZXJzZVR3b1BoYXNlKGluc3QsIGZuLCBhcmcpIHtcbiAgdmFyIHBhdGggPSBbXTtcbiAgd2hpbGUgKGluc3QpIHtcbiAgICBwYXRoLnB1c2goaW5zdCk7XG4gICAgaW5zdCA9IGdldFBhcmVudChpbnN0KTtcbiAgfVxuICB2YXIgaSA9IHZvaWQgMDtcbiAgZm9yIChpID0gcGF0aC5sZW5ndGg7IGktLSA+IDA7ICkge1xuICAgIGZuKHBhdGhbaV0sIFwiY2FwdHVyZWRcIiwgYXJnKTtcbiAgfVxuICBmb3IgKGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgIGZuKHBhdGhbaV0sIFwiYnViYmxlZFwiLCBhcmcpO1xuICB9XG59XG5cbi8qKlxuICogVHJhdmVyc2VzIHRoZSBJRCBoaWVyYXJjaHkgYW5kIGludm9rZXMgdGhlIHN1cHBsaWVkIGBjYmAgb24gYW55IElEcyB0aGF0XG4gKiBzaG91bGQgd291bGQgcmVjZWl2ZSBhIGBtb3VzZUVudGVyYCBvciBgbW91c2VMZWF2ZWAgZXZlbnQuXG4gKlxuICogRG9lcyBub3QgaW52b2tlIHRoZSBjYWxsYmFjayBvbiB0aGUgbmVhcmVzdCBjb21tb24gYW5jZXN0b3IgYmVjYXVzZSBub3RoaW5nXG4gKiBcImVudGVyZWRcIiBvciBcImxlZnRcIiB0aGF0IGVsZW1lbnQuXG4gKi9cblxuLyoqXG4gKiBTb21lIGV2ZW50IHR5cGVzIGhhdmUgYSBub3Rpb24gb2YgZGlmZmVyZW50IHJlZ2lzdHJhdGlvbiBuYW1lcyBmb3IgZGlmZmVyZW50XG4gKiBcInBoYXNlc1wiIG9mIHByb3BhZ2F0aW9uLiBUaGlzIGZpbmRzIGxpc3RlbmVycyBieSBhIGdpdmVuIHBoYXNlLlxuICovXG5mdW5jdGlvbiBsaXN0ZW5lckF0UGhhc2UoaW5zdCwgZXZlbnQsIHByb3BhZ2F0aW9uUGhhc2UpIHtcbiAgdmFyIHJlZ2lzdHJhdGlvbk5hbWUgPVxuICAgIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW3Byb3BhZ2F0aW9uUGhhc2VdO1xuICByZXR1cm4gZ2V0TGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSk7XG59XG5cbi8qKlxuICogQSBzbWFsbCBzZXQgb2YgcHJvcGFnYXRpb24gcGF0dGVybnMsIGVhY2ggb2Ygd2hpY2ggd2lsbCBhY2NlcHQgYSBzbWFsbCBhbW91bnRcbiAqIG9mIGluZm9ybWF0aW9uLCBhbmQgZ2VuZXJhdGUgYSBzZXQgb2YgXCJkaXNwYXRjaCByZWFkeSBldmVudCBvYmplY3RzXCIgLSB3aGljaFxuICogYXJlIHNldHMgb2YgZXZlbnRzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gYW5ub3RhdGVkIHdpdGggYSBzZXQgb2YgZGlzcGF0Y2hlZFxuICogbGlzdGVuZXIgZnVuY3Rpb25zL2lkcy4gVGhlIEFQSSBpcyBkZXNpZ25lZCB0aGlzIHdheSB0byBkaXNjb3VyYWdlIHRoZXNlXG4gKiBwcm9wYWdhdGlvbiBzdHJhdGVnaWVzIGZyb20gYWN0dWFsbHkgZXhlY3V0aW5nIHRoZSBkaXNwYXRjaGVzLCBzaW5jZSB3ZVxuICogYWx3YXlzIHdhbnQgdG8gY29sbGVjdCB0aGUgZW50aXJlIHNldCBvZiBkaXNwYXRjaGVzIGJlZm9yZSBleGVjdXRpbmcgZXZlbiBhXG4gKiBzaW5nbGUgb25lLlxuICovXG5cbi8qKlxuICogVGFncyBhIGBTeW50aGV0aWNFdmVudGAgd2l0aCBkaXNwYXRjaGVkIGxpc3RlbmVycy4gQ3JlYXRpbmcgdGhpcyBmdW5jdGlvblxuICogaGVyZSwgYWxsb3dzIHVzIHRvIG5vdCBoYXZlIHRvIGJpbmQgb3IgY3JlYXRlIGZ1bmN0aW9ucyBmb3IgZWFjaCBldmVudC5cbiAqIE11dGF0aW5nIHRoZSBldmVudCdzIG1lbWJlcnMgYWxsb3dzIHVzIHRvIG5vdCBoYXZlIHRvIGNyZWF0ZSBhIHdyYXBwaW5nXG4gKiBcImRpc3BhdGNoXCIgb2JqZWN0IHRoYXQgcGFpcnMgdGhlIGV2ZW50IHdpdGggdGhlIGxpc3RlbmVyLlxuICovXG5mdW5jdGlvbiBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzKGluc3QsIHBoYXNlLCBldmVudCkge1xuICB7XG4gICAgd2FybmluZyhpbnN0LCBcIkRpc3BhdGNoaW5nIGluc3QgbXVzdCBub3QgYmUgbnVsbFwiKTtcbiAgfVxuICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lckF0UGhhc2UoaW5zdCwgZXZlbnQsIHBoYXNlKTtcbiAgaWYgKGxpc3RlbmVyKSB7XG4gICAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gYWNjdW11bGF0ZUludG8oXG4gICAgICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMsXG4gICAgICBsaXN0ZW5lclxuICAgICk7XG4gICAgZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzID0gYWNjdW11bGF0ZUludG8oZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzLCBpbnN0KTtcbiAgfVxufVxuXG4vKipcbiAqIENvbGxlY3QgZGlzcGF0Y2hlcyAobXVzdCBiZSBlbnRpcmVseSBjb2xsZWN0ZWQgYmVmb3JlIGRpc3BhdGNoaW5nIC0gc2VlIHVuaXRcbiAqIHRlc3RzKS4gTGF6aWx5IGFsbG9jYXRlIHRoZSBhcnJheSB0byBjb25zZXJ2ZSBtZW1vcnkuICBXZSBtdXN0IGxvb3AgdGhyb3VnaFxuICogZWFjaCBldmVudCBhbmQgcGVyZm9ybSB0aGUgdHJhdmVyc2FsIGZvciBlYWNoIG9uZS4gV2UgY2Fubm90IHBlcmZvcm0gYVxuICogc2luZ2xlIHRyYXZlcnNhbCBmb3IgdGhlIGVudGlyZSBjb2xsZWN0aW9uIG9mIGV2ZW50cyBiZWNhdXNlIGVhY2ggZXZlbnQgbWF5XG4gKiBoYXZlIGEgZGlmZmVyZW50IHRhcmdldC5cbiAqL1xuZnVuY3Rpb24gYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZShldmVudCkge1xuICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICB0cmF2ZXJzZVR3b1BoYXNlKGV2ZW50Ll90YXJnZXRJbnN0LCBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzLCBldmVudCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTYW1lIGFzIGBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlYCwgYnV0IHNraXBzIG92ZXIgdGhlIHRhcmdldElELlxuICovXG5mdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlU2tpcFRhcmdldChldmVudCkge1xuICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICB2YXIgdGFyZ2V0SW5zdCA9IGV2ZW50Ll90YXJnZXRJbnN0O1xuICAgIHZhciBwYXJlbnRJbnN0ID0gdGFyZ2V0SW5zdCA/IGdldFBhcmVudEluc3RhbmNlKHRhcmdldEluc3QpIDogbnVsbDtcbiAgICB0cmF2ZXJzZVR3b1BoYXNlKHBhcmVudEluc3QsIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMsIGV2ZW50KTtcbiAgfVxufVxuXG4vKipcbiAqIEFjY3VtdWxhdGVzIHdpdGhvdXQgcmVnYXJkIHRvIGRpcmVjdGlvbiwgZG9lcyBub3QgbG9vayBmb3IgcGhhc2VkXG4gKiByZWdpc3RyYXRpb24gbmFtZXMuIFNhbWUgYXMgYGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlYCBidXQgd2l0aG91dFxuICogcmVxdWlyaW5nIHRoYXQgdGhlIGBkaXNwYXRjaE1hcmtlcmAgYmUgdGhlIHNhbWUgYXMgdGhlIGRpc3BhdGNoZWQgSUQuXG4gKi9cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXNwYXRjaGVzKGluc3QsIGlnbm9yZWREaXJlY3Rpb24sIGV2ZW50KSB7XG4gIGlmIChpbnN0ICYmIGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICB2YXIgcmVnaXN0cmF0aW9uTmFtZSA9IGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWU7XG4gICAgdmFyIGxpc3RlbmVyID0gZ2V0TGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSk7XG4gICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPSBhY2N1bXVsYXRlSW50byhcbiAgICAgICAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzLFxuICAgICAgICBsaXN0ZW5lclxuICAgICAgKTtcbiAgICAgIGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcywgaW5zdCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjdW11bGF0ZXMgZGlzcGF0Y2hlcyBvbiBhbiBgU3ludGhldGljRXZlbnRgLCBidXQgb25seSBmb3IgdGhlXG4gKiBgZGlzcGF0Y2hNYXJrZXJgLlxuICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnRcbiAqL1xuZnVuY3Rpb24gYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXNTaW5nbGUoZXZlbnQpIHtcbiAgaWYgKGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICBhY2N1bXVsYXRlRGlzcGF0Y2hlcyhldmVudC5fdGFyZ2V0SW5zdCwgbnVsbCwgZXZlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnRzKSB7XG4gIGZvckVhY2hBY2N1bXVsYXRlZChldmVudHMsIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGUpO1xufVxuXG5mdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2tpcFRhcmdldChldmVudHMpIHtcbiAgZm9yRWFjaEFjY3VtdWxhdGVkKGV2ZW50cywgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZVNraXBUYXJnZXQpO1xufVxuXG5mdW5jdGlvbiBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcyhldmVudHMpIHtcbiAgZm9yRWFjaEFjY3VtdWxhdGVkKGV2ZW50cywgYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXNTaW5nbGUpO1xufVxuXG4vKiBlc2xpbnQgdmFsaWQtdHlwZW9mOiAwICovXG5cbnZhciBkaWRXYXJuRm9yQWRkZWROZXdQcm9wZXJ0eSA9IGZhbHNlO1xudmFyIEVWRU5UX1BPT0xfU0laRSA9IDEwO1xuXG52YXIgc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMgPSBbXG4gIFwiZGlzcGF0Y2hDb25maWdcIixcbiAgXCJfdGFyZ2V0SW5zdFwiLFxuICBcIm5hdGl2ZUV2ZW50XCIsXG4gIFwiaXNEZWZhdWx0UHJldmVudGVkXCIsXG4gIFwiaXNQcm9wYWdhdGlvblN0b3BwZWRcIixcbiAgXCJfZGlzcGF0Y2hMaXN0ZW5lcnNcIixcbiAgXCJfZGlzcGF0Y2hJbnN0YW5jZXNcIlxuXTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy9cbiAqL1xudmFyIEV2ZW50SW50ZXJmYWNlID0ge1xuICB0eXBlOiBudWxsLFxuICB0YXJnZXQ6IG51bGwsXG4gIC8vIGN1cnJlbnRUYXJnZXQgaXMgc2V0IHdoZW4gZGlzcGF0Y2hpbmc7IG5vIHVzZSBpbiBjb3B5aW5nIGl0IGhlcmVcbiAgY3VycmVudFRhcmdldDogZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwsXG4gIGV2ZW50UGhhc2U6IG51bGwsXG4gIGJ1YmJsZXM6IG51bGwsXG4gIGNhbmNlbGFibGU6IG51bGwsXG4gIHRpbWVTdGFtcDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG4gIH0sXG4gIGRlZmF1bHRQcmV2ZW50ZWQ6IG51bGwsXG4gIGlzVHJ1c3RlZDogbnVsbFxufTtcblxuLyoqXG4gKiBTeW50aGV0aWMgZXZlbnRzIGFyZSBkaXNwYXRjaGVkIGJ5IGV2ZW50IHBsdWdpbnMsIHR5cGljYWxseSBpbiByZXNwb25zZSB0byBhXG4gKiB0b3AtbGV2ZWwgZXZlbnQgZGVsZWdhdGlvbiBoYW5kbGVyLlxuICpcbiAqIFRoZXNlIHN5c3RlbXMgc2hvdWxkIGdlbmVyYWxseSB1c2UgcG9vbGluZyB0byByZWR1Y2UgdGhlIGZyZXF1ZW5jeSBvZiBnYXJiYWdlXG4gKiBjb2xsZWN0aW9uLiBUaGUgc3lzdGVtIHNob3VsZCBjaGVjayBgaXNQZXJzaXN0ZW50YCB0byBkZXRlcm1pbmUgd2hldGhlciB0aGVcbiAqIGV2ZW50IHNob3VsZCBiZSByZWxlYXNlZCBpbnRvIHRoZSBwb29sIGFmdGVyIGJlaW5nIGRpc3BhdGNoZWQuIFVzZXJzIHRoYXRcbiAqIG5lZWQgYSBwZXJzaXN0ZWQgZXZlbnQgc2hvdWxkIGludm9rZSBgcGVyc2lzdGAuXG4gKlxuICogU3ludGhldGljIGV2ZW50cyAoYW5kIHN1YmNsYXNzZXMpIGltcGxlbWVudCB0aGUgRE9NIExldmVsIDMgRXZlbnRzIEFQSSBieVxuICogbm9ybWFsaXppbmcgYnJvd3NlciBxdWlya3MuIFN1YmNsYXNzZXMgZG8gbm90IG5lY2Vzc2FyaWx5IGhhdmUgdG8gaW1wbGVtZW50IGFcbiAqIERPTSBpbnRlcmZhY2U7IGN1c3RvbSBhcHBsaWNhdGlvbi1zcGVjaWZpYyBldmVudHMgY2FuIGFsc28gc3ViY2xhc3MgdGhpcy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZGlzcGF0Y2hDb25maWcgQ29uZmlndXJhdGlvbiB1c2VkIHRvIGRpc3BhdGNoIHRoaXMgZXZlbnQuXG4gKiBAcGFyYW0geyp9IHRhcmdldEluc3QgTWFya2VyIGlkZW50aWZ5aW5nIHRoZSBldmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcGFyYW0ge0RPTUV2ZW50VGFyZ2V0fSBuYXRpdmVFdmVudFRhcmdldCBUYXJnZXQgbm9kZS5cbiAqL1xuZnVuY3Rpb24gU3ludGhldGljRXZlbnQoXG4gIGRpc3BhdGNoQ29uZmlnLFxuICB0YXJnZXRJbnN0LFxuICBuYXRpdmVFdmVudCxcbiAgbmF0aXZlRXZlbnRUYXJnZXRcbikge1xuICB7XG4gICAgLy8gdGhlc2UgaGF2ZSBhIGdldHRlci9zZXR0ZXIgZm9yIHdhcm5pbmdzXG4gICAgZGVsZXRlIHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgZGVsZXRlIHRoaXMucHJldmVudERlZmF1bHQ7XG4gICAgZGVsZXRlIHRoaXMuc3RvcFByb3BhZ2F0aW9uO1xuICB9XG5cbiAgdGhpcy5kaXNwYXRjaENvbmZpZyA9IGRpc3BhdGNoQ29uZmlnO1xuICB0aGlzLl90YXJnZXRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgdGhpcy5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuXG4gIHZhciBJbnRlcmZhY2UgPSB0aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZTtcbiAgZm9yICh2YXIgcHJvcE5hbWUgaW4gSW50ZXJmYWNlKSB7XG4gICAgaWYgKCFJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAge1xuICAgICAgZGVsZXRlIHRoaXNbcHJvcE5hbWVdOyAvLyB0aGlzIGhhcyBhIGdldHRlci9zZXR0ZXIgZm9yIHdhcm5pbmdzXG4gICAgfVxuICAgIHZhciBub3JtYWxpemUgPSBJbnRlcmZhY2VbcHJvcE5hbWVdO1xuICAgIGlmIChub3JtYWxpemUpIHtcbiAgICAgIHRoaXNbcHJvcE5hbWVdID0gbm9ybWFsaXplKG5hdGl2ZUV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByb3BOYW1lID09PSBcInRhcmdldFwiKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbmF0aXZlRXZlbnRUYXJnZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzW3Byb3BOYW1lXSA9IG5hdGl2ZUV2ZW50W3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgZGVmYXVsdFByZXZlbnRlZCA9XG4gICAgbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCAhPSBudWxsXG4gICAgICA/IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWRcbiAgICAgIDogbmF0aXZlRXZlbnQucmV0dXJuVmFsdWUgPT09IGZhbHNlO1xuICBpZiAoZGVmYXVsdFByZXZlbnRlZCkge1xuICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2U7XG4gIH1cbiAgdGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbk9iamVjdC5hc3NpZ24oU3ludGhldGljRXZlbnQucHJvdG90eXBlLCB7XG4gIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIHZhciBldmVudCA9IHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgaWYgKCFldmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudC5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBldmVudC5yZXR1cm5WYWx1ZSAhPT0gXCJ1bmtub3duXCIpIHtcbiAgICAgIGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU7XG4gIH0sXG5cbiAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZXZlbnQgPSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgIGlmICghZXZlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBldmVudC5jYW5jZWxCdWJibGUgIT09IFwidW5rbm93blwiKSB7XG4gICAgICAvLyBUaGUgQ2hhbmdlRXZlbnRQbHVnaW4gcmVnaXN0ZXJzIGEgXCJwcm9wZXJ0eWNoYW5nZVwiIGV2ZW50IGZvclxuICAgICAgLy8gSUUuIFRoaXMgZXZlbnQgZG9lcyBub3Qgc3VwcG9ydCBidWJibGluZyBvciBjYW5jZWxsaW5nLCBhbmRcbiAgICAgIC8vIGFueSByZWZlcmVuY2VzIHRvIGNhbmNlbEJ1YmJsZSB0aHJvdyBcIk1lbWJlciBub3QgZm91bmRcIi4gIEFcbiAgICAgIC8vIHR5cGVvZiBjaGVjayBvZiBcInVua25vd25cIiBjaXJjdW12ZW50cyB0aGlzIGlzc3VlIChhbmQgaXMgYWxzb1xuICAgICAgLy8gSUUgc3BlY2lmaWMpLlxuICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFdlIHJlbGVhc2UgYWxsIGRpc3BhdGNoZWQgYFN5bnRoZXRpY0V2ZW50YHMgYWZ0ZXIgZWFjaCBldmVudCBsb29wLCBhZGRpbmdcbiAgICogdGhlbSBiYWNrIGludG8gdGhlIHBvb2wuIFRoaXMgYWxsb3dzIGEgd2F5IHRvIGhvbGQgb250byBhIHJlZmVyZW5jZSB0aGF0XG4gICAqIHdvbid0IGJlIGFkZGVkIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICovXG4gIHBlcnNpc3Q6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaXNQZXJzaXN0ZW50ID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGlzIGV2ZW50IHNob3VsZCBiZSByZWxlYXNlZCBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhpcyBzaG91bGQgbm90IGJlIHJlbGVhc2VkLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBpc1BlcnNpc3RlbnQ6IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZSxcblxuICAvKipcbiAgICogYFBvb2xlZENsYXNzYCBsb29rcyBmb3IgYGRlc3RydWN0b3JgIG9uIGVhY2ggaW5zdGFuY2UgaXQgcmVsZWFzZXMuXG4gICAqL1xuICBkZXN0cnVjdG9yOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgSW50ZXJmYWNlID0gdGhpcy5jb25zdHJ1Y3Rvci5JbnRlcmZhY2U7XG4gICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gSW50ZXJmYWNlKSB7XG4gICAgICB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIHByb3BOYW1lLFxuICAgICAgICAgIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24ocHJvcE5hbWUsIEludGVyZmFjZVtwcm9wTmFtZV0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXNbc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXNbaV1dID0gbnVsbDtcbiAgICB9XG4gICAge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICB0aGlzLFxuICAgICAgICBcIm5hdGl2ZUV2ZW50XCIsXG4gICAgICAgIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24oXCJuYXRpdmVFdmVudFwiLCBudWxsKVxuICAgICAgKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgdGhpcyxcbiAgICAgICAgXCJwcmV2ZW50RGVmYXVsdFwiLFxuICAgICAgICBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKFwicHJldmVudERlZmF1bHRcIiwgZW1wdHlGdW5jdGlvbilcbiAgICAgICk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIFwic3RvcFByb3BhZ2F0aW9uXCIsXG4gICAgICAgIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24oXCJzdG9wUHJvcGFnYXRpb25cIiwgZW1wdHlGdW5jdGlvbilcbiAgICAgICk7XG4gICAgfVxuICB9XG59KTtcblxuU3ludGhldGljRXZlbnQuSW50ZXJmYWNlID0gRXZlbnRJbnRlcmZhY2U7XG5cbi8qKlxuICogSGVscGVyIHRvIHJlZHVjZSBib2lsZXJwbGF0ZSB3aGVuIGNyZWF0aW5nIHN1YmNsYXNzZXMuXG4gKi9cblN5bnRoZXRpY0V2ZW50LmV4dGVuZCA9IGZ1bmN0aW9uKEludGVyZmFjZSkge1xuICB2YXIgU3VwZXIgPSB0aGlzO1xuXG4gIHZhciBFID0gZnVuY3Rpb24oKSB7fTtcbiAgRS5wcm90b3R5cGUgPSBTdXBlci5wcm90b3R5cGU7XG4gIHZhciBwcm90b3R5cGUgPSBuZXcgRSgpO1xuXG4gIGZ1bmN0aW9uIENsYXNzKCkge1xuICAgIHJldHVybiBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG4gIE9iamVjdC5hc3NpZ24ocHJvdG90eXBlLCBDbGFzcy5wcm90b3R5cGUpO1xuICBDbGFzcy5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gIENsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENsYXNzO1xuXG4gIENsYXNzLkludGVyZmFjZSA9IE9iamVjdC5hc3NpZ24oe30sIFN1cGVyLkludGVyZmFjZSwgSW50ZXJmYWNlKTtcbiAgQ2xhc3MuZXh0ZW5kID0gU3VwZXIuZXh0ZW5kO1xuICBhZGRFdmVudFBvb2xpbmdUbyhDbGFzcyk7XG5cbiAgcmV0dXJuIENsYXNzO1xufTtcblxuLyoqIFByb3h5aW5nIGFmdGVyIGV2ZXJ5dGhpbmcgc2V0IG9uIFN5bnRoZXRpY0V2ZW50XG4gKiB0byByZXNvbHZlIFByb3h5IGlzc3VlIG9uIHNvbWUgV2ViS2l0IGJyb3dzZXJzXG4gKiBpbiB3aGljaCBzb21lIEV2ZW50IHByb3BlcnRpZXMgYXJlIHNldCB0byB1bmRlZmluZWQgKEdIIzEwMDEwKVxuICovXG57XG4gIHZhciBpc1Byb3h5U3VwcG9ydGVkID1cbiAgICB0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTIwMTFcbiAgICAhT2JqZWN0LmlzU2VhbGVkKG5ldyBQcm94eSh7fSwge30pKTtcblxuICBpZiAoaXNQcm94eVN1cHBvcnRlZCkge1xuICAgIC8qZXNsaW50LWRpc2FibGUgbm8tZnVuYy1hc3NpZ24gKi9cbiAgICBTeW50aGV0aWNFdmVudCA9IG5ldyBQcm94eShTeW50aGV0aWNFdmVudCwge1xuICAgICAgY29uc3RydWN0OiBmdW5jdGlvbih0YXJnZXQsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHkodGFyZ2V0LCBPYmplY3QuY3JlYXRlKHRhcmdldC5wcm90b3R5cGUpLCBhcmdzKTtcbiAgICAgIH0sXG4gICAgICBhcHBseTogZnVuY3Rpb24oY29uc3RydWN0b3IsIHRoYXQsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShjb25zdHJ1Y3Rvci5hcHBseSh0aGF0LCBhcmdzKSwge1xuICAgICAgICAgIHNldDogZnVuY3Rpb24odGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBwcm9wICE9PSBcImlzUGVyc2lzdGVudFwiICYmXG4gICAgICAgICAgICAgICF0YXJnZXQuY29uc3RydWN0b3IuSW50ZXJmYWNlLmhhc093blByb3BlcnR5KHByb3ApICYmXG4gICAgICAgICAgICAgIHNob3VsZEJlUmVsZWFzZWRQcm9wZXJ0aWVzLmluZGV4T2YocHJvcCkgPT09IC0xXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgICAgICBkaWRXYXJuRm9yQWRkZWROZXdQcm9wZXJ0eSB8fCB0YXJnZXQuaXNQZXJzaXN0ZW50KCksXG4gICAgICAgICAgICAgICAgXCJUaGlzIHN5bnRoZXRpYyBldmVudCBpcyByZXVzZWQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuIElmIHlvdSdyZSBcIiArXG4gICAgICAgICAgICAgICAgICBcInNlZWluZyB0aGlzLCB5b3UncmUgYWRkaW5nIGEgbmV3IHByb3BlcnR5IGluIHRoZSBzeW50aGV0aWMgZXZlbnQgb2JqZWN0LiBcIiArXG4gICAgICAgICAgICAgICAgICBcIlRoZSBwcm9wZXJ0eSBpcyBuZXZlciByZWxlYXNlZC4gU2VlIFwiICtcbiAgICAgICAgICAgICAgICAgIFwiaHR0cHM6Ly9mYi5tZS9yZWFjdC1ldmVudC1wb29saW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGRpZFdhcm5Gb3JBZGRlZE5ld1Byb3BlcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvKmVzbGludC1lbmFibGUgbm8tZnVuYy1hc3NpZ24gKi9cbiAgfVxufVxuXG5hZGRFdmVudFBvb2xpbmdUbyhTeW50aGV0aWNFdmVudCk7XG5cbi8qKlxuICogSGVscGVyIHRvIG51bGxpZnkgc3ludGhldGljRXZlbnQgaW5zdGFuY2UgcHJvcGVydGllcyB3aGVuIGRlc3RydWN0aW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BOYW1lXG4gKiBAcGFyYW0gez9vYmplY3R9IGdldFZhbFxuICogQHJldHVybiB7b2JqZWN0fSBkZWZpbmVQcm9wZXJ0eSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbihwcm9wTmFtZSwgZ2V0VmFsKSB7XG4gIHZhciBpc0Z1bmN0aW9uID0gdHlwZW9mIGdldFZhbCA9PT0gXCJmdW5jdGlvblwiO1xuICByZXR1cm4ge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBzZXQ6IHNldCxcbiAgICBnZXQ6IGdldFxuICB9O1xuXG4gIGZ1bmN0aW9uIHNldCh2YWwpIHtcbiAgICB2YXIgYWN0aW9uID0gaXNGdW5jdGlvbiA/IFwic2V0dGluZyB0aGUgbWV0aG9kXCIgOiBcInNldHRpbmcgdGhlIHByb3BlcnR5XCI7XG4gICAgd2FybihhY3Rpb24sIFwiVGhpcyBpcyBlZmZlY3RpdmVseSBhIG5vLW9wXCIpO1xuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgdmFyIGFjdGlvbiA9IGlzRnVuY3Rpb24gPyBcImFjY2Vzc2luZyB0aGUgbWV0aG9kXCIgOiBcImFjY2Vzc2luZyB0aGUgcHJvcGVydHlcIjtcbiAgICB2YXIgcmVzdWx0ID0gaXNGdW5jdGlvblxuICAgICAgPyBcIlRoaXMgaXMgYSBuby1vcCBmdW5jdGlvblwiXG4gICAgICA6IFwiVGhpcyBpcyBzZXQgdG8gbnVsbFwiO1xuICAgIHdhcm4oYWN0aW9uLCByZXN1bHQpO1xuICAgIHJldHVybiBnZXRWYWw7XG4gIH1cblxuICBmdW5jdGlvbiB3YXJuKGFjdGlvbiwgcmVzdWx0KSB7XG4gICAgdmFyIHdhcm5pbmdDb25kaXRpb24gPSBmYWxzZTtcbiAgICB3YXJuaW5nKFxuICAgICAgd2FybmluZ0NvbmRpdGlvbixcbiAgICAgIFwiVGhpcyBzeW50aGV0aWMgZXZlbnQgaXMgcmV1c2VkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLiBJZiB5b3UncmUgc2VlaW5nIHRoaXMsIFwiICtcbiAgICAgICAgXCJ5b3UncmUgJXMgYCVzYCBvbiBhIHJlbGVhc2VkL251bGxpZmllZCBzeW50aGV0aWMgZXZlbnQuICVzLiBcIiArXG4gICAgICAgIFwiSWYgeW91IG11c3Qga2VlcCB0aGUgb3JpZ2luYWwgc3ludGhldGljIGV2ZW50IGFyb3VuZCwgdXNlIGV2ZW50LnBlcnNpc3QoKS4gXCIgK1xuICAgICAgICBcIlNlZSBodHRwczovL2ZiLm1lL3JlYWN0LWV2ZW50LXBvb2xpbmcgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCIsXG4gICAgICBhY3Rpb24sXG4gICAgICBwcm9wTmFtZSxcbiAgICAgIHJlc3VsdFxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UG9vbGVkRXZlbnQoZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVJbnN0KSB7XG4gIHZhciBFdmVudENvbnN0cnVjdG9yID0gdGhpcztcbiAgaWYgKEV2ZW50Q29uc3RydWN0b3IuZXZlbnRQb29sLmxlbmd0aCkge1xuICAgIHZhciBpbnN0YW5jZSA9IEV2ZW50Q29uc3RydWN0b3IuZXZlbnRQb29sLnBvcCgpO1xuICAgIEV2ZW50Q29uc3RydWN0b3IuY2FsbChcbiAgICAgIGluc3RhbmNlLFxuICAgICAgZGlzcGF0Y2hDb25maWcsXG4gICAgICB0YXJnZXRJbnN0LFxuICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICBuYXRpdmVJbnN0XG4gICAgKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cbiAgcmV0dXJuIG5ldyBFdmVudENvbnN0cnVjdG9yKFxuICAgIGRpc3BhdGNoQ29uZmlnLFxuICAgIHRhcmdldEluc3QsXG4gICAgbmF0aXZlRXZlbnQsXG4gICAgbmF0aXZlSW5zdFxuICApO1xufVxuXG5mdW5jdGlvbiByZWxlYXNlUG9vbGVkRXZlbnQoZXZlbnQpIHtcbiAgdmFyIEV2ZW50Q29uc3RydWN0b3IgPSB0aGlzO1xuICBpbnZhcmlhbnQoXG4gICAgZXZlbnQgaW5zdGFuY2VvZiBFdmVudENvbnN0cnVjdG9yLFxuICAgIFwiVHJ5aW5nIHRvIHJlbGVhc2UgYW4gZXZlbnQgaW5zdGFuY2UgIGludG8gYSBwb29sIG9mIGEgZGlmZmVyZW50IHR5cGUuXCJcbiAgKTtcbiAgZXZlbnQuZGVzdHJ1Y3RvcigpO1xuICBpZiAoRXZlbnRDb25zdHJ1Y3Rvci5ldmVudFBvb2wubGVuZ3RoIDwgRVZFTlRfUE9PTF9TSVpFKSB7XG4gICAgRXZlbnRDb25zdHJ1Y3Rvci5ldmVudFBvb2wucHVzaChldmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkRXZlbnRQb29saW5nVG8oRXZlbnRDb25zdHJ1Y3Rvcikge1xuICBFdmVudENvbnN0cnVjdG9yLmV2ZW50UG9vbCA9IFtdO1xuICBFdmVudENvbnN0cnVjdG9yLmdldFBvb2xlZCA9IGdldFBvb2xlZEV2ZW50O1xuICBFdmVudENvbnN0cnVjdG9yLnJlbGVhc2UgPSByZWxlYXNlUG9vbGVkRXZlbnQ7XG59XG5cbnZhciBTeW50aGV0aWNFdmVudCQxID0gU3ludGhldGljRXZlbnQ7XG5cbi8qKlxuICogYHRvdWNoSGlzdG9yeWAgaXNuJ3QgYWN0dWFsbHkgb24gdGhlIG5hdGl2ZSBldmVudCwgYnV0IHB1dHRpbmcgaXQgaW4gdGhlXG4gKiBpbnRlcmZhY2Ugd2lsbCBlbnN1cmUgdGhhdCBpdCBpcyBjbGVhbmVkIHVwIHdoZW4gcG9vbGVkL2Rlc3Ryb3llZC4gVGhlXG4gKiBgUmVzcG9uZGVyRXZlbnRQbHVnaW5gIHdpbGwgcG9wdWxhdGUgaXQgYXBwcm9wcmlhdGVseS5cbiAqL1xudmFyIFJlc3BvbmRlclN5bnRoZXRpY0V2ZW50ID0gU3ludGhldGljRXZlbnQkMS5leHRlbmQoe1xuICB0b3VjaEhpc3Rvcnk6IGZ1bmN0aW9uKG5hdGl2ZUV2ZW50KSB7XG4gICAgcmV0dXJuIG51bGw7IC8vIEFjdHVhbGx5IGRvZXNuJ3QgZXZlbiBsb29rIGF0IHRoZSBuYXRpdmUgZXZlbnQuXG4gIH1cbn0pO1xuXG4vKipcbiAqIFRyYWNrcyB0aGUgcG9zaXRpb24gYW5kIHRpbWUgb2YgZWFjaCBhY3RpdmUgdG91Y2ggYnkgYHRvdWNoLmlkZW50aWZpZXJgLiBXZVxuICogc2hvdWxkIHR5cGljYWxseSBvbmx5IHNlZSBJRHMgaW4gdGhlIHJhbmdlIG9mIDEtMjAgYmVjYXVzZSBJRHMgZ2V0IHJlY3ljbGVkXG4gKiB3aGVuIHRvdWNoZXMgZW5kIGFuZCBzdGFydCBhZ2Fpbi5cbiAqL1xuXG52YXIgTUFYX1RPVUNIX0JBTksgPSAyMDtcbnZhciB0b3VjaEJhbmsgPSBbXTtcbnZhciB0b3VjaEhpc3RvcnkgPSB7XG4gIHRvdWNoQmFuazogdG91Y2hCYW5rLFxuICBudW1iZXJBY3RpdmVUb3VjaGVzOiAwLFxuICAvLyBJZiB0aGVyZSBpcyBvbmx5IG9uZSBhY3RpdmUgdG91Y2gsIHdlIHJlbWVtYmVyIGl0cyBsb2NhdGlvbi4gVGhpcyBwcmV2ZW50c1xuICAvLyB1cyBoYXZpbmcgdG8gbG9vcCB0aHJvdWdoIGFsbCBvZiB0aGUgdG91Y2hlcyBhbGwgdGhlIHRpbWUgaW4gdGhlIG1vc3RcbiAgLy8gY29tbW9uIGNhc2UuXG4gIGluZGV4T2ZTaW5nbGVBY3RpdmVUb3VjaDogLTEsXG4gIG1vc3RSZWNlbnRUaW1lU3RhbXA6IDBcbn07XG5cbmZ1bmN0aW9uIHRpbWVzdGFtcEZvclRvdWNoKHRvdWNoKSB7XG4gIC8vIFRoZSBsZWdhY3kgaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gcHJvdmlkZXMgXCJ0aW1lU3RhbXBcIiwgd2hpY2ggaGFzIGJlZW5cbiAgLy8gcmVuYW1lZCB0byBcInRpbWVzdGFtcFwiLiBMZXQgYm90aCB3b3JrIGZvciBub3cgd2hpbGUgd2UgaXJvbiBpdCBvdXRcbiAgLy8gVE9ETyAoZXZ2KTogcmVuYW1lIHRpbWVTdGFtcCB0byB0aW1lc3RhbXAgaW4gaW50ZXJuYWwgY29kZVxuICByZXR1cm4gdG91Y2gudGltZVN0YW1wIHx8IHRvdWNoLnRpbWVzdGFtcDtcbn1cblxuLyoqXG4gKiBUT0RPOiBJbnN0ZWFkIG9mIG1ha2luZyBnZXN0dXJlcyByZWNvbXB1dGUgZmlsdGVyZWQgdmVsb2NpdHksIHdlIGNvdWxkXG4gKiBpbmNsdWRlIGEgYnVpbHQgaW4gdmVsb2NpdHkgY29tcHV0YXRpb24gdGhhdCBjYW4gYmUgcmV1c2VkIGdsb2JhbGx5LlxuICovXG5mdW5jdGlvbiBjcmVhdGVUb3VjaFJlY29yZCh0b3VjaCkge1xuICByZXR1cm4ge1xuICAgIHRvdWNoQWN0aXZlOiB0cnVlLFxuICAgIHN0YXJ0UGFnZVg6IHRvdWNoLnBhZ2VYLFxuICAgIHN0YXJ0UGFnZVk6IHRvdWNoLnBhZ2VZLFxuICAgIHN0YXJ0VGltZVN0YW1wOiB0aW1lc3RhbXBGb3JUb3VjaCh0b3VjaCksXG4gICAgY3VycmVudFBhZ2VYOiB0b3VjaC5wYWdlWCxcbiAgICBjdXJyZW50UGFnZVk6IHRvdWNoLnBhZ2VZLFxuICAgIGN1cnJlbnRUaW1lU3RhbXA6IHRpbWVzdGFtcEZvclRvdWNoKHRvdWNoKSxcbiAgICBwcmV2aW91c1BhZ2VYOiB0b3VjaC5wYWdlWCxcbiAgICBwcmV2aW91c1BhZ2VZOiB0b3VjaC5wYWdlWSxcbiAgICBwcmV2aW91c1RpbWVTdGFtcDogdGltZXN0YW1wRm9yVG91Y2godG91Y2gpXG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlc2V0VG91Y2hSZWNvcmQodG91Y2hSZWNvcmQsIHRvdWNoKSB7XG4gIHRvdWNoUmVjb3JkLnRvdWNoQWN0aXZlID0gdHJ1ZTtcbiAgdG91Y2hSZWNvcmQuc3RhcnRQYWdlWCA9IHRvdWNoLnBhZ2VYO1xuICB0b3VjaFJlY29yZC5zdGFydFBhZ2VZID0gdG91Y2gucGFnZVk7XG4gIHRvdWNoUmVjb3JkLnN0YXJ0VGltZVN0YW1wID0gdGltZXN0YW1wRm9yVG91Y2godG91Y2gpO1xuICB0b3VjaFJlY29yZC5jdXJyZW50UGFnZVggPSB0b3VjaC5wYWdlWDtcbiAgdG91Y2hSZWNvcmQuY3VycmVudFBhZ2VZID0gdG91Y2gucGFnZVk7XG4gIHRvdWNoUmVjb3JkLmN1cnJlbnRUaW1lU3RhbXAgPSB0aW1lc3RhbXBGb3JUb3VjaCh0b3VjaCk7XG4gIHRvdWNoUmVjb3JkLnByZXZpb3VzUGFnZVggPSB0b3VjaC5wYWdlWDtcbiAgdG91Y2hSZWNvcmQucHJldmlvdXNQYWdlWSA9IHRvdWNoLnBhZ2VZO1xuICB0b3VjaFJlY29yZC5wcmV2aW91c1RpbWVTdGFtcCA9IHRpbWVzdGFtcEZvclRvdWNoKHRvdWNoKTtcbn1cblxuZnVuY3Rpb24gZ2V0VG91Y2hJZGVudGlmaWVyKF9yZWYpIHtcbiAgdmFyIGlkZW50aWZpZXIgPSBfcmVmLmlkZW50aWZpZXI7XG5cbiAgaW52YXJpYW50KGlkZW50aWZpZXIgIT0gbnVsbCwgXCJUb3VjaCBvYmplY3QgaXMgbWlzc2luZyBpZGVudGlmaWVyLlwiKTtcbiAge1xuICAgIHdhcm5pbmcoXG4gICAgICBpZGVudGlmaWVyIDw9IE1BWF9UT1VDSF9CQU5LLFxuICAgICAgXCJUb3VjaCBpZGVudGlmaWVyICVzIGlzIGdyZWF0ZXIgdGhhbiBtYXhpbXVtIHN1cHBvcnRlZCAlcyB3aGljaCBjYXVzZXMgXCIgK1xuICAgICAgICBcInBlcmZvcm1hbmNlIGlzc3VlcyBiYWNrZmlsbGluZyBhcnJheSBsb2NhdGlvbnMgZm9yIGFsbCBvZiB0aGUgaW5kaWNlcy5cIixcbiAgICAgIGlkZW50aWZpZXIsXG4gICAgICBNQVhfVE9VQ0hfQkFOS1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXI7XG59XG5cbmZ1bmN0aW9uIHJlY29yZFRvdWNoU3RhcnQodG91Y2gpIHtcbiAgdmFyIGlkZW50aWZpZXIgPSBnZXRUb3VjaElkZW50aWZpZXIodG91Y2gpO1xuICB2YXIgdG91Y2hSZWNvcmQgPSB0b3VjaEJhbmtbaWRlbnRpZmllcl07XG4gIGlmICh0b3VjaFJlY29yZCkge1xuICAgIHJlc2V0VG91Y2hSZWNvcmQodG91Y2hSZWNvcmQsIHRvdWNoKTtcbiAgfSBlbHNlIHtcbiAgICB0b3VjaEJhbmtbaWRlbnRpZmllcl0gPSBjcmVhdGVUb3VjaFJlY29yZCh0b3VjaCk7XG4gIH1cbiAgdG91Y2hIaXN0b3J5Lm1vc3RSZWNlbnRUaW1lU3RhbXAgPSB0aW1lc3RhbXBGb3JUb3VjaCh0b3VjaCk7XG59XG5cbmZ1bmN0aW9uIHJlY29yZFRvdWNoTW92ZSh0b3VjaCkge1xuICB2YXIgdG91Y2hSZWNvcmQgPSB0b3VjaEJhbmtbZ2V0VG91Y2hJZGVudGlmaWVyKHRvdWNoKV07XG4gIGlmICh0b3VjaFJlY29yZCkge1xuICAgIHRvdWNoUmVjb3JkLnRvdWNoQWN0aXZlID0gdHJ1ZTtcbiAgICB0b3VjaFJlY29yZC5wcmV2aW91c1BhZ2VYID0gdG91Y2hSZWNvcmQuY3VycmVudFBhZ2VYO1xuICAgIHRvdWNoUmVjb3JkLnByZXZpb3VzUGFnZVkgPSB0b3VjaFJlY29yZC5jdXJyZW50UGFnZVk7XG4gICAgdG91Y2hSZWNvcmQucHJldmlvdXNUaW1lU3RhbXAgPSB0b3VjaFJlY29yZC5jdXJyZW50VGltZVN0YW1wO1xuICAgIHRvdWNoUmVjb3JkLmN1cnJlbnRQYWdlWCA9IHRvdWNoLnBhZ2VYO1xuICAgIHRvdWNoUmVjb3JkLmN1cnJlbnRQYWdlWSA9IHRvdWNoLnBhZ2VZO1xuICAgIHRvdWNoUmVjb3JkLmN1cnJlbnRUaW1lU3RhbXAgPSB0aW1lc3RhbXBGb3JUb3VjaCh0b3VjaCk7XG4gICAgdG91Y2hIaXN0b3J5Lm1vc3RSZWNlbnRUaW1lU3RhbXAgPSB0aW1lc3RhbXBGb3JUb3VjaCh0b3VjaCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiQ2Fubm90IHJlY29yZCB0b3VjaCBtb3ZlIHdpdGhvdXQgYSB0b3VjaCBzdGFydC5cXG5cIiArIFwiVG91Y2ggTW92ZTogJXNcXG5cIixcbiAgICAgIFwiVG91Y2ggQmFuazogJXNcIixcbiAgICAgIHByaW50VG91Y2godG91Y2gpLFxuICAgICAgcHJpbnRUb3VjaEJhbmsoKVxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVjb3JkVG91Y2hFbmQodG91Y2gpIHtcbiAgdmFyIHRvdWNoUmVjb3JkID0gdG91Y2hCYW5rW2dldFRvdWNoSWRlbnRpZmllcih0b3VjaCldO1xuICBpZiAodG91Y2hSZWNvcmQpIHtcbiAgICB0b3VjaFJlY29yZC50b3VjaEFjdGl2ZSA9IGZhbHNlO1xuICAgIHRvdWNoUmVjb3JkLnByZXZpb3VzUGFnZVggPSB0b3VjaFJlY29yZC5jdXJyZW50UGFnZVg7XG4gICAgdG91Y2hSZWNvcmQucHJldmlvdXNQYWdlWSA9IHRvdWNoUmVjb3JkLmN1cnJlbnRQYWdlWTtcbiAgICB0b3VjaFJlY29yZC5wcmV2aW91c1RpbWVTdGFtcCA9IHRvdWNoUmVjb3JkLmN1cnJlbnRUaW1lU3RhbXA7XG4gICAgdG91Y2hSZWNvcmQuY3VycmVudFBhZ2VYID0gdG91Y2gucGFnZVg7XG4gICAgdG91Y2hSZWNvcmQuY3VycmVudFBhZ2VZID0gdG91Y2gucGFnZVk7XG4gICAgdG91Y2hSZWNvcmQuY3VycmVudFRpbWVTdGFtcCA9IHRpbWVzdGFtcEZvclRvdWNoKHRvdWNoKTtcbiAgICB0b3VjaEhpc3RvcnkubW9zdFJlY2VudFRpbWVTdGFtcCA9IHRpbWVzdGFtcEZvclRvdWNoKHRvdWNoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJDYW5ub3QgcmVjb3JkIHRvdWNoIGVuZCB3aXRob3V0IGEgdG91Y2ggc3RhcnQuXFxuXCIgKyBcIlRvdWNoIEVuZDogJXNcXG5cIixcbiAgICAgIFwiVG91Y2ggQmFuazogJXNcIixcbiAgICAgIHByaW50VG91Y2godG91Y2gpLFxuICAgICAgcHJpbnRUb3VjaEJhbmsoKVxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJpbnRUb3VjaCh0b3VjaCkge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgIGlkZW50aWZpZXI6IHRvdWNoLmlkZW50aWZpZXIsXG4gICAgcGFnZVg6IHRvdWNoLnBhZ2VYLFxuICAgIHBhZ2VZOiB0b3VjaC5wYWdlWSxcbiAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcEZvclRvdWNoKHRvdWNoKVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcHJpbnRUb3VjaEJhbmsoKSB7XG4gIHZhciBwcmludGVkID0gSlNPTi5zdHJpbmdpZnkodG91Y2hCYW5rLnNsaWNlKDAsIE1BWF9UT1VDSF9CQU5LKSk7XG4gIGlmICh0b3VjaEJhbmsubGVuZ3RoID4gTUFYX1RPVUNIX0JBTkspIHtcbiAgICBwcmludGVkICs9IFwiIChvcmlnaW5hbCBzaXplOiBcIiArIHRvdWNoQmFuay5sZW5ndGggKyBcIilcIjtcbiAgfVxuICByZXR1cm4gcHJpbnRlZDtcbn1cblxudmFyIFJlc3BvbmRlclRvdWNoSGlzdG9yeVN0b3JlID0ge1xuICByZWNvcmRUb3VjaFRyYWNrOiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gICAgaWYgKGlzTW92ZWlzaCh0b3BMZXZlbFR5cGUpKSB7XG4gICAgICBuYXRpdmVFdmVudC5jaGFuZ2VkVG91Y2hlcy5mb3JFYWNoKHJlY29yZFRvdWNoTW92ZSk7XG4gICAgfSBlbHNlIGlmIChpc1N0YXJ0aXNoKHRvcExldmVsVHlwZSkpIHtcbiAgICAgIG5hdGl2ZUV2ZW50LmNoYW5nZWRUb3VjaGVzLmZvckVhY2gocmVjb3JkVG91Y2hTdGFydCk7XG4gICAgICB0b3VjaEhpc3RvcnkubnVtYmVyQWN0aXZlVG91Y2hlcyA9IG5hdGl2ZUV2ZW50LnRvdWNoZXMubGVuZ3RoO1xuICAgICAgaWYgKHRvdWNoSGlzdG9yeS5udW1iZXJBY3RpdmVUb3VjaGVzID09PSAxKSB7XG4gICAgICAgIHRvdWNoSGlzdG9yeS5pbmRleE9mU2luZ2xlQWN0aXZlVG91Y2ggPVxuICAgICAgICAgIG5hdGl2ZUV2ZW50LnRvdWNoZXNbMF0uaWRlbnRpZmllcjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzRW5kaXNoKHRvcExldmVsVHlwZSkpIHtcbiAgICAgIG5hdGl2ZUV2ZW50LmNoYW5nZWRUb3VjaGVzLmZvckVhY2gocmVjb3JkVG91Y2hFbmQpO1xuICAgICAgdG91Y2hIaXN0b3J5Lm51bWJlckFjdGl2ZVRvdWNoZXMgPSBuYXRpdmVFdmVudC50b3VjaGVzLmxlbmd0aDtcbiAgICAgIGlmICh0b3VjaEhpc3RvcnkubnVtYmVyQWN0aXZlVG91Y2hlcyA9PT0gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdWNoQmFuay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciB0b3VjaFRyYWNrVG9DaGVjayA9IHRvdWNoQmFua1tpXTtcbiAgICAgICAgICBpZiAodG91Y2hUcmFja1RvQ2hlY2sgIT0gbnVsbCAmJiB0b3VjaFRyYWNrVG9DaGVjay50b3VjaEFjdGl2ZSkge1xuICAgICAgICAgICAgdG91Y2hIaXN0b3J5LmluZGV4T2ZTaW5nbGVBY3RpdmVUb3VjaCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgIHZhciBhY3RpdmVSZWNvcmQgPSB0b3VjaEJhbmtbdG91Y2hIaXN0b3J5LmluZGV4T2ZTaW5nbGVBY3RpdmVUb3VjaF07XG4gICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgIGFjdGl2ZVJlY29yZCAhPSBudWxsICYmIGFjdGl2ZVJlY29yZC50b3VjaEFjdGl2ZSxcbiAgICAgICAgICAgIFwiQ2Fubm90IGZpbmQgc2luZ2xlIGFjdGl2ZSB0b3VjaC5cIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgdG91Y2hIaXN0b3J5OiB0b3VjaEhpc3Rvcnlcbn07XG5cbi8qKlxuICogQWNjdW11bGF0ZXMgaXRlbXMgdGhhdCBtdXN0IG5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5cbiAqXG4gKiBUaGlzIGlzIHVzZWQgdG8gY29uc2VydmUgbWVtb3J5IGJ5IGF2b2lkaW5nIGFycmF5IGFsbG9jYXRpb25zLlxuICpcbiAqIEByZXR1cm4geyp8YXJyYXk8Kj59IEFuIGFjY3VtdWxhdGlvbiBvZiBpdGVtcy5cbiAqL1xuZnVuY3Rpb24gYWNjdW11bGF0ZShjdXJyZW50LCBuZXh0KSB7XG4gIGludmFyaWFudChcbiAgICBuZXh0ICE9IG51bGwsXG4gICAgXCJhY2N1bXVsYXRlKC4uLik6IEFjY3VtdWxhdGVkIGl0ZW1zIG11c3QgYmUgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLlwiXG4gICk7XG5cbiAgaWYgKGN1cnJlbnQgPT0gbnVsbCkge1xuICAgIHJldHVybiBuZXh0O1xuICB9XG5cbiAgLy8gQm90aCBhcmUgbm90IGVtcHR5LiBXYXJuaW5nOiBOZXZlciBjYWxsIHguY29uY2F0KHkpIHdoZW4geW91IGFyZSBub3RcbiAgLy8gY2VydGFpbiB0aGF0IHggaXMgYW4gQXJyYXkgKHggY291bGQgYmUgYSBzdHJpbmcgd2l0aCBjb25jYXQgbWV0aG9kKS5cbiAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudCkpIHtcbiAgICByZXR1cm4gY3VycmVudC5jb25jYXQobmV4dCk7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShuZXh0KSkge1xuICAgIHJldHVybiBbY3VycmVudF0uY29uY2F0KG5leHQpO1xuICB9XG5cbiAgcmV0dXJuIFtjdXJyZW50LCBuZXh0XTtcbn1cblxuLyoqXG4gKiBJbnN0YW5jZSBvZiBlbGVtZW50IHRoYXQgc2hvdWxkIHJlc3BvbmQgdG8gdG91Y2gvbW92ZSB0eXBlcyBvZiBpbnRlcmFjdGlvbnMsXG4gKiBhcyBpbmRpY2F0ZWQgZXhwbGljaXRseSBieSByZWxldmFudCBjYWxsYmFja3MuXG4gKi9cbnZhciByZXNwb25kZXJJbnN0ID0gbnVsbDtcblxuLyoqXG4gKiBDb3VudCBvZiBjdXJyZW50IHRvdWNoZXMuIEEgdGV4dElucHV0IHNob3VsZCBiZWNvbWUgcmVzcG9uZGVyIGlmZiB0aGVcbiAqIHNlbGVjdGlvbiBjaGFuZ2VzIHdoaWxlIHRoZXJlIGlzIGEgdG91Y2ggb24gdGhlIHNjcmVlbi5cbiAqL1xudmFyIHRyYWNrZWRUb3VjaENvdW50ID0gMDtcblxuLyoqXG4gKiBMYXN0IHJlcG9ydGVkIG51bWJlciBvZiBhY3RpdmUgdG91Y2hlcy5cbiAqL1xudmFyIHByZXZpb3VzQWN0aXZlVG91Y2hlcyA9IDA7XG5cbnZhciBjaGFuZ2VSZXNwb25kZXIgPSBmdW5jdGlvbihuZXh0UmVzcG9uZGVySW5zdCwgYmxvY2tIb3N0UmVzcG9uZGVyKSB7XG4gIHZhciBvbGRSZXNwb25kZXJJbnN0ID0gcmVzcG9uZGVySW5zdDtcbiAgcmVzcG9uZGVySW5zdCA9IG5leHRSZXNwb25kZXJJbnN0O1xuICBpZiAoUmVzcG9uZGVyRXZlbnRQbHVnaW4uR2xvYmFsUmVzcG9uZGVySGFuZGxlciAhPT0gbnVsbCkge1xuICAgIFJlc3BvbmRlckV2ZW50UGx1Z2luLkdsb2JhbFJlc3BvbmRlckhhbmRsZXIub25DaGFuZ2UoXG4gICAgICBvbGRSZXNwb25kZXJJbnN0LFxuICAgICAgbmV4dFJlc3BvbmRlckluc3QsXG4gICAgICBibG9ja0hvc3RSZXNwb25kZXJcbiAgICApO1xuICB9XG59O1xuXG52YXIgZXZlbnRUeXBlcyA9IHtcbiAgLyoqXG4gICAqIE9uIGEgYHRvdWNoU3RhcnRgL2Btb3VzZURvd25gLCBpcyBpdCBkZXNpcmVkIHRoYXQgdGhpcyBlbGVtZW50IGJlY29tZSB0aGVcbiAgICogcmVzcG9uZGVyP1xuICAgKi9cbiAgc3RhcnRTaG91bGRTZXRSZXNwb25kZXI6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDogXCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyXCIsXG4gICAgICBjYXB0dXJlZDogXCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZVwiXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBPbiBhIGBzY3JvbGxgLCBpcyBpdCBkZXNpcmVkIHRoYXQgdGhpcyBlbGVtZW50IGJlY29tZSB0aGUgcmVzcG9uZGVyPyBUaGlzXG4gICAqIGlzIHVzdWFsbHkgbm90IG5lZWRlZCwgYnV0IHNob3VsZCBiZSB1c2VkIHRvIHJldHJvYWN0aXZlbHkgaW5mZXIgdGhhdCBhXG4gICAqIGB0b3VjaFN0YXJ0YCBoYWQgb2NjdXJyZWQgZHVyaW5nIG1vbWVudHVtIHNjcm9sbC4gRHVyaW5nIGEgbW9tZW50dW0gc2Nyb2xsLFxuICAgKiBhIHRvdWNoIHN0YXJ0IHdpbGwgYmUgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgYSBzY3JvbGwgZXZlbnQgaWYgdGhlIHZpZXcgaXNcbiAgICogY3VycmVudGx5IHNjcm9sbGluZy5cbiAgICpcbiAgICogVE9ETzogVGhpcyBzaG91bGRuJ3QgYnViYmxlLlxuICAgKi9cbiAgc2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IFwib25TY3JvbGxTaG91bGRTZXRSZXNwb25kZXJcIixcbiAgICAgIGNhcHR1cmVkOiBcIm9uU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZVwiXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBPbiB0ZXh0IHNlbGVjdGlvbiBjaGFuZ2UsIHNob3VsZCB0aGlzIGVsZW1lbnQgYmVjb21lIHRoZSByZXNwb25kZXI/IFRoaXNcbiAgICogaXMgbmVlZGVkIGZvciB0ZXh0IGlucHV0cyBvciBvdGhlciB2aWV3cyB3aXRoIG5hdGl2ZSBzZWxlY3Rpb24sIHNvIHRoZVxuICAgKiBKUyB2aWV3IGNhbiBjbGFpbSB0aGUgcmVzcG9uZGVyLlxuICAgKlxuICAgKiBUT0RPOiBUaGlzIHNob3VsZG4ndCBidWJibGUuXG4gICAqL1xuICBzZWxlY3Rpb25DaGFuZ2VTaG91bGRTZXRSZXNwb25kZXI6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDogXCJvblNlbGVjdGlvbkNoYW5nZVNob3VsZFNldFJlc3BvbmRlclwiLFxuICAgICAgY2FwdHVyZWQ6IFwib25TZWxlY3Rpb25DaGFuZ2VTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlXCJcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIE9uIGEgYHRvdWNoTW92ZWAvYG1vdXNlTW92ZWAsIGlzIGl0IGRlc2lyZWQgdGhhdCB0aGlzIGVsZW1lbnQgYmVjb21lIHRoZVxuICAgKiByZXNwb25kZXI/XG4gICAqL1xuICBtb3ZlU2hvdWxkU2V0UmVzcG9uZGVyOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IFwib25Nb3ZlU2hvdWxkU2V0UmVzcG9uZGVyXCIsXG4gICAgICBjYXB0dXJlZDogXCJvbk1vdmVTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlXCJcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIERpcmVjdCByZXNwb25kZXIgZXZlbnRzIGRpc3BhdGNoZWQgZGlyZWN0bHkgdG8gcmVzcG9uZGVyLiBEbyBub3QgYnViYmxlLlxuICAgKi9cbiAgcmVzcG9uZGVyU3RhcnQ6IHsgcmVnaXN0cmF0aW9uTmFtZTogXCJvblJlc3BvbmRlclN0YXJ0XCIgfSxcbiAgcmVzcG9uZGVyTW92ZTogeyByZWdpc3RyYXRpb25OYW1lOiBcIm9uUmVzcG9uZGVyTW92ZVwiIH0sXG4gIHJlc3BvbmRlckVuZDogeyByZWdpc3RyYXRpb25OYW1lOiBcIm9uUmVzcG9uZGVyRW5kXCIgfSxcbiAgcmVzcG9uZGVyUmVsZWFzZTogeyByZWdpc3RyYXRpb25OYW1lOiBcIm9uUmVzcG9uZGVyUmVsZWFzZVwiIH0sXG4gIHJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDoge1xuICAgIHJlZ2lzdHJhdGlvbk5hbWU6IFwib25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3RcIlxuICB9LFxuICByZXNwb25kZXJHcmFudDogeyByZWdpc3RyYXRpb25OYW1lOiBcIm9uUmVzcG9uZGVyR3JhbnRcIiB9LFxuICByZXNwb25kZXJSZWplY3Q6IHsgcmVnaXN0cmF0aW9uTmFtZTogXCJvblJlc3BvbmRlclJlamVjdFwiIH0sXG4gIHJlc3BvbmRlclRlcm1pbmF0ZTogeyByZWdpc3RyYXRpb25OYW1lOiBcIm9uUmVzcG9uZGVyVGVybWluYXRlXCIgfVxufTtcblxuLyoqXG4gKlxuICogUmVzcG9uZGVyIFN5c3RlbTpcbiAqIC0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiAtIEEgZ2xvYmFsLCBzb2xpdGFyeSBcImludGVyYWN0aW9uIGxvY2tcIiBvbiBhIHZpZXcuXG4gKiAtIElmIGEgbm9kZSBiZWNvbWVzIHRoZSByZXNwb25kZXIsIGl0IHNob3VsZCBjb252ZXkgdmlzdWFsIGZlZWRiYWNrXG4gKiAgIGltbWVkaWF0ZWx5IHRvIGluZGljYXRlIHNvLCBlaXRoZXIgYnkgaGlnaGxpZ2h0aW5nIG9yIG1vdmluZyBhY2NvcmRpbmdseS5cbiAqIC0gVG8gYmUgdGhlIHJlc3BvbmRlciBtZWFucywgdGhhdCB0b3VjaGVzIGFyZSBleGNsdXNpdmVseSBpbXBvcnRhbnQgdG8gdGhhdFxuICogICByZXNwb25kZXIgdmlldywgYW5kIG5vIG90aGVyIHZpZXcuXG4gKiAtIFdoaWxlIHRvdWNoZXMgYXJlIHN0aWxsIG9jY3VycmluZywgdGhlIHJlc3BvbmRlciBsb2NrIGNhbiBiZSB0cmFuc2ZlcnJlZCB0b1xuICogICBhIG5ldyB2aWV3LCBidXQgb25seSB0byBpbmNyZWFzaW5nbHkgXCJoaWdoZXJcIiB2aWV3cyAobWVhbmluZyBhbmNlc3RvcnMgb2ZcbiAqICAgdGhlIGN1cnJlbnQgcmVzcG9uZGVyKS5cbiAqXG4gKiBSZXNwb25kZXIgYmVpbmcgZ3JhbnRlZDpcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIC0gVG91Y2ggc3RhcnRzLCBtb3ZlcywgYW5kIHNjcm9sbHMgY2FuIGNhdXNlIGFuIElEIHRvIGJlY29tZSB0aGUgcmVzcG9uZGVyLlxuICogLSBXZSBjYXB0dXJlL2J1YmJsZSBgc3RhcnRTaG91bGRTZXRSZXNwb25kZXJgL2Btb3ZlU2hvdWxkU2V0UmVzcG9uZGVyYCB0b1xuICogICB0aGUgXCJhcHByb3ByaWF0ZSBwbGFjZVwiLlxuICogLSBJZiBub3RoaW5nIGlzIGN1cnJlbnRseSB0aGUgcmVzcG9uZGVyLCB0aGUgXCJhcHByb3ByaWF0ZSBwbGFjZVwiIGlzIHRoZVxuICogICBpbml0aWF0aW5nIGV2ZW50J3MgYHRhcmdldElEYC5cbiAqIC0gSWYgc29tZXRoaW5nICppcyogYWxyZWFkeSB0aGUgcmVzcG9uZGVyLCB0aGUgXCJhcHByb3ByaWF0ZSBwbGFjZVwiIGlzIHRoZVxuICogICBmaXJzdCBjb21tb24gYW5jZXN0b3Igb2YgdGhlIGV2ZW50IHRhcmdldCBhbmQgdGhlIGN1cnJlbnQgYHJlc3BvbmRlckluc3RgLlxuICogLSBTb21lIG5lZ290aWF0aW9uIGhhcHBlbnM6IFNlZSB0aGUgdGltaW5nIGRpYWdyYW0gYmVsb3cuXG4gKiAtIFNjcm9sbGVkIHZpZXdzIGF1dG9tYXRpY2FsbHkgYmVjb21lIHJlc3BvbmRlci4gVGhlIHJlYXNvbmluZyBpcyB0aGF0IGFcbiAqICAgcGxhdGZvcm0gc2Nyb2xsIHZpZXcgdGhhdCBpc24ndCBidWlsdCBvbiB0b3Agb2YgdGhlIHJlc3BvbmRlciBzeXN0ZW0gaGFzXG4gKiAgIGJlZ2FuIHNjcm9sbGluZywgYW5kIHRoZSBhY3RpdmUgcmVzcG9uZGVyIG11c3Qgbm93IGJlIG5vdGlmaWVkIHRoYXQgdGhlXG4gKiAgIGludGVyYWN0aW9uIGlzIG5vIGxvbmdlciBsb2NrZWQgdG8gaXQgLSB0aGUgc3lzdGVtIGhhcyB0YWtlbiBvdmVyLlxuICpcbiAqIC0gUmVzcG9uZGVyIGJlaW5nIHJlbGVhc2VkOlxuICogICBBcyBzb29uIGFzIG5vIG1vcmUgdG91Y2hlcyB0aGF0ICpzdGFydGVkKiBpbnNpZGUgb2YgZGVzY2VuZGFudHMgb2YgdGhlXG4gKiAgICpjdXJyZW50KiByZXNwb25kZXJJbnN0LCBhbiBgb25SZXNwb25kZXJSZWxlYXNlYCBldmVudCBpcyBkaXNwYXRjaGVkIHRvIHRoZVxuICogICBjdXJyZW50IHJlc3BvbmRlciwgYW5kIHRoZSByZXNwb25kZXIgbG9jayBpcyByZWxlYXNlZC5cbiAqXG4gKiBUT0RPOlxuICogLSBvbiBcImVuZFwiLCBhIGNhbGxiYWNrIGhvb2sgZm9yIGBvblJlc3BvbmRlckVuZFNob3VsZFJlbWFpblJlc3BvbmRlcmAgdGhhdFxuICogICBkZXRlcm1pbmVzIGlmIHRoZSByZXNwb25kZXIgbG9jayBzaG91bGQgcmVtYWluLlxuICogLSBJZiBhIHZpZXcgc2hvdWxkbid0IFwicmVtYWluXCIgdGhlIHJlc3BvbmRlciwgYW55IGFjdGl2ZSB0b3VjaGVzIHNob3VsZCBieVxuICogICBkZWZhdWx0IGJlIGNvbnNpZGVyZWQgXCJkZWFkXCIgYW5kIGRvIG5vdCBpbmZsdWVuY2UgZnV0dXJlIG5lZ290aWF0aW9ucyBvclxuICogICBidWJibGUgcGF0aHMuIEl0IHNob3VsZCBiZSBhcyBpZiB0aG9zZSB0b3VjaGVzIGRvIG5vdCBleGlzdC5cbiAqIC0tIEZvciBtdWx0aXRvdWNoOiBVc3VhbGx5IGEgdHJhbnNsYXRlLXogd2lsbCBjaG9vc2UgdG8gXCJyZW1haW5cIiByZXNwb25kZXJcbiAqICBhZnRlciBvbmUgb3V0IG9mIG1hbnkgdG91Y2hlcyBlbmRlZC4gRm9yIHRyYW5zbGF0ZS15LCB1c3VhbGx5IHRoZSB2aWV3XG4gKiAgZG9lc24ndCB3aXNoIHRvIFwicmVtYWluXCIgcmVzcG9uZGVyIGFmdGVyIG9uZSBvZiBtYW55IHRvdWNoZXMgZW5kLlxuICogLSBDb25zaWRlciBidWlsZGluZyB0aGlzIG9uIHRvcCBvZiBhIGBzdG9wUHJvcGFnYXRpb25gIG1vZGVsIHNpbWlsYXIgdG9cbiAqICAgYFczQ2AgZXZlbnRzLlxuICogLSBFbnN1cmUgdGhhdCBgb25SZXNwb25kZXJUZXJtaW5hdGVgIGlzIGNhbGxlZCBvbiB0b3VjaCBjYW5jZWxzLCB3aGV0aGVyIG9yXG4gKiAgIG5vdCBgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3RgIHJldHVybnMgYHRydWVgIG9yIGBmYWxzZWAuXG4gKlxuICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmVnb3RpYXRpb24gUGVyZm9ybWVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8gICAgICAgICAgICAgICAgICAgICAgICAgXFxcblByb2Nlc3MgbG93IGxldmVsIGV2ZW50cyB0byAgICArICAgICBDdXJyZW50IFJlc3BvbmRlciAgICAgICsgICB3YW50c1Jlc3BvbmRlcklEXG5kZXRlcm1pbmUgd2hvIHRvIHBlcmZvcm0gbmVnb3QtfCAgIChpZiBhbnkgZXhpc3RzIGF0IGFsbCkgICB8XG5pYXRpb24vdHJhbnNpdGlvbiAgICAgICAgICAgICAgfCBPdGhlcndpc2UganVzdCBwYXNzIHRocm91Z2h8XG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tLS0tLS0tLS0tLS0tLS0tK1xuQnViYmxlIHRvIGZpbmQgZmlyc3QgSUQgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxudG8gcmV0dXJuIHRydWU6d2FudHNSZXNwb25kZXJJRHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICArLS0tLS0tLS0tLS0tLSsgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICB8IG9uVG91Y2hTdGFydHwgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICArLS0tLS0tKy0tLS0tLSsgICAgIG5vbmUgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgICAgfCAgICAgICAgICAgIHJldHVybnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuKy0tLS0tLS0tLS0tdi0tLS0tLS0tLS0tLS0rdHJ1ZXwgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgfFxufG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJ8LS0tLS0+fG9uUmVzcG9uZGVyU3RhcnQgKGN1cikgIHw8LS0tLS0tLS0tLS0rXG4rLS0tLS0tLS0tLS0rLS0tLS0tLS0tLS0tLSsgICAgfCArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyB8ICAgICAgICAgIHxcbiAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKy0tLS0tLS0tKy0tLS0tLS0rXG4gICAgICAgICAgICB8IHJldHVybmVkIHRydWUgZm9yfCAgICAgICBmYWxzZTpSRUpFQ1QgKy0tLS0tLS0tPnxvblJlc3BvbmRlclJlamVjdFxuICAgICAgICAgICAgfCB3YW50c1Jlc3BvbmRlcklEIHwgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfCArLS0tLS0tLS0tLS0tLS0tLStcbiAgICAgICAgICAgIHwgKG5vdyBhdHRlbXB0ICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0rLS0tLS0rIHxcbiAgICAgICAgICAgIHwgIGhhbmRvZmYpICAgICAgICB8IHwgICBvblJlc3BvbmRlciAgICAgICAgICB8IHxcbiAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tPnwgICAgICBUZXJtaW5hdGlvblJlcXVlc3R8IHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0rLS0tLS0rIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHwgKy0tLS0tLS0tLS0tLS0tLS0rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgIHRydWU6R1JBTlQgKy0tLS0tLS0tPnxvblJlc3BvbmRlckdyYW50fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCArLS0tLS0tLS0rLS0tLS0tLStcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIHwgICAgICAgICAgfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgfCAgIG9uUmVzcG9uZGVyVGVybWluYXRlIHw8LS0tLS0tLS0tLS0rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCArLS0tLS0tLS0tLS0tLS0tLS0tKy0tLS0tKyB8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLT58b25SZXNwb25kZXJTdGFydHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKy0tLS0tLS0tLS0tLS0tLS0rXG5CdWJibGUgdG8gZmluZCBmaXJzdCBJRCAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG50byByZXR1cm4gdHJ1ZTp3YW50c1Jlc3BvbmRlcklEfCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICstLS0tLS0tLS0tLS0tKyAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgIHwgb25Ub3VjaE1vdmUgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICstLS0tLS0rLS0tLS0tKyAgICAgbm9uZSAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAgICB8ICAgICAgICAgICAgcmV0dXJufCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4rLS0tLS0tLS0tLS12LS0tLS0tLS0tLS0tLSt0cnVlfCArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyB8XG58b25Nb3ZlU2hvdWxkU2V0UmVzcG9uZGVyIHwtLS0tLT58b25SZXNwb25kZXJNb3ZlIChjdXIpICAgfDwtLS0tLS0tLS0tLStcbistLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tKyAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIHwgICAgICAgICAgfFxuICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCArLS0tLS0tLS0rLS0tLS0tLStcbiAgICAgICAgICAgIHwgcmV0dXJuZWQgdHJ1ZSBmb3J8ICAgICAgIGZhbHNlOlJFSkVDVCArLS0tLS0tLS0+fG9uUmVzcG9uZGVyUmVqZWN8XG4gICAgICAgICAgICB8IHdhbnRzUmVzcG9uZGVySUQgfCAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tK1xuICAgICAgICAgICAgfCAobm93IGF0dGVtcHQgICAgIHwgKy0tLS0tLS0tLS0tLS0tLS0tLSstLS0tLSsgfFxuICAgICAgICAgICAgfCAgaGFuZG9mZikgICAgICAgIHwgfCAgIG9uUmVzcG9uZGVyICAgICAgICAgIHwgfFxuICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0+fCAgICAgIFRlcm1pbmF0aW9uUmVxdWVzdHwgfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKy0tLS0tLS0tLS0tLS0tLS0tLSstLS0tLSsgfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfCArLS0tLS0tLS0tLS0tLS0tLStcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgdHJ1ZTpHUkFOVCArLS0tLS0tLS0+fG9uUmVzcG9uZGVyR3JhbnR8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLSstLS0tLS0tK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgfCAgICAgICAgICB8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB8ICAgb25SZXNwb25kZXJUZXJtaW5hdGUgfDwtLS0tLS0tLS0tLStcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0rLS0tLS0rIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHwgKy0tLS0tLS0tLS0tLS0tLS0rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tPnxvblJlc3BvbmRlck1vdmUgfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCArLS0tLS0tLS0tLS0tLS0tLStcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgIFNvbWUgYWN0aXZlIHRvdWNoIHN0YXJ0ZWR8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgIGluc2lkZSBjdXJyZW50IHJlc3BvbmRlciB8ICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIHxcbiAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPnwgICAgICBvblJlc3BvbmRlckVuZCAgICB8IHxcbiAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIHxcbiAgKy0tLSstLS0tLS0tLS0rICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgfCBvblRvdWNoRW5kICB8ICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgKy0tLSstLS0tLS0tLS0rICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIHxcbiAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPnwgICAgIG9uUmVzcG9uZGVyRW5kICAgICB8IHxcbiAgICAgIE5vIGFjdGl2ZSB0b3VjaGVzIHN0YXJ0ZWR8ICstLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0rIHxcbiAgICAgIGluc2lkZSBjdXJyZW50IHJlc3BvbmRlciB8ICAgICAgICAgICAgIHwgICAgICAgICAgICAgIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgIHYgICAgICAgICAgICAgIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHwgICAgb25SZXNwb25kZXJSZWxlYXNlICB8IHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgKi9cblxuLyoqXG4gKiBBIG5vdGUgYWJvdXQgZXZlbnQgb3JkZXJpbmcgaW4gdGhlIGBFdmVudFBsdWdpbkh1YmAuXG4gKlxuICogU3VwcG9zZSBwbHVnaW5zIGFyZSBpbmplY3RlZCBpbiB0aGUgZm9sbG93aW5nIG9yZGVyOlxuICpcbiAqIGBbUiwgUywgQ11gXG4gKlxuICogVG8gaGVscCBpbGx1c3RyYXRlIHRoZSBleGFtcGxlLCBhc3N1bWUgYFNgIGlzIGBTaW1wbGVFdmVudFBsdWdpbmAgKGZvclxuICogYG9uQ2xpY2tgIGV0YykgYW5kIGBSYCBpcyBgUmVzcG9uZGVyRXZlbnRQbHVnaW5gLlxuICpcbiAqIFwiRGVmZXJyZWQtRGlzcGF0Y2hlZCBFdmVudHNcIjpcbiAqXG4gKiAtIFRoZSBjdXJyZW50IGV2ZW50IHBsdWdpbiBzeXN0ZW0gd2lsbCB0cmF2ZXJzZSB0aGUgbGlzdCBvZiBpbmplY3RlZCBwbHVnaW5zLFxuICogICBpbiBvcmRlciwgYW5kIGV4dHJhY3QgZXZlbnRzIGJ5IGNvbGxlY3RpbmcgdGhlIHBsdWdpbidzIHJldHVybiB2YWx1ZSBvZlxuICogICBgZXh0cmFjdEV2ZW50cygpYC5cbiAqIC0gVGhlc2UgZXZlbnRzIHRoYXQgYXJlIHJldHVybmVkIGZyb20gYGV4dHJhY3RFdmVudHNgIGFyZSBcImRlZmVycmVkXG4gKiAgIGRpc3BhdGNoZWQgZXZlbnRzXCIuXG4gKiAtIFdoZW4gcmV0dXJuZWQgZnJvbSBgZXh0cmFjdEV2ZW50c2AsIGRlZmVycmVkLWRpc3BhdGNoZWQgZXZlbnRzIGNvbnRhaW4gYW5cbiAqICAgXCJhY2N1bXVsYXRpb25cIiBvZiBkZWZlcnJlZCBkaXNwYXRjaGVzLlxuICogLSBUaGVzZSBkZWZlcnJlZCBkaXNwYXRjaGVzIGFyZSBhY2N1bXVsYXRlZC9jb2xsZWN0ZWQgYmVmb3JlIHRoZXkgYXJlXG4gKiAgIHJldHVybmVkLCBidXQgcHJvY2Vzc2VkIGF0IGEgbGF0ZXIgdGltZSBieSB0aGUgYEV2ZW50UGx1Z2luSHViYCAoaGVuY2UgdGhlXG4gKiAgIG5hbWUgZGVmZXJyZWQpLlxuICpcbiAqIEluIHRoZSBwcm9jZXNzIG9mIHJldHVybmluZyB0aGVpciBkZWZlcnJlZC1kaXNwYXRjaGVkIGV2ZW50cywgZXZlbnQgcGx1Z2luc1xuICogdGhlbXNlbHZlcyBjYW4gZGlzcGF0Y2ggZXZlbnRzIG9uLWRlbWFuZCB3aXRob3V0IHJldHVybmluZyB0aGVtIGZyb21cbiAqIGBleHRyYWN0RXZlbnRzYC4gUGx1Z2lucyBtaWdodCB3YW50IHRvIGRvIHRoaXMsIHNvIHRoYXQgdGhleSBjYW4gdXNlIGV2ZW50XG4gKiBkaXNwYXRjaGluZyBhcyBhIHRvb2wgdGhhdCBoZWxwcyB0aGVtIGRlY2lkZSB3aGljaCBldmVudHMgc2hvdWxkIGJlIGV4dHJhY3RlZFxuICogaW4gdGhlIGZpcnN0IHBsYWNlLlxuICpcbiAqIFwiT24tRGVtYW5kLURpc3BhdGNoZWQgRXZlbnRzXCI6XG4gKlxuICogLSBPbi1kZW1hbmQtZGlzcGF0Y2hlZCBldmVudHMgYXJlIG5vdCByZXR1cm5lZCBmcm9tIGBleHRyYWN0RXZlbnRzYC5cbiAqIC0gT24tZGVtYW5kLWRpc3BhdGNoZWQgZXZlbnRzIGFyZSBkaXNwYXRjaGVkIGR1cmluZyB0aGUgcHJvY2VzcyBvZiByZXR1cm5pbmdcbiAqICAgdGhlIGRlZmVycmVkLWRpc3BhdGNoZWQgZXZlbnRzLlxuICogLSBUaGV5IHNob3VsZCBub3QgaGF2ZSBzaWRlIGVmZmVjdHMuXG4gKiAtIFRoZXkgc2hvdWxkIGJlIGF2b2lkZWQsIGFuZC9vciBldmVudHVhbGx5IGJlIHJlcGxhY2VkIHdpdGggYW5vdGhlclxuICogICBhYnN0cmFjdGlvbiB0aGF0IGFsbG93cyBldmVudCBwbHVnaW5zIHRvIHBlcmZvcm0gbXVsdGlwbGUgXCJyb3VuZHNcIiBvZiBldmVudFxuICogICBleHRyYWN0aW9uLlxuICpcbiAqIFRoZXJlZm9yZSwgdGhlIHNlcXVlbmNlIG9mIGV2ZW50IGRpc3BhdGNoZXMgYmVjb21lczpcbiAqXG4gKiAtIGBSYHMgb24tZGVtYW5kIGV2ZW50cyAoaWYgYW55KSAgIChkaXNwYXRjaGVkIGJ5IGBSYCBvbi1kZW1hbmQpXG4gKiAtIGBTYHMgb24tZGVtYW5kIGV2ZW50cyAoaWYgYW55KSAgIChkaXNwYXRjaGVkIGJ5IGBTYCBvbi1kZW1hbmQpXG4gKiAtIGBDYHMgb24tZGVtYW5kIGV2ZW50cyAoaWYgYW55KSAgIChkaXNwYXRjaGVkIGJ5IGBDYCBvbi1kZW1hbmQpXG4gKiAtIGBSYHMgZXh0cmFjdGVkIGV2ZW50cyAoaWYgYW55KSAgIChkaXNwYXRjaGVkIGJ5IGBFdmVudFBsdWdpbkh1YmApXG4gKiAtIGBTYHMgZXh0cmFjdGVkIGV2ZW50cyAoaWYgYW55KSAgIChkaXNwYXRjaGVkIGJ5IGBFdmVudFBsdWdpbkh1YmApXG4gKiAtIGBDYHMgZXh0cmFjdGVkIGV2ZW50cyAoaWYgYW55KSAgIChkaXNwYXRjaGVkIGJ5IGBFdmVudFBsdWdpbkh1YmApXG4gKlxuICogSW4gdGhlIGNhc2Ugb2YgYFJlc3BvbmRlckV2ZW50UGx1Z2luYDogSWYgdGhlIGBzdGFydFNob3VsZFNldFJlc3BvbmRlcmBcbiAqIG9uLWRlbWFuZCBkaXNwYXRjaCByZXR1cm5zIGB0cnVlYCAoYW5kIHNvbWUgb3RoZXIgZGV0YWlscyBhcmUgc2F0aXNmaWVkKSB0aGVcbiAqIGBvblJlc3BvbmRlckdyYW50YCBkZWZlcnJlZCBkaXNwYXRjaGVkIGV2ZW50IGlzIHJldHVybmVkIGZyb21cbiAqIGBleHRyYWN0RXZlbnRzYC4gVGhlIHNlcXVlbmNlIG9mIGRpc3BhdGNoIGV4ZWN1dGlvbnMgaW4gdGhpcyBjYXNlXG4gKiB3aWxsIGFwcGVhciBhcyBmb2xsb3dzOlxuICpcbiAqIC0gYHN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyYCAoYFJlc3BvbmRlckV2ZW50UGx1Z2luYCBkaXNwYXRjaGVzIG9uLWRlbWFuZClcbiAqIC0gYHRvdWNoU3RhcnRDYXB0dXJlYCAgICAgICAoYEV2ZW50UGx1Z2luSHViYCBkaXNwYXRjaGVzIGFzIHVzdWFsKVxuICogLSBgdG91Y2hTdGFydGAgICAgICAgICAgICAgIChgRXZlbnRQbHVnaW5IdWJgIGRpc3BhdGNoZXMgYXMgdXN1YWwpXG4gKiAtIGByZXNwb25kZXJHcmFudC9SZWplY3RgICAgKGBFdmVudFBsdWdpbkh1YmAgZGlzcGF0Y2hlcyBhcyB1c3VhbClcbiAqL1xuXG5mdW5jdGlvbiBzZXRSZXNwb25kZXJBbmRFeHRyYWN0VHJhbnNmZXIoXG4gIHRvcExldmVsVHlwZSxcbiAgdGFyZ2V0SW5zdCxcbiAgbmF0aXZlRXZlbnQsXG4gIG5hdGl2ZUV2ZW50VGFyZ2V0XG4pIHtcbiAgdmFyIHNob3VsZFNldEV2ZW50VHlwZSA9IGlzU3RhcnRpc2godG9wTGV2ZWxUeXBlKVxuICAgID8gZXZlbnRUeXBlcy5zdGFydFNob3VsZFNldFJlc3BvbmRlclxuICAgIDogaXNNb3ZlaXNoKHRvcExldmVsVHlwZSlcbiAgICAgID8gZXZlbnRUeXBlcy5tb3ZlU2hvdWxkU2V0UmVzcG9uZGVyXG4gICAgICA6IHRvcExldmVsVHlwZSA9PT0gXCJ0b3BTZWxlY3Rpb25DaGFuZ2VcIlxuICAgICAgICA/IGV2ZW50VHlwZXMuc2VsZWN0aW9uQ2hhbmdlU2hvdWxkU2V0UmVzcG9uZGVyXG4gICAgICAgIDogZXZlbnRUeXBlcy5zY3JvbGxTaG91bGRTZXRSZXNwb25kZXI7XG5cbiAgLy8gVE9ETzogc3RvcCBvbmUgc2hvcnQgb2YgdGhlIGN1cnJlbnQgcmVzcG9uZGVyLlxuICB2YXIgYnViYmxlU2hvdWxkU2V0RnJvbSA9ICFyZXNwb25kZXJJbnN0XG4gICAgPyB0YXJnZXRJbnN0XG4gICAgOiBnZXRMb3dlc3RDb21tb25BbmNlc3RvcihyZXNwb25kZXJJbnN0LCB0YXJnZXRJbnN0KTtcblxuICAvLyBXaGVuIGNhcHR1cmluZy9idWJibGluZyB0aGUgXCJzaG91bGRTZXRcIiBldmVudCwgd2Ugd2FudCB0byBza2lwIHRoZSB0YXJnZXRcbiAgLy8gKGRlZXBlc3QgSUQpIGlmIGl0IGhhcHBlbnMgdG8gYmUgdGhlIGN1cnJlbnQgcmVzcG9uZGVyLiBUaGUgcmVhc29uaW5nOlxuICAvLyBJdCdzIHN0cmFuZ2UgdG8gZ2V0IGFuIGBvbk1vdmVTaG91bGRTZXRSZXNwb25kZXJgIHdoZW4geW91J3JlICphbHJlYWR5KlxuICAvLyB0aGUgcmVzcG9uZGVyLlxuICB2YXIgc2tpcE92ZXJCdWJibGVTaG91bGRTZXRGcm9tID0gYnViYmxlU2hvdWxkU2V0RnJvbSA9PT0gcmVzcG9uZGVySW5zdDtcbiAgdmFyIHNob3VsZFNldEV2ZW50ID0gUmVzcG9uZGVyU3ludGhldGljRXZlbnQuZ2V0UG9vbGVkKFxuICAgIHNob3VsZFNldEV2ZW50VHlwZSxcbiAgICBidWJibGVTaG91bGRTZXRGcm9tLFxuICAgIG5hdGl2ZUV2ZW50LFxuICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICk7XG4gIHNob3VsZFNldEV2ZW50LnRvdWNoSGlzdG9yeSA9IFJlc3BvbmRlclRvdWNoSGlzdG9yeVN0b3JlLnRvdWNoSGlzdG9yeTtcbiAgaWYgKHNraXBPdmVyQnViYmxlU2hvdWxkU2V0RnJvbSkge1xuICAgIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTa2lwVGFyZ2V0KHNob3VsZFNldEV2ZW50KTtcbiAgfSBlbHNlIHtcbiAgICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKHNob3VsZFNldEV2ZW50KTtcbiAgfVxuICB2YXIgd2FudHNSZXNwb25kZXJJbnN0ID0gZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZShzaG91bGRTZXRFdmVudCk7XG4gIGlmICghc2hvdWxkU2V0RXZlbnQuaXNQZXJzaXN0ZW50KCkpIHtcbiAgICBzaG91bGRTZXRFdmVudC5jb25zdHJ1Y3Rvci5yZWxlYXNlKHNob3VsZFNldEV2ZW50KTtcbiAgfVxuXG4gIGlmICghd2FudHNSZXNwb25kZXJJbnN0IHx8IHdhbnRzUmVzcG9uZGVySW5zdCA9PT0gcmVzcG9uZGVySW5zdCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBleHRyYWN0ZWQgPSB2b2lkIDA7XG4gIHZhciBncmFudEV2ZW50ID0gUmVzcG9uZGVyU3ludGhldGljRXZlbnQuZ2V0UG9vbGVkKFxuICAgIGV2ZW50VHlwZXMucmVzcG9uZGVyR3JhbnQsXG4gICAgd2FudHNSZXNwb25kZXJJbnN0LFxuICAgIG5hdGl2ZUV2ZW50LFxuICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICk7XG4gIGdyYW50RXZlbnQudG91Y2hIaXN0b3J5ID0gUmVzcG9uZGVyVG91Y2hIaXN0b3J5U3RvcmUudG91Y2hIaXN0b3J5O1xuXG4gIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzKGdyYW50RXZlbnQpO1xuICB2YXIgYmxvY2tIb3N0UmVzcG9uZGVyID0gZXhlY3V0ZURpcmVjdERpc3BhdGNoKGdyYW50RXZlbnQpID09PSB0cnVlO1xuICBpZiAocmVzcG9uZGVySW5zdCkge1xuICAgIHZhciB0ZXJtaW5hdGlvblJlcXVlc3RFdmVudCA9IFJlc3BvbmRlclN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChcbiAgICAgIGV2ZW50VHlwZXMucmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0LFxuICAgICAgcmVzcG9uZGVySW5zdCxcbiAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICApO1xuICAgIHRlcm1pbmF0aW9uUmVxdWVzdEV2ZW50LnRvdWNoSGlzdG9yeSA9XG4gICAgICBSZXNwb25kZXJUb3VjaEhpc3RvcnlTdG9yZS50b3VjaEhpc3Rvcnk7XG4gICAgYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXModGVybWluYXRpb25SZXF1ZXN0RXZlbnQpO1xuICAgIHZhciBzaG91bGRTd2l0Y2ggPVxuICAgICAgIWhhc0Rpc3BhdGNoZXModGVybWluYXRpb25SZXF1ZXN0RXZlbnQpIHx8XG4gICAgICBleGVjdXRlRGlyZWN0RGlzcGF0Y2godGVybWluYXRpb25SZXF1ZXN0RXZlbnQpO1xuICAgIGlmICghdGVybWluYXRpb25SZXF1ZXN0RXZlbnQuaXNQZXJzaXN0ZW50KCkpIHtcbiAgICAgIHRlcm1pbmF0aW9uUmVxdWVzdEV2ZW50LmNvbnN0cnVjdG9yLnJlbGVhc2UodGVybWluYXRpb25SZXF1ZXN0RXZlbnQpO1xuICAgIH1cblxuICAgIGlmIChzaG91bGRTd2l0Y2gpIHtcbiAgICAgIHZhciB0ZXJtaW5hdGVFdmVudCA9IFJlc3BvbmRlclN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChcbiAgICAgICAgZXZlbnRUeXBlcy5yZXNwb25kZXJUZXJtaW5hdGUsXG4gICAgICAgIHJlc3BvbmRlckluc3QsXG4gICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgKTtcbiAgICAgIHRlcm1pbmF0ZUV2ZW50LnRvdWNoSGlzdG9yeSA9IFJlc3BvbmRlclRvdWNoSGlzdG9yeVN0b3JlLnRvdWNoSGlzdG9yeTtcbiAgICAgIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzKHRlcm1pbmF0ZUV2ZW50KTtcbiAgICAgIGV4dHJhY3RlZCA9IGFjY3VtdWxhdGUoZXh0cmFjdGVkLCBbZ3JhbnRFdmVudCwgdGVybWluYXRlRXZlbnRdKTtcbiAgICAgIGNoYW5nZVJlc3BvbmRlcih3YW50c1Jlc3BvbmRlckluc3QsIGJsb2NrSG9zdFJlc3BvbmRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZWplY3RFdmVudCA9IFJlc3BvbmRlclN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChcbiAgICAgICAgZXZlbnRUeXBlcy5yZXNwb25kZXJSZWplY3QsXG4gICAgICAgIHdhbnRzUmVzcG9uZGVySW5zdCxcbiAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICApO1xuICAgICAgcmVqZWN0RXZlbnQudG91Y2hIaXN0b3J5ID0gUmVzcG9uZGVyVG91Y2hIaXN0b3J5U3RvcmUudG91Y2hIaXN0b3J5O1xuICAgICAgYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXMocmVqZWN0RXZlbnQpO1xuICAgICAgZXh0cmFjdGVkID0gYWNjdW11bGF0ZShleHRyYWN0ZWQsIHJlamVjdEV2ZW50KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZXh0cmFjdGVkID0gYWNjdW11bGF0ZShleHRyYWN0ZWQsIGdyYW50RXZlbnQpO1xuICAgIGNoYW5nZVJlc3BvbmRlcih3YW50c1Jlc3BvbmRlckluc3QsIGJsb2NrSG9zdFJlc3BvbmRlcik7XG4gIH1cbiAgcmV0dXJuIGV4dHJhY3RlZDtcbn1cblxuLyoqXG4gKiBBIHRyYW5zZmVyIGlzIGEgbmVnb3RpYXRpb24gYmV0d2VlbiBhIGN1cnJlbnRseSBzZXQgcmVzcG9uZGVyIGFuZCB0aGUgbmV4dFxuICogZWxlbWVudCB0byBjbGFpbSByZXNwb25kZXIgc3RhdHVzLiBBbnkgc3RhcnQgZXZlbnQgY291bGQgdHJpZ2dlciBhIHRyYW5zZmVyXG4gKiBvZiByZXNwb25kZXJJbnN0LiBBbnkgbW92ZSBldmVudCBjb3VsZCB0cmlnZ2VyIGEgdHJhbnNmZXIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZSBSZWNvcmQgZnJvbSBgQnJvd3NlckV2ZW50Q29uc3RhbnRzYC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYSB0cmFuc2ZlciBvZiByZXNwb25kZXIgY291bGQgcG9zc2libHkgb2NjdXIuXG4gKi9cbmZ1bmN0aW9uIGNhblRyaWdnZXJUcmFuc2Zlcih0b3BMZXZlbFR5cGUsIHRvcExldmVsSW5zdCwgbmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIChcbiAgICB0b3BMZXZlbEluc3QgJiZcbiAgICAvLyByZXNwb25kZXJJZ25vcmVTY3JvbGw6IFdlIGFyZSB0cnlpbmcgdG8gbWlncmF0ZSBhd2F5IGZyb20gc3BlY2lmaWNhbGx5XG4gICAgLy8gdHJhY2tpbmcgbmF0aXZlIHNjcm9sbCBldmVudHMgaGVyZSBhbmQgcmVzcG9uZGVySWdub3JlU2Nyb2xsIGluZGljYXRlcyB3ZVxuICAgIC8vIHdpbGwgc2VuZCB0b3BUb3VjaENhbmNlbCB0byBoYW5kbGUgY2FuY2VsaW5nIHRvdWNoIGV2ZW50cyBpbnN0ZWFkXG4gICAgKCh0b3BMZXZlbFR5cGUgPT09IFwidG9wU2Nyb2xsXCIgJiYgIW5hdGl2ZUV2ZW50LnJlc3BvbmRlcklnbm9yZVNjcm9sbCkgfHxcbiAgICAgICh0cmFja2VkVG91Y2hDb3VudCA+IDAgJiYgdG9wTGV2ZWxUeXBlID09PSBcInRvcFNlbGVjdGlvbkNoYW5nZVwiKSB8fFxuICAgICAgaXNTdGFydGlzaCh0b3BMZXZlbFR5cGUpIHx8XG4gICAgICBpc01vdmVpc2godG9wTGV2ZWxUeXBlKSlcbiAgKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoaXMgdG91Y2ggZW5kIGV2ZW50IG1ha2VzIGl0IHN1Y2ggdGhhdCB0aGVyZSBhcmUgbm9cbiAqIGxvbmdlciBhbnkgdG91Y2hlcyB0aGF0IHN0YXJ0ZWQgaW5zaWRlIG9mIHRoZSBjdXJyZW50IGByZXNwb25kZXJJbnN0YC5cbiAqXG4gKiBAcGFyYW0ge05hdGl2ZUV2ZW50fSBuYXRpdmVFdmVudCBOYXRpdmUgdG91Y2ggZW5kIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhpcyB0b3VjaCBlbmQgZXZlbnQgZW5kcyB0aGUgcmVzcG9uZGVyLlxuICovXG5mdW5jdGlvbiBub1Jlc3BvbmRlclRvdWNoZXMobmF0aXZlRXZlbnQpIHtcbiAgdmFyIHRvdWNoZXMgPSBuYXRpdmVFdmVudC50b3VjaGVzO1xuICBpZiAoIXRvdWNoZXMgfHwgdG91Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYWN0aXZlVG91Y2ggPSB0b3VjaGVzW2ldO1xuICAgIHZhciB0YXJnZXQgPSBhY3RpdmVUb3VjaC50YXJnZXQ7XG4gICAgaWYgKHRhcmdldCAhPT0gbnVsbCAmJiB0YXJnZXQgIT09IHVuZGVmaW5lZCAmJiB0YXJnZXQgIT09IDApIHtcbiAgICAgIC8vIElzIHRoZSBvcmlnaW5hbCB0b3VjaCBsb2NhdGlvbiBpbnNpZGUgb2YgdGhlIGN1cnJlbnQgcmVzcG9uZGVyP1xuICAgICAgdmFyIHRhcmdldEluc3QgPSBnZXRJbnN0YW5jZUZyb21Ob2RlKHRhcmdldCk7XG4gICAgICBpZiAoaXNBbmNlc3RvcihyZXNwb25kZXJJbnN0LCB0YXJnZXRJbnN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG52YXIgUmVzcG9uZGVyRXZlbnRQbHVnaW4gPSB7XG4gIC8qIEZvciB1bml0IHRlc3Rpbmcgb25seSAqL1xuICBfZ2V0UmVzcG9uZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcmVzcG9uZGVySW5zdDtcbiAgfSxcblxuICBldmVudFR5cGVzOiBldmVudFR5cGVzLFxuXG4gIC8qKlxuICAgKiBXZSBtdXN0IGJlIHJlc2lsaWVudCB0byBgdGFyZ2V0SW5zdGAgYmVpbmcgYG51bGxgIG9uIGB0b3VjaE1vdmVgIG9yXG4gICAqIGB0b3VjaEVuZGAuIE9uIGNlcnRhaW4gcGxhdGZvcm1zLCB0aGlzIG1lYW5zIHRoYXQgYSBuYXRpdmUgc2Nyb2xsIGhhc1xuICAgKiBhc3N1bWVkIGNvbnRyb2wgYW5kIHRoZSBvcmlnaW5hbCB0b3VjaCB0YXJnZXRzIGFyZSBkZXN0cm95ZWQuXG4gICAqL1xuICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbihcbiAgICB0b3BMZXZlbFR5cGUsXG4gICAgdGFyZ2V0SW5zdCxcbiAgICBuYXRpdmVFdmVudCxcbiAgICBuYXRpdmVFdmVudFRhcmdldFxuICApIHtcbiAgICBpZiAoaXNTdGFydGlzaCh0b3BMZXZlbFR5cGUpKSB7XG4gICAgICB0cmFja2VkVG91Y2hDb3VudCArPSAxO1xuICAgIH0gZWxzZSBpZiAoaXNFbmRpc2godG9wTGV2ZWxUeXBlKSkge1xuICAgICAgaWYgKHRyYWNrZWRUb3VjaENvdW50ID49IDApIHtcbiAgICAgICAgdHJhY2tlZFRvdWNoQ291bnQgLT0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJFbmRlZCBhIHRvdWNoIGV2ZW50IHdoaWNoIHdhcyBub3QgY291bnRlZCBpbiBgdHJhY2tlZFRvdWNoQ291bnRgLlwiXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIFJlc3BvbmRlclRvdWNoSGlzdG9yeVN0b3JlLnJlY29yZFRvdWNoVHJhY2sodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCk7XG5cbiAgICB2YXIgZXh0cmFjdGVkID0gY2FuVHJpZ2dlclRyYW5zZmVyKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQpXG4gICAgICA/IHNldFJlc3BvbmRlckFuZEV4dHJhY3RUcmFuc2ZlcihcbiAgICAgICAgICB0b3BMZXZlbFR5cGUsXG4gICAgICAgICAgdGFyZ2V0SW5zdCxcbiAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICApXG4gICAgICA6IG51bGw7XG4gICAgLy8gUmVzcG9uZGVyIG1heSBvciBtYXkgbm90IGhhdmUgdHJhbnNmZXJyZWQgb24gYSBuZXcgdG91Y2ggc3RhcnQvbW92ZS5cbiAgICAvLyBSZWdhcmRsZXNzLCB3aG9ldmVyIGlzIHRoZSByZXNwb25kZXIgYWZ0ZXIgYW55IHBvdGVudGlhbCB0cmFuc2Zlciwgd2VcbiAgICAvLyBkaXJlY3QgYWxsIHRvdWNoIHN0YXJ0L21vdmUvZW5kcyB0byB0aGVtIGluIHRoZSBmb3JtIG9mXG4gICAgLy8gYG9uUmVzcG9uZGVyTW92ZS9TdGFydC9FbmRgLiBUaGVzZSB3aWxsIGJlIGNhbGxlZCBmb3IgKmV2ZXJ5KiBhZGRpdGlvbmFsXG4gICAgLy8gZmluZ2VyIHRoYXQgbW92ZS9zdGFydC9lbmQsIGRpc3BhdGNoZWQgZGlyZWN0bHkgdG8gd2hvZXZlciBpcyB0aGVcbiAgICAvLyBjdXJyZW50IHJlc3BvbmRlciBhdCB0aGF0IG1vbWVudCwgdW50aWwgdGhlIHJlc3BvbmRlciBpcyBcInJlbGVhc2VkXCIuXG4gICAgLy9cbiAgICAvLyBUaGVzZSBtdWx0aXBsZSBpbmRpdmlkdWFsIGNoYW5nZSB0b3VjaCBldmVudHMgYXJlIGFyZSBhbHdheXMgYm9va2VuZGVkXG4gICAgLy8gYnkgYG9uUmVzcG9uZGVyR3JhbnRgLCBhbmQgb25lIG9mXG4gICAgLy8gKGBvblJlc3BvbmRlclJlbGVhc2Uvb25SZXNwb25kZXJUZXJtaW5hdGVgKS5cbiAgICB2YXIgaXNSZXNwb25kZXJUb3VjaFN0YXJ0ID0gcmVzcG9uZGVySW5zdCAmJiBpc1N0YXJ0aXNoKHRvcExldmVsVHlwZSk7XG4gICAgdmFyIGlzUmVzcG9uZGVyVG91Y2hNb3ZlID0gcmVzcG9uZGVySW5zdCAmJiBpc01vdmVpc2godG9wTGV2ZWxUeXBlKTtcbiAgICB2YXIgaXNSZXNwb25kZXJUb3VjaEVuZCA9IHJlc3BvbmRlckluc3QgJiYgaXNFbmRpc2godG9wTGV2ZWxUeXBlKTtcbiAgICB2YXIgaW5jcmVtZW50YWxUb3VjaCA9IGlzUmVzcG9uZGVyVG91Y2hTdGFydFxuICAgICAgPyBldmVudFR5cGVzLnJlc3BvbmRlclN0YXJ0XG4gICAgICA6IGlzUmVzcG9uZGVyVG91Y2hNb3ZlXG4gICAgICAgID8gZXZlbnRUeXBlcy5yZXNwb25kZXJNb3ZlXG4gICAgICAgIDogaXNSZXNwb25kZXJUb3VjaEVuZCA/IGV2ZW50VHlwZXMucmVzcG9uZGVyRW5kIDogbnVsbDtcblxuICAgIGlmIChpbmNyZW1lbnRhbFRvdWNoKSB7XG4gICAgICB2YXIgZ2VzdHVyZSA9IFJlc3BvbmRlclN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChcbiAgICAgICAgaW5jcmVtZW50YWxUb3VjaCxcbiAgICAgICAgcmVzcG9uZGVySW5zdCxcbiAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICApO1xuICAgICAgZ2VzdHVyZS50b3VjaEhpc3RvcnkgPSBSZXNwb25kZXJUb3VjaEhpc3RvcnlTdG9yZS50b3VjaEhpc3Rvcnk7XG4gICAgICBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcyhnZXN0dXJlKTtcbiAgICAgIGV4dHJhY3RlZCA9IGFjY3VtdWxhdGUoZXh0cmFjdGVkLCBnZXN0dXJlKTtcbiAgICB9XG5cbiAgICB2YXIgaXNSZXNwb25kZXJUZXJtaW5hdGUgPVxuICAgICAgcmVzcG9uZGVySW5zdCAmJiB0b3BMZXZlbFR5cGUgPT09IFwidG9wVG91Y2hDYW5jZWxcIjtcbiAgICB2YXIgaXNSZXNwb25kZXJSZWxlYXNlID1cbiAgICAgIHJlc3BvbmRlckluc3QgJiZcbiAgICAgICFpc1Jlc3BvbmRlclRlcm1pbmF0ZSAmJlxuICAgICAgaXNFbmRpc2godG9wTGV2ZWxUeXBlKSAmJlxuICAgICAgbm9SZXNwb25kZXJUb3VjaGVzKG5hdGl2ZUV2ZW50KTtcbiAgICB2YXIgZmluYWxUb3VjaCA9IGlzUmVzcG9uZGVyVGVybWluYXRlXG4gICAgICA/IGV2ZW50VHlwZXMucmVzcG9uZGVyVGVybWluYXRlXG4gICAgICA6IGlzUmVzcG9uZGVyUmVsZWFzZSA/IGV2ZW50VHlwZXMucmVzcG9uZGVyUmVsZWFzZSA6IG51bGw7XG4gICAgaWYgKGZpbmFsVG91Y2gpIHtcbiAgICAgIHZhciBmaW5hbEV2ZW50ID0gUmVzcG9uZGVyU3ludGhldGljRXZlbnQuZ2V0UG9vbGVkKFxuICAgICAgICBmaW5hbFRvdWNoLFxuICAgICAgICByZXNwb25kZXJJbnN0LFxuICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICk7XG4gICAgICBmaW5hbEV2ZW50LnRvdWNoSGlzdG9yeSA9IFJlc3BvbmRlclRvdWNoSGlzdG9yeVN0b3JlLnRvdWNoSGlzdG9yeTtcbiAgICAgIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzKGZpbmFsRXZlbnQpO1xuICAgICAgZXh0cmFjdGVkID0gYWNjdW11bGF0ZShleHRyYWN0ZWQsIGZpbmFsRXZlbnQpO1xuICAgICAgY2hhbmdlUmVzcG9uZGVyKG51bGwpO1xuICAgIH1cblxuICAgIHZhciBudW1iZXJBY3RpdmVUb3VjaGVzID1cbiAgICAgIFJlc3BvbmRlclRvdWNoSGlzdG9yeVN0b3JlLnRvdWNoSGlzdG9yeS5udW1iZXJBY3RpdmVUb3VjaGVzO1xuICAgIGlmIChcbiAgICAgIFJlc3BvbmRlckV2ZW50UGx1Z2luLkdsb2JhbEludGVyYWN0aW9uSGFuZGxlciAmJlxuICAgICAgbnVtYmVyQWN0aXZlVG91Y2hlcyAhPT0gcHJldmlvdXNBY3RpdmVUb3VjaGVzXG4gICAgKSB7XG4gICAgICBSZXNwb25kZXJFdmVudFBsdWdpbi5HbG9iYWxJbnRlcmFjdGlvbkhhbmRsZXIub25DaGFuZ2UoXG4gICAgICAgIG51bWJlckFjdGl2ZVRvdWNoZXNcbiAgICAgICk7XG4gICAgfVxuICAgIHByZXZpb3VzQWN0aXZlVG91Y2hlcyA9IG51bWJlckFjdGl2ZVRvdWNoZXM7XG5cbiAgICByZXR1cm4gZXh0cmFjdGVkO1xuICB9LFxuXG4gIEdsb2JhbFJlc3BvbmRlckhhbmRsZXI6IG51bGwsXG4gIEdsb2JhbEludGVyYWN0aW9uSGFuZGxlcjogbnVsbCxcblxuICBpbmplY3Rpb246IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3tvbkNoYW5nZTogKFJlYWN0SUQsIFJlYWN0SUQpID0+IHZvaWR9IEdsb2JhbFJlc3BvbmRlckhhbmRsZXJcbiAgICAgKiBPYmplY3QgdGhhdCBoYW5kbGVzIGFueSBjaGFuZ2UgaW4gcmVzcG9uZGVyLiBVc2UgdGhpcyB0byBpbmplY3RcbiAgICAgKiBpbnRlZ3JhdGlvbiB3aXRoIGFuIGV4aXN0aW5nIHRvdWNoIGhhbmRsaW5nIHN5c3RlbSBldGMuXG4gICAgICovXG4gICAgaW5qZWN0R2xvYmFsUmVzcG9uZGVySGFuZGxlcjogZnVuY3Rpb24oR2xvYmFsUmVzcG9uZGVySGFuZGxlcikge1xuICAgICAgUmVzcG9uZGVyRXZlbnRQbHVnaW4uR2xvYmFsUmVzcG9uZGVySGFuZGxlciA9IEdsb2JhbFJlc3BvbmRlckhhbmRsZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7e29uQ2hhbmdlOiAobnVtYmVyQWN0aXZlVG91Y2hlcykgPT4gdm9pZH0gR2xvYmFsSW50ZXJhY3Rpb25IYW5kbGVyXG4gICAgICogT2JqZWN0IHRoYXQgaGFuZGxlcyBhbnkgY2hhbmdlIGluIHRoZSBudW1iZXIgb2YgYWN0aXZlIHRvdWNoZXMuXG4gICAgICovXG4gICAgaW5qZWN0R2xvYmFsSW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbihHbG9iYWxJbnRlcmFjdGlvbkhhbmRsZXIpIHtcbiAgICAgIFJlc3BvbmRlckV2ZW50UGx1Z2luLkdsb2JhbEludGVyYWN0aW9uSGFuZGxlciA9IEdsb2JhbEludGVyYWN0aW9uSGFuZGxlcjtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBjdXN0b21CdWJibGluZ0V2ZW50VHlwZXMgPSB7fTtcbnZhciBjdXN0b21EaXJlY3RFdmVudFR5cGVzID0ge307XG5cbnZhciBSZWFjdE5hdGl2ZUJyaWRnZUV2ZW50UGx1Z2luID0ge1xuICBldmVudFR5cGVzOiB7fSxcblxuICAvKipcbiAgICogQHNlZSB7RXZlbnRQbHVnaW5IdWIuZXh0cmFjdEV2ZW50c31cbiAgICovXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uKFxuICAgIHRvcExldmVsVHlwZSxcbiAgICB0YXJnZXRJbnN0LFxuICAgIG5hdGl2ZUV2ZW50LFxuICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICkge1xuICAgIGlmICh0YXJnZXRJbnN0ID09IG51bGwpIHtcbiAgICAgIC8vIFByb2JhYmx5IGEgbm9kZSBiZWxvbmdpbmcgdG8gYW5vdGhlciByZW5kZXJlcidzIHRyZWUuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGJ1YmJsZURpc3BhdGNoQ29uZmlnID0gY3VzdG9tQnViYmxpbmdFdmVudFR5cGVzW3RvcExldmVsVHlwZV07XG4gICAgdmFyIGRpcmVjdERpc3BhdGNoQ29uZmlnID0gY3VzdG9tRGlyZWN0RXZlbnRUeXBlc1t0b3BMZXZlbFR5cGVdO1xuICAgIGludmFyaWFudChcbiAgICAgIGJ1YmJsZURpc3BhdGNoQ29uZmlnIHx8IGRpcmVjdERpc3BhdGNoQ29uZmlnLFxuICAgICAgJ1Vuc3VwcG9ydGVkIHRvcCBsZXZlbCBldmVudCB0eXBlIFwiJXNcIiBkaXNwYXRjaGVkJyxcbiAgICAgIHRvcExldmVsVHlwZVxuICAgICk7XG4gICAgdmFyIGV2ZW50ID0gU3ludGhldGljRXZlbnQkMS5nZXRQb29sZWQoXG4gICAgICBidWJibGVEaXNwYXRjaENvbmZpZyB8fCBkaXJlY3REaXNwYXRjaENvbmZpZyxcbiAgICAgIHRhcmdldEluc3QsXG4gICAgICBuYXRpdmVFdmVudCxcbiAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgKTtcbiAgICBpZiAoYnViYmxlRGlzcGF0Y2hDb25maWcpIHtcbiAgICAgIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0RGlzcGF0Y2hDb25maWcpIHtcbiAgICAgIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzKGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBldmVudDtcbiAgfSxcblxuICBwcm9jZXNzRXZlbnRUeXBlczogZnVuY3Rpb24odmlld0NvbmZpZykge1xuICAgIHZhciBidWJibGluZ0V2ZW50VHlwZXMgPSB2aWV3Q29uZmlnLmJ1YmJsaW5nRXZlbnRUeXBlcyxcbiAgICAgIGRpcmVjdEV2ZW50VHlwZXMgPSB2aWV3Q29uZmlnLmRpcmVjdEV2ZW50VHlwZXM7XG5cbiAgICB7XG4gICAgICBpZiAoYnViYmxpbmdFdmVudFR5cGVzICE9IG51bGwgJiYgZGlyZWN0RXZlbnRUeXBlcyAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIHRvcExldmVsVHlwZSBpbiBkaXJlY3RFdmVudFR5cGVzKSB7XG4gICAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgICAgYnViYmxpbmdFdmVudFR5cGVzW3RvcExldmVsVHlwZV0gPT0gbnVsbCxcbiAgICAgICAgICAgIFwiRXZlbnQgY2Fubm90IGJlIGJvdGggZGlyZWN0IGFuZCBidWJibGluZzogJXNcIixcbiAgICAgICAgICAgIHRvcExldmVsVHlwZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYnViYmxpbmdFdmVudFR5cGVzICE9IG51bGwpIHtcbiAgICAgIGZvciAodmFyIF90b3BMZXZlbFR5cGUgaW4gYnViYmxpbmdFdmVudFR5cGVzKSB7XG4gICAgICAgIGlmIChjdXN0b21CdWJibGluZ0V2ZW50VHlwZXNbX3RvcExldmVsVHlwZV0gPT0gbnVsbCkge1xuICAgICAgICAgIFJlYWN0TmF0aXZlQnJpZGdlRXZlbnRQbHVnaW4uZXZlbnRUeXBlc1tcbiAgICAgICAgICAgIF90b3BMZXZlbFR5cGVcbiAgICAgICAgICBdID0gY3VzdG9tQnViYmxpbmdFdmVudFR5cGVzW190b3BMZXZlbFR5cGVdID1cbiAgICAgICAgICAgIGJ1YmJsaW5nRXZlbnRUeXBlc1tfdG9wTGV2ZWxUeXBlXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkaXJlY3RFdmVudFR5cGVzICE9IG51bGwpIHtcbiAgICAgIGZvciAodmFyIF90b3BMZXZlbFR5cGUyIGluIGRpcmVjdEV2ZW50VHlwZXMpIHtcbiAgICAgICAgaWYgKGN1c3RvbURpcmVjdEV2ZW50VHlwZXNbX3RvcExldmVsVHlwZTJdID09IG51bGwpIHtcbiAgICAgICAgICBSZWFjdE5hdGl2ZUJyaWRnZUV2ZW50UGx1Z2luLmV2ZW50VHlwZXNbXG4gICAgICAgICAgICBfdG9wTGV2ZWxUeXBlMlxuICAgICAgICAgIF0gPSBjdXN0b21EaXJlY3RFdmVudFR5cGVzW190b3BMZXZlbFR5cGUyXSA9XG4gICAgICAgICAgICBkaXJlY3RFdmVudFR5cGVzW190b3BMZXZlbFR5cGUyXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxudmFyIGluc3RhbmNlQ2FjaGUgPSB7fTtcbnZhciBpbnN0YW5jZVByb3BzID0ge307XG5cbmZ1bmN0aW9uIHByZWNhY2hlRmliZXJOb2RlKGhvc3RJbnN0LCB0YWcpIHtcbiAgaW5zdGFuY2VDYWNoZVt0YWddID0gaG9zdEluc3Q7XG59XG5cbmZ1bmN0aW9uIHVuY2FjaGVGaWJlck5vZGUodGFnKSB7XG4gIGRlbGV0ZSBpbnN0YW5jZUNhY2hlW3RhZ107XG4gIGRlbGV0ZSBpbnN0YW5jZVByb3BzW3RhZ107XG59XG5cbmZ1bmN0aW9uIGdldEluc3RhbmNlRnJvbVRhZyh0YWcpIHtcbiAgaWYgKHR5cGVvZiB0YWcgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gaW5zdGFuY2VDYWNoZVt0YWddIHx8IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgLy8gRmFicmljIHdpbGwgaW52b2tlIGV2ZW50IGVtaXR0ZXJzIG9uIGEgZGlyZWN0IGZpYmVyIHJlZmVyZW5jZVxuICAgIHJldHVybiB0YWc7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0VGFnRnJvbUluc3RhbmNlKGluc3QpIHtcbiAgdmFyIHRhZyA9IGluc3Quc3RhdGVOb2RlLl9uYXRpdmVUYWc7XG4gIGlmICh0YWcgPT09IHVuZGVmaW5lZCkge1xuICAgIHRhZyA9IGluc3Quc3RhdGVOb2RlLmNhbm9uaWNhbC5fbmF0aXZlVGFnO1xuICB9XG4gIGludmFyaWFudCh0YWcsIFwiQWxsIG5hdGl2ZSBpbnN0YW5jZXMgc2hvdWxkIGhhdmUgYSB0YWcuXCIpO1xuICByZXR1cm4gdGFnO1xufVxuXG5mdW5jdGlvbiBnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlJDEoc3RhdGVOb2RlKSB7XG4gIHJldHVybiBpbnN0YW5jZVByb3BzW3N0YXRlTm9kZS5fbmF0aXZlVGFnXSB8fCBudWxsO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVGaWJlclByb3BzKHRhZywgcHJvcHMpIHtcbiAgaW5zdGFuY2VQcm9wc1t0YWddID0gcHJvcHM7XG59XG5cbnZhciBSZWFjdE5hdGl2ZUNvbXBvbmVudFRyZWUgPSBPYmplY3QuZnJlZXplKHtcbiAgcHJlY2FjaGVGaWJlck5vZGU6IHByZWNhY2hlRmliZXJOb2RlLFxuICB1bmNhY2hlRmliZXJOb2RlOiB1bmNhY2hlRmliZXJOb2RlLFxuICBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZTogZ2V0SW5zdGFuY2VGcm9tVGFnLFxuICBnZXRJbnN0YW5jZUZyb21Ob2RlOiBnZXRJbnN0YW5jZUZyb21UYWcsXG4gIGdldE5vZGVGcm9tSW5zdGFuY2U6IGdldFRhZ0Zyb21JbnN0YW5jZSxcbiAgZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZTogZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSQxLFxuICB1cGRhdGVGaWJlclByb3BzOiB1cGRhdGVGaWJlclByb3BzXG59KTtcblxudmFyIFJlYWN0TmF0aXZlRXZlbnRQbHVnaW5PcmRlciA9IFtcbiAgXCJSZXNwb25kZXJFdmVudFBsdWdpblwiLFxuICBcIlJlYWN0TmF0aXZlQnJpZGdlRXZlbnRQbHVnaW5cIlxuXTtcblxuLy8gTW9kdWxlIHByb3ZpZGVkIGJ5IFJOOlxudmFyIFJlYWN0TmF0aXZlR2xvYmFsUmVzcG9uZGVySGFuZGxlciA9IHtcbiAgb25DaGFuZ2U6IGZ1bmN0aW9uKGZyb20sIHRvLCBibG9ja05hdGl2ZVJlc3BvbmRlcikge1xuICAgIGlmICh0byAhPT0gbnVsbCkge1xuICAgICAgdmFyIHRhZyA9IHRvLnN0YXRlTm9kZS5fbmF0aXZlVGFnO1xuICAgICAgVUlNYW5hZ2VyLnNldEpTUmVzcG9uZGVyKHRhZywgYmxvY2tOYXRpdmVSZXNwb25kZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBVSU1hbmFnZXIuY2xlYXJKU1Jlc3BvbmRlcigpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBNYWtlIHN1cmUgZXNzZW50aWFsIGdsb2JhbHMgYXJlIGF2YWlsYWJsZSBhbmQgYXJlIHBhdGNoZWQgY29ycmVjdGx5LiBQbGVhc2UgZG9uJ3QgcmVtb3ZlIHRoaXNcbiAqIGxpbmUuIEJ1bmRsZXMgY3JlYXRlZCBieSByZWFjdC1wYWNrYWdlciBgcmVxdWlyZWAgaXQgYmVmb3JlIGV4ZWN1dGluZyBhbnkgYXBwbGljYXRpb24gY29kZS4gVGhpc1xuICogZW5zdXJlcyBpdCBleGlzdHMgaW4gdGhlIGRlcGVuZGVuY3kgZ3JhcGggYW5kIGNhbiBiZSBgcmVxdWlyZWBkLlxuICogVE9ETzogcmVxdWlyZSB0aGlzIGluIHBhY2thZ2VyLCBub3QgaW4gUmVhY3QgIzEwOTMyNTE3XG4gKi9cbi8vIE1vZHVsZSBwcm92aWRlZCBieSBSTjpcbi8qKlxuICogSW5qZWN0IG1vZHVsZSBmb3IgcmVzb2x2aW5nIERPTSBoaWVyYXJjaHkgYW5kIHBsdWdpbiBvcmRlcmluZy5cbiAqL1xuaW5qZWN0aW9uLmluamVjdEV2ZW50UGx1Z2luT3JkZXIoUmVhY3ROYXRpdmVFdmVudFBsdWdpbk9yZGVyKTtcbmluamVjdGlvbiQxLmluamVjdENvbXBvbmVudFRyZWUoUmVhY3ROYXRpdmVDb21wb25lbnRUcmVlKTtcblxuUmVzcG9uZGVyRXZlbnRQbHVnaW4uaW5qZWN0aW9uLmluamVjdEdsb2JhbFJlc3BvbmRlckhhbmRsZXIoXG4gIFJlYWN0TmF0aXZlR2xvYmFsUmVzcG9uZGVySGFuZGxlclxuKTtcblxuLyoqXG4gKiBTb21lIGltcG9ydGFudCBldmVudCBwbHVnaW5zIGluY2x1ZGVkIGJ5IGRlZmF1bHQgKHdpdGhvdXQgaGF2aW5nIHRvIHJlcXVpcmVcbiAqIHRoZW0pLlxuICovXG5pbmplY3Rpb24uaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lKHtcbiAgUmVzcG9uZGVyRXZlbnRQbHVnaW46IFJlc3BvbmRlckV2ZW50UGx1Z2luLFxuICBSZWFjdE5hdGl2ZUJyaWRnZUV2ZW50UGx1Z2luOiBSZWFjdE5hdGl2ZUJyaWRnZUV2ZW50UGx1Z2luXG59KTtcblxuLy8gVXNlIHRvIHJlc3RvcmUgY29udHJvbGxlZCBzdGF0ZSBhZnRlciBhIGNoYW5nZSBldmVudCBoYXMgZmlyZWQuXG5cbnZhciBmaWJlckhvc3RDb21wb25lbnQgPSBudWxsO1xuXG52YXIgcmVzdG9yZVRhcmdldCA9IG51bGw7XG52YXIgcmVzdG9yZVF1ZXVlID0gbnVsbDtcblxuZnVuY3Rpb24gcmVzdG9yZVN0YXRlT2ZUYXJnZXQodGFyZ2V0KSB7XG4gIC8vIFdlIHBlcmZvcm0gdGhpcyB0cmFuc2xhdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBldmVudCBsb29wIHNvIHRoYXQgd2VcbiAgLy8gYWx3YXlzIHJlY2VpdmUgdGhlIGNvcnJlY3QgZmliZXIgaGVyZVxuICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEluc3RhbmNlRnJvbU5vZGUodGFyZ2V0KTtcbiAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgLy8gVW5tb3VudGVkXG4gICAgcmV0dXJuO1xuICB9XG4gIGludmFyaWFudChcbiAgICBmaWJlckhvc3RDb21wb25lbnQgJiZcbiAgICAgIHR5cGVvZiBmaWJlckhvc3RDb21wb25lbnQucmVzdG9yZUNvbnRyb2xsZWRTdGF0ZSA9PT0gXCJmdW5jdGlvblwiLFxuICAgIFwiRmliZXIgbmVlZHMgdG8gYmUgaW5qZWN0ZWQgdG8gaGFuZGxlIGEgZmliZXIgdGFyZ2V0IGZvciBjb250cm9sbGVkIFwiICtcbiAgICAgIFwiZXZlbnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICk7XG4gIHZhciBwcm9wcyA9IGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUoaW50ZXJuYWxJbnN0YW5jZS5zdGF0ZU5vZGUpO1xuICBmaWJlckhvc3RDb21wb25lbnQucmVzdG9yZUNvbnRyb2xsZWRTdGF0ZShcbiAgICBpbnRlcm5hbEluc3RhbmNlLnN0YXRlTm9kZSxcbiAgICBpbnRlcm5hbEluc3RhbmNlLnR5cGUsXG4gICAgcHJvcHNcbiAgKTtcbn1cblxuZnVuY3Rpb24gbmVlZHNTdGF0ZVJlc3RvcmUoKSB7XG4gIHJldHVybiByZXN0b3JlVGFyZ2V0ICE9PSBudWxsIHx8IHJlc3RvcmVRdWV1ZSAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gcmVzdG9yZVN0YXRlSWZOZWVkZWQoKSB7XG4gIGlmICghcmVzdG9yZVRhcmdldCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgdGFyZ2V0ID0gcmVzdG9yZVRhcmdldDtcbiAgdmFyIHF1ZXVlZFRhcmdldHMgPSByZXN0b3JlUXVldWU7XG4gIHJlc3RvcmVUYXJnZXQgPSBudWxsO1xuICByZXN0b3JlUXVldWUgPSBudWxsO1xuXG4gIHJlc3RvcmVTdGF0ZU9mVGFyZ2V0KHRhcmdldCk7XG4gIGlmIChxdWV1ZWRUYXJnZXRzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZWRUYXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN0b3JlU3RhdGVPZlRhcmdldChxdWV1ZWRUYXJnZXRzW2ldKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gVXNlZCBhcyBhIHdheSB0byBjYWxsIGJhdGNoZWRVcGRhdGVzIHdoZW4gd2UgZG9uJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0b1xuLy8gdGhlIHJlbmRlcmVyLiBTdWNoIGFzIHdoZW4gd2UncmUgZGlzcGF0Y2hpbmcgZXZlbnRzIG9yIGlmIHRoaXJkIHBhcnR5XG4vLyBsaWJyYXJpZXMgbmVlZCB0byBjYWxsIGJhdGNoZWRVcGRhdGVzLiBFdmVudHVhbGx5LCB0aGlzIEFQSSB3aWxsIGdvIGF3YXkgd2hlblxuLy8gZXZlcnl0aGluZyBpcyBiYXRjaGVkIGJ5IGRlZmF1bHQuIFdlJ2xsIHRoZW4gaGF2ZSBhIHNpbWlsYXIgQVBJIHRvIG9wdC1vdXQgb2Zcbi8vIHNjaGVkdWxlZCB3b3JrIGFuZCBpbnN0ZWFkIGRvIHN5bmNocm9ub3VzIHdvcmsuXG5cbi8vIERlZmF1bHRzXG52YXIgX2JhdGNoZWRVcGRhdGVzID0gZnVuY3Rpb24oZm4sIGJvb2trZWVwaW5nKSB7XG4gIHJldHVybiBmbihib29ra2VlcGluZyk7XG59O1xudmFyIF9pbnRlcmFjdGl2ZVVwZGF0ZXMgPSBmdW5jdGlvbihmbiwgYSwgYikge1xuICByZXR1cm4gZm4oYSwgYik7XG59O1xudmFyIF9mbHVzaEludGVyYWN0aXZlVXBkYXRlcyA9IGZ1bmN0aW9uKCkge307XG5cbnZhciBpc0JhdGNoaW5nID0gZmFsc2U7XG5mdW5jdGlvbiBiYXRjaGVkVXBkYXRlcyhmbiwgYm9va2tlZXBpbmcpIHtcbiAgaWYgKGlzQmF0Y2hpbmcpIHtcbiAgICAvLyBJZiB3ZSBhcmUgY3VycmVudGx5IGluc2lkZSBhbm90aGVyIGJhdGNoLCB3ZSBuZWVkIHRvIHdhaXQgdW50aWwgaXRcbiAgICAvLyBmdWxseSBjb21wbGV0ZXMgYmVmb3JlIHJlc3RvcmluZyBzdGF0ZS5cbiAgICByZXR1cm4gZm4oYm9va2tlZXBpbmcpO1xuICB9XG4gIGlzQmF0Y2hpbmcgPSB0cnVlO1xuICB0cnkge1xuICAgIHJldHVybiBfYmF0Y2hlZFVwZGF0ZXMoZm4sIGJvb2trZWVwaW5nKTtcbiAgfSBmaW5hbGx5IHtcbiAgICAvLyBIZXJlIHdlIHdhaXQgdW50aWwgYWxsIHVwZGF0ZXMgaGF2ZSBwcm9wYWdhdGVkLCB3aGljaCBpcyBpbXBvcnRhbnRcbiAgICAvLyB3aGVuIHVzaW5nIGNvbnRyb2xsZWQgY29tcG9uZW50cyB3aXRoaW4gbGF5ZXJzOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTY5OFxuICAgIC8vIFRoZW4gd2UgcmVzdG9yZSBzdGF0ZSBvZiBhbnkgY29udHJvbGxlZCBjb21wb25lbnQuXG4gICAgaXNCYXRjaGluZyA9IGZhbHNlO1xuICAgIHZhciBjb250cm9sbGVkQ29tcG9uZW50c0hhdmVQZW5kaW5nVXBkYXRlcyA9IG5lZWRzU3RhdGVSZXN0b3JlKCk7XG4gICAgaWYgKGNvbnRyb2xsZWRDb21wb25lbnRzSGF2ZVBlbmRpbmdVcGRhdGVzKSB7XG4gICAgICAvLyBJZiBhIGNvbnRyb2xsZWQgZXZlbnQgd2FzIGZpcmVkLCB3ZSBtYXkgbmVlZCB0byByZXN0b3JlIHRoZSBzdGF0ZSBvZlxuICAgICAgLy8gdGhlIERPTSBub2RlIGJhY2sgdG8gdGhlIGNvbnRyb2xsZWQgdmFsdWUuIFRoaXMgaXMgbmVjZXNzYXJ5IHdoZW4gUmVhY3RcbiAgICAgIC8vIGJhaWxzIG91dCBvZiB0aGUgdXBkYXRlIHdpdGhvdXQgdG91Y2hpbmcgdGhlIERPTS5cbiAgICAgIF9mbHVzaEludGVyYWN0aXZlVXBkYXRlcygpO1xuICAgICAgcmVzdG9yZVN0YXRlSWZOZWVkZWQoKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIGluamVjdGlvbiQyID0ge1xuICBpbmplY3RSZW5kZXJlcjogZnVuY3Rpb24ocmVuZGVyZXIpIHtcbiAgICBfYmF0Y2hlZFVwZGF0ZXMgPSByZW5kZXJlci5iYXRjaGVkVXBkYXRlcztcbiAgICBfaW50ZXJhY3RpdmVVcGRhdGVzID0gcmVuZGVyZXIuaW50ZXJhY3RpdmVVcGRhdGVzO1xuICAgIF9mbHVzaEludGVyYWN0aXZlVXBkYXRlcyA9IHJlbmRlcmVyLmZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzO1xuICB9XG59O1xuXG4vKipcbiAqIEtlZXBzIHRyYWNrIG9mIGFsbG9jYXRpbmcgYW5kIGFzc29jaWF0aW5nIG5hdGl2ZSBcInRhZ3NcIiB3aGljaCBhcmUgbnVtZXJpYyxcbiAqIHVuaXF1ZSB2aWV3IElEcy4gQWxsIHRoZSBuYXRpdmUgdGFncyBhcmUgbmVnYXRpdmUgbnVtYmVycywgdG8gYXZvaWRcbiAqIGNvbGxpc2lvbnMsIGJ1dCBpbiB0aGUgSlMgd2Uga2VlcCB0cmFjayBvZiB0aGVtIGFzIHBvc2l0aXZlIGludGVnZXJzIHRvIHN0b3JlXG4gKiB0aGVtIGVmZmVjdGl2ZWx5IGluIEFycmF5cy4gU28gd2UgbXVzdCByZWZlciB0byB0aGVtIGFzIFwiaW52ZXJzZXNcIiBvZiB0aGVcbiAqIG5hdGl2ZSB0YWdzICh0aGF0IGFyZSAqIG5vcm1hbGx5IG5lZ2F0aXZlKS5cbiAqXG4gKiBJdCAqbXVzdCogYmUgdGhlIGNhc2UgdGhhdCBldmVyeSBgcm9vdE5vZGVJRGAgYWx3YXlzIG1hcHMgdG8gdGhlIGV4YWN0IHNhbWVcbiAqIGB0YWdgIGZvcmV2ZXIuIFRoZSBlYXNpZXN0IHdheSB0byBhY2NvbXBsaXNoIHRoaXMgaXMgdG8gbmV2ZXIgZGVsZXRlXG4gKiBhbnl0aGluZyBmcm9tIHRoaXMgdGFibGUuXG4gKiBXaHk6IEJlY2F1c2UgYGRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwQnlJRGAgcmVsaWVzIG9uIGJlaW5nIGFibGUgdG9cbiAqIHVubW91bnQgYSBjb21wb25lbnQgd2l0aCBhIGByb290Tm9kZUlEYCwgdGhlbiBtb3VudCBhIG5ldyBvbmUgaW4gaXRzIHBsYWNlLFxuICovXG52YXIgSU5JVElBTF9UQUdfQ09VTlQgPSAxO1xudmFyIFJlYWN0TmF0aXZlVGFnSGFuZGxlcyA9IHtcbiAgdGFnc1N0YXJ0QXQ6IElOSVRJQUxfVEFHX0NPVU5ULFxuICB0YWdDb3VudDogSU5JVElBTF9UQUdfQ09VTlQsXG5cbiAgYWxsb2NhdGVUYWc6IGZ1bmN0aW9uKCkge1xuICAgIC8vIFNraXAgb3ZlciByb290IElEcyBhcyB0aG9zZSBhcmUgcmVzZXJ2ZWQgZm9yIG5hdGl2ZVxuICAgIHdoaWxlICh0aGlzLnJlYWN0VGFnSXNOYXRpdmVUb3BSb290SUQoUmVhY3ROYXRpdmVUYWdIYW5kbGVzLnRhZ0NvdW50KSkge1xuICAgICAgUmVhY3ROYXRpdmVUYWdIYW5kbGVzLnRhZ0NvdW50Kys7XG4gICAgfVxuICAgIHZhciB0YWcgPSBSZWFjdE5hdGl2ZVRhZ0hhbmRsZXMudGFnQ291bnQ7XG4gICAgUmVhY3ROYXRpdmVUYWdIYW5kbGVzLnRhZ0NvdW50Kys7XG4gICAgcmV0dXJuIHRhZztcbiAgfSxcblxuICBhc3NlcnRSb290VGFnOiBmdW5jdGlvbih0YWcpIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICB0aGlzLnJlYWN0VGFnSXNOYXRpdmVUb3BSb290SUQodGFnKSxcbiAgICAgIFwiRXhwZWN0IGEgbmF0aXZlIHJvb3QgdGFnLCBpbnN0ZWFkIGdvdCAlc1wiLFxuICAgICAgdGFnXG4gICAgKTtcbiAgfSxcblxuICByZWFjdFRhZ0lzTmF0aXZlVG9wUm9vdElEOiBmdW5jdGlvbihyZWFjdFRhZykge1xuICAgIC8vIFdlIHJlc2VydmUgYWxsIHRhZ3MgdGhhdCBhcmUgMSBtb2QgMTAgZm9yIG5hdGl2ZSByb290IHZpZXdzXG4gICAgcmV0dXJuIHJlYWN0VGFnICUgMTAgPT09IDE7XG4gIH1cbn07XG5cbi8qKlxuICogVmVyc2lvbiBvZiBgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyYCB0aGF0IHdvcmtzIG9uIHRoZSByZWNlaXZpbmcgc2lkZSBvZiBhXG4gKiBzZXJpYWxpemVkIHdvcmtlciBib3VuZGFyeS5cbiAqL1xuXG4vLyBTaGFyZWQgZGVmYXVsdCBlbXB0eSBuYXRpdmUgZXZlbnQgLSBjb25zZXJ2ZSBtZW1vcnkuXG52YXIgRU1QVFlfTkFUSVZFX0VWRU5UID0ge307XG5cbi8qKlxuICogU2VsZWN0cyBhIHN1YnNlcXVlbmNlIG9mIGBUb3VjaGBlcywgd2l0aG91dCBkZXN0cm95aW5nIGB0b3VjaGVzYC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PFRvdWNoPn0gdG91Y2hlcyBEZXNlcmlhbGl6ZWQgdG91Y2ggb2JqZWN0cy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5kaWNlcyBJbmRpY2VzIGJ5IHdoaWNoIHRvIHB1bGwgc3Vic2VxdWVuY2UuXG4gKiBAcmV0dXJuIHtBcnJheTxUb3VjaD59IFN1YnNlcXVlbmNlIG9mIHRvdWNoIG9iamVjdHMuXG4gKi9cbnZhciB0b3VjaFN1YnNlcXVlbmNlID0gZnVuY3Rpb24odG91Y2hlcywgaW5kaWNlcykge1xuICB2YXIgcmV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kaWNlcy5sZW5ndGg7IGkrKykge1xuICAgIHJldC5wdXNoKHRvdWNoZXNbaW5kaWNlc1tpXV0pO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG4vKipcbiAqIFRPRE86IFBvb2wgYWxsIG9mIHRoaXMuXG4gKlxuICogRGVzdHJveXMgYHRvdWNoZXNgIGJ5IHJlbW92aW5nIHRvdWNoIG9iamVjdHMgYXQgaW5kaWNlcyBgaW5kaWNlc2AuIFRoaXMgaXNcbiAqIHRvIG1haW50YWluIGNvbXBhdGliaWxpdHkgd2l0aCBXM0MgdG91Y2ggXCJlbmRcIiBldmVudHMsIHdoZXJlIHRoZSBhY3RpdmVcbiAqIHRvdWNoZXMgZG9uJ3QgaW5jbHVkZSB0aGUgc2V0IHRoYXQgaGFzIGp1c3QgYmVlbiBcImVuZGVkXCIuXG4gKlxuICogQHBhcmFtIHtBcnJheTxUb3VjaD59IHRvdWNoZXMgRGVzZXJpYWxpemVkIHRvdWNoIG9iamVjdHMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGluZGljZXMgSW5kaWNlcyB0byByZW1vdmUgZnJvbSBgdG91Y2hlc2AuXG4gKiBAcmV0dXJuIHtBcnJheTxUb3VjaD59IFN1YnNlcXVlbmNlIG9mIHJlbW92ZWQgdG91Y2ggb2JqZWN0cy5cbiAqL1xudmFyIHJlbW92ZVRvdWNoZXNBdEluZGljZXMgPSBmdW5jdGlvbih0b3VjaGVzLCBpbmRpY2VzKSB7XG4gIHZhciByaXBwZWRPdXQgPSBbXTtcbiAgLy8gdXNlIGFuIHVuc2FmZSBkb3duY2FzdCB0byBhbGlhcyB0byBudWxsYWJsZSBlbGVtZW50cyxcbiAgLy8gc28gd2UgY2FuIGRlbGV0ZSBhbmQgdGhlbiBjb21wYWN0LlxuICB2YXIgdGVtcCA9IHRvdWNoZXM7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kaWNlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpbmRleCA9IGluZGljZXNbaV07XG4gICAgcmlwcGVkT3V0LnB1c2godG91Y2hlc1tpbmRleF0pO1xuICAgIHRlbXBbaW5kZXhdID0gbnVsbDtcbiAgfVxuICB2YXIgZmlsbEF0ID0gMDtcbiAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wLmxlbmd0aDsgaisrKSB7XG4gICAgdmFyIGN1ciA9IHRlbXBbal07XG4gICAgaWYgKGN1ciAhPT0gbnVsbCkge1xuICAgICAgdGVtcFtmaWxsQXQrK10gPSBjdXI7XG4gICAgfVxuICB9XG4gIHRlbXAubGVuZ3RoID0gZmlsbEF0O1xuICByZXR1cm4gcmlwcGVkT3V0O1xufTtcblxuLyoqXG4gKiBJbnRlcm5hbCB2ZXJzaW9uIG9mIGByZWNlaXZlRXZlbnRgIGluIHRlcm1zIG9mIG5vcm1hbGl6ZWQgKG5vbi10YWcpXG4gKiBgcm9vdE5vZGVJRGAuXG4gKlxuICogQHNlZSByZWNlaXZlRXZlbnQuXG4gKlxuICogQHBhcmFtIHtyb290Tm9kZUlEfSByb290Tm9kZUlEIFJlYWN0IHJvb3Qgbm9kZSBJRCB0aGF0IGV2ZW50IG9jY3VycmVkIG9uLlxuICogQHBhcmFtIHtUb3BMZXZlbFR5cGV9IHRvcExldmVsVHlwZSBUb3AgbGV2ZWwgdHlwZSBvZiBldmVudC5cbiAqIEBwYXJhbSB7P29iamVjdH0gbmF0aXZlRXZlbnRQYXJhbSBPYmplY3QgcGFzc2VkIGZyb20gbmF0aXZlLlxuICovXG5mdW5jdGlvbiBfcmVjZWl2ZVJvb3ROb2RlSURFdmVudChyb290Tm9kZUlELCB0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50UGFyYW0pIHtcbiAgdmFyIG5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnRQYXJhbSB8fCBFTVBUWV9OQVRJVkVfRVZFTlQ7XG4gIHZhciBpbnN0ID0gZ2V0SW5zdGFuY2VGcm9tVGFnKHJvb3ROb2RlSUQpO1xuICBiYXRjaGVkVXBkYXRlcyhmdW5jdGlvbigpIHtcbiAgICBydW5FeHRyYWN0ZWRFdmVudHNJbkJhdGNoKFxuICAgICAgdG9wTGV2ZWxUeXBlLFxuICAgICAgaW5zdCxcbiAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgbmF0aXZlRXZlbnQudGFyZ2V0XG4gICAgKTtcbiAgfSk7XG4gIC8vIFJlYWN0IE5hdGl2ZSBkb2Vzbid0IHVzZSBSZWFjdENvbnRyb2xsZWRDb21wb25lbnQgYnV0IGlmIGl0IGRpZCwgaGVyZSdzXG4gIC8vIHdoZXJlIGl0IHdvdWxkIGRvIGl0LlxufVxuXG4vKipcbiAqIFB1YmxpY2x5IGV4cG9zZWQgbWV0aG9kIG9uIG1vZHVsZSBmb3IgbmF0aXZlIG9iamMgdG8gaW52b2tlIHdoZW4gYSB0b3BcbiAqIGxldmVsIGV2ZW50IGlzIGV4dHJhY3RlZC5cbiAqIEBwYXJhbSB7cm9vdE5vZGVJRH0gcm9vdE5vZGVJRCBSZWFjdCByb290IG5vZGUgSUQgdGhhdCBldmVudCBvY2N1cnJlZCBvbi5cbiAqIEBwYXJhbSB7VG9wTGV2ZWxUeXBlfSB0b3BMZXZlbFR5cGUgVG9wIGxldmVsIHR5cGUgb2YgZXZlbnQuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRQYXJhbSBPYmplY3QgcGFzc2VkIGZyb20gbmF0aXZlLlxuICovXG5mdW5jdGlvbiByZWNlaXZlRXZlbnQocm9vdE5vZGVJRCwgdG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudFBhcmFtKSB7XG4gIF9yZWNlaXZlUm9vdE5vZGVJREV2ZW50KHJvb3ROb2RlSUQsIHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnRQYXJhbSk7XG59XG5cbi8qKlxuICogU2ltcGxlIG11bHRpLXdyYXBwZXIgYXJvdW5kIGByZWNlaXZlRXZlbnRgIHRoYXQgaXMgaW50ZW5kZWQgdG8gcmVjZWl2ZSBhblxuICogZWZmaWNpZW50IHJlcHJlc2VudGF0aW9uIG9mIGBUb3VjaGAgb2JqZWN0cywgYW5kIG90aGVyIGluZm9ybWF0aW9uIHRoYXRcbiAqIGNhbiBiZSB1c2VkIHRvIGNvbnN0cnVjdCBXM0MgY29tcGxpYW50IGBFdmVudGAgYW5kIGBUb3VjaGAgbGlzdHMuXG4gKlxuICogVGhpcyBtYXkgY3JlYXRlIGRpc3BhdGNoIGJlaGF2aW9yIHRoYXQgZGlmZmVycyB0aGFuIHdlYiB0b3VjaCBoYW5kbGluZy4gV2VcbiAqIGxvb3AgdGhyb3VnaCBlYWNoIG9mIHRoZSBjaGFuZ2VkIHRvdWNoZXMgYW5kIHJlY2VpdmUgaXQgYXMgYSBzaW5nbGUgZXZlbnQuXG4gKiBTbyB0d28gYHRvdWNoU3RhcnRgL2B0b3VjaE1vdmVgcyB0aGF0IG9jY3VyIHNpbXVsdGFuZW91c2x5IGFyZSByZWNlaXZlZCBhc1xuICogdHdvIHNlcGFyYXRlIHRvdWNoIGV2ZW50IGRpc3BhdGNoZXMgLSB3aGVuIHRoZXkgYXJndWFibHkgc2hvdWxkIGJlIG9uZS5cbiAqXG4gKiBUaGlzIGltcGxlbWVudGF0aW9uIHJldXNlcyB0aGUgYFRvdWNoYCBvYmplY3RzIHRoZW1zZWx2ZXMgYXMgdGhlIGBFdmVudGBzXG4gKiBzaW5jZSB3ZSBkaXNwYXRjaCBhbiBldmVudCBmb3IgZWFjaCB0b3VjaCAodGhvdWdoIHRoYXQgbWlnaHQgbm90IGJlIHNwZWNcbiAqIGNvbXBsaWFudCkuIFRoZSBtYWluIHB1cnBvc2Ugb2YgcmV1c2luZyB0aGVtIGlzIHRvIHNhdmUgYWxsb2NhdGlvbnMuXG4gKlxuICogVE9ETzogRGlzcGF0Y2ggbXVsdGlwbGUgY2hhbmdlZCB0b3VjaGVzIGluIG9uZSBldmVudC4gVGhlIGJ1YmJsZSBwYXRoXG4gKiBjb3VsZCBiZSB0aGUgZmlyc3QgY29tbW9uIGFuY2VzdG9yIG9mIGFsbCB0aGUgYGNoYW5nZWRUb3VjaGVzYC5cbiAqXG4gKiBPbmUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoaXMgYmVoYXZpb3IgYW5kIFczQyBzcGVjOiBjYW5jZWxsZWQgdG91Y2hlcyB3aWxsXG4gKiBub3QgYXBwZWFyIGluIGAudG91Y2hlc2AsIG9yIGluIGFueSBmdXR1cmUgYC50b3VjaGVzYCwgdGhvdWdoIHRoZXkgbWF5XG4gKiBzdGlsbCBiZSBcImFjdGl2ZWx5IHRvdWNoaW5nIHRoZSBzdXJmYWNlXCIuXG4gKlxuICogV2ViIGRlc2t0b3AgcG9seWZpbGxzIG9ubHkgbmVlZCB0byBjb25zdHJ1Y3QgYSBmYWtlIHRvdWNoIGV2ZW50IHdpdGhcbiAqIGlkZW50aWZpZXIgMCwgYWxzbyBhYmFuZG9uaW5nIHRyYWRpdGlvbmFsIGNsaWNrIGhhbmRsZXJzLlxuICovXG5mdW5jdGlvbiByZWNlaXZlVG91Y2hlcyhldmVudFRvcExldmVsVHlwZSwgdG91Y2hlcywgY2hhbmdlZEluZGljZXMpIHtcbiAgdmFyIGNoYW5nZWRUb3VjaGVzID1cbiAgICBldmVudFRvcExldmVsVHlwZSA9PT0gXCJ0b3BUb3VjaEVuZFwiIHx8XG4gICAgZXZlbnRUb3BMZXZlbFR5cGUgPT09IFwidG9wVG91Y2hDYW5jZWxcIlxuICAgICAgPyByZW1vdmVUb3VjaGVzQXRJbmRpY2VzKHRvdWNoZXMsIGNoYW5nZWRJbmRpY2VzKVxuICAgICAgOiB0b3VjaFN1YnNlcXVlbmNlKHRvdWNoZXMsIGNoYW5nZWRJbmRpY2VzKTtcblxuICBmb3IgKHZhciBqaiA9IDA7IGpqIDwgY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBqaisrKSB7XG4gICAgdmFyIHRvdWNoID0gY2hhbmdlZFRvdWNoZXNbampdO1xuICAgIC8vIFRvdWNoIG9iamVjdHMgY2FuIGZ1bGZpbGwgdGhlIHJvbGUgb2YgYERPTWAgYEV2ZW50YCBvYmplY3RzIGlmIHdlIHNldFxuICAgIC8vIHRoZSBgY2hhbmdlZFRvdWNoZXNgL2B0b3VjaGVzYC4gVGhpcyBzYXZlcyBhbGxvY2F0aW9ucy5cbiAgICB0b3VjaC5jaGFuZ2VkVG91Y2hlcyA9IGNoYW5nZWRUb3VjaGVzO1xuICAgIHRvdWNoLnRvdWNoZXMgPSB0b3VjaGVzO1xuICAgIHZhciBuYXRpdmVFdmVudCA9IHRvdWNoO1xuICAgIHZhciByb290Tm9kZUlEID0gbnVsbDtcbiAgICB2YXIgdGFyZ2V0ID0gbmF0aXZlRXZlbnQudGFyZ2V0O1xuICAgIGlmICh0YXJnZXQgIT09IG51bGwgJiYgdGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh0YXJnZXQgPCBSZWFjdE5hdGl2ZVRhZ0hhbmRsZXMudGFnc1N0YXJ0QXQpIHtcbiAgICAgICAge1xuICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiQSB2aWV3IGlzIHJlcG9ydGluZyB0aGF0IGEgdG91Y2ggb2NjdXJyZWQgb24gdGFnIHplcm8uXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290Tm9kZUlEID0gdGFyZ2V0O1xuICAgICAgfVxuICAgIH1cbiAgICAvLyAkRmxvd0ZpeE1lIFNob3VsZG4ndCB3ZSAqbm90KiBjYWxsIGl0IGlmIHJvb3ROb2RlSUQgaXMgbnVsbD9cbiAgICBfcmVjZWl2ZVJvb3ROb2RlSURFdmVudChyb290Tm9kZUlELCBldmVudFRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xuICB9XG59XG5cbnZhciBSZWFjdE5hdGl2ZUV2ZW50RW1pdHRlciA9IE9iamVjdC5mcmVlemUoe1xuICBnZXRMaXN0ZW5lcjogZ2V0TGlzdGVuZXIsXG4gIHJlZ2lzdHJhdGlvbk5hbWVzOiByZWdpc3RyYXRpb25OYW1lTW9kdWxlcyxcbiAgX3JlY2VpdmVSb290Tm9kZUlERXZlbnQ6IF9yZWNlaXZlUm9vdE5vZGVJREV2ZW50LFxuICByZWNlaXZlRXZlbnQ6IHJlY2VpdmVFdmVudCxcbiAgcmVjZWl2ZVRvdWNoZXM6IHJlY2VpdmVUb3VjaGVzXG59KTtcblxuLy8gTW9kdWxlIHByb3ZpZGVkIGJ5IFJOOlxuLyoqXG4gKiBSZWdpc3RlciB0aGUgZXZlbnQgZW1pdHRlciB3aXRoIHRoZSBuYXRpdmUgYnJpZGdlXG4gKi9cblJDVEV2ZW50RW1pdHRlci5yZWdpc3RlcihSZWFjdE5hdGl2ZUV2ZW50RW1pdHRlcik7XG5cbi8vIFRoZSBTeW1ib2wgdXNlZCB0byB0YWcgdGhlIFJlYWN0RWxlbWVudC1saWtlIHR5cGVzLiBJZiB0aGVyZSBpcyBubyBuYXRpdmUgU3ltYm9sXG4vLyBub3IgcG9seWZpbGwsIHRoZW4gYSBwbGFpbiBudW1iZXIgaXMgdXNlZCBmb3IgcGVyZm9ybWFuY2UuXG52YXIgaGFzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbFtcImZvclwiXTtcblxudmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LmVsZW1lbnRcIikgOiAweGVhYzc7XG52YXIgUkVBQ1RfQ0FMTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sW1wiZm9yXCJdKFwicmVhY3QuY2FsbFwiKSA6IDB4ZWFjODtcbnZhciBSRUFDVF9SRVRVUk5fVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LnJldHVyblwiKSA6IDB4ZWFjOTtcbnZhciBSRUFDVF9QT1JUQUxfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LnBvcnRhbFwiKSA6IDB4ZWFjYTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sW1wiZm9yXCJdKFwicmVhY3QuZnJhZ21lbnRcIikgOiAweGVhY2I7XG52YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IGhhc1N5bWJvbFxuICA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LnN0cmljdF9tb2RlXCIpXG4gIDogMHhlYWNjO1xudmFyIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5wcm92aWRlclwiKSA6IDB4ZWFjZDtcbnZhciBSRUFDVF9DT05URVhUX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5jb250ZXh0XCIpIDogMHhlYWNlO1xudmFyIFJFQUNUX0FTWU5DX01PREVfVFlQRSA9IGhhc1N5bWJvbFxuICA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LmFzeW5jX21vZGVcIilcbiAgOiAweGVhY2Y7XG5cbnZhciBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yO1xudmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gXCJAQGl0ZXJhdG9yXCI7XG5cbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICBpZiAobWF5YmVJdGVyYWJsZSA9PT0gbnVsbCB8fCB0eXBlb2YgbWF5YmVJdGVyYWJsZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBtYXliZUl0ZXJhdG9yID1cbiAgICAoTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSkgfHxcbiAgICBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTtcbiAgaWYgKHR5cGVvZiBtYXliZUl0ZXJhdG9yID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gbWF5YmVJdGVyYXRvcjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUG9ydGFsKFxuICBjaGlsZHJlbixcbiAgY29udGFpbmVySW5mbyxcbiAgLy8gVE9ETzogZmlndXJlIG91dCB0aGUgQVBJIGZvciBjcm9zcy1yZW5kZXJlciBpbXBsZW1lbnRhdGlvbi5cbiAgaW1wbGVtZW50YXRpb25cbikge1xuICB2YXIga2V5ID1cbiAgICBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IG51bGw7XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBUaGlzIHRhZyBhbGxvdyB1cyB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGFzIGEgUmVhY3QgUG9ydGFsXG4gICAgJCR0eXBlb2Y6IFJFQUNUX1BPUlRBTF9UWVBFLFxuICAgIGtleToga2V5ID09IG51bGwgPyBudWxsIDogXCJcIiArIGtleSxcbiAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgY29udGFpbmVySW5mbzogY29udGFpbmVySW5mbyxcbiAgICBpbXBsZW1lbnRhdGlvbjogaW1wbGVtZW50YXRpb25cbiAgfTtcbn1cblxudmFyIFRvdWNoSGlzdG9yeU1hdGggPSB7XG4gIC8qKlxuICAgKiBUaGlzIGNvZGUgaXMgb3B0aW1pemVkIGFuZCBub3QgaW50ZW5kZWQgdG8gbG9vayBiZWF1dGlmdWwuIFRoaXMgYWxsb3dzXG4gICAqIGNvbXB1dGluZyBvZiB0b3VjaCBjZW50cm9pZHMgdGhhdCBoYXZlIG1vdmVkIGFmdGVyIGB0b3VjaGVzQ2hhbmdlZEFmdGVyYFxuICAgKiB0aW1lU3RhbXAuIFlvdSBjYW4gY29tcHV0ZSB0aGUgY3VycmVudCBjZW50cm9pZCBpbnZvbHZpbmcgYWxsIHRvdWNoZXNcbiAgICogbW92ZXMgYWZ0ZXIgYHRvdWNoZXNDaGFuZ2VkQWZ0ZXJgLCBvciB5b3UgY2FuIGNvbXB1dGUgdGhlIHByZXZpb3VzXG4gICAqIGNlbnRyb2lkIG9mIGFsbCB0b3VjaGVzIHRoYXQgd2VyZSBtb3ZlZCBhZnRlciBgdG91Y2hlc0NoYW5nZWRBZnRlcmAuXG4gICAqXG4gICAqIEBwYXJhbSB7VG91Y2hIaXN0b3J5TWF0aH0gdG91Y2hIaXN0b3J5IFN0YW5kYXJkIFJlc3BvbmRlciB0b3VjaCB0cmFja1xuICAgKiBkYXRhLlxuICAgKiBAcGFyYW0ge251bWJlcn0gdG91Y2hlc0NoYW5nZWRBZnRlciB0aW1lU3RhbXAgYWZ0ZXIgd2hpY2ggbW92ZWQgdG91Y2hlc1xuICAgKiBhcmUgY29uc2lkZXJlZCBcImFjdGl2ZWx5IG1vdmluZ1wiIC0gbm90IGp1c3QgXCJhY3RpdmVcIi5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc1hBeGlzIENvbnNpZGVyIGB4YCBkaW1lbnNpb24gdnMuIGB5YCBkaW1lbnNpb24uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb2ZDdXJyZW50IENvbXB1dGUgY3VycmVudCBjZW50cm9pZCBmb3IgYWN0aXZlbHkgbW92aW5nXG4gICAqIHRvdWNoZXMgdnMuIHByZXZpb3VzIGNlbnRyb2lkIG9mIG5vdyBhY3RpdmVseSBtb3ZpbmcgdG91Y2hlcy5cbiAgICogQHJldHVybiB7bnVtYmVyfSB2YWx1ZSBvZiBjZW50cm9pZCBpbiBzcGVjaWZpZWQgZGltZW5zaW9uLlxuICAgKi9cbiAgY2VudHJvaWREaW1lbnNpb246IGZ1bmN0aW9uKFxuICAgIHRvdWNoSGlzdG9yeSxcbiAgICB0b3VjaGVzQ2hhbmdlZEFmdGVyLFxuICAgIGlzWEF4aXMsXG4gICAgb2ZDdXJyZW50XG4gICkge1xuICAgIHZhciB0b3VjaEJhbmsgPSB0b3VjaEhpc3RvcnkudG91Y2hCYW5rO1xuICAgIHZhciB0b3RhbCA9IDA7XG4gICAgdmFyIGNvdW50ID0gMDtcblxuICAgIHZhciBvbmVUb3VjaERhdGEgPVxuICAgICAgdG91Y2hIaXN0b3J5Lm51bWJlckFjdGl2ZVRvdWNoZXMgPT09IDFcbiAgICAgICAgPyB0b3VjaEhpc3RvcnkudG91Y2hCYW5rW3RvdWNoSGlzdG9yeS5pbmRleE9mU2luZ2xlQWN0aXZlVG91Y2hdXG4gICAgICAgIDogbnVsbDtcblxuICAgIGlmIChvbmVUb3VjaERhdGEgIT09IG51bGwpIHtcbiAgICAgIGlmIChcbiAgICAgICAgb25lVG91Y2hEYXRhLnRvdWNoQWN0aXZlICYmXG4gICAgICAgIG9uZVRvdWNoRGF0YS5jdXJyZW50VGltZVN0YW1wID4gdG91Y2hlc0NoYW5nZWRBZnRlclxuICAgICAgKSB7XG4gICAgICAgIHRvdGFsICs9XG4gICAgICAgICAgb2ZDdXJyZW50ICYmIGlzWEF4aXNcbiAgICAgICAgICAgID8gb25lVG91Y2hEYXRhLmN1cnJlbnRQYWdlWFxuICAgICAgICAgICAgOiBvZkN1cnJlbnQgJiYgIWlzWEF4aXNcbiAgICAgICAgICAgICAgPyBvbmVUb3VjaERhdGEuY3VycmVudFBhZ2VZXG4gICAgICAgICAgICAgIDogIW9mQ3VycmVudCAmJiBpc1hBeGlzXG4gICAgICAgICAgICAgICAgPyBvbmVUb3VjaERhdGEucHJldmlvdXNQYWdlWFxuICAgICAgICAgICAgICAgIDogb25lVG91Y2hEYXRhLnByZXZpb3VzUGFnZVk7XG4gICAgICAgIGNvdW50ID0gMTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3VjaEJhbmsubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRvdWNoVHJhY2sgPSB0b3VjaEJhbmtbaV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0b3VjaFRyYWNrICE9PSBudWxsICYmXG4gICAgICAgICAgdG91Y2hUcmFjayAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgdG91Y2hUcmFjay50b3VjaEFjdGl2ZSAmJlxuICAgICAgICAgIHRvdWNoVHJhY2suY3VycmVudFRpbWVTdGFtcCA+PSB0b3VjaGVzQ2hhbmdlZEFmdGVyXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciB0b0FkZCA9IHZvaWQgMDsgLy8gWXVjaywgcHJvZ3JhbSB0ZW1wb3JhcmlseSBpbiBpbnZhbGlkIHN0YXRlLlxuICAgICAgICAgIGlmIChvZkN1cnJlbnQgJiYgaXNYQXhpcykge1xuICAgICAgICAgICAgdG9BZGQgPSB0b3VjaFRyYWNrLmN1cnJlbnRQYWdlWDtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9mQ3VycmVudCAmJiAhaXNYQXhpcykge1xuICAgICAgICAgICAgdG9BZGQgPSB0b3VjaFRyYWNrLmN1cnJlbnRQYWdlWTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFvZkN1cnJlbnQgJiYgaXNYQXhpcykge1xuICAgICAgICAgICAgdG9BZGQgPSB0b3VjaFRyYWNrLnByZXZpb3VzUGFnZVg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvQWRkID0gdG91Y2hUcmFjay5wcmV2aW91c1BhZ2VZO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b3RhbCArPSB0b0FkZDtcbiAgICAgICAgICBjb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb3VudCA+IDAgPyB0b3RhbCAvIGNvdW50IDogVG91Y2hIaXN0b3J5TWF0aC5ub0NlbnRyb2lkO1xuICB9LFxuXG4gIGN1cnJlbnRDZW50cm9pZFhPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXI6IGZ1bmN0aW9uKFxuICAgIHRvdWNoSGlzdG9yeSxcbiAgICB0b3VjaGVzQ2hhbmdlZEFmdGVyXG4gICkge1xuICAgIHJldHVybiBUb3VjaEhpc3RvcnlNYXRoLmNlbnRyb2lkRGltZW5zaW9uKFxuICAgICAgdG91Y2hIaXN0b3J5LFxuICAgICAgdG91Y2hlc0NoYW5nZWRBZnRlcixcbiAgICAgIHRydWUsIC8vIGlzWEF4aXNcbiAgICAgIHRydWVcbiAgICApO1xuICB9LFxuXG4gIGN1cnJlbnRDZW50cm9pZFlPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXI6IGZ1bmN0aW9uKFxuICAgIHRvdWNoSGlzdG9yeSxcbiAgICB0b3VjaGVzQ2hhbmdlZEFmdGVyXG4gICkge1xuICAgIHJldHVybiBUb3VjaEhpc3RvcnlNYXRoLmNlbnRyb2lkRGltZW5zaW9uKFxuICAgICAgdG91Y2hIaXN0b3J5LFxuICAgICAgdG91Y2hlc0NoYW5nZWRBZnRlcixcbiAgICAgIGZhbHNlLCAvLyBpc1hBeGlzXG4gICAgICB0cnVlXG4gICAgKTtcbiAgfSxcblxuICBwcmV2aW91c0NlbnRyb2lkWE9mVG91Y2hlc0NoYW5nZWRBZnRlcjogZnVuY3Rpb24oXG4gICAgdG91Y2hIaXN0b3J5LFxuICAgIHRvdWNoZXNDaGFuZ2VkQWZ0ZXJcbiAgKSB7XG4gICAgcmV0dXJuIFRvdWNoSGlzdG9yeU1hdGguY2VudHJvaWREaW1lbnNpb24oXG4gICAgICB0b3VjaEhpc3RvcnksXG4gICAgICB0b3VjaGVzQ2hhbmdlZEFmdGVyLFxuICAgICAgdHJ1ZSwgLy8gaXNYQXhpc1xuICAgICAgZmFsc2VcbiAgICApO1xuICB9LFxuXG4gIHByZXZpb3VzQ2VudHJvaWRZT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyOiBmdW5jdGlvbihcbiAgICB0b3VjaEhpc3RvcnksXG4gICAgdG91Y2hlc0NoYW5nZWRBZnRlclxuICApIHtcbiAgICByZXR1cm4gVG91Y2hIaXN0b3J5TWF0aC5jZW50cm9pZERpbWVuc2lvbihcbiAgICAgIHRvdWNoSGlzdG9yeSxcbiAgICAgIHRvdWNoZXNDaGFuZ2VkQWZ0ZXIsXG4gICAgICBmYWxzZSwgLy8gaXNYQXhpc1xuICAgICAgZmFsc2VcbiAgICApO1xuICB9LFxuXG4gIGN1cnJlbnRDZW50cm9pZFg6IGZ1bmN0aW9uKHRvdWNoSGlzdG9yeSkge1xuICAgIHJldHVybiBUb3VjaEhpc3RvcnlNYXRoLmNlbnRyb2lkRGltZW5zaW9uKFxuICAgICAgdG91Y2hIaXN0b3J5LFxuICAgICAgMCwgLy8gdG91Y2hlc0NoYW5nZWRBZnRlclxuICAgICAgdHJ1ZSwgLy8gaXNYQXhpc1xuICAgICAgdHJ1ZVxuICAgICk7XG4gIH0sXG5cbiAgY3VycmVudENlbnRyb2lkWTogZnVuY3Rpb24odG91Y2hIaXN0b3J5KSB7XG4gICAgcmV0dXJuIFRvdWNoSGlzdG9yeU1hdGguY2VudHJvaWREaW1lbnNpb24oXG4gICAgICB0b3VjaEhpc3RvcnksXG4gICAgICAwLCAvLyB0b3VjaGVzQ2hhbmdlZEFmdGVyXG4gICAgICBmYWxzZSwgLy8gaXNYQXhpc1xuICAgICAgdHJ1ZVxuICAgICk7XG4gIH0sXG5cbiAgbm9DZW50cm9pZDogLTFcbn07XG5cbi8vIFRPRE86IHRoaXMgaXMgc3BlY2lhbCBiZWNhdXNlIGl0IGdldHMgaW1wb3J0ZWQgZHVyaW5nIGJ1aWxkLlxuXG52YXIgUmVhY3RWZXJzaW9uID0gXCIxNi4zLjAtYWxwaGEuMVwiO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG52YXIgb2JqZWN0cyA9IHt9O1xudmFyIHVuaXF1ZUlEID0gMTtcbnZhciBlbXB0eU9iamVjdCQyID0ge307XG5cbnZhciBSZWFjdE5hdGl2ZVByb3BSZWdpc3RyeSA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gUmVhY3ROYXRpdmVQcm9wUmVnaXN0cnkoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlYWN0TmF0aXZlUHJvcFJlZ2lzdHJ5KTtcbiAgfVxuXG4gIFJlYWN0TmF0aXZlUHJvcFJlZ2lzdHJ5LnJlZ2lzdGVyID0gZnVuY3Rpb24gcmVnaXN0ZXIob2JqZWN0KSB7XG4gICAgdmFyIGlkID0gKyt1bmlxdWVJRDtcbiAgICB7XG4gICAgICBPYmplY3QuZnJlZXplKG9iamVjdCk7XG4gICAgfVxuICAgIG9iamVjdHNbaWRdID0gb2JqZWN0O1xuICAgIHJldHVybiBpZDtcbiAgfTtcblxuICBSZWFjdE5hdGl2ZVByb3BSZWdpc3RyeS5nZXRCeUlEID0gZnVuY3Rpb24gZ2V0QnlJRChpZCkge1xuICAgIGlmICghaWQpIHtcbiAgICAgIC8vIFVzZWQgaW4gdGhlIHN0eWxlPXtbY29uZGl0aW9uICYmIGlkXX0gcGF0dGVybixcbiAgICAgIC8vIHdlIHdhbnQgaXQgdG8gYmUgYSBuby1vcCB3aGVuIHRoZSB2YWx1ZSBpcyBmYWxzZSBvciBudWxsXG4gICAgICByZXR1cm4gZW1wdHlPYmplY3QkMjtcbiAgICB9XG5cbiAgICB2YXIgb2JqZWN0ID0gb2JqZWN0c1tpZF07XG4gICAgaWYgKCFvYmplY3QpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkludmFsaWQgc3R5bGUgd2l0aCBpZCBgXCIgKyBpZCArIFwiYC4gU2tpcHBpbmcgLi4uXCIpO1xuICAgICAgcmV0dXJuIGVtcHR5T2JqZWN0JDI7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0TmF0aXZlUHJvcFJlZ2lzdHJ5O1xufSkoKTtcblxuLy8gTW9kdWxlcyBwcm92aWRlZCBieSBSTjpcbnZhciBlbXB0eU9iamVjdCQxID0ge307XG5cbi8qKlxuICogQ3JlYXRlIGEgcGF5bG9hZCB0aGF0IGNvbnRhaW5zIGFsbCB0aGUgdXBkYXRlcyBiZXR3ZWVuIHR3byBzZXRzIG9mIHByb3BzLlxuICpcbiAqIFRoZXNlIGhlbHBlcnMgYXJlIGFsbCBlbmNhcHN1bGF0ZWQgaW50byBhIHNpbmdsZSBtb2R1bGUsIGJlY2F1c2UgdGhleSB1c2VcbiAqIG11dGF0aW9uIGFzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHdoaWNoIGxlYWRzIHRvIHN1YnRsZSBzaGFyZWRcbiAqIGRlcGVuZGVuY2llcyBiZXR3ZWVuIHRoZSBjb2RlIHBhdGhzLiBUbyBhdm9pZCB0aGlzIG11dGFibGUgc3RhdGUgbGVha2luZ1xuICogYWNyb3NzIG1vZHVsZXMsIEkndmUga2VwdCB0aGVtIGlzb2xhdGVkIHRvIHRoaXMgbW9kdWxlLlxuICovXG5cbi8vIFRyYWNrcyByZW1vdmVkIGtleXNcbnZhciByZW1vdmVkS2V5cyA9IG51bGw7XG52YXIgcmVtb3ZlZEtleUNvdW50ID0gMDtcblxuZnVuY3Rpb24gZGVmYXVsdERpZmZlcihwcmV2UHJvcCwgbmV4dFByb3ApIHtcbiAgaWYgKHR5cGVvZiBuZXh0UHJvcCAhPT0gXCJvYmplY3RcIiB8fCBuZXh0UHJvcCA9PT0gbnVsbCkge1xuICAgIC8vIFNjYWxhcnMgaGF2ZSBhbHJlYWR5IGJlZW4gY2hlY2tlZCBmb3IgZXF1YWxpdHlcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBGb3Igb2JqZWN0cyBhbmQgYXJyYXlzLCB0aGUgZGVmYXVsdCBkaWZmaW5nIGFsZ29yaXRobSBpcyBhIGRlZXAgY29tcGFyZVxuICAgIHJldHVybiBkZWVwRGlmZmVyKHByZXZQcm9wLCBuZXh0UHJvcCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZU9iamVjdChpZE9yT2JqZWN0KSB7XG4gIGlmICh0eXBlb2YgaWRPck9iamVjdCA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBSZWFjdE5hdGl2ZVByb3BSZWdpc3RyeS5nZXRCeUlEKGlkT3JPYmplY3QpO1xuICB9XG4gIHJldHVybiBpZE9yT2JqZWN0O1xufVxuXG5mdW5jdGlvbiByZXN0b3JlRGVsZXRlZFZhbHVlc0luTmVzdGVkQXJyYXkoXG4gIHVwZGF0ZVBheWxvYWQsXG4gIG5vZGUsXG4gIHZhbGlkQXR0cmlidXRlc1xuKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgdmFyIGkgPSBub2RlLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tICYmIHJlbW92ZWRLZXlDb3VudCA+IDApIHtcbiAgICAgIHJlc3RvcmVEZWxldGVkVmFsdWVzSW5OZXN0ZWRBcnJheShcbiAgICAgICAgdXBkYXRlUGF5bG9hZCxcbiAgICAgICAgbm9kZVtpXSxcbiAgICAgICAgdmFsaWRBdHRyaWJ1dGVzXG4gICAgICApO1xuICAgIH1cbiAgfSBlbHNlIGlmIChub2RlICYmIHJlbW92ZWRLZXlDb3VudCA+IDApIHtcbiAgICB2YXIgb2JqID0gcmVzb2x2ZU9iamVjdChub2RlKTtcbiAgICBmb3IgKHZhciBwcm9wS2V5IGluIHJlbW92ZWRLZXlzKSB7XG4gICAgICBpZiAoIXJlbW92ZWRLZXlzW3Byb3BLZXldKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIF9uZXh0UHJvcCA9IG9ialtwcm9wS2V5XTtcbiAgICAgIGlmIChfbmV4dFByb3AgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGF0dHJpYnV0ZUNvbmZpZyA9IHZhbGlkQXR0cmlidXRlc1twcm9wS2V5XTtcbiAgICAgIGlmICghYXR0cmlidXRlQ29uZmlnKSB7XG4gICAgICAgIGNvbnRpbnVlOyAvLyBub3QgYSB2YWxpZCBuYXRpdmUgcHJvcFxuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIF9uZXh0UHJvcCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIF9uZXh0UHJvcCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIF9uZXh0UHJvcCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBfbmV4dFByb3AgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZUNvbmZpZyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAvLyBjYXNlOiAhT2JqZWN0IGlzIHRoZSBkZWZhdWx0IGNhc2VcbiAgICAgICAgdXBkYXRlUGF5bG9hZFtwcm9wS2V5XSA9IF9uZXh0UHJvcDtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcuZGlmZiA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcucHJvY2VzcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICApIHtcbiAgICAgICAgLy8gY2FzZTogQ3VzdG9tQXR0cmlidXRlQ29uZmlndXJhdGlvblxuICAgICAgICB2YXIgbmV4dFZhbHVlID1cbiAgICAgICAgICB0eXBlb2YgYXR0cmlidXRlQ29uZmlnLnByb2Nlc3MgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgPyBhdHRyaWJ1dGVDb25maWcucHJvY2VzcyhfbmV4dFByb3ApXG4gICAgICAgICAgICA6IF9uZXh0UHJvcDtcbiAgICAgICAgdXBkYXRlUGF5bG9hZFtwcm9wS2V5XSA9IG5leHRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJlbW92ZWRLZXlzW3Byb3BLZXldID0gZmFsc2U7XG4gICAgICByZW1vdmVkS2V5Q291bnQtLTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGlmZk5lc3RlZEFycmF5UHJvcGVydHkoXG4gIHVwZGF0ZVBheWxvYWQsXG4gIHByZXZBcnJheSxcbiAgbmV4dEFycmF5LFxuICB2YWxpZEF0dHJpYnV0ZXNcbikge1xuICB2YXIgbWluTGVuZ3RoID1cbiAgICBwcmV2QXJyYXkubGVuZ3RoIDwgbmV4dEFycmF5Lmxlbmd0aCA/IHByZXZBcnJheS5sZW5ndGggOiBuZXh0QXJyYXkubGVuZ3RoO1xuICB2YXIgaSA9IHZvaWQgMDtcbiAgZm9yIChpID0gMDsgaSA8IG1pbkxlbmd0aDsgaSsrKSB7XG4gICAgLy8gRGlmZiBhbnkgaXRlbXMgaW4gdGhlIGFycmF5IGluIHRoZSBmb3J3YXJkIGRpcmVjdGlvbi4gUmVwZWF0ZWQga2V5c1xuICAgIC8vIHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgbGF0ZXIgdmFsdWVzLlxuICAgIHVwZGF0ZVBheWxvYWQgPSBkaWZmTmVzdGVkUHJvcGVydHkoXG4gICAgICB1cGRhdGVQYXlsb2FkLFxuICAgICAgcHJldkFycmF5W2ldLFxuICAgICAgbmV4dEFycmF5W2ldLFxuICAgICAgdmFsaWRBdHRyaWJ1dGVzXG4gICAgKTtcbiAgfVxuICBmb3IgKDsgaSA8IHByZXZBcnJheS5sZW5ndGg7IGkrKykge1xuICAgIC8vIENsZWFyIG91dCBhbGwgcmVtYWluaW5nIHByb3BlcnRpZXMuXG4gICAgdXBkYXRlUGF5bG9hZCA9IGNsZWFyTmVzdGVkUHJvcGVydHkoXG4gICAgICB1cGRhdGVQYXlsb2FkLFxuICAgICAgcHJldkFycmF5W2ldLFxuICAgICAgdmFsaWRBdHRyaWJ1dGVzXG4gICAgKTtcbiAgfVxuICBmb3IgKDsgaSA8IG5leHRBcnJheS5sZW5ndGg7IGkrKykge1xuICAgIC8vIEFkZCBhbGwgcmVtYWluaW5nIHByb3BlcnRpZXMuXG4gICAgdXBkYXRlUGF5bG9hZCA9IGFkZE5lc3RlZFByb3BlcnR5KFxuICAgICAgdXBkYXRlUGF5bG9hZCxcbiAgICAgIG5leHRBcnJheVtpXSxcbiAgICAgIHZhbGlkQXR0cmlidXRlc1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZVBheWxvYWQ7XG59XG5cbmZ1bmN0aW9uIGRpZmZOZXN0ZWRQcm9wZXJ0eShcbiAgdXBkYXRlUGF5bG9hZCxcbiAgcHJldlByb3AsXG4gIG5leHRQcm9wLFxuICB2YWxpZEF0dHJpYnV0ZXNcbikge1xuICBpZiAoIXVwZGF0ZVBheWxvYWQgJiYgcHJldlByb3AgPT09IG5leHRQcm9wKSB7XG4gICAgLy8gSWYgbm8gcHJvcGVydGllcyBoYXZlIGJlZW4gYWRkZWQsIHRoZW4gd2UgY2FuIGJhaWwgb3V0IHF1aWNrbHkgb24gb2JqZWN0XG4gICAgLy8gZXF1YWxpdHkuXG4gICAgcmV0dXJuIHVwZGF0ZVBheWxvYWQ7XG4gIH1cblxuICBpZiAoIXByZXZQcm9wIHx8ICFuZXh0UHJvcCkge1xuICAgIGlmIChuZXh0UHJvcCkge1xuICAgICAgcmV0dXJuIGFkZE5lc3RlZFByb3BlcnR5KHVwZGF0ZVBheWxvYWQsIG5leHRQcm9wLCB2YWxpZEF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICBpZiAocHJldlByb3ApIHtcbiAgICAgIHJldHVybiBjbGVhck5lc3RlZFByb3BlcnR5KHVwZGF0ZVBheWxvYWQsIHByZXZQcm9wLCB2YWxpZEF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlUGF5bG9hZDtcbiAgfVxuXG4gIGlmICghQXJyYXkuaXNBcnJheShwcmV2UHJvcCkgJiYgIUFycmF5LmlzQXJyYXkobmV4dFByb3ApKSB7XG4gICAgLy8gQm90aCBhcmUgbGVhdmVzLCB3ZSBjYW4gZGlmZiB0aGUgbGVhdmVzLlxuICAgIHJldHVybiBkaWZmUHJvcGVydGllcyhcbiAgICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgICByZXNvbHZlT2JqZWN0KHByZXZQcm9wKSxcbiAgICAgIHJlc29sdmVPYmplY3QobmV4dFByb3ApLFxuICAgICAgdmFsaWRBdHRyaWJ1dGVzXG4gICAgKTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHByZXZQcm9wKSAmJiBBcnJheS5pc0FycmF5KG5leHRQcm9wKSkge1xuICAgIC8vIEJvdGggYXJlIGFycmF5cywgd2UgY2FuIGRpZmYgdGhlIGFycmF5cy5cbiAgICByZXR1cm4gZGlmZk5lc3RlZEFycmF5UHJvcGVydHkoXG4gICAgICB1cGRhdGVQYXlsb2FkLFxuICAgICAgcHJldlByb3AsXG4gICAgICBuZXh0UHJvcCxcbiAgICAgIHZhbGlkQXR0cmlidXRlc1xuICAgICk7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShwcmV2UHJvcCkpIHtcbiAgICByZXR1cm4gZGlmZlByb3BlcnRpZXMoXG4gICAgICB1cGRhdGVQYXlsb2FkLFxuICAgICAgLy8gJEZsb3dGaXhNZSAtIFdlIGtub3cgdGhhdCB0aGlzIGlzIGFsd2F5cyBhbiBvYmplY3Qgd2hlbiB0aGUgaW5wdXQgaXMuXG4gICAgICBmbGF0dGVuU3R5bGUocHJldlByb3ApLFxuICAgICAgLy8gJEZsb3dGaXhNZSAtIFdlIGtub3cgdGhhdCB0aGlzIGlzbid0IGFuIGFycmF5IGJlY2F1c2Ugb2YgYWJvdmUgZmxvdy5cbiAgICAgIHJlc29sdmVPYmplY3QobmV4dFByb3ApLFxuICAgICAgdmFsaWRBdHRyaWJ1dGVzXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBkaWZmUHJvcGVydGllcyhcbiAgICB1cGRhdGVQYXlsb2FkLFxuICAgIHJlc29sdmVPYmplY3QocHJldlByb3ApLFxuICAgIC8vICRGbG93Rml4TWUgLSBXZSBrbm93IHRoYXQgdGhpcyBpcyBhbHdheXMgYW4gb2JqZWN0IHdoZW4gdGhlIGlucHV0IGlzLlxuICAgIGZsYXR0ZW5TdHlsZShuZXh0UHJvcCksXG4gICAgdmFsaWRBdHRyaWJ1dGVzXG4gICk7XG59XG5cbi8qKlxuICogYWRkTmVzdGVkUHJvcGVydHkgdGFrZXMgYSBzaW5nbGUgc2V0IG9mIHByb3BzIGFuZCB2YWxpZCBhdHRyaWJ1dGVcbiAqIGF0dHJpYnV0ZSBjb25maWd1cmF0aW9ucy4gSXQgcHJvY2Vzc2VzIGVhY2ggcHJvcCBhbmQgYWRkcyBpdCB0byB0aGVcbiAqIHVwZGF0ZVBheWxvYWQuXG4gKi9cbmZ1bmN0aW9uIGFkZE5lc3RlZFByb3BlcnR5KHVwZGF0ZVBheWxvYWQsIG5leHRQcm9wLCB2YWxpZEF0dHJpYnV0ZXMpIHtcbiAgaWYgKCFuZXh0UHJvcCkge1xuICAgIHJldHVybiB1cGRhdGVQYXlsb2FkO1xuICB9XG5cbiAgaWYgKCFBcnJheS5pc0FycmF5KG5leHRQcm9wKSkge1xuICAgIC8vIEFkZCBlYWNoIHByb3BlcnR5IG9mIHRoZSBsZWFmLlxuICAgIHJldHVybiBhZGRQcm9wZXJ0aWVzKFxuICAgICAgdXBkYXRlUGF5bG9hZCxcbiAgICAgIHJlc29sdmVPYmplY3QobmV4dFByb3ApLFxuICAgICAgdmFsaWRBdHRyaWJ1dGVzXG4gICAgKTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbmV4dFByb3AubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBBZGQgYWxsIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhcnJheS5cbiAgICB1cGRhdGVQYXlsb2FkID0gYWRkTmVzdGVkUHJvcGVydHkoXG4gICAgICB1cGRhdGVQYXlsb2FkLFxuICAgICAgbmV4dFByb3BbaV0sXG4gICAgICB2YWxpZEF0dHJpYnV0ZXNcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHVwZGF0ZVBheWxvYWQ7XG59XG5cbi8qKlxuICogY2xlYXJOZXN0ZWRQcm9wZXJ0eSB0YWtlcyBhIHNpbmdsZSBzZXQgb2YgcHJvcHMgYW5kIHZhbGlkIGF0dHJpYnV0ZXMuIEl0XG4gKiBhZGRzIGEgbnVsbCBzZW50aW5lbCB0byB0aGUgdXBkYXRlUGF5bG9hZCwgZm9yIGVhY2ggcHJvcCBrZXkuXG4gKi9cbmZ1bmN0aW9uIGNsZWFyTmVzdGVkUHJvcGVydHkodXBkYXRlUGF5bG9hZCwgcHJldlByb3AsIHZhbGlkQXR0cmlidXRlcykge1xuICBpZiAoIXByZXZQcm9wKSB7XG4gICAgcmV0dXJuIHVwZGF0ZVBheWxvYWQ7XG4gIH1cblxuICBpZiAoIUFycmF5LmlzQXJyYXkocHJldlByb3ApKSB7XG4gICAgLy8gQWRkIGVhY2ggcHJvcGVydHkgb2YgdGhlIGxlYWYuXG4gICAgcmV0dXJuIGNsZWFyUHJvcGVydGllcyhcbiAgICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgICByZXNvbHZlT2JqZWN0KHByZXZQcm9wKSxcbiAgICAgIHZhbGlkQXR0cmlidXRlc1xuICAgICk7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByZXZQcm9wLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gQWRkIGFsbCB0aGUgcHJvcGVydGllcyBvZiB0aGUgYXJyYXkuXG4gICAgdXBkYXRlUGF5bG9hZCA9IGNsZWFyTmVzdGVkUHJvcGVydHkoXG4gICAgICB1cGRhdGVQYXlsb2FkLFxuICAgICAgcHJldlByb3BbaV0sXG4gICAgICB2YWxpZEF0dHJpYnV0ZXNcbiAgICApO1xuICB9XG4gIHJldHVybiB1cGRhdGVQYXlsb2FkO1xufVxuXG4vKipcbiAqIGRpZmZQcm9wZXJ0aWVzIHRha2VzIHR3byBzZXRzIG9mIHByb3BzIGFuZCBhIHNldCBvZiB2YWxpZCBhdHRyaWJ1dGVzXG4gKiBhbmQgd3JpdGUgdG8gdXBkYXRlUGF5bG9hZCB0aGUgdmFsdWVzIHRoYXQgY2hhbmdlZCBvciB3ZXJlIGRlbGV0ZWQuXG4gKiBJZiBubyB1cGRhdGVQYXlsb2FkIGlzIHByb3ZpZGVkLCBhIG5ldyBvbmUgaXMgY3JlYXRlZCBhbmQgcmV0dXJuZWQgaWZcbiAqIGFueXRoaW5nIGNoYW5nZWQuXG4gKi9cbmZ1bmN0aW9uIGRpZmZQcm9wZXJ0aWVzKHVwZGF0ZVBheWxvYWQsIHByZXZQcm9wcywgbmV4dFByb3BzLCB2YWxpZEF0dHJpYnV0ZXMpIHtcbiAgdmFyIGF0dHJpYnV0ZUNvbmZpZyA9IHZvaWQgMDtcbiAgdmFyIG5leHRQcm9wID0gdm9pZCAwO1xuICB2YXIgcHJldlByb3AgPSB2b2lkIDA7XG5cbiAgZm9yICh2YXIgcHJvcEtleSBpbiBuZXh0UHJvcHMpIHtcbiAgICBhdHRyaWJ1dGVDb25maWcgPSB2YWxpZEF0dHJpYnV0ZXNbcHJvcEtleV07XG4gICAgaWYgKCFhdHRyaWJ1dGVDb25maWcpIHtcbiAgICAgIGNvbnRpbnVlOyAvLyBub3QgYSB2YWxpZCBuYXRpdmUgcHJvcFxuICAgIH1cblxuICAgIHByZXZQcm9wID0gcHJldlByb3BzW3Byb3BLZXldO1xuICAgIG5leHRQcm9wID0gbmV4dFByb3BzW3Byb3BLZXldO1xuXG4gICAgLy8gZnVuY3Rpb25zIGFyZSBjb252ZXJ0ZWQgdG8gYm9vbGVhbnMgYXMgbWFya2VycyB0aGF0IHRoZSBhc3NvY2lhdGVkXG4gICAgLy8gZXZlbnRzIHNob3VsZCBiZSBzZW50IGZyb20gbmF0aXZlLlxuICAgIGlmICh0eXBlb2YgbmV4dFByb3AgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgbmV4dFByb3AgPSB0cnVlO1xuICAgICAgLy8gSWYgbmV4dFByb3AgaXMgbm90IGEgZnVuY3Rpb24sIHRoZW4gZG9uJ3QgYm90aGVyIGNoYW5naW5nIHByZXZQcm9wXG4gICAgICAvLyBzaW5jZSBuZXh0UHJvcCB3aWxsIHdpbiBhbmQgZ28gaW50byB0aGUgdXBkYXRlUGF5bG9hZCByZWdhcmRsZXNzLlxuICAgICAgaWYgKHR5cGVvZiBwcmV2UHJvcCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHByZXZQcm9wID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBbiBleHBsaWNpdCB2YWx1ZSBvZiB1bmRlZmluZWQgaXMgdHJlYXRlZCBhcyBhIG51bGwgYmVjYXVzZSBpdCBvdmVycmlkZXNcbiAgICAvLyBhbnkgb3RoZXIgcHJlY2VkaW5nIHZhbHVlLlxuICAgIGlmICh0eXBlb2YgbmV4dFByb3AgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIG5leHRQcm9wID0gbnVsbDtcbiAgICAgIGlmICh0eXBlb2YgcHJldlByb3AgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcHJldlByb3AgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZW1vdmVkS2V5cykge1xuICAgICAgcmVtb3ZlZEtleXNbcHJvcEtleV0gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodXBkYXRlUGF5bG9hZCAmJiB1cGRhdGVQYXlsb2FkW3Byb3BLZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFNvbWV0aGluZyBlbHNlIGFscmVhZHkgdHJpZ2dlcmVkIGFuIHVwZGF0ZSB0byB0aGlzIGtleSBiZWNhdXNlIGFub3RoZXJcbiAgICAgIC8vIHZhbHVlIGRpZmZlZC4gU2luY2Ugd2UncmUgbm93IGxhdGVyIGluIHRoZSBuZXN0ZWQgYXJyYXlzIG91ciB2YWx1ZSBpc1xuICAgICAgLy8gbW9yZSBpbXBvcnRhbnQgc28gd2UgbmVlZCB0byBjYWxjdWxhdGUgaXQgYW5kIG92ZXJyaWRlIHRoZSBleGlzdGluZ1xuICAgICAgLy8gdmFsdWUuIEl0IGRvZXNuJ3QgbWF0dGVyIGlmIG5vdGhpbmcgY2hhbmdlZCwgd2UnbGwgc2V0IGl0IGFueXdheS5cblxuICAgICAgLy8gUGF0dGVybiBtYXRjaCBvbjogYXR0cmlidXRlQ29uZmlnXG4gICAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZUNvbmZpZyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAvLyBjYXNlOiAhT2JqZWN0IGlzIHRoZSBkZWZhdWx0IGNhc2VcbiAgICAgICAgdXBkYXRlUGF5bG9hZFtwcm9wS2V5XSA9IG5leHRQcm9wO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgdHlwZW9mIGF0dHJpYnV0ZUNvbmZpZy5kaWZmID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgICAgdHlwZW9mIGF0dHJpYnV0ZUNvbmZpZy5wcm9jZXNzID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICkge1xuICAgICAgICAvLyBjYXNlOiBDdXN0b21BdHRyaWJ1dGVDb25maWd1cmF0aW9uXG4gICAgICAgIHZhciBuZXh0VmFsdWUgPVxuICAgICAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcucHJvY2VzcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICA/IGF0dHJpYnV0ZUNvbmZpZy5wcm9jZXNzKG5leHRQcm9wKVxuICAgICAgICAgICAgOiBuZXh0UHJvcDtcbiAgICAgICAgdXBkYXRlUGF5bG9hZFtwcm9wS2V5XSA9IG5leHRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChwcmV2UHJvcCA9PT0gbmV4dFByb3ApIHtcbiAgICAgIGNvbnRpbnVlOyAvLyBub3RoaW5nIGNoYW5nZWRcbiAgICB9XG5cbiAgICAvLyBQYXR0ZXJuIG1hdGNoIG9uOiBhdHRyaWJ1dGVDb25maWdcbiAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZUNvbmZpZyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgLy8gY2FzZTogIU9iamVjdCBpcyB0aGUgZGVmYXVsdCBjYXNlXG4gICAgICBpZiAoZGVmYXVsdERpZmZlcihwcmV2UHJvcCwgbmV4dFByb3ApKSB7XG4gICAgICAgIC8vIGEgbm9ybWFsIGxlYWYgaGFzIGNoYW5nZWRcbiAgICAgICAgKHVwZGF0ZVBheWxvYWQgfHwgKHVwZGF0ZVBheWxvYWQgPSB7fSkpW3Byb3BLZXldID0gbmV4dFByb3A7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcuZGlmZiA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgICB0eXBlb2YgYXR0cmlidXRlQ29uZmlnLnByb2Nlc3MgPT09IFwiZnVuY3Rpb25cIlxuICAgICkge1xuICAgICAgLy8gY2FzZTogQ3VzdG9tQXR0cmlidXRlQ29uZmlndXJhdGlvblxuICAgICAgdmFyIHNob3VsZFVwZGF0ZSA9XG4gICAgICAgIHByZXZQcm9wID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgKHR5cGVvZiBhdHRyaWJ1dGVDb25maWcuZGlmZiA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBhdHRyaWJ1dGVDb25maWcuZGlmZihwcmV2UHJvcCwgbmV4dFByb3ApXG4gICAgICAgICAgOiBkZWZhdWx0RGlmZmVyKHByZXZQcm9wLCBuZXh0UHJvcCkpO1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICB2YXIgX25leHRWYWx1ZSA9XG4gICAgICAgICAgdHlwZW9mIGF0dHJpYnV0ZUNvbmZpZy5wcm9jZXNzID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gYXR0cmlidXRlQ29uZmlnLnByb2Nlc3MobmV4dFByb3ApXG4gICAgICAgICAgICA6IG5leHRQcm9wO1xuICAgICAgICAodXBkYXRlUGF5bG9hZCB8fCAodXBkYXRlUGF5bG9hZCA9IHt9KSlbcHJvcEtleV0gPSBfbmV4dFZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkZWZhdWx0OiBmYWxsdGhyb3VnaCBjYXNlIHdoZW4gbmVzdGVkIHByb3BlcnRpZXMgYXJlIGRlZmluZWRcbiAgICAgIHJlbW92ZWRLZXlzID0gbnVsbDtcbiAgICAgIHJlbW92ZWRLZXlDb3VudCA9IDA7XG4gICAgICAvLyBXZSB0aGluayB0aGF0IGF0dHJpYnV0ZUNvbmZpZyBpcyBub3QgQ3VzdG9tQXR0cmlidXRlQ29uZmlndXJhdGlvbiBhdFxuICAgICAgLy8gdGhpcyBwb2ludCBzbyB3ZSBhc3N1bWUgaXQgbXVzdCBiZSBBdHRyaWJ1dGVDb25maWd1cmF0aW9uLlxuICAgICAgdXBkYXRlUGF5bG9hZCA9IGRpZmZOZXN0ZWRQcm9wZXJ0eShcbiAgICAgICAgdXBkYXRlUGF5bG9hZCxcbiAgICAgICAgcHJldlByb3AsXG4gICAgICAgIG5leHRQcm9wLFxuICAgICAgICBhdHRyaWJ1dGVDb25maWdcbiAgICAgICk7XG4gICAgICBpZiAocmVtb3ZlZEtleUNvdW50ID4gMCAmJiB1cGRhdGVQYXlsb2FkKSB7XG4gICAgICAgIHJlc3RvcmVEZWxldGVkVmFsdWVzSW5OZXN0ZWRBcnJheShcbiAgICAgICAgICB1cGRhdGVQYXlsb2FkLFxuICAgICAgICAgIG5leHRQcm9wLFxuICAgICAgICAgIGF0dHJpYnV0ZUNvbmZpZ1xuICAgICAgICApO1xuICAgICAgICByZW1vdmVkS2V5cyA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQWxzbyBpdGVyYXRlIHRocm91Z2ggYWxsIHRoZSBwcmV2aW91cyBwcm9wcyB0byBjYXRjaCBhbnkgdGhhdCBoYXZlIGJlZW5cbiAgLy8gcmVtb3ZlZCBhbmQgbWFrZSBzdXJlIG5hdGl2ZSBnZXRzIHRoZSBzaWduYWwgc28gaXQgY2FuIHJlc2V0IHRoZW0gdG8gdGhlXG4gIC8vIGRlZmF1bHQuXG4gIGZvciAodmFyIF9wcm9wS2V5IGluIHByZXZQcm9wcykge1xuICAgIGlmIChuZXh0UHJvcHNbX3Byb3BLZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnRpbnVlOyAvLyB3ZSd2ZSBhbHJlYWR5IGNvdmVyZWQgdGhpcyBrZXkgaW4gdGhlIHByZXZpb3VzIHBhc3NcbiAgICB9XG4gICAgYXR0cmlidXRlQ29uZmlnID0gdmFsaWRBdHRyaWJ1dGVzW19wcm9wS2V5XTtcbiAgICBpZiAoIWF0dHJpYnV0ZUNvbmZpZykge1xuICAgICAgY29udGludWU7IC8vIG5vdCBhIHZhbGlkIG5hdGl2ZSBwcm9wXG4gICAgfVxuXG4gICAgaWYgKHVwZGF0ZVBheWxvYWQgJiYgdXBkYXRlUGF5bG9hZFtfcHJvcEtleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gVGhpcyB3YXMgYWxyZWFkeSB1cGRhdGVkIHRvIGEgZGlmZiByZXN1bHQgZWFybGllci5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHByZXZQcm9wID0gcHJldlByb3BzW19wcm9wS2V5XTtcbiAgICBpZiAocHJldlByb3AgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29udGludWU7IC8vIHdhcyBhbHJlYWR5IGVtcHR5IGFueXdheVxuICAgIH1cbiAgICAvLyBQYXR0ZXJuIG1hdGNoIG9uOiBhdHRyaWJ1dGVDb25maWdcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgYXR0cmlidXRlQ29uZmlnICE9PSBcIm9iamVjdFwiIHx8XG4gICAgICB0eXBlb2YgYXR0cmlidXRlQ29uZmlnLmRpZmYgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgdHlwZW9mIGF0dHJpYnV0ZUNvbmZpZy5wcm9jZXNzID09PSBcImZ1bmN0aW9uXCJcbiAgICApIHtcbiAgICAgIC8vIGNhc2U6IEN1c3RvbUF0dHJpYnV0ZUNvbmZpZ3VyYXRpb24gfCAhT2JqZWN0XG4gICAgICAvLyBGbGFnIHRoZSBsZWFmIHByb3BlcnR5IGZvciByZW1vdmFsIGJ5IHNlbmRpbmcgYSBzZW50aW5lbC5cbiAgICAgICh1cGRhdGVQYXlsb2FkIHx8ICh1cGRhdGVQYXlsb2FkID0ge30pKVtfcHJvcEtleV0gPSBudWxsO1xuICAgICAgaWYgKCFyZW1vdmVkS2V5cykge1xuICAgICAgICByZW1vdmVkS2V5cyA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKCFyZW1vdmVkS2V5c1tfcHJvcEtleV0pIHtcbiAgICAgICAgcmVtb3ZlZEtleXNbX3Byb3BLZXldID0gdHJ1ZTtcbiAgICAgICAgcmVtb3ZlZEtleUNvdW50Kys7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRlZmF1bHQ6XG4gICAgICAvLyBUaGlzIGlzIGEgbmVzdGVkIGF0dHJpYnV0ZSBjb25maWd1cmF0aW9uIHdoZXJlIGFsbCB0aGUgcHJvcGVydGllc1xuICAgICAgLy8gd2VyZSByZW1vdmVkIHNvIHdlIG5lZWQgdG8gZ28gdGhyb3VnaCBhbmQgY2xlYXIgb3V0IGFsbCBvZiB0aGVtLlxuICAgICAgdXBkYXRlUGF5bG9hZCA9IGNsZWFyTmVzdGVkUHJvcGVydHkoXG4gICAgICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgICAgIHByZXZQcm9wLFxuICAgICAgICBhdHRyaWJ1dGVDb25maWdcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiB1cGRhdGVQYXlsb2FkO1xufVxuXG4vKipcbiAqIGFkZFByb3BlcnRpZXMgYWRkcyBhbGwgdGhlIHZhbGlkIHByb3BzIHRvIHRoZSBwYXlsb2FkIGFmdGVyIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuZnVuY3Rpb24gYWRkUHJvcGVydGllcyh1cGRhdGVQYXlsb2FkLCBwcm9wcywgdmFsaWRBdHRyaWJ1dGVzKSB7XG4gIC8vIFRPRE86IEZhc3QgcGF0aFxuICByZXR1cm4gZGlmZlByb3BlcnRpZXModXBkYXRlUGF5bG9hZCwgZW1wdHlPYmplY3QkMSwgcHJvcHMsIHZhbGlkQXR0cmlidXRlcyk7XG59XG5cbi8qKlxuICogY2xlYXJQcm9wZXJ0aWVzIGNsZWFycyBhbGwgdGhlIHByZXZpb3VzIHByb3BzIGJ5IGFkZGluZyBhIG51bGwgc2VudGluZWxcbiAqIHRvIHRoZSBwYXlsb2FkIGZvciBlYWNoIHZhbGlkIGtleS5cbiAqL1xuZnVuY3Rpb24gY2xlYXJQcm9wZXJ0aWVzKHVwZGF0ZVBheWxvYWQsIHByZXZQcm9wcywgdmFsaWRBdHRyaWJ1dGVzKSB7XG4gIC8vIFRPRE86IEZhc3QgcGF0aFxuICByZXR1cm4gZGlmZlByb3BlcnRpZXMoXG4gICAgdXBkYXRlUGF5bG9hZCxcbiAgICBwcmV2UHJvcHMsXG4gICAgZW1wdHlPYmplY3QkMSxcbiAgICB2YWxpZEF0dHJpYnV0ZXNcbiAgKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlKHByb3BzLCB2YWxpZEF0dHJpYnV0ZXMpIHtcbiAgcmV0dXJuIGFkZFByb3BlcnRpZXMoXG4gICAgbnVsbCwgLy8gdXBkYXRlUGF5bG9hZFxuICAgIHByb3BzLFxuICAgIHZhbGlkQXR0cmlidXRlc1xuICApO1xufVxuXG5mdW5jdGlvbiBkaWZmKHByZXZQcm9wcywgbmV4dFByb3BzLCB2YWxpZEF0dHJpYnV0ZXMpIHtcbiAgcmV0dXJuIGRpZmZQcm9wZXJ0aWVzKFxuICAgIG51bGwsIC8vIHVwZGF0ZVBheWxvYWRcbiAgICBwcmV2UHJvcHMsXG4gICAgbmV4dFByb3BzLFxuICAgIHZhbGlkQXR0cmlidXRlc1xuICApO1xufVxuXG4vKipcbiAqIEluIHRoZSBmdXR1cmUsIHdlIHNob3VsZCBjbGVhbnVwIGNhbGxiYWNrcyBieSBjYW5jZWxsaW5nIHRoZW0gaW5zdGVhZCBvZlxuICogdXNpbmcgdGhpcy5cbiAqL1xuZnVuY3Rpb24gbW91bnRTYWZlQ2FsbGJhY2soY29udGV4dCwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29udGV4dC5fX2lzTW91bnRlZCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIC8vIFRPRE8oZ2FlYXJvbik6IHRoaXMgaXMgZ3Jvc3MgYW5kIHNob3VsZCBiZSByZW1vdmVkLlxuICAgICAgLy8gSXQgaXMgY3VycmVudGx5IG5lY2Vzc2FyeSBiZWNhdXNlIFZpZXcgdXNlcyBjcmVhdGVDbGFzcyxcbiAgICAgIC8vIGFuZCBzbyBhbnkgbWVhc3VyZSgpIGNhbGxzIG9uIFZpZXcgKHdoaWNoIGFyZSBkb25lIGJ5IFJlYWN0XG4gICAgICAvLyBEZXZUb29scykgdHJpZ2dlciB0aGUgaXNNb3VudGVkKCkgZGVwcmVjYXRpb24gd2FybmluZy5cbiAgICAgIGlmICghY29udGV4dC5fX2lzTW91bnRlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgLy8gVGhlIGVsc2UgYnJhbmNoIGlzIGltcG9ydGFudCBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAvLyB0cmlnZ2VyIHRoZSBkZXByZWNhdGlvbiB3YXJuaW5nIGJ5IGNhbGxpbmcgaXNNb3VudGVkLlxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbnRleHQuaXNNb3VudGVkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGlmICghY29udGV4dC5pc01vdW50ZWQoKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGhyb3dPblN0eWxlc1Byb3AoY29tcG9uZW50LCBwcm9wcykge1xuICBpZiAocHJvcHMuc3R5bGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgb3duZXIgPSBjb21wb25lbnQuX293bmVyIHx8IG51bGw7XG4gICAgdmFyIG5hbWUgPSBjb21wb25lbnQuY29uc3RydWN0b3IuZGlzcGxheU5hbWU7XG4gICAgdmFyIG1zZyA9XG4gICAgICBcImBzdHlsZXNgIGlzIG5vdCBhIHN1cHBvcnRlZCBwcm9wZXJ0eSBvZiBgXCIgK1xuICAgICAgbmFtZSArXG4gICAgICBcImAsIGRpZCBcIiArXG4gICAgICBcInlvdSBtZWFuIGBzdHlsZWAgKHNpbmd1bGFyKT9cIjtcbiAgICBpZiAob3duZXIgJiYgb3duZXIuY29uc3RydWN0b3IgJiYgb3duZXIuY29uc3RydWN0b3IuZGlzcGxheU5hbWUpIHtcbiAgICAgIG1zZyArPVxuICAgICAgICBcIlxcblxcbkNoZWNrIHRoZSBgXCIgK1xuICAgICAgICBvd25lci5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSArXG4gICAgICAgIFwiYCBwYXJlbnQgXCIgK1xuICAgICAgICBcIiBjb21wb25lbnQuXCI7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdhcm5Gb3JTdHlsZVByb3BzKHByb3BzLCB2YWxpZEF0dHJpYnV0ZXMpIHtcbiAgZm9yICh2YXIga2V5IGluIHZhbGlkQXR0cmlidXRlcy5zdHlsZSkge1xuICAgIGlmICghKHZhbGlkQXR0cmlidXRlc1trZXldIHx8IHByb3BzW2tleV0gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiWW91IGFyZSBzZXR0aW5nIHRoZSBzdHlsZSBgeyBcIiArXG4gICAgICAgICAga2V5ICtcbiAgICAgICAgICBcIjogLi4uIH1gIGFzIGEgcHJvcC4gWW91IFwiICtcbiAgICAgICAgICBcInNob3VsZCBuZXN0IGl0IGluIGEgc3R5bGUgb2JqZWN0LiBcIiArXG4gICAgICAgICAgXCJFLmcuIGB7IHN0eWxlOiB7IFwiICtcbiAgICAgICAgICBrZXkgK1xuICAgICAgICAgIFwiOiAuLi4gfSB9YFwiXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIGBSZWFjdEluc3RhbmNlTWFwYCBtYWludGFpbnMgYSBtYXBwaW5nIGZyb20gYSBwdWJsaWMgZmFjaW5nIHN0YXRlZnVsXG4gKiBpbnN0YW5jZSAoa2V5KSBhbmQgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uICh2YWx1ZSkuIFRoaXMgYWxsb3dzIHB1YmxpY1xuICogbWV0aG9kcyB0byBhY2NlcHQgdGhlIHVzZXIgZmFjaW5nIGluc3RhbmNlIGFzIGFuIGFyZ3VtZW50IGFuZCBtYXAgdGhlbSBiYWNrXG4gKiB0byBpbnRlcm5hbCBtZXRob2RzLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIG1vZHVsZSBpcyBjdXJyZW50bHkgc2hhcmVkIGFuZCBhc3N1bWVkIHRvIGJlIHN0YXRlbGVzcy5cbiAqIElmIHRoaXMgYmVjb21lcyBhbiBhY3R1YWwgTWFwLCB0aGF0IHdpbGwgYnJlYWsuXG4gKi9cblxuLyoqXG4gKiBUaGlzIEFQSSBzaG91bGQgYmUgY2FsbGVkIGBkZWxldGVgIGJ1dCB3ZSdkIGhhdmUgdG8gbWFrZSBzdXJlIHRvIGFsd2F5c1xuICogdHJhbnNmb3JtIHRoZXNlIHRvIHN0cmluZ3MgZm9yIElFIHN1cHBvcnQuIFdoZW4gdGhpcyB0cmFuc2Zvcm0gaXMgZnVsbHlcbiAqIHN1cHBvcnRlZCB3ZSBjYW4gcmVuYW1lIGl0LlxuICovXG5cbmZ1bmN0aW9uIGdldChrZXkpIHtcbiAgcmV0dXJuIGtleS5fcmVhY3RJbnRlcm5hbEZpYmVyO1xufVxuXG5mdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICBrZXkuX3JlYWN0SW50ZXJuYWxGaWJlciA9IHZhbHVlO1xufVxuXG52YXIgUmVhY3RJbnRlcm5hbHMgPSBSZWFjdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcblxudmFyIFJlYWN0Q3VycmVudE93bmVyID0gUmVhY3RJbnRlcm5hbHMuUmVhY3RDdXJyZW50T3duZXI7XG52YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSA9IFJlYWN0SW50ZXJuYWxzLlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUoZmliZXIpIHtcbiAgdmFyIHR5cGUgPSBmaWJlci50eXBlO1xuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lO1xuICB9XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgIHJldHVybiBcIlJlYWN0RnJhZ21lbnRcIjtcbiAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgcmV0dXJuIFwiUmVhY3RQb3J0YWxcIjtcbiAgICBjYXNlIFJFQUNUX0NBTExfVFlQRTpcbiAgICAgIHJldHVybiBcIlJlYWN0Q2FsbFwiO1xuICAgIGNhc2UgUkVBQ1RfUkVUVVJOX1RZUEU6XG4gICAgICByZXR1cm4gXCJSZWFjdFJldHVyblwiO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vLyBUT0RPOiBTaGFyZSB0aGlzIG1vZHVsZSBiZXR3ZWVuIEZhYnJpYyBhbmQgUmVhY3QgTmF0aXZlIHJlbmRlcmVyc1xuLy8gc28gdGhhdCBib3RoIGNhbiBiZSB1c2VkIGluIHRoZSBzYW1lIHRyZWUuXG5cbnZhciBmaW5kSG9zdEluc3RhbmNlID0gZnVuY3Rpb24oZmliZXIpIHtcbiAgcmV0dXJuIG51bGw7XG59O1xuXG52YXIgZmluZEhvc3RJbnN0YW5jZUZhYnJpYyA9IGZ1bmN0aW9uKGZpYmVyKSB7XG4gIHJldHVybiBudWxsO1xufTtcblxuZnVuY3Rpb24gaW5qZWN0RmluZEhvc3RJbnN0YW5jZShpbXBsKSB7XG4gIGZpbmRIb3N0SW5zdGFuY2UgPSBpbXBsO1xufVxuXG4vKipcbiAqIFJlYWN0TmF0aXZlIHZzIFJlYWN0V2ViXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUmVhY3QgdHJlYXRzIHNvbWUgcGllY2VzIG9mIGRhdGEgb3BhcXVlbHkuIFRoaXMgbWVhbnMgdGhhdCB0aGUgaW5mb3JtYXRpb25cbiAqIGlzIGZpcnN0IGNsYXNzIChpdCBjYW4gYmUgcGFzc2VkIGFyb3VuZCksIGJ1dCBjYW5ub3QgYmUgaW5zcGVjdGVkLiBUaGlzXG4gKiBhbGxvd3MgdXMgdG8gYnVpbGQgaW5mcmFzdHJ1Y3R1cmUgdGhhdCByZWFzb25zIGFib3V0IHJlc291cmNlcywgd2l0aG91dFxuICogbWFraW5nIGFzc3VtcHRpb25zIGFib3V0IHRoZSBuYXR1cmUgb2YgdGhvc2UgcmVzb3VyY2VzLCBhbmQgdGhpcyBhbGxvd3MgdGhhdFxuICogaW5mcmEgdG8gYmUgc2hhcmVkIGFjcm9zcyBtdWx0aXBsZSBwbGF0Zm9ybXMsIHdoZXJlIHRoZSByZXNvdXJjZXMgYXJlIHZlcnlcbiAqIGRpZmZlcmVudC4gR2VuZXJhbCBpbmZyYSAoc3VjaCBhcyBgUmVhY3RNdWx0aUNoaWxkYCkgcmVhc29ucyBvcGFxdWVseSBhYm91dFxuICogdGhlIGRhdGEsIGJ1dCBwbGF0Zm9ybSBzcGVjaWZpYyBjb2RlIChzdWNoIGFzIGBSZWFjdE5hdGl2ZUJhc2VDb21wb25lbnRgKSBjYW5cbiAqIG1ha2UgYXNzdW1wdGlvbnMgYWJvdXQgdGhlIGRhdGEuXG4gKlxuICpcbiAqIGByb290Tm9kZUlEYCwgdW5pcXVlbHkgaWRlbnRpZmllcyBhIHBvc2l0aW9uIGluIHRoZSBnZW5lcmF0ZWQgbmF0aXZlIHZpZXdcbiAqIHRyZWUuIE1hbnkgbGF5ZXJzIG9mIGNvbXBvc2l0ZSBjb21wb25lbnRzIChjcmVhdGVkIHdpdGggYFJlYWN0LmNyZWF0ZUNsYXNzYClcbiAqIGNhbiBhbGwgc2hhcmUgdGhlIHNhbWUgYHJvb3ROb2RlSURgLlxuICpcbiAqIGBub2RlSGFuZGxlYDogQSBzdWZmaWNpZW50bHkgdW5hbWJpZ3VvdXMgd2F5IHRvIHJlZmVyIHRvIGEgbG93ZXIgbGV2ZWxcbiAqIHJlc291cmNlIChkb20gbm9kZSwgbmF0aXZlIHZpZXcgZXRjKS4gVGhlIGByb290Tm9kZUlEYCBpcyBzdWZmaWNpZW50IGZvciB3ZWJcbiAqIGBub2RlSGFuZGxlYHMsIGJlY2F1c2UgdGhlIHBvc2l0aW9uIGluIGEgdHJlZSBpcyBhbHdheXMgZW5vdWdoIHRvIHVuaXF1ZWx5XG4gKiBpZGVudGlmeSBhIERPTSBub2RlICh3ZSBuZXZlciBoYXZlIG5vZGVzIGluIHNvbWUgYmFuayBvdXRzaWRlIG9mIHRoZVxuICogZG9jdW1lbnQpLiBUaGUgc2FtZSB3b3VsZCBiZSB0cnVlIGZvciBgUmVhY3ROYXRpdmVgLCBidXQgd2UgbXVzdCBtYWludGFpbiBhXG4gKiBtYXBwaW5nIHRoYXQgd2UgY2FuIHNlbmQgZWZmaWNpZW50bHkgc2VyaWFsaXphYmxlXG4gKiBzdHJpbmdzIGFjcm9zcyBuYXRpdmUgYm91bmRhcmllcy5cbiAqXG4gKiBPcGFxdWUgbmFtZSAgICAgIFRvZGF5c1dlYlJlYWN0ICAgRnV0dXJlV2ViV29ya2VyUmVhY3QgICBSZWFjdE5hdGl2ZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogbm9kZUhhbmRsZSAgICAgICBOL0EgICAgICAgICAgICAgIHJvb3ROb2RlSUQgICAgICAgICAgICAgdGFnXG4gKi9cblxuLy8gVE9ETyAoYnZhdWdobikgUmVuYW1lIHRoZSBmaW5kTm9kZUhhbmRsZSBtb2R1bGUgdG8gc29tZXRoaW5nIG1vcmUgZGVzY3JpcHRpdmVcbi8vIGVnIGZpbmRJbnRlcm5hbEhvc3RJbnN0YW5jZS4gVGhpcyB3aWxsIHJlZHVjZSB0aGUgbGlrZWxpaG9vZCBvZiBzb21lb25lXG4vLyBhY2NpZGVudGFsbHkgZGVlcC1yZXF1aXJpbmcgdGhpcyB2ZXJzaW9uLlxuZnVuY3Rpb24gZmluZE5vZGVIYW5kbGUoY29tcG9uZW50T3JIYW5kbGUpIHtcbiAge1xuICAgIHZhciBvd25lciA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQ7XG4gICAgaWYgKG93bmVyICE9PSBudWxsICYmIG93bmVyLnN0YXRlTm9kZSAhPT0gbnVsbCkge1xuICAgICAgd2FybmluZyhcbiAgICAgICAgb3duZXIuc3RhdGVOb2RlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlcixcbiAgICAgICAgXCIlcyBpcyBhY2Nlc3NpbmcgZmluZE5vZGVIYW5kbGUgaW5zaWRlIGl0cyByZW5kZXIoKS4gXCIgK1xuICAgICAgICAgIFwicmVuZGVyKCkgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuIEl0IHNob3VsZCBcIiArXG4gICAgICAgICAgXCJuZXZlciBhY2Nlc3Mgc29tZXRoaW5nIHRoYXQgcmVxdWlyZXMgc3RhbGUgZGF0YSBmcm9tIHRoZSBwcmV2aW91cyBcIiArXG4gICAgICAgICAgXCJyZW5kZXIsIHN1Y2ggYXMgcmVmcy4gTW92ZSB0aGlzIGxvZ2ljIHRvIGNvbXBvbmVudERpZE1vdW50IGFuZCBcIiArXG4gICAgICAgICAgXCJjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC5cIixcbiAgICAgICAgZ2V0Q29tcG9uZW50TmFtZShvd25lcikgfHwgXCJBIGNvbXBvbmVudFwiXG4gICAgICApO1xuXG4gICAgICBvd25lci5zdGF0ZU5vZGUuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGNvbXBvbmVudE9ySGFuZGxlID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodHlwZW9mIGNvbXBvbmVudE9ySGFuZGxlID09PSBcIm51bWJlclwiKSB7XG4gICAgLy8gQWxyZWFkeSBhIG5vZGUgaGFuZGxlXG4gICAgcmV0dXJuIGNvbXBvbmVudE9ySGFuZGxlO1xuICB9XG5cbiAgdmFyIGNvbXBvbmVudCA9IGNvbXBvbmVudE9ySGFuZGxlO1xuXG4gIC8vIFRPRE8gKGJhbHBlcnQpOiBXcmFwIGlPUyBuYXRpdmUgY29tcG9uZW50cyBpbiBhIGNvbXBvc2l0ZSB3cmFwcGVyLCB0aGVuXG4gIC8vIFJlYWN0SW5zdGFuY2VNYXAuZ2V0IGhlcmUgd2lsbCBhbHdheXMgc3VjY2VlZCBmb3IgbW91bnRlZCBjb21wb25lbnRzXG4gIHZhciBpbnRlcm5hbEluc3RhbmNlID0gZ2V0KGNvbXBvbmVudCk7XG4gIGlmIChpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGZpbmRIb3N0SW5zdGFuY2UoaW50ZXJuYWxJbnN0YW5jZSkgfHxcbiAgICAgIGZpbmRIb3N0SW5zdGFuY2VGYWJyaWMoaW50ZXJuYWxJbnN0YW5jZSlcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgLy8gTmF0aXZlXG4gICAgICAgICh0eXBlb2YgY29tcG9uZW50ID09PSBcIm9iamVjdFwiICYmIFwiX25hdGl2ZVRhZ1wiIGluIGNvbXBvbmVudCkgfHxcbiAgICAgICAgICAvLyBDb21wb3NpdGVcbiAgICAgICAgICAoY29tcG9uZW50LnJlbmRlciAhPSBudWxsICYmIHR5cGVvZiBjb21wb25lbnQucmVuZGVyID09PSBcImZ1bmN0aW9uXCIpLFxuICAgICAgICBcImZpbmROb2RlSGFuZGxlKC4uLik6IEFyZ3VtZW50IGlzIG5vdCBhIGNvbXBvbmVudCBcIiArXG4gICAgICAgICAgXCIodHlwZTogJXMsIGtleXM6ICVzKVwiLFxuICAgICAgICB0eXBlb2YgY29tcG9uZW50LFxuICAgICAgICBPYmplY3Qua2V5cyhjb21wb25lbnQpXG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgXCJmaW5kTm9kZUhhbmRsZSguLi4pOiBVbmFibGUgdG8gZmluZCBub2RlIGhhbmRsZSBmb3IgdW5tb3VudGVkIFwiICtcbiAgICAgICAgICBcImNvbXBvbmVudC5cIlxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFeHRlcm5hbCB1c2VycyBvZiBmaW5kTm9kZUhhbmRsZSgpIGV4cGVjdCB0aGUgaG9zdCB0YWcgbnVtYmVyIHJldHVybiB0eXBlLlxuICogVGhlIGluamVjdGVkIGZpbmROb2RlSGFuZGxlKCkgc3RyYXRlZ3kgcmV0dXJucyB0aGUgaW5zdGFuY2Ugd3JhcHBlciB0aG91Z2guXG4gKiBTZWUgTmF0aXZlTWV0aG9kc01peGluI3NldE5hdGl2ZVByb3BzIGZvciBtb3JlIGluZm8gb24gd2h5IHRoaXMgaXMgZG9uZS5cbiAqL1xuZnVuY3Rpb24gZmluZE51bWVyaWNOb2RlSGFuZGxlRmliZXIoY29tcG9uZW50T3JIYW5kbGUpIHtcbiAgdmFyIGluc3RhbmNlID0gZmluZE5vZGVIYW5kbGUoY29tcG9uZW50T3JIYW5kbGUpO1xuICBpZiAoaW5zdGFuY2UgPT0gbnVsbCB8fCB0eXBlb2YgaW5zdGFuY2UgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cbiAgcmV0dXJuIGluc3RhbmNlLl9uYXRpdmVUYWc7XG59XG5cbi8vIE1vZHVsZXMgcHJvdmlkZWQgYnkgUk46XG4vKipcbiAqIGBOYXRpdmVNZXRob2RzTWl4aW5gIHByb3ZpZGVzIG1ldGhvZHMgdG8gYWNjZXNzIHRoZSB1bmRlcmx5aW5nIG5hdGl2ZVxuICogY29tcG9uZW50IGRpcmVjdGx5LiBUaGlzIGNhbiBiZSB1c2VmdWwgaW4gY2FzZXMgd2hlbiB5b3Ugd2FudCB0byBmb2N1c1xuICogYSB2aWV3IG9yIG1lYXN1cmUgaXRzIG9uLXNjcmVlbiBkaW1lbnNpb25zLCBmb3IgZXhhbXBsZS5cbiAqXG4gKiBUaGUgbWV0aG9kcyBkZXNjcmliZWQgaGVyZSBhcmUgYXZhaWxhYmxlIG9uIG1vc3Qgb2YgdGhlIGRlZmF1bHQgY29tcG9uZW50c1xuICogcHJvdmlkZWQgYnkgUmVhY3QgTmF0aXZlLiBOb3RlLCBob3dldmVyLCB0aGF0IHRoZXkgYXJlICpub3QqIGF2YWlsYWJsZSBvblxuICogY29tcG9zaXRlIGNvbXBvbmVudHMgdGhhdCBhcmVuJ3QgZGlyZWN0bHkgYmFja2VkIGJ5IGEgbmF0aXZlIHZpZXcuIFRoaXMgd2lsbFxuICogZ2VuZXJhbGx5IGluY2x1ZGUgbW9zdCBjb21wb25lbnRzIHRoYXQgeW91IGRlZmluZSBpbiB5b3VyIG93biBhcHAuIEZvciBtb3JlXG4gKiBpbmZvcm1hdGlvbiwgc2VlIFtEaXJlY3RcbiAqIE1hbmlwdWxhdGlvbl0oZG9jcy9kaXJlY3QtbWFuaXB1bGF0aW9uLmh0bWwpLlxuICpcbiAqIE5vdGUgdGhlIEZsb3cgJEV4YWN0PD4gc3ludGF4IGlzIHJlcXVpcmVkIHRvIHN1cHBvcnQgbWl4aW5zLlxuICogUmVhY3QgY3JlYXRlQ2xhc3MgbWl4aW5zIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBleGFjdCB0eXBlcy5cbiAqL1xudmFyIE5hdGl2ZU1ldGhvZHNNaXhpbiA9IHtcbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIGxvY2F0aW9uIG9uIHNjcmVlbiwgd2lkdGgsIGFuZCBoZWlnaHQgb2YgdGhlIGdpdmVuIHZpZXcgYW5kXG4gICAqIHJldHVybnMgdGhlIHZhbHVlcyB2aWEgYW4gYXN5bmMgY2FsbGJhY2suIElmIHN1Y2Nlc3NmdWwsIHRoZSBjYWxsYmFjayB3aWxsXG4gICAqIGJlIGNhbGxlZCB3aXRoIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzOlxuICAgKlxuICAgKiAgLSB4XG4gICAqICAtIHlcbiAgICogIC0gd2lkdGhcbiAgICogIC0gaGVpZ2h0XG4gICAqICAtIHBhZ2VYXG4gICAqICAtIHBhZ2VZXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGVzZSBtZWFzdXJlbWVudHMgYXJlIG5vdCBhdmFpbGFibGUgdW50aWwgYWZ0ZXIgdGhlIHJlbmRlcmluZ1xuICAgKiBoYXMgYmVlbiBjb21wbGV0ZWQgaW4gbmF0aXZlLiBJZiB5b3UgbmVlZCB0aGUgbWVhc3VyZW1lbnRzIGFzIHNvb24gYXNcbiAgICogcG9zc2libGUsIGNvbnNpZGVyIHVzaW5nIHRoZSBbYG9uTGF5b3V0YFxuICAgKiBwcm9wXShkb2NzL3ZpZXcuaHRtbCNvbmxheW91dCkgaW5zdGVhZC5cbiAgICovXG4gIG1lYXN1cmU6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgVUlNYW5hZ2VyLm1lYXN1cmUoXG4gICAgICBmaW5kTnVtZXJpY05vZGVIYW5kbGVGaWJlcih0aGlzKSxcbiAgICAgIG1vdW50U2FmZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrKVxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIGxvY2F0aW9uIG9mIHRoZSBnaXZlbiB2aWV3IGluIHRoZSB3aW5kb3cgYW5kIHJldHVybnMgdGhlXG4gICAqIHZhbHVlcyB2aWEgYW4gYXN5bmMgY2FsbGJhY2suIElmIHRoZSBSZWFjdCByb290IHZpZXcgaXMgZW1iZWRkZWQgaW5cbiAgICogYW5vdGhlciBuYXRpdmUgdmlldywgdGhpcyB3aWxsIGdpdmUgeW91IHRoZSBhYnNvbHV0ZSBjb29yZGluYXRlcy4gSWZcbiAgICogc3VjY2Vzc2Z1bCwgdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGZvbGxvd2luZ1xuICAgKiBhcmd1bWVudHM6XG4gICAqXG4gICAqICAtIHhcbiAgICogIC0geVxuICAgKiAgLSB3aWR0aFxuICAgKiAgLSBoZWlnaHRcbiAgICpcbiAgICogTm90ZSB0aGF0IHRoZXNlIG1lYXN1cmVtZW50cyBhcmUgbm90IGF2YWlsYWJsZSB1bnRpbCBhZnRlciB0aGUgcmVuZGVyaW5nXG4gICAqIGhhcyBiZWVuIGNvbXBsZXRlZCBpbiBuYXRpdmUuXG4gICAqL1xuICBtZWFzdXJlSW5XaW5kb3c6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgVUlNYW5hZ2VyLm1lYXN1cmVJbldpbmRvdyhcbiAgICAgIGZpbmROdW1lcmljTm9kZUhhbmRsZUZpYmVyKHRoaXMpLFxuICAgICAgbW91bnRTYWZlQ2FsbGJhY2sodGhpcywgY2FsbGJhY2spXG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogTGlrZSBbYG1lYXN1cmUoKWBdKCNtZWFzdXJlKSwgYnV0IG1lYXN1cmVzIHRoZSB2aWV3IHJlbGF0aXZlIGFuIGFuY2VzdG9yLFxuICAgKiBzcGVjaWZpZWQgYXMgYHJlbGF0aXZlVG9OYXRpdmVOb2RlYC4gVGhpcyBtZWFucyB0aGF0IHRoZSByZXR1cm5lZCB4LCB5XG4gICAqIGFyZSByZWxhdGl2ZSB0byB0aGUgb3JpZ2luIHgsIHkgb2YgdGhlIGFuY2VzdG9yIHZpZXcuXG4gICAqXG4gICAqIEFzIGFsd2F5cywgdG8gb2J0YWluIGEgbmF0aXZlIG5vZGUgaGFuZGxlIGZvciBhIGNvbXBvbmVudCwgeW91IGNhbiB1c2VcbiAgICogYGZpbmROdW1lcmljTm9kZUhhbmRsZShjb21wb25lbnQpYC5cbiAgICovXG4gIG1lYXN1cmVMYXlvdXQ6IGZ1bmN0aW9uKFxuICAgIHJlbGF0aXZlVG9OYXRpdmVOb2RlLFxuICAgIG9uU3VjY2VzcyxcbiAgICBvbkZhaWwgLyogY3VycmVudGx5IHVudXNlZCAqL1xuICApIHtcbiAgICBVSU1hbmFnZXIubWVhc3VyZUxheW91dChcbiAgICAgIGZpbmROdW1lcmljTm9kZUhhbmRsZUZpYmVyKHRoaXMpLFxuICAgICAgcmVsYXRpdmVUb05hdGl2ZU5vZGUsXG4gICAgICBtb3VudFNhZmVDYWxsYmFjayh0aGlzLCBvbkZhaWwpLFxuICAgICAgbW91bnRTYWZlQ2FsbGJhY2sodGhpcywgb25TdWNjZXNzKVxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gc2VuZHMgcHJvcHMgc3RyYWlnaHQgdG8gbmF0aXZlLiBUaGV5IHdpbGwgbm90IHBhcnRpY2lwYXRlIGluXG4gICAqIGZ1dHVyZSBkaWZmIHByb2Nlc3MgLSB0aGlzIG1lYW5zIHRoYXQgaWYgeW91IGRvIG5vdCBpbmNsdWRlIHRoZW0gaW4gdGhlXG4gICAqIG5leHQgcmVuZGVyLCB0aGV5IHdpbGwgcmVtYWluIGFjdGl2ZSAoc2VlIFtEaXJlY3RcbiAgICogTWFuaXB1bGF0aW9uXShkb2NzL2RpcmVjdC1tYW5pcHVsYXRpb24uaHRtbCkpLlxuICAgKi9cbiAgc2V0TmF0aXZlUHJvcHM6IGZ1bmN0aW9uKG5hdGl2ZVByb3BzKSB7XG4gICAgLy8gQ2xhc3MgY29tcG9uZW50cyBkb24ndCBoYXZlIHZpZXdDb25maWcgLT4gdmFsaWRhdGVBdHRyaWJ1dGVzLlxuICAgIC8vIE5vciBkb2VzIGl0IG1ha2Ugc2Vuc2UgdG8gc2V0IG5hdGl2ZSBwcm9wcyBvbiBhIG5vbi1uYXRpdmUgY29tcG9uZW50LlxuICAgIC8vIEluc3RlYWQsIGZpbmQgdGhlIG5lYXJlc3QgaG9zdCBjb21wb25lbnQgYW5kIHNldCBwcm9wcyBvbiBpdC5cbiAgICAvLyBVc2UgZmluZE5vZGVIYW5kbGUoKSByYXRoZXIgdGhhbiBmaW5kTnVtZXJpY05vZGVIYW5kbGUoKSBiZWNhdXNlXG4gICAgLy8gV2Ugd2FudCB0aGUgaW5zdGFuY2Uvd3JhcHBlciAobm90IHRoZSBuYXRpdmUgdGFnKS5cbiAgICB2YXIgbWF5YmVJbnN0YW5jZSA9IHZvaWQgMDtcblxuICAgIC8vIEZpYmVyIGVycm9ycyBpZiBmaW5kTm9kZUhhbmRsZSBpcyBjYWxsZWQgZm9yIGFuIHVtb3VudGVkIGNvbXBvbmVudC5cbiAgICAvLyBUZXN0cyB1c2luZyBSZWFjdFRlc3RSZW5kZXJlciB3aWxsIHRyaWdnZXIgdGhpcyBjYXNlIGluZGlyZWN0bHkuXG4gICAgLy8gTWltaWNraW5nIHN0YWNrIGJlaGF2aW9yLCB3ZSBzaG91bGQgc2lsZW50bHkgaWdub3JlIHRoaXMgY2FzZS5cbiAgICAvLyBUT0RPIEZpeCBSZWFjdFRlc3RSZW5kZXJlciBzbyB3ZSBjYW4gcmVtb3ZlIHRoaXMgdHJ5L2NhdGNoLlxuICAgIHRyeSB7XG4gICAgICBtYXliZUluc3RhbmNlID0gZmluZE5vZGVIYW5kbGUodGhpcyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHt9XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBubyBob3N0IGNvbXBvbmVudCBiZW5lYXRoIHRoaXMgd2Ugc2hvdWxkIGZhaWwgc2lsZW50bHkuXG4gICAgLy8gVGhpcyBpcyBub3QgYW4gZXJyb3I7IGl0IGNvdWxkIG1lYW4gYSBjbGFzcyBjb21wb25lbnQgcmVuZGVyZWQgbnVsbC5cbiAgICBpZiAobWF5YmVJbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHZpZXdDb25maWcgPSBtYXliZUluc3RhbmNlLnZpZXdDb25maWc7XG5cbiAgICB7XG4gICAgICB3YXJuRm9yU3R5bGVQcm9wcyhuYXRpdmVQcm9wcywgdmlld0NvbmZpZy52YWxpZEF0dHJpYnV0ZXMpO1xuICAgIH1cblxuICAgIHZhciB1cGRhdGVQYXlsb2FkID0gY3JlYXRlKG5hdGl2ZVByb3BzLCB2aWV3Q29uZmlnLnZhbGlkQXR0cmlidXRlcyk7XG5cbiAgICAvLyBBdm9pZCB0aGUgb3ZlcmhlYWQgb2YgYnJpZGdlIGNhbGxzIGlmIHRoZXJlJ3Mgbm8gdXBkYXRlLlxuICAgIC8vIFRoaXMgaXMgYW4gZXhwZW5zaXZlIG5vLW9wIGZvciBBbmRyb2lkLCBhbmQgY2F1c2VzIGFuIHVubmVjZXNzYXJ5XG4gICAgLy8gdmlldyBpbnZhbGlkYXRpb24gZm9yIGNlcnRhaW4gY29tcG9uZW50cyAoZWcgUkNUVGV4dElucHV0KSBvbiBpT1MuXG4gICAgaWYgKHVwZGF0ZVBheWxvYWQgIT0gbnVsbCkge1xuICAgICAgVUlNYW5hZ2VyLnVwZGF0ZVZpZXcoXG4gICAgICAgIG1heWJlSW5zdGFuY2UuX25hdGl2ZVRhZyxcbiAgICAgICAgdmlld0NvbmZpZy51aVZpZXdDbGFzc05hbWUsXG4gICAgICAgIHVwZGF0ZVBheWxvYWRcbiAgICAgICk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0cyBmb2N1cyBmb3IgdGhlIGdpdmVuIGlucHV0IG9yIHZpZXcuIFRoZSBleGFjdCBiZWhhdmlvciB0cmlnZ2VyZWRcbiAgICogd2lsbCBkZXBlbmQgb24gdGhlIHBsYXRmb3JtIGFuZCB0eXBlIG9mIHZpZXcuXG4gICAqL1xuICBmb2N1czogZnVuY3Rpb24oKSB7XG4gICAgVGV4dElucHV0U3RhdGUuZm9jdXNUZXh0SW5wdXQoZmluZE51bWVyaWNOb2RlSGFuZGxlRmliZXIodGhpcykpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGZvY3VzIGZyb20gYW4gaW5wdXQgb3Igdmlldy4gVGhpcyBpcyB0aGUgb3Bwb3NpdGUgb2YgYGZvY3VzKClgLlxuICAgKi9cbiAgYmx1cjogZnVuY3Rpb24oKSB7XG4gICAgVGV4dElucHV0U3RhdGUuYmx1clRleHRJbnB1dChmaW5kTnVtZXJpY05vZGVIYW5kbGVGaWJlcih0aGlzKSk7XG4gIH1cbn07XG5cbntcbiAgLy8gaGlkZSB0aGlzIGZyb20gRmxvdyBzaW5jZSB3ZSBjYW4ndCBkZWZpbmUgdGhlc2UgcHJvcGVydGllcyBvdXRzaWRlIG9mXG4gIC8vIHRydWUgd2l0aG91dCBhY3R1YWxseSBpbXBsZW1lbnRpbmcgdGhlbSAoc2V0dGluZyB0aGVtIHRvIHVuZGVmaW5lZFxuICAvLyBpc24ndCBhbGxvd2VkIGJ5IFJlYWN0Q2xhc3MpXG4gIHZhciBOYXRpdmVNZXRob2RzTWl4aW5fREVWID0gTmF0aXZlTWV0aG9kc01peGluO1xuICBpbnZhcmlhbnQoXG4gICAgIU5hdGl2ZU1ldGhvZHNNaXhpbl9ERVYuY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAhTmF0aXZlTWV0aG9kc01peGluX0RFVi5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmXG4gICAgICAhTmF0aXZlTWV0aG9kc01peGluX0RFVi5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAhTmF0aXZlTWV0aG9kc01peGluX0RFVi5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyxcbiAgICBcIkRvIG5vdCBvdmVycmlkZSBleGlzdGluZyBmdW5jdGlvbnMuXCJcbiAgKTtcbiAgLy8gVE9ETyAoYnZhdWdobikgUmVtb3ZlIGNXTSBhbmQgY1dSUCBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIFJlYWN0IE5hdGl2ZSxcbiAgLy8gT25jZSB0aGVzZSBsaWZlY3ljbGVzIGhhdmUgYmVlbiByZW1vdmUgZnJvbSB0aGUgcmVjb25jaWxlci5cbiAgTmF0aXZlTWV0aG9kc01peGluX0RFVi5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbigpIHtcbiAgICB0aHJvd09uU3R5bGVzUHJvcCh0aGlzLCB0aGlzLnByb3BzKTtcbiAgfTtcbiAgTmF0aXZlTWV0aG9kc01peGluX0RFVi5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24obmV3UHJvcHMpIHtcbiAgICB0aHJvd09uU3R5bGVzUHJvcCh0aGlzLCBuZXdQcm9wcyk7XG4gIH07XG4gIE5hdGl2ZU1ldGhvZHNNaXhpbl9ERVYuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uKCkge1xuICAgIHRocm93T25TdHlsZXNQcm9wKHRoaXMsIHRoaXMucHJvcHMpO1xuICB9O1xuICBOYXRpdmVNZXRob2RzTWl4aW5fREVWLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24obmV3UHJvcHMpIHtcbiAgICB0aHJvd09uU3R5bGVzUHJvcCh0aGlzLCBuZXdQcm9wcyk7XG4gIH07XG5cbiAgLy8gUmVhY3QgbWF5IHdhcm4gYWJvdXQgY1dNL2NXUlAvY1dVIG1ldGhvZHMgYmVpbmcgZGVwcmVjYXRlZC5cbiAgLy8gQWRkIGEgZmxhZyB0byBzdXBwcmVzcyB0aGVzZSB3YXJuaW5ncyBmb3IgdGhpcyBzcGVjaWFsIGNhc2UuXG4gIC8vIFRPRE8gKGJ2YXVnaG4pIFJlbW92ZSB0aGlzIGZsYWcgb25jZSB0aGUgYWJvdmUgbWV0aG9kcyBoYXZlIGJlZW4gcmVtb3ZlZC5cbiAgTmF0aXZlTWV0aG9kc01peGluX0RFVi5jb21wb25lbnRXaWxsTW91bnQuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyA9IHRydWU7XG4gIE5hdGl2ZU1ldGhvZHNNaXhpbl9ERVYuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrJDEoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gIGlmICghc2VsZikge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcbiAgICAgIFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCJcbiAgICApO1xuICB9XG4gIHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKVxuICAgID8gY2FsbFxuICAgIDogc2VsZjtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICtcbiAgICAgICAgdHlwZW9mIHN1cGVyQ2xhc3NcbiAgICApO1xuICB9XG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpXG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mXG4gICAgICA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcylcbiAgICAgIDogKHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3MpO1xufVxuXG4vLyBNb2R1bGVzIHByb3ZpZGVkIGJ5IFJOOlxuLyoqXG4gKiBTdXBlcmNsYXNzIHRoYXQgcHJvdmlkZXMgbWV0aG9kcyB0byBhY2Nlc3MgdGhlIHVuZGVybHlpbmcgbmF0aXZlIGNvbXBvbmVudC5cbiAqIFRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuIHlvdSB3YW50IHRvIGZvY3VzIGEgdmlldyBvciBtZWFzdXJlIGl0cyBkaW1lbnNpb25zLlxuICpcbiAqIE1ldGhvZHMgaW1wbGVtZW50ZWQgYnkgdGhpcyBjbGFzcyBhcmUgYXZhaWxhYmxlIG9uIG1vc3QgZGVmYXVsdCBjb21wb25lbnRzXG4gKiBwcm92aWRlZCBieSBSZWFjdCBOYXRpdmUuIEhvd2V2ZXIsIHRoZXkgYXJlICpub3QqIGF2YWlsYWJsZSBvbiBjb21wb3NpdGVcbiAqIGNvbXBvbmVudHMgdGhhdCBhcmUgbm90IGRpcmVjdGx5IGJhY2tlZCBieSBhIG5hdGl2ZSB2aWV3LiBGb3IgbW9yZVxuICogaW5mb3JtYXRpb24sIHNlZSBbRGlyZWN0IE1hbmlwdWxhdGlvbl0oZG9jcy9kaXJlY3QtbWFuaXB1bGF0aW9uLmh0bWwpLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5cbnZhciBSZWFjdE5hdGl2ZUNvbXBvbmVudCA9IChmdW5jdGlvbihfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhSZWFjdE5hdGl2ZUNvbXBvbmVudCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUmVhY3ROYXRpdmVDb21wb25lbnQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgUmVhY3ROYXRpdmVDb21wb25lbnQpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKFxuICAgICAgdGhpcyxcbiAgICAgIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBmb2N1cy4gVGhpcyBpcyB0aGUgb3Bwb3NpdGUgb2YgYGZvY3VzKClgLlxuICAgKi9cblxuICAvKipcbiAgICogRHVlIHRvIGJ1Z3MgaW4gRmxvdydzIGhhbmRsaW5nIG9mIFJlYWN0LmNyZWF0ZUNsYXNzLCBzb21lIGZpZWxkcyBhbHJlYWR5XG4gICAqIGRlY2xhcmVkIGluIHRoZSBiYXNlIGNsYXNzIG5lZWQgdG8gYmUgcmVkZWNsYXJlZCBiZWxvdy5cbiAgICovXG4gIFJlYWN0TmF0aXZlQ29tcG9uZW50LnByb3RvdHlwZS5ibHVyID0gZnVuY3Rpb24gYmx1cigpIHtcbiAgICBUZXh0SW5wdXRTdGF0ZS5ibHVyVGV4dElucHV0KGZpbmROdW1lcmljTm9kZUhhbmRsZUZpYmVyKHRoaXMpKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVxdWVzdHMgZm9jdXMuIFRoZSBleGFjdCBiZWhhdmlvciBkZXBlbmRzIG9uIHRoZSBwbGF0Zm9ybSBhbmQgdmlldy5cbiAgICovXG5cbiAgUmVhY3ROYXRpdmVDb21wb25lbnQucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgVGV4dElucHV0U3RhdGUuZm9jdXNUZXh0SW5wdXQoZmluZE51bWVyaWNOb2RlSGFuZGxlRmliZXIodGhpcykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNZWFzdXJlcyB0aGUgb24tc2NyZWVuIGxvY2F0aW9uIGFuZCBkaW1lbnNpb25zLiBJZiBzdWNjZXNzZnVsLCB0aGUgY2FsbGJhY2tcbiAgICogd2lsbCBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHkgd2l0aCB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czpcbiAgICpcbiAgICogIC0geFxuICAgKiAgLSB5XG4gICAqICAtIHdpZHRoXG4gICAqICAtIGhlaWdodFxuICAgKiAgLSBwYWdlWFxuICAgKiAgLSBwYWdlWVxuICAgKlxuICAgKiBUaGVzZSB2YWx1ZXMgYXJlIG5vdCBhdmFpbGFibGUgdW50aWwgYWZ0ZXIgbmF0aXZlcyByZW5kZXJpbmcgY29tcGxldGVzLiBJZlxuICAgKiB5b3UgbmVlZCB0aGUgbWVhc3VyZW1lbnRzIGFzIHNvb24gYXMgcG9zc2libGUsIGNvbnNpZGVyIHVzaW5nIHRoZVxuICAgKiBbYG9uTGF5b3V0YCBwcm9wXShkb2NzL3ZpZXcuaHRtbCNvbmxheW91dCkgaW5zdGVhZC5cbiAgICovXG5cbiAgUmVhY3ROYXRpdmVDb21wb25lbnQucHJvdG90eXBlLm1lYXN1cmUgPSBmdW5jdGlvbiBtZWFzdXJlKGNhbGxiYWNrKSB7XG4gICAgVUlNYW5hZ2VyLm1lYXN1cmUoXG4gICAgICBmaW5kTnVtZXJpY05vZGVIYW5kbGVGaWJlcih0aGlzKSxcbiAgICAgIG1vdW50U2FmZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrKVxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1lYXN1cmVzIHRoZSBvbi1zY3JlZW4gbG9jYXRpb24gYW5kIGRpbWVuc2lvbnMuIEV2ZW4gaWYgdGhlIFJlYWN0IE5hdGl2ZVxuICAgKiByb290IHZpZXcgaXMgZW1iZWRkZWQgd2l0aGluIGFub3RoZXIgbmF0aXZlIHZpZXcsIHRoaXMgbWV0aG9kIHdpbGwgZ2l2ZSB5b3VcbiAgICogdGhlIGFic29sdXRlIGNvb3JkaW5hdGVzIG1lYXN1cmVkIGZyb20gdGhlIHdpbmRvdy4gSWYgc3VjY2Vzc2Z1bCwgdGhlXG4gICAqIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5IHdpdGggdGhlIGZvbGxvd2luZyBhcmd1bWVudHM6XG4gICAqXG4gICAqICAtIHhcbiAgICogIC0geVxuICAgKiAgLSB3aWR0aFxuICAgKiAgLSBoZWlnaHRcbiAgICpcbiAgICogVGhlc2UgdmFsdWVzIGFyZSBub3QgYXZhaWxhYmxlIHVudGlsIGFmdGVyIG5hdGl2ZXMgcmVuZGVyaW5nIGNvbXBsZXRlcy5cbiAgICovXG5cbiAgUmVhY3ROYXRpdmVDb21wb25lbnQucHJvdG90eXBlLm1lYXN1cmVJbldpbmRvdyA9IGZ1bmN0aW9uIG1lYXN1cmVJbldpbmRvdyhcbiAgICBjYWxsYmFja1xuICApIHtcbiAgICBVSU1hbmFnZXIubWVhc3VyZUluV2luZG93KFxuICAgICAgZmluZE51bWVyaWNOb2RlSGFuZGxlRmliZXIodGhpcyksXG4gICAgICBtb3VudFNhZmVDYWxsYmFjayh0aGlzLCBjYWxsYmFjaylcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTaW1pbGFyIHRvIFtgbWVhc3VyZSgpYF0oI21lYXN1cmUpLCBidXQgdGhlIHJlc3VsdGluZyBsb2NhdGlvbiB3aWxsIGJlXG4gICAqIHJlbGF0aXZlIHRvIHRoZSBzdXBwbGllZCBhbmNlc3RvcidzIGxvY2F0aW9uLlxuICAgKlxuICAgKiBPYnRhaW4gYSBuYXRpdmUgbm9kZSBoYW5kbGUgd2l0aCBgUmVhY3ROYXRpdmUuZmluZE5vZGVIYW5kbGUoY29tcG9uZW50KWAuXG4gICAqL1xuXG4gIFJlYWN0TmF0aXZlQ29tcG9uZW50LnByb3RvdHlwZS5tZWFzdXJlTGF5b3V0ID0gZnVuY3Rpb24gbWVhc3VyZUxheW91dChcbiAgICByZWxhdGl2ZVRvTmF0aXZlTm9kZSxcbiAgICBvblN1Y2Nlc3MsXG4gICAgb25GYWlsIC8qIGN1cnJlbnRseSB1bnVzZWQgKi9cbiAgKSB7XG4gICAgVUlNYW5hZ2VyLm1lYXN1cmVMYXlvdXQoXG4gICAgICBmaW5kTnVtZXJpY05vZGVIYW5kbGVGaWJlcih0aGlzKSxcbiAgICAgIHJlbGF0aXZlVG9OYXRpdmVOb2RlLFxuICAgICAgbW91bnRTYWZlQ2FsbGJhY2sodGhpcywgb25GYWlsKSxcbiAgICAgIG1vdW50U2FmZUNhbGxiYWNrKHRoaXMsIG9uU3VjY2VzcylcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIHNlbmRzIHByb3BzIHN0cmFpZ2h0IHRvIG5hdGl2ZS4gVGhleSB3aWxsIG5vdCBwYXJ0aWNpcGF0ZSBpblxuICAgKiBmdXR1cmUgZGlmZiBwcm9jZXNzIC0gdGhpcyBtZWFucyB0aGF0IGlmIHlvdSBkbyBub3QgaW5jbHVkZSB0aGVtIGluIHRoZVxuICAgKiBuZXh0IHJlbmRlciwgdGhleSB3aWxsIHJlbWFpbiBhY3RpdmUgKHNlZSBbRGlyZWN0XG4gICAqIE1hbmlwdWxhdGlvbl0oZG9jcy9kaXJlY3QtbWFuaXB1bGF0aW9uLmh0bWwpKS5cbiAgICovXG5cbiAgUmVhY3ROYXRpdmVDb21wb25lbnQucHJvdG90eXBlLnNldE5hdGl2ZVByb3BzID0gZnVuY3Rpb24gc2V0TmF0aXZlUHJvcHMoXG4gICAgbmF0aXZlUHJvcHNcbiAgKSB7XG4gICAgLy8gQ2xhc3MgY29tcG9uZW50cyBkb24ndCBoYXZlIHZpZXdDb25maWcgLT4gdmFsaWRhdGVBdHRyaWJ1dGVzLlxuICAgIC8vIE5vciBkb2VzIGl0IG1ha2Ugc2Vuc2UgdG8gc2V0IG5hdGl2ZSBwcm9wcyBvbiBhIG5vbi1uYXRpdmUgY29tcG9uZW50LlxuICAgIC8vIEluc3RlYWQsIGZpbmQgdGhlIG5lYXJlc3QgaG9zdCBjb21wb25lbnQgYW5kIHNldCBwcm9wcyBvbiBpdC5cbiAgICAvLyBVc2UgZmluZE5vZGVIYW5kbGUoKSByYXRoZXIgdGhhbiBSZWFjdE5hdGl2ZS5maW5kTm9kZUhhbmRsZSgpIGJlY2F1c2VcbiAgICAvLyBXZSB3YW50IHRoZSBpbnN0YW5jZS93cmFwcGVyIChub3QgdGhlIG5hdGl2ZSB0YWcpLlxuICAgIHZhciBtYXliZUluc3RhbmNlID0gdm9pZCAwO1xuXG4gICAgLy8gRmliZXIgZXJyb3JzIGlmIGZpbmROb2RlSGFuZGxlIGlzIGNhbGxlZCBmb3IgYW4gdW1vdW50ZWQgY29tcG9uZW50LlxuICAgIC8vIFRlc3RzIHVzaW5nIFJlYWN0VGVzdFJlbmRlcmVyIHdpbGwgdHJpZ2dlciB0aGlzIGNhc2UgaW5kaXJlY3RseS5cbiAgICAvLyBNaW1pY2tpbmcgc3RhY2sgYmVoYXZpb3IsIHdlIHNob3VsZCBzaWxlbnRseSBpZ25vcmUgdGhpcyBjYXNlLlxuICAgIC8vIFRPRE8gRml4IFJlYWN0VGVzdFJlbmRlcmVyIHNvIHdlIGNhbiByZW1vdmUgdGhpcyB0cnkvY2F0Y2guXG4gICAgdHJ5IHtcbiAgICAgIG1heWJlSW5zdGFuY2UgPSBmaW5kTm9kZUhhbmRsZSh0aGlzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge31cblxuICAgIC8vIElmIHRoZXJlIGlzIG5vIGhvc3QgY29tcG9uZW50IGJlbmVhdGggdGhpcyB3ZSBzaG91bGQgZmFpbCBzaWxlbnRseS5cbiAgICAvLyBUaGlzIGlzIG5vdCBhbiBlcnJvcjsgaXQgY291bGQgbWVhbiBhIGNsYXNzIGNvbXBvbmVudCByZW5kZXJlZCBudWxsLlxuICAgIGlmIChtYXliZUluc3RhbmNlID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdmlld0NvbmZpZyA9XG4gICAgICBtYXliZUluc3RhbmNlLnZpZXdDb25maWcgfHwgbWF5YmVJbnN0YW5jZS5jYW5vbmljYWwudmlld0NvbmZpZztcblxuICAgIHZhciB1cGRhdGVQYXlsb2FkID0gY3JlYXRlKG5hdGl2ZVByb3BzLCB2aWV3Q29uZmlnLnZhbGlkQXR0cmlidXRlcyk7XG5cbiAgICAvLyBBdm9pZCB0aGUgb3ZlcmhlYWQgb2YgYnJpZGdlIGNhbGxzIGlmIHRoZXJlJ3Mgbm8gdXBkYXRlLlxuICAgIC8vIFRoaXMgaXMgYW4gZXhwZW5zaXZlIG5vLW9wIGZvciBBbmRyb2lkLCBhbmQgY2F1c2VzIGFuIHVubmVjZXNzYXJ5XG4gICAgLy8gdmlldyBpbnZhbGlkYXRpb24gZm9yIGNlcnRhaW4gY29tcG9uZW50cyAoZWcgUkNUVGV4dElucHV0KSBvbiBpT1MuXG4gICAgaWYgKHVwZGF0ZVBheWxvYWQgIT0gbnVsbCkge1xuICAgICAgVUlNYW5hZ2VyLnVwZGF0ZVZpZXcoXG4gICAgICAgIG1heWJlSW5zdGFuY2UuX25hdGl2ZVRhZyxcbiAgICAgICAgdmlld0NvbmZpZy51aVZpZXdDbGFzc05hbWUsXG4gICAgICAgIHVwZGF0ZVBheWxvYWRcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBSZWFjdE5hdGl2ZUNvbXBvbmVudDtcbn0pKFJlYWN0LkNvbXBvbmVudCk7XG5cbi8vIERvbid0IGNoYW5nZSB0aGVzZSB0d28gdmFsdWVzLiBUaGV5J3JlIHVzZWQgYnkgUmVhY3QgRGV2IFRvb2xzLlxudmFyIE5vRWZmZWN0ID0gLyogICAgICAgICAgICAgICovIDA7XG52YXIgUGVyZm9ybWVkV29yayA9IC8qICAgICAgICAgKi8gMTtcblxuLy8gWW91IGNhbiBjaGFuZ2UgdGhlIHJlc3QgKGFuZCBhZGQgbW9yZSkuXG52YXIgUGxhY2VtZW50ID0gLyogICAgICAgICAgICAgKi8gMjtcbnZhciBVcGRhdGUgPSAvKiAgICAgICAgICAgICAgICAqLyA0O1xudmFyIFBsYWNlbWVudEFuZFVwZGF0ZSA9IC8qICAgICovIDY7XG52YXIgRGVsZXRpb24gPSAvKiAgICAgICAgICAgICAgKi8gODtcbnZhciBDb250ZW50UmVzZXQgPSAvKiAgICAgICAgICAqLyAxNjtcbnZhciBDYWxsYmFjayA9IC8qICAgICAgICAgICAgICAqLyAzMjtcbnZhciBEaWRDYXB0dXJlID0gLyogICAgICAgICAgICAqLyA2NDtcbnZhciBSZWYgPSAvKiAgICAgICAgICAgICAgICAgICAqLyAxMjg7XG52YXIgRXJyTG9nID0gLyogICAgICAgICAgICAgICAgKi8gMjU2O1xuXG4vLyBVbmlvbiBvZiBhbGwgaG9zdCBlZmZlY3RzXG52YXIgSG9zdEVmZmVjdE1hc2sgPSAvKiAgICAgICAgKi8gNTExO1xuXG52YXIgSW5jb21wbGV0ZSA9IC8qICAgICAgICAgICAgKi8gNTEyO1xudmFyIFNob3VsZENhcHR1cmUgPSAvKiAgICAgICAgICovIDEwMjQ7XG5cbnZhciBNT1VOVElORyA9IDE7XG52YXIgTU9VTlRFRCA9IDI7XG52YXIgVU5NT1VOVEVEID0gMztcblxuZnVuY3Rpb24gaXNGaWJlck1vdW50ZWRJbXBsKGZpYmVyKSB7XG4gIHZhciBub2RlID0gZmliZXI7XG4gIGlmICghZmliZXIuYWx0ZXJuYXRlKSB7XG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gYWx0ZXJuYXRlLCB0aGlzIG1pZ2h0IGJlIGEgbmV3IHRyZWUgdGhhdCBpc24ndCBpbnNlcnRlZFxuICAgIC8vIHlldC4gSWYgaXQgaXMsIHRoZW4gaXQgd2lsbCBoYXZlIGEgcGVuZGluZyBpbnNlcnRpb24gZWZmZWN0IG9uIGl0LlxuICAgIGlmICgobm9kZS5lZmZlY3RUYWcgJiBQbGFjZW1lbnQpICE9PSBOb0VmZmVjdCkge1xuICAgICAgcmV0dXJuIE1PVU5USU5HO1xuICAgIH1cbiAgICB3aGlsZSAobm9kZVtcInJldHVyblwiXSkge1xuICAgICAgbm9kZSA9IG5vZGVbXCJyZXR1cm5cIl07XG4gICAgICBpZiAoKG5vZGUuZWZmZWN0VGFnICYgUGxhY2VtZW50KSAhPT0gTm9FZmZlY3QpIHtcbiAgICAgICAgcmV0dXJuIE1PVU5USU5HO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAobm9kZVtcInJldHVyblwiXSkge1xuICAgICAgbm9kZSA9IG5vZGVbXCJyZXR1cm5cIl07XG4gICAgfVxuICB9XG4gIGlmIChub2RlLnRhZyA9PT0gSG9zdFJvb3QpIHtcbiAgICAvLyBUT0RPOiBDaGVjayBpZiB0aGlzIHdhcyBhIG5lc3RlZCBIb3N0Um9vdCB3aGVuIHVzZWQgd2l0aFxuICAgIC8vIHJlbmRlckNvbnRhaW5lckludG9TdWJ0cmVlLlxuICAgIHJldHVybiBNT1VOVEVEO1xuICB9XG4gIC8vIElmIHdlIGRpZG4ndCBoaXQgdGhlIHJvb3QsIHRoYXQgbWVhbnMgdGhhdCB3ZSdyZSBpbiBhbiBkaXNjb25uZWN0ZWQgdHJlZVxuICAvLyB0aGF0IGhhcyBiZWVuIHVubW91bnRlZC5cbiAgcmV0dXJuIFVOTU9VTlRFRDtcbn1cblxuZnVuY3Rpb24gaXNGaWJlck1vdW50ZWQoZmliZXIpIHtcbiAgcmV0dXJuIGlzRmliZXJNb3VudGVkSW1wbChmaWJlcikgPT09IE1PVU5URUQ7XG59XG5cbmZ1bmN0aW9uIGlzTW91bnRlZChjb21wb25lbnQpIHtcbiAge1xuICAgIHZhciBvd25lciA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQ7XG4gICAgaWYgKG93bmVyICE9PSBudWxsICYmIG93bmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpIHtcbiAgICAgIHZhciBvd25lckZpYmVyID0gb3duZXI7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBvd25lckZpYmVyLnN0YXRlTm9kZTtcbiAgICAgIHdhcm5pbmcoXG4gICAgICAgIGluc3RhbmNlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlcixcbiAgICAgICAgXCIlcyBpcyBhY2Nlc3NpbmcgaXNNb3VudGVkIGluc2lkZSBpdHMgcmVuZGVyKCkgZnVuY3Rpb24uIFwiICtcbiAgICAgICAgICBcInJlbmRlcigpIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlLiBJdCBzaG91bGQgXCIgK1xuICAgICAgICAgIFwibmV2ZXIgYWNjZXNzIHNvbWV0aGluZyB0aGF0IHJlcXVpcmVzIHN0YWxlIGRhdGEgZnJvbSB0aGUgcHJldmlvdXMgXCIgK1xuICAgICAgICAgIFwicmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgXCIgK1xuICAgICAgICAgIFwiY29tcG9uZW50RGlkVXBkYXRlIGluc3RlYWQuXCIsXG4gICAgICAgIGdldENvbXBvbmVudE5hbWUob3duZXJGaWJlcikgfHwgXCJBIGNvbXBvbmVudFwiXG4gICAgICApO1xuICAgICAgaW5zdGFuY2UuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgZmliZXIgPSBnZXQoY29tcG9uZW50KTtcbiAgaWYgKCFmaWJlcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaXNGaWJlck1vdW50ZWRJbXBsKGZpYmVyKSA9PT0gTU9VTlRFRDtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNNb3VudGVkKGZpYmVyKSB7XG4gIGludmFyaWFudChcbiAgICBpc0ZpYmVyTW91bnRlZEltcGwoZmliZXIpID09PSBNT1VOVEVELFxuICAgIFwiVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LlwiXG4gICk7XG59XG5cbmZ1bmN0aW9uIGZpbmRDdXJyZW50RmliZXJVc2luZ1Nsb3dQYXRoKGZpYmVyKSB7XG4gIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gIGlmICghYWx0ZXJuYXRlKSB7XG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gYWx0ZXJuYXRlLCB0aGVuIHdlIG9ubHkgbmVlZCB0byBjaGVjayBpZiBpdCBpcyBtb3VudGVkLlxuICAgIHZhciBzdGF0ZSA9IGlzRmliZXJNb3VudGVkSW1wbChmaWJlcik7XG4gICAgaW52YXJpYW50KFxuICAgICAgc3RhdGUgIT09IFVOTU9VTlRFRCxcbiAgICAgIFwiVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LlwiXG4gICAgKTtcbiAgICBpZiAoc3RhdGUgPT09IE1PVU5USU5HKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZpYmVyO1xuICB9XG4gIC8vIElmIHdlIGhhdmUgdHdvIHBvc3NpYmxlIGJyYW5jaGVzLCB3ZSdsbCB3YWxrIGJhY2t3YXJkcyB1cCB0byB0aGUgcm9vdFxuICAvLyB0byBzZWUgd2hhdCBwYXRoIHRoZSByb290IHBvaW50cyB0by4gT24gdGhlIHdheSB3ZSBtYXkgaGl0IG9uZSBvZiB0aGVcbiAgLy8gc3BlY2lhbCBjYXNlcyBhbmQgd2UnbGwgZGVhbCB3aXRoIHRoZW0uXG4gIHZhciBhID0gZmliZXI7XG4gIHZhciBiID0gYWx0ZXJuYXRlO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciBwYXJlbnRBID0gYVtcInJldHVyblwiXTtcbiAgICB2YXIgcGFyZW50QiA9IHBhcmVudEEgPyBwYXJlbnRBLmFsdGVybmF0ZSA6IG51bGw7XG4gICAgaWYgKCFwYXJlbnRBIHx8ICFwYXJlbnRCKSB7XG4gICAgICAvLyBXZSdyZSBhdCB0aGUgcm9vdC5cbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIElmIGJvdGggY29waWVzIG9mIHRoZSBwYXJlbnQgZmliZXIgcG9pbnQgdG8gdGhlIHNhbWUgY2hpbGQsIHdlIGNhblxuICAgIC8vIGFzc3VtZSB0aGF0IHRoZSBjaGlsZCBpcyBjdXJyZW50LiBUaGlzIGhhcHBlbnMgd2hlbiB3ZSBiYWlsb3V0IG9uIGxvd1xuICAgIC8vIHByaW9yaXR5OiB0aGUgYmFpbGVkIG91dCBmaWJlcidzIGNoaWxkIHJldXNlcyB0aGUgY3VycmVudCBjaGlsZC5cbiAgICBpZiAocGFyZW50QS5jaGlsZCA9PT0gcGFyZW50Qi5jaGlsZCkge1xuICAgICAgdmFyIGNoaWxkID0gcGFyZW50QS5jaGlsZDtcbiAgICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGEpIHtcbiAgICAgICAgICAvLyBXZSd2ZSBkZXRlcm1pbmVkIHRoYXQgQSBpcyB0aGUgY3VycmVudCBicmFuY2guXG4gICAgICAgICAgYXNzZXJ0SXNNb3VudGVkKHBhcmVudEEpO1xuICAgICAgICAgIHJldHVybiBmaWJlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hpbGQgPT09IGIpIHtcbiAgICAgICAgICAvLyBXZSd2ZSBkZXRlcm1pbmVkIHRoYXQgQiBpcyB0aGUgY3VycmVudCBicmFuY2guXG4gICAgICAgICAgYXNzZXJ0SXNNb3VudGVkKHBhcmVudEEpO1xuICAgICAgICAgIHJldHVybiBhbHRlcm5hdGU7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGQgPSBjaGlsZC5zaWJsaW5nO1xuICAgICAgfVxuICAgICAgLy8gV2Ugc2hvdWxkIG5ldmVyIGhhdmUgYW4gYWx0ZXJuYXRlIGZvciBhbnkgbW91bnRpbmcgbm9kZS4gU28gdGhlIG9ubHlcbiAgICAgIC8vIHdheSB0aGlzIGNvdWxkIHBvc3NpYmx5IGhhcHBlbiBpcyBpZiB0aGlzIHdhcyB1bm1vdW50ZWQsIGlmIGF0IGFsbC5cbiAgICAgIGludmFyaWFudChmYWxzZSwgXCJVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuXCIpO1xuICAgIH1cblxuICAgIGlmIChhW1wicmV0dXJuXCJdICE9PSBiW1wicmV0dXJuXCJdKSB7XG4gICAgICAvLyBUaGUgcmV0dXJuIHBvaW50ZXIgb2YgQSBhbmQgdGhlIHJldHVybiBwb2ludGVyIG9mIEIgcG9pbnQgdG8gZGlmZmVyZW50XG4gICAgICAvLyBmaWJlcnMuIFdlIGFzc3VtZSB0aGF0IHJldHVybiBwb2ludGVycyBuZXZlciBjcmlzcy1jcm9zcywgc28gQSBtdXN0XG4gICAgICAvLyBiZWxvbmcgdG8gdGhlIGNoaWxkIHNldCBvZiBBLnJldHVybiwgYW5kIEIgbXVzdCBiZWxvbmcgdG8gdGhlIGNoaWxkXG4gICAgICAvLyBzZXQgb2YgQi5yZXR1cm4uXG4gICAgICBhID0gcGFyZW50QTtcbiAgICAgIGIgPSBwYXJlbnRCO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGUgcmV0dXJuIHBvaW50ZXJzIHBvaW50IHRvIHRoZSBzYW1lIGZpYmVyLiBXZSdsbCBoYXZlIHRvIHVzZSB0aGVcbiAgICAgIC8vIGRlZmF1bHQsIHNsb3cgcGF0aDogc2NhbiB0aGUgY2hpbGQgc2V0cyBvZiBlYWNoIHBhcmVudCBhbHRlcm5hdGUgdG8gc2VlXG4gICAgICAvLyB3aGljaCBjaGlsZCBiZWxvbmdzIHRvIHdoaWNoIHNldC5cbiAgICAgIC8vXG4gICAgICAvLyBTZWFyY2ggcGFyZW50IEEncyBjaGlsZCBzZXRcbiAgICAgIHZhciBkaWRGaW5kQ2hpbGQgPSBmYWxzZTtcbiAgICAgIHZhciBfY2hpbGQgPSBwYXJlbnRBLmNoaWxkO1xuICAgICAgd2hpbGUgKF9jaGlsZCkge1xuICAgICAgICBpZiAoX2NoaWxkID09PSBhKSB7XG4gICAgICAgICAgZGlkRmluZENoaWxkID0gdHJ1ZTtcbiAgICAgICAgICBhID0gcGFyZW50QTtcbiAgICAgICAgICBiID0gcGFyZW50QjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2NoaWxkID09PSBiKSB7XG4gICAgICAgICAgZGlkRmluZENoaWxkID0gdHJ1ZTtcbiAgICAgICAgICBiID0gcGFyZW50QTtcbiAgICAgICAgICBhID0gcGFyZW50QjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBfY2hpbGQgPSBfY2hpbGQuc2libGluZztcbiAgICAgIH1cbiAgICAgIGlmICghZGlkRmluZENoaWxkKSB7XG4gICAgICAgIC8vIFNlYXJjaCBwYXJlbnQgQidzIGNoaWxkIHNldFxuICAgICAgICBfY2hpbGQgPSBwYXJlbnRCLmNoaWxkO1xuICAgICAgICB3aGlsZSAoX2NoaWxkKSB7XG4gICAgICAgICAgaWYgKF9jaGlsZCA9PT0gYSkge1xuICAgICAgICAgICAgZGlkRmluZENoaWxkID0gdHJ1ZTtcbiAgICAgICAgICAgIGEgPSBwYXJlbnRCO1xuICAgICAgICAgICAgYiA9IHBhcmVudEE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKF9jaGlsZCA9PT0gYikge1xuICAgICAgICAgICAgZGlkRmluZENoaWxkID0gdHJ1ZTtcbiAgICAgICAgICAgIGIgPSBwYXJlbnRCO1xuICAgICAgICAgICAgYSA9IHBhcmVudEE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgX2NoaWxkID0gX2NoaWxkLnNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgIGRpZEZpbmRDaGlsZCxcbiAgICAgICAgICBcIkNoaWxkIHdhcyBub3QgZm91bmQgaW4gZWl0aGVyIHBhcmVudCBzZXQuIFRoaXMgaW5kaWNhdGVzIGEgYnVnIFwiICtcbiAgICAgICAgICAgIFwiaW4gUmVhY3QgcmVsYXRlZCB0byB0aGUgcmV0dXJuIHBvaW50ZXIuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW52YXJpYW50KFxuICAgICAgYS5hbHRlcm5hdGUgPT09IGIsXG4gICAgICBcIlJldHVybiBmaWJlcnMgc2hvdWxkIGFsd2F5cyBiZSBlYWNoIG90aGVycycgYWx0ZXJuYXRlcy4gXCIgK1xuICAgICAgICBcIlRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICApO1xuICB9XG4gIC8vIElmIHRoZSByb290IGlzIG5vdCBhIGhvc3QgY29udGFpbmVyLCB3ZSdyZSBpbiBhIGRpc2Nvbm5lY3RlZCB0cmVlLiBJLmUuXG4gIC8vIHVubW91bnRlZC5cbiAgaW52YXJpYW50KFxuICAgIGEudGFnID09PSBIb3N0Um9vdCxcbiAgICBcIlVuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC5cIlxuICApO1xuICBpZiAoYS5zdGF0ZU5vZGUuY3VycmVudCA9PT0gYSkge1xuICAgIC8vIFdlJ3ZlIGRldGVybWluZWQgdGhhdCBBIGlzIHRoZSBjdXJyZW50IGJyYW5jaC5cbiAgICByZXR1cm4gZmliZXI7XG4gIH1cbiAgLy8gT3RoZXJ3aXNlIEIgaGFzIHRvIGJlIGN1cnJlbnQgYnJhbmNoLlxuICByZXR1cm4gYWx0ZXJuYXRlO1xufVxuXG5mdW5jdGlvbiBmaW5kQ3VycmVudEhvc3RGaWJlcihwYXJlbnQpIHtcbiAgdmFyIGN1cnJlbnRQYXJlbnQgPSBmaW5kQ3VycmVudEZpYmVyVXNpbmdTbG93UGF0aChwYXJlbnQpO1xuICBpZiAoIWN1cnJlbnRQYXJlbnQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIE5leHQgd2UnbGwgZHJpbGwgZG93biB0aGlzIGNvbXBvbmVudCB0byBmaW5kIHRoZSBmaXJzdCBIb3N0Q29tcG9uZW50L1RleHQuXG4gIHZhciBub2RlID0gY3VycmVudFBhcmVudDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9IGVsc2UgaWYgKG5vZGUuY2hpbGQpIHtcbiAgICAgIG5vZGUuY2hpbGRbXCJyZXR1cm5cIl0gPSBub2RlO1xuICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUgPT09IGN1cnJlbnRQYXJlbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB3aGlsZSAoIW5vZGUuc2libGluZykge1xuICAgICAgaWYgKCFub2RlW1wicmV0dXJuXCJdIHx8IG5vZGVbXCJyZXR1cm5cIl0gPT09IGN1cnJlbnRQYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBub2RlID0gbm9kZVtcInJldHVyblwiXTtcbiAgICB9XG4gICAgbm9kZS5zaWJsaW5nW1wicmV0dXJuXCJdID0gbm9kZVtcInJldHVyblwiXTtcbiAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICB9XG4gIC8vIEZsb3cgbmVlZHMgdGhlIHJldHVybiBudWxsIGhlcmUsIGJ1dCBFU0xpbnQgY29tcGxhaW5zIGFib3V0IGl0LlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5yZWFjaGFibGVcbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGZpbmRDdXJyZW50SG9zdEZpYmVyV2l0aE5vUG9ydGFscyhwYXJlbnQpIHtcbiAgdmFyIGN1cnJlbnRQYXJlbnQgPSBmaW5kQ3VycmVudEZpYmVyVXNpbmdTbG93UGF0aChwYXJlbnQpO1xuICBpZiAoIWN1cnJlbnRQYXJlbnQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIE5leHQgd2UnbGwgZHJpbGwgZG93biB0aGlzIGNvbXBvbmVudCB0byBmaW5kIHRoZSBmaXJzdCBIb3N0Q29tcG9uZW50L1RleHQuXG4gIHZhciBub2RlID0gY3VycmVudFBhcmVudDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9IGVsc2UgaWYgKG5vZGUuY2hpbGQgJiYgbm9kZS50YWcgIT09IEhvc3RQb3J0YWwpIHtcbiAgICAgIG5vZGUuY2hpbGRbXCJyZXR1cm5cIl0gPSBub2RlO1xuICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUgPT09IGN1cnJlbnRQYXJlbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB3aGlsZSAoIW5vZGUuc2libGluZykge1xuICAgICAgaWYgKCFub2RlW1wicmV0dXJuXCJdIHx8IG5vZGVbXCJyZXR1cm5cIl0gPT09IGN1cnJlbnRQYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBub2RlID0gbm9kZVtcInJldHVyblwiXTtcbiAgICB9XG4gICAgbm9kZS5zaWJsaW5nW1wicmV0dXJuXCJdID0gbm9kZVtcInJldHVyblwiXTtcbiAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICB9XG4gIC8vIEZsb3cgbmVlZHMgdGhlIHJldHVybiBudWxsIGhlcmUsIGJ1dCBFU0xpbnQgY29tcGxhaW5zIGFib3V0IGl0LlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5yZWFjaGFibGVcbiAgcmV0dXJuIG51bGw7XG59XG5cbnZhciB2YWx1ZVN0YWNrID0gW107XG5cbnZhciBmaWJlclN0YWNrID0gdm9pZCAwO1xuXG57XG4gIGZpYmVyU3RhY2sgPSBbXTtcbn1cblxudmFyIGluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNyZWF0ZUN1cnNvcihkZWZhdWx0VmFsdWUpIHtcbiAgcmV0dXJuIHtcbiAgICBjdXJyZW50OiBkZWZhdWx0VmFsdWVcbiAgfTtcbn1cblxuZnVuY3Rpb24gcG9wKGN1cnNvciwgZmliZXIpIHtcbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsIFwiVW5leHBlY3RlZCBwb3AuXCIpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICB7XG4gICAgaWYgKGZpYmVyICE9PSBmaWJlclN0YWNrW2luZGV4XSkge1xuICAgICAgd2FybmluZyhmYWxzZSwgXCJVbmV4cGVjdGVkIEZpYmVyIHBvcHBlZC5cIik7XG4gICAgfVxuICB9XG5cbiAgY3Vyc29yLmN1cnJlbnQgPSB2YWx1ZVN0YWNrW2luZGV4XTtcblxuICB2YWx1ZVN0YWNrW2luZGV4XSA9IG51bGw7XG5cbiAge1xuICAgIGZpYmVyU3RhY2tbaW5kZXhdID0gbnVsbDtcbiAgfVxuXG4gIGluZGV4LS07XG59XG5cbmZ1bmN0aW9uIHB1c2goY3Vyc29yLCB2YWx1ZSwgZmliZXIpIHtcbiAgaW5kZXgrKztcblxuICB2YWx1ZVN0YWNrW2luZGV4XSA9IGN1cnNvci5jdXJyZW50O1xuXG4gIHtcbiAgICBmaWJlclN0YWNrW2luZGV4XSA9IGZpYmVyO1xuICB9XG5cbiAgY3Vyc29yLmN1cnJlbnQgPSB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gcmVzZXQoKSB7XG4gIHdoaWxlIChpbmRleCA+IC0xKSB7XG4gICAgdmFsdWVTdGFja1tpbmRleF0gPSBudWxsO1xuXG4gICAge1xuICAgICAgZmliZXJTdGFja1tpbmRleF0gPSBudWxsO1xuICAgIH1cblxuICAgIGluZGV4LS07XG4gIH1cbn1cblxudmFyIGRlc2NyaWJlQ29tcG9uZW50RnJhbWUgPSBmdW5jdGlvbihuYW1lLCBzb3VyY2UsIG93bmVyTmFtZSkge1xuICByZXR1cm4gKFxuICAgIFwiXFxuICAgIGluIFwiICtcbiAgICAobmFtZSB8fCBcIlVua25vd25cIikgK1xuICAgIChzb3VyY2VcbiAgICAgID8gXCIgKGF0IFwiICtcbiAgICAgICAgc291cmNlLmZpbGVOYW1lLnJlcGxhY2UoL14uKltcXFxcXFwvXS8sIFwiXCIpICtcbiAgICAgICAgXCI6XCIgK1xuICAgICAgICBzb3VyY2UubGluZU51bWJlciArXG4gICAgICAgIFwiKVwiXG4gICAgICA6IG93bmVyTmFtZSA/IFwiIChjcmVhdGVkIGJ5IFwiICsgb3duZXJOYW1lICsgXCIpXCIgOiBcIlwiKVxuICApO1xufTtcblxuZnVuY3Rpb24gZGVzY3JpYmVGaWJlcihmaWJlcikge1xuICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgIGNhc2UgSW5kZXRlcm1pbmF0ZUNvbXBvbmVudDpcbiAgICBjYXNlIEZ1bmN0aW9uYWxDb21wb25lbnQ6XG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICB2YXIgb3duZXIgPSBmaWJlci5fZGVidWdPd25lcjtcbiAgICAgIHZhciBzb3VyY2UgPSBmaWJlci5fZGVidWdTb3VyY2U7XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIpO1xuICAgICAgdmFyIG93bmVyTmFtZSA9IG51bGw7XG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgb3duZXJOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShvd25lcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVzY3JpYmVDb21wb25lbnRGcmFtZShuYW1lLCBzb3VyY2UsIG93bmVyTmFtZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBcIlwiO1xuICB9XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gY2FuIG9ubHkgYmUgY2FsbGVkIHdpdGggYSB3b3JrLWluLXByb2dyZXNzIGZpYmVyIGFuZFxuLy8gb25seSBkdXJpbmcgYmVnaW4gb3IgY29tcGxldGUgcGhhc2UuIERvIG5vdCBjYWxsIGl0IHVuZGVyIGFueSBvdGhlclxuLy8gY2lyY3Vtc3RhbmNlcy5cbmZ1bmN0aW9uIGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIod29ya0luUHJvZ3Jlc3MpIHtcbiAgdmFyIGluZm8gPSBcIlwiO1xuICB2YXIgbm9kZSA9IHdvcmtJblByb2dyZXNzO1xuICBkbyB7XG4gICAgaW5mbyArPSBkZXNjcmliZUZpYmVyKG5vZGUpO1xuICAgIC8vIE90aGVyd2lzZSB0aGlzIHJldHVybiBwb2ludGVyIG1pZ2h0IHBvaW50IHRvIHRoZSB3cm9uZyB0cmVlOlxuICAgIG5vZGUgPSBub2RlW1wicmV0dXJuXCJdO1xuICB9IHdoaWxlIChub2RlKTtcbiAgcmV0dXJuIGluZm87XG59XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSgpIHtcbiAge1xuICAgIHZhciBmaWJlciA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuY3VycmVudDtcbiAgICBpZiAoZmliZXIgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgb3duZXIgPSBmaWJlci5fZGVidWdPd25lcjtcbiAgICBpZiAob3duZXIgIT09IG51bGwgJiYgdHlwZW9mIG93bmVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZShvd25lcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtKCkge1xuICB7XG4gICAgdmFyIGZpYmVyID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5jdXJyZW50O1xuICAgIGlmIChmaWJlciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIFNhZmUgYmVjYXVzZSBpZiBjdXJyZW50IGZpYmVyIGV4aXN0cywgd2UgYXJlIHJlY29uY2lsaW5nLFxuICAgIC8vIGFuZCBpdCBpcyBndWFyYW50ZWVkIHRvIGJlIHRoZSB3b3JrLWluLXByb2dyZXNzIHZlcnNpb24uXG4gICAgcmV0dXJuIGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIoZmliZXIpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiByZXNldEN1cnJlbnRGaWJlcigpIHtcbiAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRDdXJyZW50U3RhY2sgPSBudWxsO1xuICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmN1cnJlbnQgPSBudWxsO1xuICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnBoYXNlID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gc2V0Q3VycmVudEZpYmVyKGZpYmVyKSB7XG4gIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0Q3VycmVudFN0YWNrID0gZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bTtcbiAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5jdXJyZW50ID0gZmliZXI7XG4gIFJlYWN0RGVidWdDdXJyZW50RmliZXIucGhhc2UgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBzZXRDdXJyZW50UGhhc2UocGhhc2UpIHtcbiAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5waGFzZSA9IHBoYXNlO1xufVxuXG52YXIgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlciA9IHtcbiAgY3VycmVudDogbnVsbCxcbiAgcGhhc2U6IG51bGwsXG4gIHJlc2V0Q3VycmVudEZpYmVyOiByZXNldEN1cnJlbnRGaWJlcixcbiAgc2V0Q3VycmVudEZpYmVyOiBzZXRDdXJyZW50RmliZXIsXG4gIHNldEN1cnJlbnRQaGFzZTogc2V0Q3VycmVudFBoYXNlLFxuICBnZXRDdXJyZW50RmliZXJPd25lck5hbWU6IGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSxcbiAgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bTogZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bVxufTtcblxuLy8gUmUtZXhwb3J0IGR5bmFtaWMgZmxhZ3MgZnJvbSB0aGUgZmJzb3VyY2UgdmVyc2lvbi5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoXCJSZWFjdEZlYXR1cmVGbGFnc1wiKTtcblxudmFyIGVuYWJsZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCA9IF9yZXF1aXJlLmVuYWJsZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaDtcbnZhciBkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHMgPSBfcmVxdWlyZS5kZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHM7XG52YXIgZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSA9XG4gIF9yZXF1aXJlLmRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0c0ZvclN0cmljdE1vZGU7XG52YXIgd2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMgPSBfcmVxdWlyZS53YXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcztcbnZhciByZXBsYXlGYWlsZWRVbml0T2ZXb3JrV2l0aEludm9rZUd1YXJkZWRDYWxsYmFjayA9XG4gIF9yZXF1aXJlLnJlcGxheUZhaWxlZFVuaXRPZldvcmtXaXRoSW52b2tlR3VhcmRlZENhbGxiYWNrO1xuXG52YXIgZW5hYmxlVXNlclRpbWluZ0FQSSA9IHRydWU7XG52YXIgZW5hYmxlTXV0YXRpbmdSZWNvbmNpbGVyID0gdHJ1ZTtcbnZhciBlbmFibGVOb29wUmVjb25jaWxlciA9IGZhbHNlO1xudmFyIGVuYWJsZVBlcnNpc3RlbnRSZWNvbmNpbGVyID0gZmFsc2U7XG5cbi8vIE9ubHkgdXNlZCBpbiB3d3cgYnVpbGRzLlxuXG4vLyBQcmVmaXggbWVhc3VyZW1lbnRzIHNvIHRoYXQgaXQncyBwb3NzaWJsZSB0byBmaWx0ZXIgdGhlbS5cbi8vIExvbmdlciBwcmVmaXhlcyBhcmUgaGFyZCB0byByZWFkIGluIERldlRvb2xzLlxudmFyIHJlYWN0RW1vamkgPSBcIlxcdTI2OUJcIjtcbnZhciB3YXJuaW5nRW1vamkgPSBcIlxcdTI2RDRcIjtcbnZhciBzdXBwb3J0c1VzZXJUaW1pbmcgPVxuICB0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgdHlwZW9mIHBlcmZvcm1hbmNlLm1hcmsgPT09IFwiZnVuY3Rpb25cIiAmJlxuICB0eXBlb2YgcGVyZm9ybWFuY2UuY2xlYXJNYXJrcyA9PT0gXCJmdW5jdGlvblwiICYmXG4gIHR5cGVvZiBwZXJmb3JtYW5jZS5tZWFzdXJlID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgdHlwZW9mIHBlcmZvcm1hbmNlLmNsZWFyTWVhc3VyZXMgPT09IFwiZnVuY3Rpb25cIjtcblxuLy8gS2VlcCB0cmFjayBvZiBjdXJyZW50IGZpYmVyIHNvIHRoYXQgd2Uga25vdyB0aGUgcGF0aCB0byB1bndpbmQgb24gcGF1c2UuXG4vLyBUT0RPOiB0aGlzIGxvb2tzIHRoZSBzYW1lIGFzIG5leHRVbml0T2ZXb3JrIGluIHNjaGVkdWxlci4gQ2FuIHdlIHVuaWZ5IHRoZW0/XG52YXIgY3VycmVudEZpYmVyID0gbnVsbDtcbi8vIElmIHdlJ3JlIGluIHRoZSBtaWRkbGUgb2YgdXNlciBjb2RlLCB3aGljaCBmaWJlciBhbmQgbWV0aG9kIGlzIGl0P1xuLy8gUmV1c2luZyBgY3VycmVudEZpYmVyYCB3b3VsZCBiZSBjb25mdXNpbmcgZm9yIHRoaXMgYmVjYXVzZSB1c2VyIGNvZGUgZmliZXJcbi8vIGNhbiBjaGFuZ2UgZHVyaW5nIGNvbW1pdCBwaGFzZSB0b28sIGJ1dCB3ZSBkb24ndCBuZWVkIHRvIHVud2luZCBpdCAoc2luY2Vcbi8vIGxpZmVjeWNsZXMgaW4gdGhlIGNvbW1pdCBwaGFzZSBkb24ndCByZXNlbWJsZSBhIHRyZWUpLlxudmFyIGN1cnJlbnRQaGFzZSA9IG51bGw7XG52YXIgY3VycmVudFBoYXNlRmliZXIgPSBudWxsO1xuLy8gRGlkIGxpZmVjeWNsZSBob29rIHNjaGVkdWxlIGFuIHVwZGF0ZT8gVGhpcyBpcyBvZnRlbiBhIHBlcmZvcm1hbmNlIHByb2JsZW0sXG4vLyBzbyB3ZSB3aWxsIGtlZXAgdHJhY2sgb2YgaXQsIGFuZCBpbmNsdWRlIGl0IGluIHRoZSByZXBvcnQuXG4vLyBUcmFjayBjb21taXRzIGNhdXNlZCBieSBjYXNjYWRpbmcgdXBkYXRlcy5cbnZhciBpc0NvbW1pdHRpbmcgPSBmYWxzZTtcbnZhciBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRDb21taXQgPSBmYWxzZTtcbnZhciBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRQaGFzZSA9IGZhbHNlO1xudmFyIGNvbW1pdENvdW50SW5DdXJyZW50V29ya0xvb3AgPSAwO1xudmFyIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0ID0gMDtcbnZhciBpc1dhaXRpbmdGb3JDYWxsYmFjayA9IGZhbHNlO1xuLy8gRHVyaW5nIGNvbW1pdHMsIHdlIG9ubHkgc2hvdyBhIG1lYXN1cmVtZW50IG9uY2UgcGVyIG1ldGhvZCBuYW1lXG4vLyB0byBhdm9pZCBzdHJldGNoIHRoZSBjb21taXQgcGhhc2Ugd2l0aCBtZWFzdXJlbWVudCBvdmVyaGVhZC5cbnZhciBsYWJlbHNJbkN1cnJlbnRDb21taXQgPSBuZXcgU2V0KCk7XG5cbnZhciBmb3JtYXRNYXJrTmFtZSA9IGZ1bmN0aW9uKG1hcmtOYW1lKSB7XG4gIHJldHVybiByZWFjdEVtb2ppICsgXCIgXCIgKyBtYXJrTmFtZTtcbn07XG5cbnZhciBmb3JtYXRMYWJlbCA9IGZ1bmN0aW9uKGxhYmVsLCB3YXJuaW5nJCQxKSB7XG4gIHZhciBwcmVmaXggPSB3YXJuaW5nJCQxID8gd2FybmluZ0Vtb2ppICsgXCIgXCIgOiByZWFjdEVtb2ppICsgXCIgXCI7XG4gIHZhciBzdWZmaXggPSB3YXJuaW5nJCQxID8gXCIgV2FybmluZzogXCIgKyB3YXJuaW5nJCQxIDogXCJcIjtcbiAgcmV0dXJuIFwiXCIgKyBwcmVmaXggKyBsYWJlbCArIHN1ZmZpeDtcbn07XG5cbnZhciBiZWdpbk1hcmsgPSBmdW5jdGlvbihtYXJrTmFtZSkge1xuICBwZXJmb3JtYW5jZS5tYXJrKGZvcm1hdE1hcmtOYW1lKG1hcmtOYW1lKSk7XG59O1xuXG52YXIgY2xlYXJNYXJrID0gZnVuY3Rpb24obWFya05hbWUpIHtcbiAgcGVyZm9ybWFuY2UuY2xlYXJNYXJrcyhmb3JtYXRNYXJrTmFtZShtYXJrTmFtZSkpO1xufTtcblxudmFyIGVuZE1hcmsgPSBmdW5jdGlvbihsYWJlbCwgbWFya05hbWUsIHdhcm5pbmckJDEpIHtcbiAgdmFyIGZvcm1hdHRlZE1hcmtOYW1lID0gZm9ybWF0TWFya05hbWUobWFya05hbWUpO1xuICB2YXIgZm9ybWF0dGVkTGFiZWwgPSBmb3JtYXRMYWJlbChsYWJlbCwgd2FybmluZyQkMSk7XG4gIHRyeSB7XG4gICAgcGVyZm9ybWFuY2UubWVhc3VyZShmb3JtYXR0ZWRMYWJlbCwgZm9ybWF0dGVkTWFya05hbWUpO1xuICB9IGNhdGNoIChlcnIpIHt9XG4gIC8vIElmIHByZXZpb3VzIG1hcmsgd2FzIG1pc3NpbmcgZm9yIHNvbWUgcmVhc29uLCB0aGlzIHdpbGwgdGhyb3cuXG4gIC8vIFRoaXMgY291bGQgb25seSBoYXBwZW4gaWYgUmVhY3QgY3Jhc2hlZCBpbiBhbiB1bmV4cGVjdGVkIHBsYWNlIGVhcmxpZXIuXG4gIC8vIERvbid0IHBpbGUgb24gd2l0aCBtb3JlIGVycm9ycy5cblxuICAvLyBDbGVhciBtYXJrcyBpbW1lZGlhdGVseSB0byBhdm9pZCBncm93aW5nIGJ1ZmZlci5cbiAgcGVyZm9ybWFuY2UuY2xlYXJNYXJrcyhmb3JtYXR0ZWRNYXJrTmFtZSk7XG4gIHBlcmZvcm1hbmNlLmNsZWFyTWVhc3VyZXMoZm9ybWF0dGVkTGFiZWwpO1xufTtcblxudmFyIGdldEZpYmVyTWFya05hbWUgPSBmdW5jdGlvbihsYWJlbCwgZGVidWdJRCkge1xuICByZXR1cm4gbGFiZWwgKyBcIiAoI1wiICsgZGVidWdJRCArIFwiKVwiO1xufTtcblxudmFyIGdldEZpYmVyTGFiZWwgPSBmdW5jdGlvbihjb21wb25lbnROYW1lLCBpc01vdW50ZWQsIHBoYXNlKSB7XG4gIGlmIChwaGFzZSA9PT0gbnVsbCkge1xuICAgIC8vIFRoZXNlIGFyZSBjb21wb3NpdGUgY29tcG9uZW50IHRvdGFsIHRpbWUgbWVhc3VyZW1lbnRzLlxuICAgIHJldHVybiBjb21wb25lbnROYW1lICsgXCIgW1wiICsgKGlzTW91bnRlZCA/IFwidXBkYXRlXCIgOiBcIm1vdW50XCIpICsgXCJdXCI7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ29tcG9zaXRlIGNvbXBvbmVudCBtZXRob2RzLlxuICAgIHJldHVybiBjb21wb25lbnROYW1lICsgXCIuXCIgKyBwaGFzZTtcbiAgfVxufTtcblxudmFyIGJlZ2luRmliZXJNYXJrID0gZnVuY3Rpb24oZmliZXIsIHBoYXNlKSB7XG4gIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgXCJVbmtub3duXCI7XG4gIHZhciBkZWJ1Z0lEID0gZmliZXIuX2RlYnVnSUQ7XG4gIHZhciBpc01vdW50ZWQgPSBmaWJlci5hbHRlcm5hdGUgIT09IG51bGw7XG4gIHZhciBsYWJlbCA9IGdldEZpYmVyTGFiZWwoY29tcG9uZW50TmFtZSwgaXNNb3VudGVkLCBwaGFzZSk7XG5cbiAgaWYgKGlzQ29tbWl0dGluZyAmJiBsYWJlbHNJbkN1cnJlbnRDb21taXQuaGFzKGxhYmVsKSkge1xuICAgIC8vIER1cmluZyB0aGUgY29tbWl0IHBoYXNlLCB3ZSBkb24ndCBzaG93IGR1cGxpY2F0ZSBsYWJlbHMgYmVjYXVzZVxuICAgIC8vIHRoZXJlIGlzIGEgZml4ZWQgb3ZlcmhlYWQgZm9yIGV2ZXJ5IG1lYXN1cmVtZW50LCBhbmQgd2UgZG9uJ3RcbiAgICAvLyB3YW50IHRvIHN0cmV0Y2ggdGhlIGNvbW1pdCBwaGFzZSBiZXlvbmQgbmVjZXNzYXJ5LlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsYWJlbHNJbkN1cnJlbnRDb21taXQuYWRkKGxhYmVsKTtcblxuICB2YXIgbWFya05hbWUgPSBnZXRGaWJlck1hcmtOYW1lKGxhYmVsLCBkZWJ1Z0lEKTtcbiAgYmVnaW5NYXJrKG1hcmtOYW1lKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG52YXIgY2xlYXJGaWJlck1hcmsgPSBmdW5jdGlvbihmaWJlciwgcGhhc2UpIHtcbiAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCBcIlVua25vd25cIjtcbiAgdmFyIGRlYnVnSUQgPSBmaWJlci5fZGVidWdJRDtcbiAgdmFyIGlzTW91bnRlZCA9IGZpYmVyLmFsdGVybmF0ZSAhPT0gbnVsbDtcbiAgdmFyIGxhYmVsID0gZ2V0RmliZXJMYWJlbChjb21wb25lbnROYW1lLCBpc01vdW50ZWQsIHBoYXNlKTtcbiAgdmFyIG1hcmtOYW1lID0gZ2V0RmliZXJNYXJrTmFtZShsYWJlbCwgZGVidWdJRCk7XG4gIGNsZWFyTWFyayhtYXJrTmFtZSk7XG59O1xuXG52YXIgZW5kRmliZXJNYXJrID0gZnVuY3Rpb24oZmliZXIsIHBoYXNlLCB3YXJuaW5nJCQxKSB7XG4gIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgXCJVbmtub3duXCI7XG4gIHZhciBkZWJ1Z0lEID0gZmliZXIuX2RlYnVnSUQ7XG4gIHZhciBpc01vdW50ZWQgPSBmaWJlci5hbHRlcm5hdGUgIT09IG51bGw7XG4gIHZhciBsYWJlbCA9IGdldEZpYmVyTGFiZWwoY29tcG9uZW50TmFtZSwgaXNNb3VudGVkLCBwaGFzZSk7XG4gIHZhciBtYXJrTmFtZSA9IGdldEZpYmVyTWFya05hbWUobGFiZWwsIGRlYnVnSUQpO1xuICBlbmRNYXJrKGxhYmVsLCBtYXJrTmFtZSwgd2FybmluZyQkMSk7XG59O1xuXG52YXIgc2hvdWxkSWdub3JlRmliZXIgPSBmdW5jdGlvbihmaWJlcikge1xuICAvLyBIb3N0IGNvbXBvbmVudHMgc2hvdWxkIGJlIHNraXBwZWQgaW4gdGhlIHRpbWVsaW5lLlxuICAvLyBXZSBjb3VsZCBjaGVjayB0eXBlb2YgZmliZXIudHlwZSwgYnV0IGRvZXMgdGhpcyB3b3JrIHdpdGggUk4/XG4gIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgY2FzZSBIb3N0Um9vdDpcbiAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgY2FzZSBIb3N0VGV4dDpcbiAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgY2FzZSBDYWxsQ29tcG9uZW50OlxuICAgIGNhc2UgUmV0dXJuQ29tcG9uZW50OlxuICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgY2FzZSBDb250ZXh0Q29uc3VtZXI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG52YXIgY2xlYXJQZW5kaW5nUGhhc2VNZWFzdXJlbWVudCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoY3VycmVudFBoYXNlICE9PSBudWxsICYmIGN1cnJlbnRQaGFzZUZpYmVyICE9PSBudWxsKSB7XG4gICAgY2xlYXJGaWJlck1hcmsoY3VycmVudFBoYXNlRmliZXIsIGN1cnJlbnRQaGFzZSk7XG4gIH1cbiAgY3VycmVudFBoYXNlRmliZXIgPSBudWxsO1xuICBjdXJyZW50UGhhc2UgPSBudWxsO1xuICBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRQaGFzZSA9IGZhbHNlO1xufTtcblxudmFyIHBhdXNlVGltZXJzID0gZnVuY3Rpb24oKSB7XG4gIC8vIFN0b3BzIGFsbCBjdXJyZW50bHkgYWN0aXZlIG1lYXN1cmVtZW50cyBzbyB0aGF0IHRoZXkgY2FuIGJlIHJlc3VtZWRcbiAgLy8gaWYgd2UgY29udGludWUgaW4gYSBsYXRlciBkZWZlcnJlZCBsb29wIGZyb20gdGhlIHNhbWUgdW5pdCBvZiB3b3JrLlxuICB2YXIgZmliZXIgPSBjdXJyZW50RmliZXI7XG4gIHdoaWxlIChmaWJlcikge1xuICAgIGlmIChmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZykge1xuICAgICAgZW5kRmliZXJNYXJrKGZpYmVyLCBudWxsLCBudWxsKTtcbiAgICB9XG4gICAgZmliZXIgPSBmaWJlcltcInJldHVyblwiXTtcbiAgfVxufTtcblxudmFyIHJlc3VtZVRpbWVyc1JlY3Vyc2l2ZWx5ID0gZnVuY3Rpb24oZmliZXIpIHtcbiAgaWYgKGZpYmVyW1wicmV0dXJuXCJdICE9PSBudWxsKSB7XG4gICAgcmVzdW1lVGltZXJzUmVjdXJzaXZlbHkoZmliZXJbXCJyZXR1cm5cIl0pO1xuICB9XG4gIGlmIChmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZykge1xuICAgIGJlZ2luRmliZXJNYXJrKGZpYmVyLCBudWxsKTtcbiAgfVxufTtcblxudmFyIHJlc3VtZVRpbWVycyA9IGZ1bmN0aW9uKCkge1xuICAvLyBSZXN1bWVzIGFsbCBtZWFzdXJlbWVudHMgdGhhdCB3ZXJlIGFjdGl2ZSBkdXJpbmcgdGhlIGxhc3QgZGVmZXJyZWQgbG9vcC5cbiAgaWYgKGN1cnJlbnRGaWJlciAhPT0gbnVsbCkge1xuICAgIHJlc3VtZVRpbWVyc1JlY3Vyc2l2ZWx5KGN1cnJlbnRGaWJlcik7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHJlY29yZEVmZmVjdCgpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCsrO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlY29yZFNjaGVkdWxlVXBkYXRlKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmIChpc0NvbW1pdHRpbmcpIHtcbiAgICAgIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGN1cnJlbnRQaGFzZSAhPT0gbnVsbCAmJlxuICAgICAgY3VycmVudFBoYXNlICE9PSBcImNvbXBvbmVudFdpbGxNb3VudFwiICYmXG4gICAgICBjdXJyZW50UGhhc2UgIT09IFwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiXG4gICAgKSB7XG4gICAgICBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRQaGFzZSA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0UmVxdWVzdENhbGxiYWNrVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKHN1cHBvcnRzVXNlclRpbWluZyAmJiAhaXNXYWl0aW5nRm9yQ2FsbGJhY2spIHtcbiAgICAgIGlzV2FpdGluZ0ZvckNhbGxiYWNrID0gdHJ1ZTtcbiAgICAgIGJlZ2luTWFyayhcIihXYWl0aW5nIGZvciBhc3luYyBjYWxsYmFjay4uLilcIik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BSZXF1ZXN0Q2FsbGJhY2tUaW1lcihkaWRFeHBpcmUpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICBpc1dhaXRpbmdGb3JDYWxsYmFjayA9IGZhbHNlO1xuICAgICAgdmFyIHdhcm5pbmckJDEgPSBkaWRFeHBpcmUgPyBcIlJlYWN0IHdhcyBibG9ja2VkIGJ5IG1haW4gdGhyZWFkXCIgOiBudWxsO1xuICAgICAgZW5kTWFyayhcbiAgICAgICAgXCIoV2FpdGluZyBmb3IgYXN5bmMgY2FsbGJhY2suLi4pXCIsXG4gICAgICAgIFwiKFdhaXRpbmcgZm9yIGFzeW5jIGNhbGxiYWNrLi4uKVwiLFxuICAgICAgICB3YXJuaW5nJCQxXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydFdvcmtUaW1lcihmaWJlcikge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nIHx8IHNob3VsZElnbm9yZUZpYmVyKGZpYmVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBwYXVzZSwgdGhpcyBpcyB0aGUgZmliZXIgdG8gdW53aW5kIGZyb20uXG4gICAgY3VycmVudEZpYmVyID0gZmliZXI7XG4gICAgaWYgKCFiZWdpbkZpYmVyTWFyayhmaWJlciwgbnVsbCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcgPSB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNhbmNlbFdvcmtUaW1lcihmaWJlcikge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nIHx8IHNob3VsZElnbm9yZUZpYmVyKGZpYmVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBSZW1lbWJlciB3ZSBzaG91bGRuJ3QgY29tcGxldGUgbWVhc3VyZW1lbnQgZm9yIHRoaXMgZmliZXIuXG4gICAgLy8gT3RoZXJ3aXNlIGZsYW1lY2hhcnQgd2lsbCBiZSBkZWVwIGV2ZW4gZm9yIHNtYWxsIHVwZGF0ZXMuXG4gICAgZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcgPSBmYWxzZTtcbiAgICBjbGVhckZpYmVyTWFyayhmaWJlciwgbnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcFdvcmtUaW1lcihmaWJlcikge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nIHx8IHNob3VsZElnbm9yZUZpYmVyKGZpYmVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBwYXVzZSwgaXRzIHBhcmVudCBpcyB0aGUgZmliZXIgdG8gdW53aW5kIGZyb20uXG4gICAgY3VycmVudEZpYmVyID0gZmliZXJbXCJyZXR1cm5cIl07XG4gICAgaWYgKCFmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZyA9IGZhbHNlO1xuICAgIGVuZEZpYmVyTWFyayhmaWJlciwgbnVsbCwgbnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcEZhaWxlZFdvcmtUaW1lcihmaWJlcikge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nIHx8IHNob3VsZElnbm9yZUZpYmVyKGZpYmVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBwYXVzZSwgaXRzIHBhcmVudCBpcyB0aGUgZmliZXIgdG8gdW53aW5kIGZyb20uXG4gICAgY3VycmVudEZpYmVyID0gZmliZXJbXCJyZXR1cm5cIl07XG4gICAgaWYgKCFmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZyA9IGZhbHNlO1xuICAgIHZhciB3YXJuaW5nJCQxID0gXCJBbiBlcnJvciB3YXMgdGhyb3duIGluc2lkZSB0aGlzIGVycm9yIGJvdW5kYXJ5XCI7XG4gICAgZW5kRmliZXJNYXJrKGZpYmVyLCBudWxsLCB3YXJuaW5nJCQxKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydFBoYXNlVGltZXIoZmliZXIsIHBoYXNlKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xlYXJQZW5kaW5nUGhhc2VNZWFzdXJlbWVudCgpO1xuICAgIGlmICghYmVnaW5GaWJlck1hcmsoZmliZXIsIHBoYXNlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50UGhhc2VGaWJlciA9IGZpYmVyO1xuICAgIGN1cnJlbnRQaGFzZSA9IHBoYXNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BQaGFzZVRpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjdXJyZW50UGhhc2UgIT09IG51bGwgJiYgY3VycmVudFBoYXNlRmliZXIgIT09IG51bGwpIHtcbiAgICAgIHZhciB3YXJuaW5nJCQxID0gaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50UGhhc2VcbiAgICAgICAgPyBcIlNjaGVkdWxlZCBhIGNhc2NhZGluZyB1cGRhdGVcIlxuICAgICAgICA6IG51bGw7XG4gICAgICBlbmRGaWJlck1hcmsoY3VycmVudFBoYXNlRmliZXIsIGN1cnJlbnRQaGFzZSwgd2FybmluZyQkMSk7XG4gICAgfVxuICAgIGN1cnJlbnRQaGFzZSA9IG51bGw7XG4gICAgY3VycmVudFBoYXNlRmliZXIgPSBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0V29ya0xvb3BUaW1lcihuZXh0VW5pdE9mV29yaykge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGN1cnJlbnRGaWJlciA9IG5leHRVbml0T2ZXb3JrO1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbW1pdENvdW50SW5DdXJyZW50V29ya0xvb3AgPSAwO1xuICAgIC8vIFRoaXMgaXMgdG9wIGxldmVsIGNhbGwuXG4gICAgLy8gQW55IG90aGVyIG1lYXN1cmVtZW50cyBhcmUgcGVyZm9ybWVkIHdpdGhpbi5cbiAgICBiZWdpbk1hcmsoXCIoUmVhY3QgVHJlZSBSZWNvbmNpbGlhdGlvbilcIik7XG4gICAgLy8gUmVzdW1lIGFueSBtZWFzdXJlbWVudHMgdGhhdCB3ZXJlIGluIHByb2dyZXNzIGR1cmluZyB0aGUgbGFzdCBsb29wLlxuICAgIHJlc3VtZVRpbWVycygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BXb3JrTG9vcFRpbWVyKGludGVycnVwdGVkQnkpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgd2FybmluZyQkMSA9IG51bGw7XG4gICAgaWYgKGludGVycnVwdGVkQnkgIT09IG51bGwpIHtcbiAgICAgIGlmIChpbnRlcnJ1cHRlZEJ5LnRhZyA9PT0gSG9zdFJvb3QpIHtcbiAgICAgICAgd2FybmluZyQkMSA9IFwiQSB0b3AtbGV2ZWwgdXBkYXRlIGludGVycnVwdGVkIHRoZSBwcmV2aW91cyByZW5kZXJcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShpbnRlcnJ1cHRlZEJ5KSB8fCBcIlVua25vd25cIjtcbiAgICAgICAgd2FybmluZyQkMSA9XG4gICAgICAgICAgXCJBbiB1cGRhdGUgdG8gXCIgKyBjb21wb25lbnROYW1lICsgXCIgaW50ZXJydXB0ZWQgdGhlIHByZXZpb3VzIHJlbmRlclwiO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA+IDEpIHtcbiAgICAgIHdhcm5pbmckJDEgPSBcIlRoZXJlIHdlcmUgY2FzY2FkaW5nIHVwZGF0ZXNcIjtcbiAgICB9XG4gICAgY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA9IDA7XG4gICAgLy8gUGF1c2UgYW55IG1lYXN1cmVtZW50cyB1bnRpbCB0aGUgbmV4dCBsb29wLlxuICAgIHBhdXNlVGltZXJzKCk7XG4gICAgZW5kTWFyayhcbiAgICAgIFwiKFJlYWN0IFRyZWUgUmVjb25jaWxpYXRpb24pXCIsXG4gICAgICBcIihSZWFjdCBUcmVlIFJlY29uY2lsaWF0aW9uKVwiLFxuICAgICAgd2FybmluZyQkMVxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRDb21taXRUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpc0NvbW1pdHRpbmcgPSB0cnVlO1xuICAgIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCA9IGZhbHNlO1xuICAgIGxhYmVsc0luQ3VycmVudENvbW1pdC5jbGVhcigpO1xuICAgIGJlZ2luTWFyayhcIihDb21taXR0aW5nIENoYW5nZXMpXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BDb21taXRUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB3YXJuaW5nJCQxID0gbnVsbDtcbiAgICBpZiAoaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50Q29tbWl0KSB7XG4gICAgICB3YXJuaW5nJCQxID0gXCJMaWZlY3ljbGUgaG9vayBzY2hlZHVsZWQgYSBjYXNjYWRpbmcgdXBkYXRlXCI7XG4gICAgfSBlbHNlIGlmIChjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wID4gMCkge1xuICAgICAgd2FybmluZyQkMSA9IFwiQ2F1c2VkIGJ5IGEgY2FzY2FkaW5nIHVwZGF0ZSBpbiBlYXJsaWVyIGNvbW1pdFwiO1xuICAgIH1cbiAgICBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRDb21taXQgPSBmYWxzZTtcbiAgICBjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wKys7XG4gICAgaXNDb21taXR0aW5nID0gZmFsc2U7XG4gICAgbGFiZWxzSW5DdXJyZW50Q29tbWl0LmNsZWFyKCk7XG5cbiAgICBlbmRNYXJrKFwiKENvbW1pdHRpbmcgQ2hhbmdlcylcIiwgXCIoQ29tbWl0dGluZyBDaGFuZ2VzKVwiLCB3YXJuaW5nJCQxKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydENvbW1pdEhvc3RFZmZlY3RzVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuICAgIGJlZ2luTWFyayhcIihDb21taXR0aW5nIEhvc3QgRWZmZWN0cylcIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcENvbW1pdEhvc3RFZmZlY3RzVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGNvdW50ID0gZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQ7XG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuICAgIGVuZE1hcmsoXG4gICAgICBcIihDb21taXR0aW5nIEhvc3QgRWZmZWN0czogXCIgKyBjb3VudCArIFwiIFRvdGFsKVwiLFxuICAgICAgXCIoQ29tbWl0dGluZyBIb3N0IEVmZmVjdHMpXCIsXG4gICAgICBudWxsXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydENvbW1pdExpZmVDeWNsZXNUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCA9IDA7XG4gICAgYmVnaW5NYXJrKFwiKENhbGxpbmcgTGlmZWN5Y2xlIE1ldGhvZHMpXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BDb21taXRMaWZlQ3ljbGVzVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGNvdW50ID0gZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQ7XG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuICAgIGVuZE1hcmsoXG4gICAgICBcIihDYWxsaW5nIExpZmVjeWNsZSBNZXRob2RzOiBcIiArIGNvdW50ICsgXCIgVG90YWwpXCIsXG4gICAgICBcIihDYWxsaW5nIExpZmVjeWNsZSBNZXRob2RzKVwiLFxuICAgICAgbnVsbFxuICAgICk7XG4gIH1cbn1cblxudmFyIHdhcm5lZEFib3V0TWlzc2luZ0dldENoaWxkQ29udGV4dCA9IHZvaWQgMDtcblxue1xuICB3YXJuZWRBYm91dE1pc3NpbmdHZXRDaGlsZENvbnRleHQgPSB7fTtcbn1cblxuLy8gQSBjdXJzb3IgdG8gdGhlIGN1cnJlbnQgbWVyZ2VkIGNvbnRleHQgb2JqZWN0IG9uIHRoZSBzdGFjay5cbnZhciBjb250ZXh0U3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IoZW1wdHlPYmplY3QpO1xuLy8gQSBjdXJzb3IgdG8gYSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgY29udGV4dCBoYXMgY2hhbmdlZC5cbnZhciBkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKGZhbHNlKTtcbi8vIEtlZXAgdHJhY2sgb2YgdGhlIHByZXZpb3VzIGNvbnRleHQgb2JqZWN0IHRoYXQgd2FzIG9uIHRoZSBzdGFjay5cbi8vIFdlIHVzZSB0aGlzIHRvIGdldCBhY2Nlc3MgdG8gdGhlIHBhcmVudCBjb250ZXh0IGFmdGVyIHdlIGhhdmUgYWxyZWFkeVxuLy8gcHVzaGVkIHRoZSBuZXh0IGNvbnRleHQgcHJvdmlkZXIsIGFuZCBub3cgbmVlZCB0byBtZXJnZSB0aGVpciBjb250ZXh0cy5cbnZhciBwcmV2aW91c0NvbnRleHQgPSBlbXB0eU9iamVjdDtcblxuZnVuY3Rpb24gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzKSB7XG4gIHZhciBoYXNPd25Db250ZXh0ID0gaXNDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICBpZiAoaGFzT3duQ29udGV4dCkge1xuICAgIC8vIElmIHRoZSBmaWJlciBpcyBhIGNvbnRleHQgcHJvdmlkZXIgaXRzZWxmLCB3aGVuIHdlIHJlYWQgaXRzIGNvbnRleHRcbiAgICAvLyB3ZSBoYXZlIGFscmVhZHkgcHVzaGVkIGl0cyBvd24gY2hpbGQgY29udGV4dCBvbiB0aGUgc3RhY2suIEEgY29udGV4dFxuICAgIC8vIHByb3ZpZGVyIHNob3VsZCBub3QgXCJzZWVcIiBpdHMgb3duIGNoaWxkIGNvbnRleHQuIFRoZXJlZm9yZSB3ZSByZWFkIHRoZVxuICAgIC8vIHByZXZpb3VzIChwYXJlbnQpIGNvbnRleHQgaW5zdGVhZCBmb3IgYSBjb250ZXh0IHByb3ZpZGVyLlxuICAgIHJldHVybiBwcmV2aW91c0NvbnRleHQ7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHRTdGFja0N1cnNvci5jdXJyZW50O1xufVxuXG5mdW5jdGlvbiBjYWNoZUNvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCwgbWFza2VkQ29udGV4dCkge1xuICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gIGluc3RhbmNlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQgPSB1bm1hc2tlZENvbnRleHQ7XG4gIGluc3RhbmNlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0ID0gbWFza2VkQ29udGV4dDtcbn1cblxuZnVuY3Rpb24gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KSB7XG4gIHZhciB0eXBlID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgdmFyIGNvbnRleHRUeXBlcyA9IHR5cGUuY29udGV4dFR5cGVzO1xuICBpZiAoIWNvbnRleHRUeXBlcykge1xuICAgIHJldHVybiBlbXB0eU9iamVjdDtcbiAgfVxuXG4gIC8vIEF2b2lkIHJlY3JlYXRpbmcgbWFza2VkIGNvbnRleHQgdW5sZXNzIHVubWFza2VkIGNvbnRleHQgaGFzIGNoYW5nZWQuXG4gIC8vIEZhaWxpbmcgdG8gZG8gdGhpcyB3aWxsIHJlc3VsdCBpbiB1bm5lY2Vzc2FyeSBjYWxscyB0byBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzLlxuICAvLyBUaGlzIG1heSB0cmlnZ2VyIGluZmluaXRlIGxvb3BzIGlmIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgY2FsbHMgc2V0U3RhdGUuXG4gIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgaWYgKFxuICAgIGluc3RhbmNlICYmXG4gICAgaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dCA9PT0gdW5tYXNrZWRDb250ZXh0XG4gICkge1xuICAgIHJldHVybiBpbnN0YW5jZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dDtcbiAgfVxuXG4gIHZhciBjb250ZXh0ID0ge307XG4gIGZvciAodmFyIGtleSBpbiBjb250ZXh0VHlwZXMpIHtcbiAgICBjb250ZXh0W2tleV0gPSB1bm1hc2tlZENvbnRleHRba2V5XTtcbiAgfVxuXG4gIHtcbiAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8IFwiVW5rbm93blwiO1xuICAgIGNoZWNrUHJvcFR5cGVzKFxuICAgICAgY29udGV4dFR5cGVzLFxuICAgICAgY29udGV4dCxcbiAgICAgIFwiY29udGV4dFwiLFxuICAgICAgbmFtZSxcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bVxuICAgICk7XG4gIH1cblxuICAvLyBDYWNoZSB1bm1hc2tlZCBjb250ZXh0IHNvIHdlIGNhbiBhdm9pZCByZWNyZWF0aW5nIG1hc2tlZCBjb250ZXh0IHVubGVzcyBuZWNlc3NhcnkuXG4gIC8vIENvbnRleHQgaXMgY3JlYXRlZCBiZWZvcmUgdGhlIGNsYXNzIGNvbXBvbmVudCBpcyBpbnN0YW50aWF0ZWQgc28gY2hlY2sgZm9yIGluc3RhbmNlLlxuICBpZiAoaW5zdGFuY2UpIHtcbiAgICBjYWNoZUNvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCwgY29udGV4dCk7XG4gIH1cblxuICByZXR1cm4gY29udGV4dDtcbn1cblxuZnVuY3Rpb24gaGFzQ29udGV4dENoYW5nZWQoKSB7XG4gIHJldHVybiBkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLmN1cnJlbnQ7XG59XG5cbmZ1bmN0aW9uIGlzQ29udGV4dENvbnN1bWVyKGZpYmVyKSB7XG4gIHJldHVybiBmaWJlci50YWcgPT09IENsYXNzQ29tcG9uZW50ICYmIGZpYmVyLnR5cGUuY29udGV4dFR5cGVzICE9IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzQ29udGV4dFByb3ZpZGVyKGZpYmVyKSB7XG4gIHJldHVybiBmaWJlci50YWcgPT09IENsYXNzQ29tcG9uZW50ICYmIGZpYmVyLnR5cGUuY2hpbGRDb250ZXh0VHlwZXMgIT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gcG9wQ29udGV4dFByb3ZpZGVyKGZpYmVyKSB7XG4gIGlmICghaXNDb250ZXh0UHJvdmlkZXIoZmliZXIpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcG9wKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpO1xufVxuXG5mdW5jdGlvbiBwb3BUb3BMZXZlbENvbnRleHRPYmplY3QoZmliZXIpIHtcbiAgcG9wKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpO1xufVxuXG5mdW5jdGlvbiBwdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0KGZpYmVyLCBjb250ZXh0LCBkaWRDaGFuZ2UpIHtcbiAgaW52YXJpYW50KFxuICAgIGNvbnRleHRTdGFja0N1cnNvci5jdXJzb3IgPT0gbnVsbCxcbiAgICBcIlVuZXhwZWN0ZWQgY29udGV4dCBmb3VuZCBvbiBzdGFjay4gXCIgK1xuICAgICAgXCJUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICk7XG5cbiAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IsIGNvbnRleHQsIGZpYmVyKTtcbiAgcHVzaChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCBkaWRDaGFuZ2UsIGZpYmVyKTtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0NoaWxkQ29udGV4dChmaWJlciwgcGFyZW50Q29udGV4dCkge1xuICB2YXIgaW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGU7XG4gIHZhciBjaGlsZENvbnRleHRUeXBlcyA9IGZpYmVyLnR5cGUuY2hpbGRDb250ZXh0VHlwZXM7XG5cbiAgLy8gVE9ETyAoYnZhdWdobikgUmVwbGFjZSB0aGlzIGJlaGF2aW9yIHdpdGggYW4gaW52YXJpYW50KCkgaW4gdGhlIGZ1dHVyZS5cbiAgLy8gSXQgaGFzIG9ubHkgYmVlbiBhZGRlZCBpbiBGaWJlciB0byBtYXRjaCB0aGUgKHVuaW50ZW50aW9uYWwpIGJlaGF2aW9yIGluIFN0YWNrLlxuICBpZiAodHlwZW9mIGluc3RhbmNlLmdldENoaWxkQ29udGV4dCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCBcIlVua25vd25cIjtcblxuICAgICAgaWYgKCF3YXJuZWRBYm91dE1pc3NpbmdHZXRDaGlsZENvbnRleHRbY29tcG9uZW50TmFtZV0pIHtcbiAgICAgICAgd2FybmVkQWJvdXRNaXNzaW5nR2V0Q2hpbGRDb250ZXh0W2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIiVzLmNoaWxkQ29udGV4dFR5cGVzIGlzIHNwZWNpZmllZCBidXQgdGhlcmUgaXMgbm8gZ2V0Q2hpbGRDb250ZXh0KCkgbWV0aG9kIFwiICtcbiAgICAgICAgICAgIFwib24gdGhlIGluc3RhbmNlLiBZb3UgY2FuIGVpdGhlciBkZWZpbmUgZ2V0Q2hpbGRDb250ZXh0KCkgb24gJXMgb3IgcmVtb3ZlIFwiICtcbiAgICAgICAgICAgIFwiY2hpbGRDb250ZXh0VHlwZXMgZnJvbSBpdC5cIixcbiAgICAgICAgICBjb21wb25lbnROYW1lLFxuICAgICAgICAgIGNvbXBvbmVudE5hbWVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudENvbnRleHQ7XG4gIH1cblxuICB2YXIgY2hpbGRDb250ZXh0ID0gdm9pZCAwO1xuICB7XG4gICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50UGhhc2UoXCJnZXRDaGlsZENvbnRleHRcIik7XG4gIH1cbiAgc3RhcnRQaGFzZVRpbWVyKGZpYmVyLCBcImdldENoaWxkQ29udGV4dFwiKTtcbiAgY2hpbGRDb250ZXh0ID0gaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KCk7XG4gIHN0b3BQaGFzZVRpbWVyKCk7XG4gIHtcbiAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRQaGFzZShudWxsKTtcbiAgfVxuICBmb3IgKHZhciBjb250ZXh0S2V5IGluIGNoaWxkQ29udGV4dCkge1xuICAgIGludmFyaWFudChcbiAgICAgIGNvbnRleHRLZXkgaW4gY2hpbGRDb250ZXh0VHlwZXMsXG4gICAgICAnJXMuZ2V0Q2hpbGRDb250ZXh0KCk6IGtleSBcIiVzXCIgaXMgbm90IGRlZmluZWQgaW4gY2hpbGRDb250ZXh0VHlwZXMuJyxcbiAgICAgIGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8IFwiVW5rbm93blwiLFxuICAgICAgY29udGV4dEtleVxuICAgICk7XG4gIH1cbiAge1xuICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgXCJVbmtub3duXCI7XG4gICAgY2hlY2tQcm9wVHlwZXMoXG4gICAgICBjaGlsZENvbnRleHRUeXBlcyxcbiAgICAgIGNoaWxkQ29udGV4dCxcbiAgICAgIFwiY2hpbGQgY29udGV4dFwiLFxuICAgICAgbmFtZSxcbiAgICAgIC8vIEluIHByYWN0aWNlLCB0aGVyZSBpcyBvbmUgY2FzZSBpbiB3aGljaCB3ZSB3b24ndCBnZXQgYSBzdGFjay4gSXQncyB3aGVuXG4gICAgICAvLyBzb21lYm9keSBjYWxscyB1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcigpIGFuZCB3ZSBwcm9jZXNzXG4gICAgICAvLyBjb250ZXh0IGZyb20gdGhlIHBhcmVudCBjb21wb25lbnQgaW5zdGFuY2UuIFRoZSBzdGFjayB3aWxsIGJlIG1pc3NpbmdcbiAgICAgIC8vIGJlY2F1c2UgaXQncyBvdXRzaWRlIG9mIHRoZSByZWNvbmNpbGlhdGlvbiwgYW5kIHNvIHRoZSBwb2ludGVyIGhhcyBub3RcbiAgICAgIC8vIGJlZW4gc2V0LiBUaGlzIGlzIHJhcmUgYW5kIGRvZXNuJ3QgbWF0dGVyLiBXZSdsbCBhbHNvIHJlbW92ZSB0aGF0IEFQSS5cbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcGFyZW50Q29udGV4dCwgY2hpbGRDb250ZXh0KTtcbn1cblxuZnVuY3Rpb24gcHVzaENvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcykge1xuICBpZiAoIWlzQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgLy8gV2UgcHVzaCB0aGUgY29udGV4dCBhcyBlYXJseSBhcyBwb3NzaWJsZSB0byBlbnN1cmUgc3RhY2sgaW50ZWdyaXR5LlxuICAvLyBJZiB0aGUgaW5zdGFuY2UgZG9lcyBub3QgZXhpc3QgeWV0LCB3ZSB3aWxsIHB1c2ggbnVsbCBhdCBmaXJzdCxcbiAgLy8gYW5kIHJlcGxhY2UgaXQgb24gdGhlIHN0YWNrIGxhdGVyIHdoZW4gaW52YWxpZGF0aW5nIHRoZSBjb250ZXh0LlxuICB2YXIgbWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQgPVxuICAgIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dCkgfHxcbiAgICBlbXB0eU9iamVjdDtcblxuICAvLyBSZW1lbWJlciB0aGUgcGFyZW50IGNvbnRleHQgc28gd2UgY2FuIG1lcmdlIHdpdGggaXQgbGF0ZXIuXG4gIC8vIEluaGVyaXQgdGhlIHBhcmVudCdzIGRpZC1wZXJmb3JtLXdvcmsgdmFsdWUgdG8gYXZvaWQgaW5hZHZlcnRlbnRseSBibG9ja2luZyB1cGRhdGVzLlxuICBwcmV2aW91c0NvbnRleHQgPSBjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudDtcbiAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IsIG1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0LCB3b3JrSW5Qcm9ncmVzcyk7XG4gIHB1c2goXG4gICAgZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvcixcbiAgICBkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLmN1cnJlbnQsXG4gICAgd29ya0luUHJvZ3Jlc3NcbiAgKTtcblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgZGlkQ2hhbmdlKSB7XG4gIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgaW52YXJpYW50KFxuICAgIGluc3RhbmNlLFxuICAgIFwiRXhwZWN0ZWQgdG8gaGF2ZSBhbiBpbnN0YW5jZSBieSB0aGlzIHBvaW50LiBcIiArXG4gICAgICBcIlRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgKTtcblxuICBpZiAoZGlkQ2hhbmdlKSB7XG4gICAgLy8gTWVyZ2UgcGFyZW50IGFuZCBvd24gY29udGV4dC5cbiAgICAvLyBTa2lwIHRoaXMgaWYgd2UncmUgbm90IHVwZGF0aW5nIGR1ZSB0byBzQ1UuXG4gICAgLy8gVGhpcyBhdm9pZHMgdW5uZWNlc3NhcmlseSByZWNvbXB1dGluZyBtZW1vaXplZCB2YWx1ZXMuXG4gICAgdmFyIG1lcmdlZENvbnRleHQgPSBwcm9jZXNzQ2hpbGRDb250ZXh0KHdvcmtJblByb2dyZXNzLCBwcmV2aW91c0NvbnRleHQpO1xuICAgIGluc3RhbmNlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0ID0gbWVyZ2VkQ29udGV4dDtcblxuICAgIC8vIFJlcGxhY2UgdGhlIG9sZCAob3IgZW1wdHkpIGNvbnRleHQgd2l0aCB0aGUgbmV3IG9uZS5cbiAgICAvLyBJdCBpcyBpbXBvcnRhbnQgdG8gdW53aW5kIHRoZSBjb250ZXh0IGluIHRoZSByZXZlcnNlIG9yZGVyLlxuICAgIHBvcChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIC8vIE5vdyBwdXNoIHRoZSBuZXcgY29udGV4dCBhbmQgbWFyayB0aGF0IGl0IGhhcyBjaGFuZ2VkLlxuICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBtZXJnZWRDb250ZXh0LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgcHVzaChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCBkaWRDaGFuZ2UsIHdvcmtJblByb2dyZXNzKTtcbiAgfSBlbHNlIHtcbiAgICBwb3AoZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIHB1c2goZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgZGlkQ2hhbmdlLCB3b3JrSW5Qcm9ncmVzcyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzZXRDb250ZXh0KCkge1xuICBwcmV2aW91c0NvbnRleHQgPSBlbXB0eU9iamVjdDtcbiAgY29udGV4dFN0YWNrQ3Vyc29yLmN1cnJlbnQgPSBlbXB0eU9iamVjdDtcbiAgZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvci5jdXJyZW50ID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGZpbmRDdXJyZW50VW5tYXNrZWRDb250ZXh0KGZpYmVyKSB7XG4gIC8vIEN1cnJlbnRseSB0aGlzIGlzIG9ubHkgdXNlZCB3aXRoIHJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyOyBub3Qgc3VyZSBpZiBpdFxuICAvLyBtYWtlcyBzZW5zZSBlbHNld2hlcmVcbiAgaW52YXJpYW50KFxuICAgIGlzRmliZXJNb3VudGVkKGZpYmVyKSAmJiBmaWJlci50YWcgPT09IENsYXNzQ29tcG9uZW50LFxuICAgIFwiRXhwZWN0ZWQgc3VidHJlZSBwYXJlbnQgdG8gYmUgYSBtb3VudGVkIGNsYXNzIGNvbXBvbmVudC4gXCIgK1xuICAgICAgXCJUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICk7XG5cbiAgdmFyIG5vZGUgPSBmaWJlcjtcbiAgd2hpbGUgKG5vZGUudGFnICE9PSBIb3N0Um9vdCkge1xuICAgIGlmIChpc0NvbnRleHRQcm92aWRlcihub2RlKSkge1xuICAgICAgcmV0dXJuIG5vZGUuc3RhdGVOb2RlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0O1xuICAgIH1cbiAgICB2YXIgcGFyZW50ID0gbm9kZVtcInJldHVyblwiXTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBwYXJlbnQsXG4gICAgICBcIkZvdW5kIHVuZXhwZWN0ZWQgZGV0YWNoZWQgc3VidHJlZSBwYXJlbnQuIFwiICtcbiAgICAgICAgXCJUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgKTtcbiAgICBub2RlID0gcGFyZW50O1xuICB9XG4gIHJldHVybiBub2RlLnN0YXRlTm9kZS5jb250ZXh0O1xufVxuXG4vLyBNYXggMzEgYml0IGludGVnZXIuIFRoZSBtYXggaW50ZWdlciBzaXplIGluIFY4IGZvciAzMi1iaXQgc3lzdGVtcy5cbi8vIE1hdGgucG93KDIsIDMwKSAtIDFcbi8vIDBiMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExXG52YXIgTUFYX1NJR05FRF8zMV9CSVRfSU5UID0gMTA3Mzc0MTgyMztcblxuLy8gVE9ETzogVXNlIGFuIG9wYXF1ZSB0eXBlIG9uY2UgRVNMaW50IGV0IGFsIHN1cHBvcnQgdGhlIHN5bnRheFxuXG52YXIgTm9Xb3JrID0gMDtcbnZhciBTeW5jID0gMTtcbnZhciBOZXZlciA9IE1BWF9TSUdORURfMzFfQklUX0lOVDtcblxudmFyIFVOSVRfU0laRSA9IDEwO1xudmFyIE1BR0lDX05VTUJFUl9PRkZTRVQgPSAyO1xuXG4vLyAxIHVuaXQgb2YgZXhwaXJhdGlvbiB0aW1lIHJlcHJlc2VudHMgMTBtcy5cbmZ1bmN0aW9uIG1zVG9FeHBpcmF0aW9uVGltZShtcykge1xuICAvLyBBbHdheXMgYWRkIGFuIG9mZnNldCBzbyB0aGF0IHdlIGRvbid0IGNsYXNoIHdpdGggdGhlIG1hZ2ljIG51bWJlciBmb3IgTm9Xb3JrLlxuICByZXR1cm4gKChtcyAvIFVOSVRfU0laRSkgfCAwKSArIE1BR0lDX05VTUJFUl9PRkZTRVQ7XG59XG5cbmZ1bmN0aW9uIGV4cGlyYXRpb25UaW1lVG9NcyhleHBpcmF0aW9uVGltZSkge1xuICByZXR1cm4gKGV4cGlyYXRpb25UaW1lIC0gTUFHSUNfTlVNQkVSX09GRlNFVCkgKiBVTklUX1NJWkU7XG59XG5cbmZ1bmN0aW9uIGNlaWxpbmcobnVtLCBwcmVjaXNpb24pIHtcbiAgcmV0dXJuICgoKG51bSAvIHByZWNpc2lvbikgfCAwKSArIDEpICogcHJlY2lzaW9uO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlRXhwaXJhdGlvbkJ1Y2tldChjdXJyZW50VGltZSwgZXhwaXJhdGlvbkluTXMsIGJ1Y2tldFNpemVNcykge1xuICByZXR1cm4gY2VpbGluZyhcbiAgICBjdXJyZW50VGltZSArIGV4cGlyYXRpb25Jbk1zIC8gVU5JVF9TSVpFLFxuICAgIGJ1Y2tldFNpemVNcyAvIFVOSVRfU0laRVxuICApO1xufVxuXG52YXIgTm9Db250ZXh0ID0gMDtcbnZhciBBc3luY01vZGUgPSAxO1xudmFyIFN0cmljdE1vZGUgPSAyO1xuXG52YXIgaGFzQmFkTWFwUG9seWZpbGwgPSB2b2lkIDA7XG5cbntcbiAgaGFzQmFkTWFwUG9seWZpbGwgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgbm9uRXh0ZW5zaWJsZU9iamVjdCA9IE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSk7XG4gICAgdmFyIHRlc3RNYXAgPSBuZXcgTWFwKFtbbm9uRXh0ZW5zaWJsZU9iamVjdCwgbnVsbF1dKTtcbiAgICB2YXIgdGVzdFNldCA9IG5ldyBTZXQoW25vbkV4dGVuc2libGVPYmplY3RdKTtcbiAgICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSBmb3IgUm9sbHVwIHRvIG5vdCBjb25zaWRlciB0aGVzZSB1bnVzZWQuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JvbGx1cC9yb2xsdXAvaXNzdWVzLzE3NzFcbiAgICAvLyBUT0RPOiB3ZSBjYW4gcmVtb3ZlIHRoZXNlIGlmIFJvbGx1cCBmaXhlcyB0aGUgYnVnLlxuICAgIHRlc3RNYXAuc2V0KDAsIDApO1xuICAgIHRlc3RTZXQuYWRkKDApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gVE9ETzogQ29uc2lkZXIgd2FybmluZyBhYm91dCBiYWQgcG9seWZpbGxzXG4gICAgaGFzQmFkTWFwUG9seWZpbGwgPSB0cnVlO1xuICB9XG59XG5cbi8vIEEgRmliZXIgaXMgd29yayBvbiBhIENvbXBvbmVudCB0aGF0IG5lZWRzIHRvIGJlIGRvbmUgb3Igd2FzIGRvbmUuIFRoZXJlIGNhblxuLy8gYmUgbW9yZSB0aGFuIG9uZSBwZXIgY29tcG9uZW50LlxuXG52YXIgZGVidWdDb3VudGVyID0gdm9pZCAwO1xuXG57XG4gIGRlYnVnQ291bnRlciA9IDE7XG59XG5cbmZ1bmN0aW9uIEZpYmVyTm9kZSh0YWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKSB7XG4gIC8vIEluc3RhbmNlXG4gIHRoaXMudGFnID0gdGFnO1xuICB0aGlzLmtleSA9IGtleTtcbiAgdGhpcy50eXBlID0gbnVsbDtcbiAgdGhpcy5zdGF0ZU5vZGUgPSBudWxsO1xuXG4gIC8vIEZpYmVyXG4gIHRoaXNbXCJyZXR1cm5cIl0gPSBudWxsO1xuICB0aGlzLmNoaWxkID0gbnVsbDtcbiAgdGhpcy5zaWJsaW5nID0gbnVsbDtcbiAgdGhpcy5pbmRleCA9IDA7XG5cbiAgdGhpcy5yZWYgPSBudWxsO1xuXG4gIHRoaXMucGVuZGluZ1Byb3BzID0gcGVuZGluZ1Byb3BzO1xuICB0aGlzLm1lbW9pemVkUHJvcHMgPSBudWxsO1xuICB0aGlzLnVwZGF0ZVF1ZXVlID0gbnVsbDtcbiAgdGhpcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcblxuICB0aGlzLm1vZGUgPSBtb2RlO1xuXG4gIC8vIEVmZmVjdHNcbiAgdGhpcy5lZmZlY3RUYWcgPSBOb0VmZmVjdDtcbiAgdGhpcy5uZXh0RWZmZWN0ID0gbnVsbDtcblxuICB0aGlzLmZpcnN0RWZmZWN0ID0gbnVsbDtcbiAgdGhpcy5sYXN0RWZmZWN0ID0gbnVsbDtcblxuICB0aGlzLmV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuXG4gIHRoaXMuYWx0ZXJuYXRlID0gbnVsbDtcblxuICB7XG4gICAgdGhpcy5fZGVidWdJRCA9IGRlYnVnQ291bnRlcisrO1xuICAgIHRoaXMuX2RlYnVnU291cmNlID0gbnVsbDtcbiAgICB0aGlzLl9kZWJ1Z093bmVyID0gbnVsbDtcbiAgICB0aGlzLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gZmFsc2U7XG4gICAgaWYgKCFoYXNCYWRNYXBQb2x5ZmlsbCAmJiB0eXBlb2YgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh0aGlzKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhpcyBpcyBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLCByYXRoZXIgdGhhbiBhIFBPSk8gY29uc3RydWN0b3IsIHN0aWxsXG4vLyBwbGVhc2UgZW5zdXJlIHdlIGRvIHRoZSBmb2xsb3dpbmc6XG4vLyAxKSBOb2JvZHkgc2hvdWxkIGFkZCBhbnkgaW5zdGFuY2UgbWV0aG9kcyBvbiB0aGlzLiBJbnN0YW5jZSBtZXRob2RzIGNhbiBiZVxuLy8gICAgbW9yZSBkaWZmaWN1bHQgdG8gcHJlZGljdCB3aGVuIHRoZXkgZ2V0IG9wdGltaXplZCBhbmQgdGhleSBhcmUgYWxtb3N0XG4vLyAgICBuZXZlciBpbmxpbmVkIHByb3Blcmx5IGluIHN0YXRpYyBjb21waWxlcnMuXG4vLyAyKSBOb2JvZHkgc2hvdWxkIHJlbHkgb24gYGluc3RhbmNlb2YgRmliZXJgIGZvciB0eXBlIHRlc3RpbmcuIFdlIHNob3VsZFxuLy8gICAgYWx3YXlzIGtub3cgd2hlbiBpdCBpcyBhIGZpYmVyLlxuLy8gMykgV2UgbWlnaHQgd2FudCB0byBleHBlcmltZW50IHdpdGggdXNpbmcgbnVtZXJpYyBrZXlzIHNpbmNlIHRoZXkgYXJlIGVhc2llclxuLy8gICAgdG8gb3B0aW1pemUgaW4gYSBub24tSklUIGVudmlyb25tZW50LlxuLy8gNCkgV2UgY2FuIGVhc2lseSBnbyBmcm9tIGEgY29uc3RydWN0b3IgdG8gYSBjcmVhdGVGaWJlciBvYmplY3QgbGl0ZXJhbCBpZiB0aGF0XG4vLyAgICBpcyBmYXN0ZXIuXG4vLyA1KSBJdCBzaG91bGQgYmUgZWFzeSB0byBwb3J0IHRoaXMgdG8gYSBDIHN0cnVjdCBhbmQga2VlcCBhIEMgaW1wbGVtZW50YXRpb25cbi8vICAgIGNvbXBhdGlibGUuXG52YXIgY3JlYXRlRmliZXIgPSBmdW5jdGlvbih0YWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKSB7XG4gIC8vICRGbG93Rml4TWU6IHRoZSBzaGFwZXMgYXJlIGV4YWN0IGhlcmUgYnV0IEZsb3cgZG9lc24ndCBsaWtlIGNvbnN0cnVjdG9yc1xuICByZXR1cm4gbmV3IEZpYmVyTm9kZSh0YWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKTtcbn07XG5cbmZ1bmN0aW9uIHNob3VsZENvbnN0cnVjdChDb21wb25lbnQpIHtcbiAgcmV0dXJuICEhKENvbXBvbmVudC5wcm90b3R5cGUgJiYgQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuLy8gVGhpcyBpcyB1c2VkIHRvIGNyZWF0ZSBhbiBhbHRlcm5hdGUgZmliZXIgdG8gZG8gd29yayBvbi5cbmZ1bmN0aW9uIGNyZWF0ZVdvcmtJblByb2dyZXNzKGN1cnJlbnQsIHBlbmRpbmdQcm9wcywgZXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIHdvcmtJblByb2dyZXNzID0gY3VycmVudC5hbHRlcm5hdGU7XG4gIGlmICh3b3JrSW5Qcm9ncmVzcyA9PT0gbnVsbCkge1xuICAgIC8vIFdlIHVzZSBhIGRvdWJsZSBidWZmZXJpbmcgcG9vbGluZyB0ZWNobmlxdWUgYmVjYXVzZSB3ZSBrbm93IHRoYXQgd2UnbGxcbiAgICAvLyBvbmx5IGV2ZXIgbmVlZCBhdCBtb3N0IHR3byB2ZXJzaW9ucyBvZiBhIHRyZWUuIFdlIHBvb2wgdGhlIFwib3RoZXJcIiB1bnVzZWRcbiAgICAvLyBub2RlIHRoYXQgd2UncmUgZnJlZSB0byByZXVzZS4gVGhpcyBpcyBsYXppbHkgY3JlYXRlZCB0byBhdm9pZCBhbGxvY2F0aW5nXG4gICAgLy8gZXh0cmEgb2JqZWN0cyBmb3IgdGhpbmdzIHRoYXQgYXJlIG5ldmVyIHVwZGF0ZWQuIEl0IGFsc28gYWxsb3cgdXMgdG9cbiAgICAvLyByZWNsYWltIHRoZSBleHRyYSBtZW1vcnkgaWYgbmVlZGVkLlxuICAgIHdvcmtJblByb2dyZXNzID0gY3JlYXRlRmliZXIoXG4gICAgICBjdXJyZW50LnRhZyxcbiAgICAgIHBlbmRpbmdQcm9wcyxcbiAgICAgIGN1cnJlbnQua2V5LFxuICAgICAgY3VycmVudC5tb2RlXG4gICAgKTtcbiAgICB3b3JrSW5Qcm9ncmVzcy50eXBlID0gY3VycmVudC50eXBlO1xuICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGN1cnJlbnQuc3RhdGVOb2RlO1xuXG4gICAge1xuICAgICAgLy8gREVWLW9ubHkgZmllbGRzXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdJRCA9IGN1cnJlbnQuX2RlYnVnSUQ7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdTb3VyY2UgPSBjdXJyZW50Ll9kZWJ1Z1NvdXJjZTtcbiAgICAgIHdvcmtJblByb2dyZXNzLl9kZWJ1Z093bmVyID0gY3VycmVudC5fZGVidWdPd25lcjtcbiAgICB9XG5cbiAgICB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGUgPSBjdXJyZW50O1xuICAgIGN1cnJlbnQuYWx0ZXJuYXRlID0gd29ya0luUHJvZ3Jlc3M7XG4gIH0gZWxzZSB7XG4gICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzID0gcGVuZGluZ1Byb3BzO1xuXG4gICAgLy8gV2UgYWxyZWFkeSBoYXZlIGFuIGFsdGVybmF0ZS5cbiAgICAvLyBSZXNldCB0aGUgZWZmZWN0IHRhZy5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgPSBOb0VmZmVjdDtcblxuICAgIC8vIFRoZSBlZmZlY3QgbGlzdCBpcyBubyBsb25nZXIgdmFsaWQuXG4gICAgd29ya0luUHJvZ3Jlc3MubmV4dEVmZmVjdCA9IG51bGw7XG4gICAgd29ya0luUHJvZ3Jlc3MuZmlyc3RFZmZlY3QgPSBudWxsO1xuICAgIHdvcmtJblByb2dyZXNzLmxhc3RFZmZlY3QgPSBudWxsO1xuICB9XG5cbiAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcblxuICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQuY2hpbGQ7XG4gIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3VycmVudC51cGRhdGVRdWV1ZTtcblxuICAvLyBUaGVzZSB3aWxsIGJlIG92ZXJyaWRkZW4gZHVyaW5nIHRoZSBwYXJlbnQncyByZWNvbmNpbGlhdGlvblxuICB3b3JrSW5Qcm9ncmVzcy5zaWJsaW5nID0gY3VycmVudC5zaWJsaW5nO1xuICB3b3JrSW5Qcm9ncmVzcy5pbmRleCA9IGN1cnJlbnQuaW5kZXg7XG4gIHdvcmtJblByb2dyZXNzLnJlZiA9IGN1cnJlbnQucmVmO1xuXG4gIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbn1cblxuZnVuY3Rpb24gY3JlYXRlSG9zdFJvb3RGaWJlcihpc0FzeW5jKSB7XG4gIHZhciBtb2RlID0gaXNBc3luYyA/IEFzeW5jTW9kZSB8IFN0cmljdE1vZGUgOiBOb0NvbnRleHQ7XG4gIHJldHVybiBjcmVhdGVGaWJlcihIb3N0Um9vdCwgbnVsbCwgbnVsbCwgbW9kZSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbUVsZW1lbnQoZWxlbWVudCwgbW9kZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIG93bmVyID0gbnVsbDtcbiAge1xuICAgIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gIH1cblxuICB2YXIgZmliZXIgPSB2b2lkIDA7XG4gIHZhciB0eXBlID0gZWxlbWVudC50eXBlO1xuICB2YXIga2V5ID0gZWxlbWVudC5rZXk7XG4gIHZhciBwZW5kaW5nUHJvcHMgPSBlbGVtZW50LnByb3BzO1xuXG4gIHZhciBmaWJlclRhZyA9IHZvaWQgMDtcbiAgaWYgKHR5cGVvZiB0eXBlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBmaWJlclRhZyA9IHNob3VsZENvbnN0cnVjdCh0eXBlKSA/IENsYXNzQ29tcG9uZW50IDogSW5kZXRlcm1pbmF0ZUNvbXBvbmVudDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGZpYmVyVGFnID0gSG9zdENvbXBvbmVudDtcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KFxuICAgICAgICAgIHBlbmRpbmdQcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBtb2RlLFxuICAgICAgICAgIGV4cGlyYXRpb25UaW1lLFxuICAgICAgICAgIGtleVxuICAgICAgICApO1xuICAgICAgY2FzZSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU6XG4gICAgICAgIGZpYmVyVGFnID0gTW9kZTtcbiAgICAgICAgbW9kZSB8PSBBc3luY01vZGUgfCBTdHJpY3RNb2RlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgZmliZXJUYWcgPSBNb2RlO1xuICAgICAgICBtb2RlIHw9IFN0cmljdE1vZGU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBSRUFDVF9DQUxMX1RZUEU6XG4gICAgICAgIGZpYmVyVGFnID0gQ2FsbENvbXBvbmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFJFQUNUX1JFVFVSTl9UWVBFOlxuICAgICAgICBmaWJlclRhZyA9IFJldHVybkNvbXBvbmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlICE9PSBudWxsKSB7XG4gICAgICAgICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX1BST1ZJREVSX1RZUEU6XG4gICAgICAgICAgICAgIGZpYmVyVGFnID0gQ29udGV4dFByb3ZpZGVyO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgY29uc3VtZXJcbiAgICAgICAgICAgICAgZmliZXJUYWcgPSBDb250ZXh0Q29uc3VtZXI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlLnRhZyA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIC8vIEN1cnJlbnRseSBhc3N1bWVkIHRvIGJlIGEgY29udGludWF0aW9uIGFuZCB0aGVyZWZvcmUgaXMgYVxuICAgICAgICAgICAgICAgIC8vIGZpYmVyIGFscmVhZHkuXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogVGhlIHlpZWxkIHN5c3RlbSBpcyBjdXJyZW50bHkgYnJva2VuIGZvciB1cGRhdGVzIGluXG4gICAgICAgICAgICAgICAgLy8gc29tZSBjYXNlcy4gVGhlIHJlaWZpZWQgeWllbGQgc3RvcmVzIGEgZmliZXIsIGJ1dCB3ZSBkb24ndFxuICAgICAgICAgICAgICAgIC8vIGtub3cgd2hpY2ggZmliZXIgdGhhdCBpczsgdGhlIGN1cnJlbnQgb3IgYSB3b3JrSW5Qcm9ncmVzcz9cbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBjb250aW51YXRpb24gZ2V0cyByZW5kZXJlZCBoZXJlIHdlIGRvbid0IGtub3cgaWYgd2VcbiAgICAgICAgICAgICAgICAvLyBjYW4gcmV1c2UgdGhhdCBmaWJlciBvciBpZiB3ZSBuZWVkIHRvIGNsb25lIGl0LiBUaGVyZSBpc1xuICAgICAgICAgICAgICAgIC8vIHByb2JhYmx5IGEgY2xldmVyIHdheSB0byByZXN0cnVjdHVyZSB0aGlzLlxuICAgICAgICAgICAgICAgIGZpYmVyID0gdHlwZTtcbiAgICAgICAgICAgICAgICBmaWJlci5wZW5kaW5nUHJvcHMgPSBwZW5kaW5nUHJvcHM7XG4gICAgICAgICAgICAgICAgZmliZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmliZXI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3dPbkludmFsaWRFbGVtZW50VHlwZSh0eXBlLCBvd25lcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93T25JbnZhbGlkRWxlbWVudFR5cGUodHlwZSwgb3duZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZmliZXIgPSBjcmVhdGVGaWJlcihmaWJlclRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpO1xuICBmaWJlci50eXBlID0gdHlwZTtcbiAgZmliZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcblxuICB7XG4gICAgZmliZXIuX2RlYnVnU291cmNlID0gZWxlbWVudC5fc291cmNlO1xuICAgIGZpYmVyLl9kZWJ1Z093bmVyID0gZWxlbWVudC5fb3duZXI7XG4gIH1cblxuICByZXR1cm4gZmliZXI7XG59XG5cbmZ1bmN0aW9uIHRocm93T25JbnZhbGlkRWxlbWVudFR5cGUodHlwZSwgb3duZXIpIHtcbiAgdmFyIGluZm8gPSBcIlwiO1xuICB7XG4gICAgaWYgKFxuICAgICAgdHlwZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAodHlwZW9mIHR5cGUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgdHlwZSAhPT0gbnVsbCAmJlxuICAgICAgICBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGggPT09IDApXG4gICAgKSB7XG4gICAgICBpbmZvICs9XG4gICAgICAgIFwiIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlIFwiICtcbiAgICAgICAgXCJpdCdzIGRlZmluZWQgaW4sIG9yIHlvdSBtaWdodCBoYXZlIG1peGVkIHVwIGRlZmF1bHQgYW5kIFwiICtcbiAgICAgICAgXCJuYW1lZCBpbXBvcnRzLlwiO1xuICAgIH1cbiAgICB2YXIgb3duZXJOYW1lID0gb3duZXIgPyBnZXRDb21wb25lbnROYW1lKG93bmVyKSA6IG51bGw7XG4gICAgaWYgKG93bmVyTmFtZSkge1xuICAgICAgaW5mbyArPSBcIlxcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGBcIiArIG93bmVyTmFtZSArIFwiYC5cIjtcbiAgICB9XG4gIH1cbiAgaW52YXJpYW50KFxuICAgIGZhbHNlLFxuICAgIFwiRWxlbWVudCB0eXBlIGlzIGludmFsaWQ6IGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgYnVpbHQtaW4gXCIgK1xuICAgICAgXCJjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlIGNvbXBvbmVudHMpIFwiICtcbiAgICAgIFwiYnV0IGdvdDogJXMuJXNcIixcbiAgICB0eXBlID09IG51bGwgPyB0eXBlIDogdHlwZW9mIHR5cGUsXG4gICAgaW5mb1xuICApO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGaWJlckZyb21GcmFnbWVudChlbGVtZW50cywgbW9kZSwgZXhwaXJhdGlvblRpbWUsIGtleSkge1xuICB2YXIgZmliZXIgPSBjcmVhdGVGaWJlcihGcmFnbWVudCwgZWxlbWVudHMsIGtleSwgbW9kZSk7XG4gIGZpYmVyLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gIHJldHVybiBmaWJlcjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tVGV4dChjb250ZW50LCBtb2RlLCBleHBpcmF0aW9uVGltZSkge1xuICB2YXIgZmliZXIgPSBjcmVhdGVGaWJlcihIb3N0VGV4dCwgY29udGVudCwgbnVsbCwgbW9kZSk7XG4gIGZpYmVyLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gIHJldHVybiBmaWJlcjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tSG9zdEluc3RhbmNlRm9yRGVsZXRpb24oKSB7XG4gIHZhciBmaWJlciA9IGNyZWF0ZUZpYmVyKEhvc3RDb21wb25lbnQsIG51bGwsIG51bGwsIE5vQ29udGV4dCk7XG4gIGZpYmVyLnR5cGUgPSBcIkRFTEVURURcIjtcbiAgcmV0dXJuIGZpYmVyO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGaWJlckZyb21Qb3J0YWwocG9ydGFsLCBtb2RlLCBleHBpcmF0aW9uVGltZSkge1xuICB2YXIgcGVuZGluZ1Byb3BzID0gcG9ydGFsLmNoaWxkcmVuICE9PSBudWxsID8gcG9ydGFsLmNoaWxkcmVuIDogW107XG4gIHZhciBmaWJlciA9IGNyZWF0ZUZpYmVyKEhvc3RQb3J0YWwsIHBlbmRpbmdQcm9wcywgcG9ydGFsLmtleSwgbW9kZSk7XG4gIGZpYmVyLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gIGZpYmVyLnN0YXRlTm9kZSA9IHtcbiAgICBjb250YWluZXJJbmZvOiBwb3J0YWwuY29udGFpbmVySW5mbyxcbiAgICBwZW5kaW5nQ2hpbGRyZW46IG51bGwsIC8vIFVzZWQgYnkgcGVyc2lzdGVudCB1cGRhdGVzXG4gICAgaW1wbGVtZW50YXRpb246IHBvcnRhbC5pbXBsZW1lbnRhdGlvblxuICB9O1xuICByZXR1cm4gZmliZXI7XG59XG5cbi8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIGxpZnRlZCBpbnRvIHRoZSByZW5kZXJlci5cblxuZnVuY3Rpb24gY3JlYXRlRmliZXJSb290KGNvbnRhaW5lckluZm8sIGlzQXN5bmMsIGh5ZHJhdGUpIHtcbiAgLy8gQ3ljbGljIGNvbnN0cnVjdGlvbi4gVGhpcyBjaGVhdHMgdGhlIHR5cGUgc3lzdGVtIHJpZ2h0IG5vdyBiZWNhdXNlXG4gIC8vIHN0YXRlTm9kZSBpcyBhbnkuXG4gIHZhciB1bmluaXRpYWxpemVkRmliZXIgPSBjcmVhdGVIb3N0Um9vdEZpYmVyKGlzQXN5bmMpO1xuICB2YXIgcm9vdCA9IHtcbiAgICBjdXJyZW50OiB1bmluaXRpYWxpemVkRmliZXIsXG4gICAgY29udGFpbmVySW5mbzogY29udGFpbmVySW5mbyxcbiAgICBwZW5kaW5nQ2hpbGRyZW46IG51bGwsXG4gICAgcGVuZGluZ0NvbW1pdEV4cGlyYXRpb25UaW1lOiBOb1dvcmssXG4gICAgZmluaXNoZWRXb3JrOiBudWxsLFxuICAgIGNvbnRleHQ6IG51bGwsXG4gICAgcGVuZGluZ0NvbnRleHQ6IG51bGwsXG4gICAgaHlkcmF0ZTogaHlkcmF0ZSxcbiAgICByZW1haW5pbmdFeHBpcmF0aW9uVGltZTogTm9Xb3JrLFxuICAgIGZpcnN0QmF0Y2g6IG51bGwsXG4gICAgbmV4dFNjaGVkdWxlZFJvb3Q6IG51bGxcbiAgfTtcbiAgdW5pbml0aWFsaXplZEZpYmVyLnN0YXRlTm9kZSA9IHJvb3Q7XG4gIHJldHVybiByb290O1xufVxuXG52YXIgb25Db21taXRGaWJlclJvb3QgPSBudWxsO1xudmFyIG9uQ29tbWl0RmliZXJVbm1vdW50ID0gbnVsbDtcbnZhciBoYXNMb2dnZWRFcnJvciA9IGZhbHNlO1xuXG5mdW5jdGlvbiBjYXRjaEVycm9ycyhmbikge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbihhcmcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKHRydWUgJiYgIWhhc0xvZ2dlZEVycm9yKSB7XG4gICAgICAgIGhhc0xvZ2dlZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgXCJSZWFjdCBEZXZUb29scyBlbmNvdW50ZXJlZCBhbiBlcnJvcjogJXNcIiwgZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGluamVjdEludGVybmFscyhpbnRlcm5hbHMpIHtcbiAgaWYgKHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAvLyBObyBEZXZUb29sc1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgaG9vayA9IF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztcbiAgaWYgKGhvb2suaXNEaXNhYmxlZCkge1xuICAgIC8vIFRoaXMgaXNuJ3QgYSByZWFsIHByb3BlcnR5IG9uIHRoZSBob29rLCBidXQgaXQgY2FuIGJlIHNldCB0byBvcHQgb3V0XG4gICAgLy8gb2YgRGV2VG9vbHMgaW50ZWdyYXRpb24gYW5kIGFzc29jaWF0ZWQgd2FybmluZ3MgYW5kIGxvZ3MuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8zODc3XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCFob29rLnN1cHBvcnRzRmliZXIpIHtcbiAgICB7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgXCJUaGUgaW5zdGFsbGVkIHZlcnNpb24gb2YgUmVhY3QgRGV2VG9vbHMgaXMgdG9vIG9sZCBhbmQgd2lsbCBub3Qgd29yayBcIiArXG4gICAgICAgICAgXCJ3aXRoIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgUmVhY3QuIFBsZWFzZSB1cGRhdGUgUmVhY3QgRGV2VG9vbHMuIFwiICtcbiAgICAgICAgICBcImh0dHBzOi8vZmIubWUvcmVhY3QtZGV2dG9vbHNcIlxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gRGV2VG9vbHMgZXhpc3RzLCBldmVuIHRob3VnaCBpdCBkb2Vzbid0IHN1cHBvcnQgRmliZXIuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdHJ5IHtcbiAgICB2YXIgcmVuZGVyZXJJRCA9IGhvb2suaW5qZWN0KGludGVybmFscyk7XG4gICAgLy8gV2UgaGF2ZSBzdWNjZXNzZnVsbHkgaW5qZWN0ZWQsIHNvIG5vdyBpdCBpcyBzYWZlIHRvIHNldCB1cCBob29rcy5cbiAgICBvbkNvbW1pdEZpYmVyUm9vdCA9IGNhdGNoRXJyb3JzKGZ1bmN0aW9uKHJvb3QpIHtcbiAgICAgIHJldHVybiBob29rLm9uQ29tbWl0RmliZXJSb290KHJlbmRlcmVySUQsIHJvb3QpO1xuICAgIH0pO1xuICAgIG9uQ29tbWl0RmliZXJVbm1vdW50ID0gY2F0Y2hFcnJvcnMoZnVuY3Rpb24oZmliZXIpIHtcbiAgICAgIHJldHVybiBob29rLm9uQ29tbWl0RmliZXJVbm1vdW50KHJlbmRlcmVySUQsIGZpYmVyKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gQ2F0Y2ggYWxsIGVycm9ycyBiZWNhdXNlIGl0IGlzIHVuc2FmZSB0byB0aHJvdyBkdXJpbmcgaW5pdGlhbGl6YXRpb24uXG4gICAge1xuICAgICAgd2FybmluZyhmYWxzZSwgXCJSZWFjdCBEZXZUb29scyBlbmNvdW50ZXJlZCBhbiBlcnJvcjogJXMuXCIsIGVycik7XG4gICAgfVxuICB9XG4gIC8vIERldlRvb2xzIGV4aXN0c1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gb25Db21taXRSb290KHJvb3QpIHtcbiAgaWYgKHR5cGVvZiBvbkNvbW1pdEZpYmVyUm9vdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgb25Db21taXRGaWJlclJvb3Qocm9vdCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25Db21taXRVbm1vdW50KGZpYmVyKSB7XG4gIGlmICh0eXBlb2Ygb25Db21taXRGaWJlclVubW91bnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIG9uQ29tbWl0RmliZXJVbm1vdW50KGZpYmVyKTtcbiAgfVxufVxuXG4vKipcbiAqIEZvcmtlZCBmcm9tIGZianMvd2FybmluZzpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mYmpzL2Jsb2IvZTY2YmEyMGFkNWJlNDMzZWI1NDQyM2YyYjA5N2Q4MjkzMjRkOWRlNi9wYWNrYWdlcy9mYmpzL3NyYy9fX2ZvcmtzX18vd2FybmluZy5qc1xuICpcbiAqIE9ubHkgY2hhbmdlIGlzIHdlIHVzZSBjb25zb2xlLndhcm4gaW5zdGVhZCBvZiBjb25zb2xlLmVycm9yLFxuICogYW5kIGRvIG5vdGhpbmcgd2hlbiAnY29uc29sZScgaXMgbm90IHN1cHBvcnRlZC5cbiAqIFRoaXMgcmVhbGx5IHNpbXBsaWZpZXMgdGhlIGNvZGUuXG4gKiAtLS1cbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24oKSB7fTtcblxue1xuICB2YXIgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24oZm9ybWF0KSB7XG4gICAgZm9yIChcbiAgICAgIHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSxcbiAgICAgICAgX2tleSA9IDE7XG4gICAgICBfa2V5IDwgX2xlbjtcbiAgICAgIF9rZXkrK1xuICAgICkge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICB2YXIgbWVzc2FnZSA9XG4gICAgICBcIldhcm5pbmc6IFwiICtcbiAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KTtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfTtcblxuICBsb3dQcmlvcml0eVdhcm5pbmcgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcImB3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nIFwiICtcbiAgICAgICAgICBcIm1lc3NhZ2UgYXJndW1lbnRcIlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLFxuICAgICAgICAgIF9rZXkyID0gMjtcbiAgICAgICAgX2tleTIgPCBfbGVuMjtcbiAgICAgICAgX2tleTIrK1xuICAgICAgKSB7XG4gICAgICAgIGFyZ3NbX2tleTIgLSAyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHByaW50V2FybmluZy5hcHBseSh1bmRlZmluZWQsIFtmb3JtYXRdLmNvbmNhdChhcmdzKSk7XG4gICAgfVxuICB9O1xufVxuXG52YXIgbG93UHJpb3JpdHlXYXJuaW5nJDEgPSBsb3dQcmlvcml0eVdhcm5pbmc7XG5cbnZhciBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncyA9IHtcbiAgZGlzY2FyZFBlbmRpbmdXYXJuaW5nczogZnVuY3Rpb24oKSB7fSxcbiAgZmx1c2hQZW5kaW5nRGVwcmVjYXRpb25XYXJuaW5nczogZnVuY3Rpb24oKSB7fSxcbiAgZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3M6IGZ1bmN0aW9uKCkge30sXG4gIHJlY29yZERlcHJlY2F0aW9uV2FybmluZ3M6IGZ1bmN0aW9uKGZpYmVyLCBpbnN0YW5jZSkge30sXG4gIHJlY29yZFVuc2FmZUxpZmVjeWNsZVdhcm5pbmdzOiBmdW5jdGlvbihmaWJlciwgaW5zdGFuY2UpIHt9XG59O1xuXG57XG4gIHZhciBMSUZFQ1lDTEVfU1VHR0VTVElPTlMgPSB7XG4gICAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudDogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBcInN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcIixcbiAgICBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZTogXCJjb21wb25lbnREaWRVcGRhdGVcIlxuICB9O1xuXG4gIHZhciBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXTtcbiAgdmFyIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXTtcbiAgdmFyIHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXTtcbiAgdmFyIHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IG5ldyBNYXAoKTtcblxuICAvLyBUcmFja3MgY29tcG9uZW50cyB3ZSBoYXZlIGFscmVhZHkgd2FybmVkIGFib3V0LlxuICB2YXIgZGlkV2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMgPSBuZXcgU2V0KCk7XG4gIHZhciBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzID0gbmV3IFNldCgpO1xuXG4gIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmRpc2NhcmRQZW5kaW5nV2FybmluZ3MgPSBmdW5jdGlvbigpIHtcbiAgICBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXTtcbiAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW107XG4gICAgcGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyA9IFtdO1xuICAgIHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IG5ldyBNYXAoKTtcbiAgfTtcblxuICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5mbHVzaFBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IGZ1bmN0aW9uKCkge1xuICAgIHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKFxuICAgICAgbGlmZWN5Y2xlV2FybmluZ3NNYXAsXG4gICAgICBzdHJpY3RSb290XG4gICAgKSB7XG4gICAgICB2YXIgbGlmZWN5Y2xlc1dhcm5pbmdNZXNhZ2VzID0gW107XG5cbiAgICAgIE9iamVjdC5rZXlzKGxpZmVjeWNsZVdhcm5pbmdzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGxpZmVjeWNsZSkge1xuICAgICAgICB2YXIgbGlmZWN5Y2xlV2FybmluZ3MgPSBsaWZlY3ljbGVXYXJuaW5nc01hcFtsaWZlY3ljbGVdO1xuICAgICAgICBpZiAobGlmZWN5Y2xlV2FybmluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHZhciBjb21wb25lbnROYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICBsaWZlY3ljbGVXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGZpYmVyKSB7XG4gICAgICAgICAgICBjb21wb25lbnROYW1lcy5hZGQoZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgXCJDb21wb25lbnRcIik7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZhciBmb3JtYXR0ZWQgPSBsaWZlY3ljbGUucmVwbGFjZShcIlVOU0FGRV9cIiwgXCJcIik7XG4gICAgICAgICAgdmFyIHN1Z2dlc3Rpb24gPSBMSUZFQ1lDTEVfU1VHR0VTVElPTlNbbGlmZWN5Y2xlXTtcbiAgICAgICAgICB2YXIgc29ydGVkQ29tcG9uZW50TmFtZXMgPSBBcnJheS5mcm9tKGNvbXBvbmVudE5hbWVzKVxuICAgICAgICAgICAgLnNvcnQoKVxuICAgICAgICAgICAgLmpvaW4oXCIsIFwiKTtcblxuICAgICAgICAgIGxpZmVjeWNsZXNXYXJuaW5nTWVzYWdlcy5wdXNoKFxuICAgICAgICAgICAgZm9ybWF0dGVkICtcbiAgICAgICAgICAgICAgXCI6IFBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzIHRvIHVzZSBcIiArXG4gICAgICAgICAgICAgIChzdWdnZXN0aW9uICsgXCIgaW5zdGVhZDogXCIgKyBzb3J0ZWRDb21wb25lbnROYW1lcylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGxpZmVjeWNsZXNXYXJuaW5nTWVzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBzdHJpY3RSb290Q29tcG9uZW50U3RhY2sgPSBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKFxuICAgICAgICAgIHN0cmljdFJvb3RcbiAgICAgICAgKTtcblxuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiVW5zYWZlIGxpZmVjeWNsZSBtZXRob2RzIHdlcmUgZm91bmQgd2l0aGluIGEgc3RyaWN0LW1vZGUgdHJlZTolc1wiICtcbiAgICAgICAgICAgIFwiXFxuXFxuJXNcIiArXG4gICAgICAgICAgICBcIlxcblxcbkxlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6XCIgK1xuICAgICAgICAgICAgXCJcXG5odHRwczovL2ZiLm1lL3JlYWN0LXN0cmljdC1tb2RlLXdhcm5pbmdzXCIsXG4gICAgICAgICAgc3RyaWN0Um9vdENvbXBvbmVudFN0YWNrLFxuICAgICAgICAgIGxpZmVjeWNsZXNXYXJuaW5nTWVzYWdlcy5qb2luKFwiXFxuXFxuXCIpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBwZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBuZXcgTWFwKCk7XG4gIH07XG5cbiAgdmFyIGdldFN0cmljdFJvb3QgPSBmdW5jdGlvbihmaWJlcikge1xuICAgIHZhciBtYXliZVN0cmljdFJvb3QgPSBudWxsO1xuXG4gICAgd2hpbGUgKGZpYmVyICE9PSBudWxsKSB7XG4gICAgICBpZiAoZmliZXIubW9kZSAmIFN0cmljdE1vZGUpIHtcbiAgICAgICAgbWF5YmVTdHJpY3RSb290ID0gZmliZXI7XG4gICAgICB9XG5cbiAgICAgIGZpYmVyID0gZmliZXJbXCJyZXR1cm5cIl07XG4gICAgfVxuXG4gICAgcmV0dXJuIG1heWJlU3RyaWN0Um9vdDtcbiAgfTtcblxuICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5mbHVzaFBlbmRpbmdEZXByZWNhdGlvbldhcm5pbmdzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgdW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbihmaWJlcikge1xuICAgICAgICB1bmlxdWVOYW1lcy5hZGQoZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgXCJDb21wb25lbnRcIik7XG4gICAgICAgIGRpZFdhcm5BYm91dERlcHJlY2F0ZWRMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgc29ydGVkTmFtZXMgPSBBcnJheS5mcm9tKHVuaXF1ZU5hbWVzKVxuICAgICAgICAuc29ydCgpXG4gICAgICAgIC5qb2luKFwiLCBcIik7XG5cbiAgICAgIGxvd1ByaW9yaXR5V2FybmluZyQxKFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgXCJjb21wb25lbnRXaWxsTW91bnQgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24uIFwiICtcbiAgICAgICAgICBcIlVzZSBjb21wb25lbnREaWRNb3VudCBpbnN0ZWFkLiBBcyBhIHRlbXBvcmFyeSB3b3JrYXJvdW5kLCBcIiArXG4gICAgICAgICAgXCJ5b3UgY2FuIHJlbmFtZSB0byBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50LlwiICtcbiAgICAgICAgICBcIlxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlc1wiICtcbiAgICAgICAgICBcIlxcblxcbkxlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6XCIgK1xuICAgICAgICAgIFwiXFxuaHR0cHM6Ly9mYi5tZS9yZWFjdC1hc3luYy1jb21wb25lbnQtbGlmZWN5Y2xlLWhvb2tzXCIsXG4gICAgICAgIHNvcnRlZE5hbWVzXG4gICAgICApO1xuXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAocGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgX3VuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGZpYmVyKSB7XG4gICAgICAgIF91bmlxdWVOYW1lcy5hZGQoZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgXCJDb21wb25lbnRcIik7XG4gICAgICAgIGRpZFdhcm5BYm91dERlcHJlY2F0ZWRMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgX3NvcnRlZE5hbWVzID0gQXJyYXkuZnJvbShfdW5pcXVlTmFtZXMpXG4gICAgICAgIC5zb3J0KClcbiAgICAgICAgLmpvaW4oXCIsIFwiKTtcblxuICAgICAgbG93UHJpb3JpdHlXYXJuaW5nJDEoXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBcImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24uIFwiICtcbiAgICAgICAgICBcIlVzZSBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIGluc3RlYWQuXCIgK1xuICAgICAgICAgIFwiXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzXCIgK1xuICAgICAgICAgIFwiXFxuXFxuTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTpcIiArXG4gICAgICAgICAgXCJcXG5odHRwczovL2ZiLm1lL3JlYWN0LWFzeW5jLWNvbXBvbmVudC1saWZlY3ljbGUtaG9va3NcIixcbiAgICAgICAgX3NvcnRlZE5hbWVzXG4gICAgICApO1xuXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW107XG4gICAgfVxuXG4gICAgaWYgKHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIF91bmlxdWVOYW1lczIgPSBuZXcgU2V0KCk7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24oZmliZXIpIHtcbiAgICAgICAgX3VuaXF1ZU5hbWVzMi5hZGQoZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgXCJDb21wb25lbnRcIik7XG4gICAgICAgIGRpZFdhcm5BYm91dERlcHJlY2F0ZWRMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgX3NvcnRlZE5hbWVzMiA9IEFycmF5LmZyb20oX3VuaXF1ZU5hbWVzMilcbiAgICAgICAgLnNvcnQoKVxuICAgICAgICAuam9pbihcIiwgXCIpO1xuXG4gICAgICBsb3dQcmlvcml0eVdhcm5pbmckMShcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFwiY29tcG9uZW50V2lsbFVwZGF0ZSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi4gXCIgK1xuICAgICAgICAgIFwiVXNlIGNvbXBvbmVudERpZFVwZGF0ZSBpbnN0ZWFkLiBBcyBhIHRlbXBvcmFyeSB3b3JrYXJvdW5kLCBcIiArXG4gICAgICAgICAgXCJ5b3UgY2FuIHJlbmFtZSB0byBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZS5cIiArXG4gICAgICAgICAgXCJcXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXNcIiArXG4gICAgICAgICAgXCJcXG5cXG5MZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOlwiICtcbiAgICAgICAgICBcIlxcbmh0dHBzOi8vZmIubWUvcmVhY3QtYXN5bmMtY29tcG9uZW50LWxpZmVjeWNsZS1ob29rc1wiLFxuICAgICAgICBfc29ydGVkTmFtZXMyXG4gICAgICApO1xuXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW107XG4gICAgfVxuICB9O1xuXG4gIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLnJlY29yZERlcHJlY2F0aW9uV2FybmluZ3MgPSBmdW5jdGlvbihcbiAgICBmaWJlcixcbiAgICBpbnN0YW5jZVxuICApIHtcbiAgICAvLyBEZWR1cCBzdHJhdGVneTogV2FybiBvbmNlIHBlciBjb21wb25lbnQuXG4gICAgaWYgKGRpZFdhcm5BYm91dERlcHJlY2F0ZWRMaWZlY3ljbGVzLmhhcyhmaWJlci50eXBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERvbid0IHdhcm4gYWJvdXQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLlxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgIT09IHRydWVcbiAgICApIHtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5wdXNoKGZpYmVyKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PSB0cnVlXG4gICAgKSB7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLnB1c2goZmliZXIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5wdXNoKGZpYmVyKTtcbiAgICB9XG4gIH07XG5cbiAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBmdW5jdGlvbihcbiAgICBmaWJlcixcbiAgICBpbnN0YW5jZVxuICApIHtcbiAgICB2YXIgc3RyaWN0Um9vdCA9IGdldFN0cmljdFJvb3QoZmliZXIpO1xuXG4gICAgLy8gRGVkdXAgc3RyYXRlZ3k6IFdhcm4gb25jZSBwZXIgY29tcG9uZW50LlxuICAgIC8vIFRoaXMgaXMgZGlmZmljdWx0IHRvIHRyYWNrIGFueSBvdGhlciB3YXkgc2luY2UgY29tcG9uZW50IG5hbWVzXG4gICAgLy8gYXJlIG9mdGVuIHZhZ3VlIGFuZCBhcmUgbGlrZWx5IHRvIGNvbGxpZGUgYmV0d2VlbiAzcmQgcGFydHkgbGlicmFyaWVzLlxuICAgIC8vIEFuIGV4cGFuZCBwcm9wZXJ0eSBpcyBwcm9iYWJseSBva2F5IHRvIHVzZSBoZXJlIHNpbmNlIGl0J3MgREVWLW9ubHksXG4gICAgLy8gYW5kIHdpbGwgb25seSBiZSBzZXQgaW4gdGhlIGV2ZW50IG9mIHNlcmlvdXMgd2FybmluZ3MuXG4gICAgaWYgKGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuaGFzKGZpYmVyLnR5cGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRG9uJ3Qgd2FybiBhYm91dCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMuXG4gICAgLy8gTm90ZSB0aGF0IGl0IGlzIHN1ZmZpY2llbnQgdG8gY2hlY2sgZm9yIHRoZSBwcmVzZW5jZSBvZiBhXG4gICAgLy8gc2luZ2xlIGxpZmVjeWNsZSwgY29tcG9uZW50V2lsbE1vdW50LCB3aXRoIHRoZSBwb2x5ZmlsbCBmbGFnLlxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgPT09IHRydWVcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgd2FybmluZ3NGb3JSb290ID0gdm9pZCAwO1xuICAgIGlmICghcGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzLmhhcyhzdHJpY3RSb290KSkge1xuICAgICAgd2FybmluZ3NGb3JSb290ID0ge1xuICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50OiBbXSxcbiAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IFtdLFxuICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZTogW11cbiAgICAgIH07XG5cbiAgICAgIHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncy5zZXQoc3RyaWN0Um9vdCwgd2FybmluZ3NGb3JSb290KTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybmluZ3NGb3JSb290ID0gcGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzLmdldChzdHJpY3RSb290KTtcbiAgICB9XG5cbiAgICB2YXIgdW5zYWZlTGlmZWN5Y2xlcyA9IFtdO1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09IFwiZnVuY3Rpb25cIlxuICAgICkge1xuICAgICAgdW5zYWZlTGlmZWN5Y2xlcy5wdXNoKFwiVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudFwiKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSBcImZ1bmN0aW9uXCJcbiAgICApIHtcbiAgICAgIHVuc2FmZUxpZmVjeWNsZXMucHVzaChcIlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCIpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgICB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09IFwiZnVuY3Rpb25cIlxuICAgICkge1xuICAgICAgdW5zYWZlTGlmZWN5Y2xlcy5wdXNoKFwiVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGVcIik7XG4gICAgfVxuXG4gICAgaWYgKHVuc2FmZUxpZmVjeWNsZXMubGVuZ3RoID4gMCkge1xuICAgICAgdW5zYWZlTGlmZWN5Y2xlcy5mb3JFYWNoKGZ1bmN0aW9uKGxpZmVjeWNsZSkge1xuICAgICAgICB3YXJuaW5nc0ZvclJvb3RbbGlmZWN5Y2xlXS5wdXNoKGZpYmVyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGUgPSB2b2lkIDA7XG5cbntcbiAgZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZSA9IGZhbHNlO1xufVxuXG4vLyBDYWxsYmFja3MgYXJlIG5vdCB2YWxpZGF0ZWQgdW50aWwgaW52b2NhdGlvblxuXG4vLyBTaW5nbHkgbGlua2VkLWxpc3Qgb2YgdXBkYXRlcy4gV2hlbiBhbiB1cGRhdGUgaXMgc2NoZWR1bGVkLCBpdCBpcyBhZGRlZCB0b1xuLy8gdGhlIHF1ZXVlIG9mIHRoZSBjdXJyZW50IGZpYmVyIGFuZCB0aGUgd29yay1pbi1wcm9ncmVzcyBmaWJlci4gVGhlIHR3byBxdWV1ZXNcbi8vIGFyZSBzZXBhcmF0ZSBidXQgdGhleSBzaGFyZSBhIHBlcnNpc3RlbnQgc3RydWN0dXJlLlxuLy9cbi8vIER1cmluZyByZWNvbmNpbGlhdGlvbiwgdXBkYXRlcyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSB3b3JrLWluLXByb2dyZXNzIGZpYmVyLFxuLy8gYnV0IHRoZXkgcmVtYWluIG9uIHRoZSBjdXJyZW50IGZpYmVyLiBUaGF0IGVuc3VyZXMgdGhhdCBpZiBhIHdvcmstaW4tcHJvZ3Jlc3Ncbi8vIGlzIGFib3J0ZWQsIHRoZSBhYm9ydGVkIHVwZGF0ZXMgYXJlIHJlY292ZXJlZCBieSBjbG9uaW5nIGZyb20gY3VycmVudC5cbi8vXG4vLyBUaGUgd29yay1pbi1wcm9ncmVzcyBxdWV1ZSBpcyBhbHdheXMgYSBzdWJzZXQgb2YgdGhlIGN1cnJlbnQgcXVldWUuXG4vL1xuLy8gV2hlbiB0aGUgdHJlZSBpcyBjb21taXR0ZWQsIHRoZSB3b3JrLWluLXByb2dyZXNzIGJlY29tZXMgdGhlIGN1cnJlbnQuXG5cbmZ1bmN0aW9uIGNyZWF0ZVVwZGF0ZVF1ZXVlKGJhc2VTdGF0ZSkge1xuICB2YXIgcXVldWUgPSB7XG4gICAgYmFzZVN0YXRlOiBiYXNlU3RhdGUsXG4gICAgZXhwaXJhdGlvblRpbWU6IE5vV29yayxcbiAgICBmaXJzdDogbnVsbCxcbiAgICBsYXN0OiBudWxsLFxuICAgIGNhbGxiYWNrTGlzdDogbnVsbCxcbiAgICBoYXNGb3JjZVVwZGF0ZTogZmFsc2UsXG4gICAgaXNJbml0aWFsaXplZDogZmFsc2UsXG4gICAgY2FwdHVyZWRWYWx1ZXM6IG51bGxcbiAgfTtcbiAge1xuICAgIHF1ZXVlLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICB9XG4gIHJldHVybiBxdWV1ZTtcbn1cblxuZnVuY3Rpb24gaW5zZXJ0VXBkYXRlSW50b1F1ZXVlKHF1ZXVlLCB1cGRhdGUpIHtcbiAgLy8gQXBwZW5kIHRoZSB1cGRhdGUgdG8gdGhlIGVuZCBvZiB0aGUgbGlzdC5cbiAgaWYgKHF1ZXVlLmxhc3QgPT09IG51bGwpIHtcbiAgICAvLyBRdWV1ZSBpcyBlbXB0eVxuICAgIHF1ZXVlLmZpcnN0ID0gcXVldWUubGFzdCA9IHVwZGF0ZTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZS5sYXN0Lm5leHQgPSB1cGRhdGU7XG4gICAgcXVldWUubGFzdCA9IHVwZGF0ZTtcbiAgfVxuICBpZiAoXG4gICAgcXVldWUuZXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fFxuICAgIHF1ZXVlLmV4cGlyYXRpb25UaW1lID4gdXBkYXRlLmV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIHF1ZXVlLmV4cGlyYXRpb25UaW1lID0gdXBkYXRlLmV4cGlyYXRpb25UaW1lO1xuICB9XG59XG5cbnZhciBxMSA9IHZvaWQgMDtcbnZhciBxMiA9IHZvaWQgMDtcbmZ1bmN0aW9uIGVuc3VyZVVwZGF0ZVF1ZXVlcyhmaWJlcikge1xuICBxMSA9IHEyID0gbnVsbDtcbiAgLy8gV2UnbGwgaGF2ZSBhdCBsZWFzdCBvbmUgYW5kIGF0IG1vc3QgdHdvIGRpc3RpbmN0IHVwZGF0ZSBxdWV1ZXMuXG4gIHZhciBhbHRlcm5hdGVGaWJlciA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgdmFyIHF1ZXVlMSA9IGZpYmVyLnVwZGF0ZVF1ZXVlO1xuICBpZiAocXVldWUxID09PSBudWxsKSB7XG4gICAgLy8gVE9ETzogV2UgZG9uJ3Qga25vdyB3aGF0IHRoZSBiYXNlIHN0YXRlIHdpbGwgYmUgdW50aWwgd2UgYmVnaW4gd29yay5cbiAgICAvLyBJdCBkZXBlbmRzIG9uIHdoaWNoIGZpYmVyIGlzIHRoZSBuZXh0IGN1cnJlbnQuIEluaXRpYWxpemUgd2l0aCBhbiBlbXB0eVxuICAgIC8vIGJhc2Ugc3RhdGUsIHRoZW4gc2V0IHRvIHRoZSBtZW1vaXplZFN0YXRlIHdoZW4gcmVuZGVyaW5nLiBOb3Qgc3VwZXJcbiAgICAvLyBoYXBweSB3aXRoIHRoaXMgYXBwcm9hY2guXG4gICAgcXVldWUxID0gZmliZXIudXBkYXRlUXVldWUgPSBjcmVhdGVVcGRhdGVRdWV1ZShudWxsKTtcbiAgfVxuXG4gIHZhciBxdWV1ZTIgPSB2b2lkIDA7XG4gIGlmIChhbHRlcm5hdGVGaWJlciAhPT0gbnVsbCkge1xuICAgIHF1ZXVlMiA9IGFsdGVybmF0ZUZpYmVyLnVwZGF0ZVF1ZXVlO1xuICAgIGlmIChxdWV1ZTIgPT09IG51bGwpIHtcbiAgICAgIHF1ZXVlMiA9IGFsdGVybmF0ZUZpYmVyLnVwZGF0ZVF1ZXVlID0gY3JlYXRlVXBkYXRlUXVldWUobnVsbCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHF1ZXVlMiA9IG51bGw7XG4gIH1cbiAgcXVldWUyID0gcXVldWUyICE9PSBxdWV1ZTEgPyBxdWV1ZTIgOiBudWxsO1xuXG4gIC8vIFVzZSBtb2R1bGUgdmFyaWFibGVzIGluc3RlYWQgb2YgcmV0dXJuaW5nIGEgdHVwbGVcbiAgcTEgPSBxdWV1ZTE7XG4gIHEyID0gcXVldWUyO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRVcGRhdGVJbnRvRmliZXIoZmliZXIsIHVwZGF0ZSkge1xuICBlbnN1cmVVcGRhdGVRdWV1ZXMoZmliZXIpO1xuICB2YXIgcXVldWUxID0gcTE7XG4gIHZhciBxdWV1ZTIgPSBxMjtcblxuICAvLyBXYXJuIGlmIGFuIHVwZGF0ZSBpcyBzY2hlZHVsZWQgZnJvbSBpbnNpZGUgYW4gdXBkYXRlciBmdW5jdGlvbi5cbiAge1xuICAgIGlmIChcbiAgICAgIChxdWV1ZTEuaXNQcm9jZXNzaW5nIHx8IChxdWV1ZTIgIT09IG51bGwgJiYgcXVldWUyLmlzUHJvY2Vzc2luZykpICYmXG4gICAgICAhZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZVxuICAgICkge1xuICAgICAgd2FybmluZyhcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFwiQW4gdXBkYXRlIChzZXRTdGF0ZSwgcmVwbGFjZVN0YXRlLCBvciBmb3JjZVVwZGF0ZSkgd2FzIHNjaGVkdWxlZCBcIiArXG4gICAgICAgICAgXCJmcm9tIGluc2lkZSBhbiB1cGRhdGUgZnVuY3Rpb24uIFVwZGF0ZSBmdW5jdGlvbnMgc2hvdWxkIGJlIHB1cmUsIFwiICtcbiAgICAgICAgICBcIndpdGggemVybyBzaWRlLWVmZmVjdHMuIENvbnNpZGVyIHVzaW5nIGNvbXBvbmVudERpZFVwZGF0ZSBvciBhIFwiICtcbiAgICAgICAgICBcImNhbGxiYWNrLlwiXG4gICAgICApO1xuICAgICAgZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgdGhlcmUncyBvbmx5IG9uZSBxdWV1ZSwgYWRkIHRoZSB1cGRhdGUgdG8gdGhhdCBxdWV1ZSBhbmQgZXhpdC5cbiAgaWYgKHF1ZXVlMiA9PT0gbnVsbCkge1xuICAgIGluc2VydFVwZGF0ZUludG9RdWV1ZShxdWV1ZTEsIHVwZGF0ZSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSWYgZWl0aGVyIHF1ZXVlIGlzIGVtcHR5LCB3ZSBuZWVkIHRvIGFkZCB0byBib3RoIHF1ZXVlcy5cbiAgaWYgKHF1ZXVlMS5sYXN0ID09PSBudWxsIHx8IHF1ZXVlMi5sYXN0ID09PSBudWxsKSB7XG4gICAgaW5zZXJ0VXBkYXRlSW50b1F1ZXVlKHF1ZXVlMSwgdXBkYXRlKTtcbiAgICBpbnNlcnRVcGRhdGVJbnRvUXVldWUocXVldWUyLCB1cGRhdGUpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIElmIGJvdGggbGlzdHMgYXJlIG5vdCBlbXB0eSwgdGhlIGxhc3QgdXBkYXRlIGlzIHRoZSBzYW1lIGZvciBib3RoIGxpc3RzXG4gIC8vIGJlY2F1c2Ugb2Ygc3RydWN0dXJhbCBzaGFyaW5nLiBTbywgd2Ugc2hvdWxkIG9ubHkgYXBwZW5kIHRvIG9uZSBvZlxuICAvLyB0aGUgbGlzdHMuXG4gIGluc2VydFVwZGF0ZUludG9RdWV1ZShxdWV1ZTEsIHVwZGF0ZSk7XG4gIC8vIEJ1dCB3ZSBzdGlsbCBuZWVkIHRvIHVwZGF0ZSB0aGUgYGxhc3RgIHBvaW50ZXIgb2YgcXVldWUyLlxuICBxdWV1ZTIubGFzdCA9IHVwZGF0ZTtcbn1cblxuZnVuY3Rpb24gZ2V0VXBkYXRlRXhwaXJhdGlvblRpbWUoZmliZXIpIHtcbiAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICBjYXNlIEhvc3RSb290OlxuICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICB2YXIgdXBkYXRlUXVldWUgPSBmaWJlci51cGRhdGVRdWV1ZTtcbiAgICAgIGlmICh1cGRhdGVRdWV1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gTm9Xb3JrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVwZGF0ZVF1ZXVlLmV4cGlyYXRpb25UaW1lO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gTm9Xb3JrO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFN0YXRlRnJvbVVwZGF0ZSh1cGRhdGUsIGluc3RhbmNlLCBwcmV2U3RhdGUsIHByb3BzKSB7XG4gIHZhciBwYXJ0aWFsU3RhdGUgPSB1cGRhdGUucGFydGlhbFN0YXRlO1xuICBpZiAodHlwZW9mIHBhcnRpYWxTdGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIHBhcnRpYWxTdGF0ZS5jYWxsKGluc3RhbmNlLCBwcmV2U3RhdGUsIHByb3BzKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcGFydGlhbFN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NVcGRhdGVRdWV1ZShcbiAgY3VycmVudCxcbiAgd29ya0luUHJvZ3Jlc3MsXG4gIHF1ZXVlLFxuICBpbnN0YW5jZSxcbiAgcHJvcHMsXG4gIHJlbmRlckV4cGlyYXRpb25UaW1lXG4pIHtcbiAgaWYgKGN1cnJlbnQgIT09IG51bGwgJiYgY3VycmVudC51cGRhdGVRdWV1ZSA9PT0gcXVldWUpIHtcbiAgICAvLyBXZSBuZWVkIHRvIGNyZWF0ZSBhIHdvcmstaW4tcHJvZ3Jlc3MgcXVldWUsIGJ5IGNsb25pbmcgdGhlIGN1cnJlbnQgcXVldWUuXG4gICAgdmFyIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgIHF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSB7XG4gICAgICBiYXNlU3RhdGU6IGN1cnJlbnRRdWV1ZS5iYXNlU3RhdGUsXG4gICAgICBleHBpcmF0aW9uVGltZTogY3VycmVudFF1ZXVlLmV4cGlyYXRpb25UaW1lLFxuICAgICAgZmlyc3Q6IGN1cnJlbnRRdWV1ZS5maXJzdCxcbiAgICAgIGxhc3Q6IGN1cnJlbnRRdWV1ZS5sYXN0LFxuICAgICAgaXNJbml0aWFsaXplZDogY3VycmVudFF1ZXVlLmlzSW5pdGlhbGl6ZWQsXG4gICAgICBjYXB0dXJlZFZhbHVlczogY3VycmVudFF1ZXVlLmNhcHR1cmVkVmFsdWVzLFxuICAgICAgLy8gVGhlc2UgZmllbGRzIGFyZSBubyBsb25nZXIgdmFsaWQgYmVjYXVzZSB0aGV5IHdlcmUgYWxyZWFkeSBjb21taXR0ZWQuXG4gICAgICAvLyBSZXNldCB0aGVtLlxuICAgICAgY2FsbGJhY2tMaXN0OiBudWxsLFxuICAgICAgaGFzRm9yY2VVcGRhdGU6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIHtcbiAgICAvLyBTZXQgdGhpcyBmbGFnIHNvIHdlIGNhbiB3YXJuIGlmIHNldFN0YXRlIGlzIGNhbGxlZCBpbnNpZGUgdGhlIHVwZGF0ZVxuICAgIC8vIGZ1bmN0aW9uIG9mIGFub3RoZXIgc2V0U3RhdGUuXG4gICAgcXVldWUuaXNQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIFJlc2V0IHRoZSByZW1haW5pbmcgZXhwaXJhdGlvbiB0aW1lLiBJZiB3ZSBza2lwIG92ZXIgYW55IHVwZGF0ZXMsIHdlJ2xsXG4gIC8vIGluY3JlYXNlIHRoaXMgYWNjb3JkaW5nbHkuXG4gIHF1ZXVlLmV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuXG4gIC8vIFRPRE86IFdlIGRvbid0IGtub3cgd2hhdCB0aGUgYmFzZSBzdGF0ZSB3aWxsIGJlIHVudGlsIHdlIGJlZ2luIHdvcmsuXG4gIC8vIEl0IGRlcGVuZHMgb24gd2hpY2ggZmliZXIgaXMgdGhlIG5leHQgY3VycmVudC4gSW5pdGlhbGl6ZSB3aXRoIGFuIGVtcHR5XG4gIC8vIGJhc2Ugc3RhdGUsIHRoZW4gc2V0IHRvIHRoZSBtZW1vaXplZFN0YXRlIHdoZW4gcmVuZGVyaW5nLiBOb3Qgc3VwZXJcbiAgLy8gaGFwcHkgd2l0aCB0aGlzIGFwcHJvYWNoLlxuICB2YXIgc3RhdGUgPSB2b2lkIDA7XG4gIGlmIChxdWV1ZS5pc0luaXRpYWxpemVkKSB7XG4gICAgc3RhdGUgPSBxdWV1ZS5iYXNlU3RhdGU7XG4gIH0gZWxzZSB7XG4gICAgc3RhdGUgPSBxdWV1ZS5iYXNlU3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgIHF1ZXVlLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9XG4gIHZhciBkb250TXV0YXRlUHJldlN0YXRlID0gdHJ1ZTtcbiAgdmFyIHVwZGF0ZSA9IHF1ZXVlLmZpcnN0O1xuICB2YXIgZGlkU2tpcCA9IGZhbHNlO1xuICB3aGlsZSAodXBkYXRlICE9PSBudWxsKSB7XG4gICAgdmFyIHVwZGF0ZUV4cGlyYXRpb25UaW1lID0gdXBkYXRlLmV4cGlyYXRpb25UaW1lO1xuICAgIGlmICh1cGRhdGVFeHBpcmF0aW9uVGltZSA+IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAvLyBUaGlzIHVwZGF0ZSBkb2VzIG5vdCBoYXZlIHN1ZmZpY2llbnQgcHJpb3JpdHkuIFNraXAgaXQuXG4gICAgICB2YXIgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPSBxdWV1ZS5leHBpcmF0aW9uVGltZTtcbiAgICAgIGlmIChcbiAgICAgICAgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fFxuICAgICAgICByZW1haW5pbmdFeHBpcmF0aW9uVGltZSA+IHVwZGF0ZUV4cGlyYXRpb25UaW1lXG4gICAgICApIHtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSByZW1haW5pbmcgZXhwaXJhdGlvbiB0aW1lLlxuICAgICAgICBxdWV1ZS5leHBpcmF0aW9uVGltZSA9IHVwZGF0ZUV4cGlyYXRpb25UaW1lO1xuICAgICAgfVxuICAgICAgaWYgKCFkaWRTa2lwKSB7XG4gICAgICAgIGRpZFNraXAgPSB0cnVlO1xuICAgICAgICBxdWV1ZS5iYXNlU3RhdGUgPSBzdGF0ZTtcbiAgICAgIH1cbiAgICAgIC8vIENvbnRpbnVlIHRvIHRoZSBuZXh0IHVwZGF0ZS5cbiAgICAgIHVwZGF0ZSA9IHVwZGF0ZS5uZXh0O1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gVGhpcyB1cGRhdGUgZG9lcyBoYXZlIHN1ZmZpY2llbnQgcHJpb3JpdHkuXG5cbiAgICAvLyBJZiBubyBwcmV2aW91cyB1cGRhdGVzIHdlcmUgc2tpcHBlZCwgZHJvcCB0aGlzIHVwZGF0ZSBmcm9tIHRoZSBxdWV1ZSBieVxuICAgIC8vIGFkdmFuY2luZyB0aGUgaGVhZCBvZiB0aGUgbGlzdC5cbiAgICBpZiAoIWRpZFNraXApIHtcbiAgICAgIHF1ZXVlLmZpcnN0ID0gdXBkYXRlLm5leHQ7XG4gICAgICBpZiAocXVldWUuZmlyc3QgPT09IG51bGwpIHtcbiAgICAgICAgcXVldWUubGFzdCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSW52b2tlIHNldFN0YXRlIGNhbGxiYWNrIGFuIGV4dHJhIHRpbWUgdG8gaGVscCBkZXRlY3Qgc2lkZS1lZmZlY3RzLlxuICAgIC8vIElnbm9yZSB0aGUgcmV0dXJuIHZhbHVlIGluIHRoaXMgY2FzZS5cbiAgICBpZiAoXG4gICAgICBkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHMgfHxcbiAgICAgIChkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlICYmXG4gICAgICAgIHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RNb2RlKVxuICAgICkge1xuICAgICAgZ2V0U3RhdGVGcm9tVXBkYXRlKHVwZGF0ZSwgaW5zdGFuY2UsIHN0YXRlLCBwcm9wcyk7XG4gICAgfVxuXG4gICAgLy8gUHJvY2VzcyB0aGUgdXBkYXRlXG4gICAgdmFyIF9wYXJ0aWFsU3RhdGUgPSB2b2lkIDA7XG4gICAgaWYgKHVwZGF0ZS5pc1JlcGxhY2UpIHtcbiAgICAgIHN0YXRlID0gZ2V0U3RhdGVGcm9tVXBkYXRlKHVwZGF0ZSwgaW5zdGFuY2UsIHN0YXRlLCBwcm9wcyk7XG4gICAgICBkb250TXV0YXRlUHJldlN0YXRlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3BhcnRpYWxTdGF0ZSA9IGdldFN0YXRlRnJvbVVwZGF0ZSh1cGRhdGUsIGluc3RhbmNlLCBzdGF0ZSwgcHJvcHMpO1xuICAgICAgaWYgKF9wYXJ0aWFsU3RhdGUpIHtcbiAgICAgICAgaWYgKGRvbnRNdXRhdGVQcmV2U3RhdGUpIHtcbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lOiBJZGsgaG93IHRvIHR5cGUgdGhpcyBwcm9wZXJseS5cbiAgICAgICAgICBzdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBfcGFydGlhbFN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0ZSA9IE9iamVjdC5hc3NpZ24oc3RhdGUsIF9wYXJ0aWFsU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGRvbnRNdXRhdGVQcmV2U3RhdGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVwZGF0ZS5pc0ZvcmNlZCkge1xuICAgICAgcXVldWUuaGFzRm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodXBkYXRlLmNhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgICAvLyBBcHBlbmQgdG8gbGlzdCBvZiBjYWxsYmFja3MuXG4gICAgICB2YXIgX2NhbGxiYWNrTGlzdCA9IHF1ZXVlLmNhbGxiYWNrTGlzdDtcbiAgICAgIGlmIChfY2FsbGJhY2tMaXN0ID09PSBudWxsKSB7XG4gICAgICAgIF9jYWxsYmFja0xpc3QgPSBxdWV1ZS5jYWxsYmFja0xpc3QgPSBbXTtcbiAgICAgIH1cbiAgICAgIF9jYWxsYmFja0xpc3QucHVzaCh1cGRhdGUpO1xuICAgIH1cbiAgICBpZiAodXBkYXRlLmNhcHR1cmVkVmFsdWUgIT09IG51bGwpIHtcbiAgICAgIHZhciBfY2FwdHVyZWRWYWx1ZXMgPSBxdWV1ZS5jYXB0dXJlZFZhbHVlcztcbiAgICAgIGlmIChfY2FwdHVyZWRWYWx1ZXMgPT09IG51bGwpIHtcbiAgICAgICAgcXVldWUuY2FwdHVyZWRWYWx1ZXMgPSBbdXBkYXRlLmNhcHR1cmVkVmFsdWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2NhcHR1cmVkVmFsdWVzLnB1c2godXBkYXRlLmNhcHR1cmVkVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUgPSB1cGRhdGUubmV4dDtcbiAgfVxuXG4gIGlmIChxdWV1ZS5jYWxsYmFja0xpc3QgIT09IG51bGwpIHtcbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gQ2FsbGJhY2s7XG4gIH0gZWxzZSBpZiAoXG4gICAgcXVldWUuZmlyc3QgPT09IG51bGwgJiZcbiAgICAhcXVldWUuaGFzRm9yY2VVcGRhdGUgJiZcbiAgICBxdWV1ZS5jYXB0dXJlZFZhbHVlcyA9PT0gbnVsbFxuICApIHtcbiAgICAvLyBUaGUgcXVldWUgaXMgZW1wdHkuIFdlIGNhbiByZXNldCBpdC5cbiAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IG51bGw7XG4gIH1cblxuICBpZiAoIWRpZFNraXApIHtcbiAgICBkaWRTa2lwID0gdHJ1ZTtcbiAgICBxdWV1ZS5iYXNlU3RhdGUgPSBzdGF0ZTtcbiAgfVxuXG4gIHtcbiAgICAvLyBObyBsb25nZXIgcHJvY2Vzc2luZy5cbiAgICBxdWV1ZS5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZnVuY3Rpb24gY29tbWl0Q2FsbGJhY2tzKHF1ZXVlLCBjb250ZXh0KSB7XG4gIHZhciBjYWxsYmFja0xpc3QgPSBxdWV1ZS5jYWxsYmFja0xpc3Q7XG4gIGlmIChjYWxsYmFja0xpc3QgPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gU2V0IHRoZSBsaXN0IHRvIG51bGwgdG8gbWFrZSBzdXJlIHRoZXkgZG9uJ3QgZ2V0IGNhbGxlZCBtb3JlIHRoYW4gb25jZS5cbiAgcXVldWUuY2FsbGJhY2tMaXN0ID0gbnVsbDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdXBkYXRlID0gY2FsbGJhY2tMaXN0W2ldO1xuICAgIHZhciBfY2FsbGJhY2sgPSB1cGRhdGUuY2FsbGJhY2s7XG4gICAgLy8gVGhpcyB1cGRhdGUgbWlnaHQgYmUgcHJvY2Vzc2VkIGFnYWluLiBDbGVhciB0aGUgY2FsbGJhY2sgc28gaXQncyBvbmx5XG4gICAgLy8gY2FsbGVkIG9uY2UuXG4gICAgdXBkYXRlLmNhbGxiYWNrID0gbnVsbDtcbiAgICBpbnZhcmlhbnQoXG4gICAgICB0eXBlb2YgX2NhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIsXG4gICAgICBcIkludmFsaWQgYXJndW1lbnQgcGFzc2VkIGFzIGNhbGxiYWNrLiBFeHBlY3RlZCBhIGZ1bmN0aW9uLiBJbnN0ZWFkIFwiICtcbiAgICAgICAgXCJyZWNlaXZlZDogJXNcIixcbiAgICAgIF9jYWxsYmFja1xuICAgICk7XG4gICAgX2NhbGxiYWNrLmNhbGwoY29udGV4dCk7XG4gIH1cbn1cblxudmFyIGZha2VJbnRlcm5hbEluc3RhbmNlID0ge307XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbnZhciBkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQgPSB2b2lkIDA7XG52YXIgZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZSA9IHZvaWQgMDtcbnZhciBkaWRXYXJuQWJvdXRXaWxsUmVjZWl2ZVByb3BzQW5kRGVyaXZlZFN0YXRlID0gdm9pZCAwO1xudmFyIHdhcm5PbkludmFsaWRDYWxsYmFjayA9IHZvaWQgMDtcblxue1xuICBkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQgPSB7fTtcbiAgZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlID0ge307XG4gIGRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZSA9IHt9O1xuICBkaWRXYXJuQWJvdXRXaWxsUmVjZWl2ZVByb3BzQW5kRGVyaXZlZFN0YXRlID0ge307XG5cbiAgdmFyIGRpZFdhcm5PbkludmFsaWRDYWxsYmFjayA9IHt9O1xuXG4gIHdhcm5PbkludmFsaWRDYWxsYmFjayA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgaWYgKGNhbGxiYWNrID09PSBudWxsIHx8IHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBrZXkgPSBjYWxsZXJOYW1lICsgXCJfXCIgKyBjYWxsYmFjaztcbiAgICBpZiAoIWRpZFdhcm5PbkludmFsaWRDYWxsYmFja1trZXldKSB7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgXCIlcyguLi4pOiBFeHBlY3RlZCB0aGUgbGFzdCBvcHRpb25hbCBgY2FsbGJhY2tgIGFyZ3VtZW50IHRvIGJlIGEgXCIgK1xuICAgICAgICAgIFwiZnVuY3Rpb24uIEluc3RlYWQgcmVjZWl2ZWQ6ICVzLlwiLFxuICAgICAgICBjYWxsZXJOYW1lLFxuICAgICAgICBjYWxsYmFja1xuICAgICAgKTtcbiAgICAgIGRpZFdhcm5PbkludmFsaWRDYWxsYmFja1trZXldID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVGhpcyBpcyBzbyBncm9zcyBidXQgaXQncyBhdCBsZWFzdCBub24tY3JpdGljYWwgYW5kIGNhbiBiZSByZW1vdmVkIGlmXG4gIC8vIGl0IGNhdXNlcyBwcm9ibGVtcy4gVGhpcyBpcyBtZWFudCB0byBnaXZlIGEgbmljZXIgZXJyb3IgbWVzc2FnZSBmb3JcbiAgLy8gUmVhY3RET00xNS51bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihyZWFjdERPTTE2Q29tcG9uZW50LFxuICAvLyAuLi4pKSB3aGljaCBvdGhlcndpc2UgdGhyb3dzIGEgXCJfcHJvY2Vzc0NoaWxkQ29udGV4dCBpcyBub3QgYSBmdW5jdGlvblwiXG4gIC8vIGV4Y2VwdGlvbi5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZha2VJbnRlcm5hbEluc3RhbmNlLCBcIl9wcm9jZXNzQ2hpbGRDb250ZXh0XCIsIHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBcIl9wcm9jZXNzQ2hpbGRDb250ZXh0IGlzIG5vdCBhdmFpbGFibGUgaW4gUmVhY3QgMTYrLiBUaGlzIGxpa2VseSBcIiArXG4gICAgICAgICAgXCJtZWFucyB5b3UgaGF2ZSBtdWx0aXBsZSBjb3BpZXMgb2YgUmVhY3QgYW5kIGFyZSBhdHRlbXB0aW5nIHRvIG5lc3QgXCIgK1xuICAgICAgICAgIFwiYSBSZWFjdCAxNSB0cmVlIGluc2lkZSBhIFJlYWN0IDE2IHRyZWUgdXNpbmcgXCIgK1xuICAgICAgICAgIFwidW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIsIHdoaWNoIGlzbid0IHN1cHBvcnRlZC4gVHJ5IFwiICtcbiAgICAgICAgICBcInRvIG1ha2Ugc3VyZSB5b3UgaGF2ZSBvbmx5IG9uZSBjb3B5IG9mIFJlYWN0IChhbmQgaWRlYWxseSwgc3dpdGNoIFwiICtcbiAgICAgICAgICBcInRvIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbCkuXCJcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmZyZWV6ZShmYWtlSW50ZXJuYWxJbnN0YW5jZSk7XG59XG5mdW5jdGlvbiBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoKGN0b3IsIGNhcHR1cmVkVmFsdWVzKSB7XG4gIHZhciByZXN1bHRTdGF0ZSA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhcHR1cmVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNhcHR1cmVkVmFsdWUgPSBjYXB0dXJlZFZhbHVlc1tpXTtcbiAgICB2YXIgZXJyb3IgPSBjYXB0dXJlZFZhbHVlLnZhbHVlO1xuICAgIHZhciBwYXJ0aWFsU3RhdGUgPSBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaC5jYWxsKG51bGwsIGVycm9yKTtcbiAgICBpZiAocGFydGlhbFN0YXRlICE9PSBudWxsICYmIHBhcnRpYWxTdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHJlc3VsdFN0YXRlLCBwYXJ0aWFsU3RhdGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0U3RhdGU7XG59XG5cbnZhciBSZWFjdEZpYmVyQ2xhc3NDb21wb25lbnQgPSBmdW5jdGlvbihcbiAgc2NoZWR1bGVXb3JrLFxuICBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyLFxuICBtZW1vaXplUHJvcHMsXG4gIG1lbW9pemVTdGF0ZVxuKSB7XG4gIC8vIENsYXNzIGNvbXBvbmVudCBzdGF0ZSB1cGRhdGVyXG4gIHZhciB1cGRhdGVyID0ge1xuICAgIGlzTW91bnRlZDogaXNNb3VudGVkLFxuICAgIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24oaW5zdGFuY2UsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBmaWJlciA9IGdldChpbnN0YW5jZSk7XG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG4gICAgICB7XG4gICAgICAgIHdhcm5PbkludmFsaWRDYWxsYmFjayhjYWxsYmFjaywgXCJzZXRTdGF0ZVwiKTtcbiAgICAgIH1cbiAgICAgIHZhciBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoZmliZXIpO1xuICAgICAgdmFyIHVwZGF0ZSA9IHtcbiAgICAgICAgZXhwaXJhdGlvblRpbWU6IGV4cGlyYXRpb25UaW1lLFxuICAgICAgICBwYXJ0aWFsU3RhdGU6IHBhcnRpYWxTdGF0ZSxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICBpc1JlcGxhY2U6IGZhbHNlLFxuICAgICAgICBpc0ZvcmNlZDogZmFsc2UsXG4gICAgICAgIGNhcHR1cmVkVmFsdWU6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBpbnNlcnRVcGRhdGVJbnRvRmliZXIoZmliZXIsIHVwZGF0ZSk7XG4gICAgICBzY2hlZHVsZVdvcmsoZmliZXIsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9LFxuICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uKGluc3RhbmNlLCBzdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBmaWJlciA9IGdldChpbnN0YW5jZSk7XG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG4gICAgICB7XG4gICAgICAgIHdhcm5PbkludmFsaWRDYWxsYmFjayhjYWxsYmFjaywgXCJyZXBsYWNlU3RhdGVcIik7XG4gICAgICB9XG4gICAgICB2YXIgZXhwaXJhdGlvblRpbWUgPSBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyKGZpYmVyKTtcbiAgICAgIHZhciB1cGRhdGUgPSB7XG4gICAgICAgIGV4cGlyYXRpb25UaW1lOiBleHBpcmF0aW9uVGltZSxcbiAgICAgICAgcGFydGlhbFN0YXRlOiBzdGF0ZSxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICBpc1JlcGxhY2U6IHRydWUsXG4gICAgICAgIGlzRm9yY2VkOiBmYWxzZSxcbiAgICAgICAgY2FwdHVyZWRWYWx1ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGluc2VydFVwZGF0ZUludG9GaWJlcihmaWJlciwgdXBkYXRlKTtcbiAgICAgIHNjaGVkdWxlV29yayhmaWJlciwgZXhwaXJhdGlvblRpbWUpO1xuICAgIH0sXG4gICAgZW5xdWV1ZUZvcmNlVXBkYXRlOiBmdW5jdGlvbihpbnN0YW5jZSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBmaWJlciA9IGdldChpbnN0YW5jZSk7XG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG4gICAgICB7XG4gICAgICAgIHdhcm5PbkludmFsaWRDYWxsYmFjayhjYWxsYmFjaywgXCJmb3JjZVVwZGF0ZVwiKTtcbiAgICAgIH1cbiAgICAgIHZhciBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoZmliZXIpO1xuICAgICAgdmFyIHVwZGF0ZSA9IHtcbiAgICAgICAgZXhwaXJhdGlvblRpbWU6IGV4cGlyYXRpb25UaW1lLFxuICAgICAgICBwYXJ0aWFsU3RhdGU6IG51bGwsXG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgaXNSZXBsYWNlOiBmYWxzZSxcbiAgICAgICAgaXNGb3JjZWQ6IHRydWUsXG4gICAgICAgIGNhcHR1cmVkVmFsdWU6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBpbnNlcnRVcGRhdGVJbnRvRmliZXIoZmliZXIsIHVwZGF0ZSk7XG4gICAgICBzY2hlZHVsZVdvcmsoZmliZXIsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gY2hlY2tTaG91bGRDb21wb25lbnRVcGRhdGUoXG4gICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgb2xkUHJvcHMsXG4gICAgbmV3UHJvcHMsXG4gICAgb2xkU3RhdGUsXG4gICAgbmV3U3RhdGUsXG4gICAgbmV3Q29udGV4dFxuICApIHtcbiAgICBpZiAoXG4gICAgICBvbGRQcm9wcyA9PT0gbnVsbCB8fFxuICAgICAgKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlICE9PSBudWxsICYmXG4gICAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlLmhhc0ZvcmNlVXBkYXRlKVxuICAgICkge1xuICAgICAgLy8gSWYgdGhlIHdvcmtJblByb2dyZXNzIGFscmVhZHkgaGFzIGFuIFVwZGF0ZSBlZmZlY3QsIHJldHVybiB0cnVlXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgdmFyIGN0b3IgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIGlmICh0eXBlb2YgaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHN0YXJ0UGhhc2VUaW1lcih3b3JrSW5Qcm9ncmVzcywgXCJzaG91bGRDb21wb25lbnRVcGRhdGVcIik7XG4gICAgICB2YXIgc2hvdWxkVXBkYXRlID0gaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlKFxuICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgbmV3U3RhdGUsXG4gICAgICAgIG5ld0NvbnRleHRcbiAgICAgICk7XG4gICAgICBzdG9wUGhhc2VUaW1lcigpO1xuXG4gICAgICB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgc2hvdWxkVXBkYXRlICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgXCIlcy5zaG91bGRDb21wb25lbnRVcGRhdGUoKTogUmV0dXJuZWQgdW5kZWZpbmVkIGluc3RlYWQgb2YgYSBcIiArXG4gICAgICAgICAgICBcImJvb2xlYW4gdmFsdWUuIE1ha2Ugc3VyZSB0byByZXR1cm4gdHJ1ZSBvciBmYWxzZS5cIixcbiAgICAgICAgICBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCBcIlVua25vd25cIlxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2hvdWxkVXBkYXRlO1xuICAgIH1cblxuICAgIGlmIChjdG9yLnByb3RvdHlwZSAmJiBjdG9yLnByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgIXNoYWxsb3dFcXVhbChvbGRQcm9wcywgbmV3UHJvcHMpIHx8ICFzaGFsbG93RXF1YWwob2xkU3RhdGUsIG5ld1N0YXRlKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrQ2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICB2YXIgdHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHZhciByZW5kZXJQcmVzZW50ID0gaW5zdGFuY2UucmVuZGVyO1xuXG4gICAgICBpZiAoIXJlbmRlclByZXNlbnQpIHtcbiAgICAgICAgaWYgKHR5cGUucHJvdG90eXBlICYmIHR5cGVvZiB0eXBlLnByb3RvdHlwZS5yZW5kZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiJXMoLi4uKTogTm8gYHJlbmRlcmAgbWV0aG9kIGZvdW5kIG9uIHRoZSByZXR1cm5lZCBjb21wb25lbnQgXCIgK1xuICAgICAgICAgICAgICBcImluc3RhbmNlOiBkaWQgeW91IGFjY2lkZW50YWxseSByZXR1cm4gYW4gb2JqZWN0IGZyb20gdGhlIGNvbnN0cnVjdG9yP1wiLFxuICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgXCIlcyguLi4pOiBObyBgcmVuZGVyYCBtZXRob2QgZm91bmQgb24gdGhlIHJldHVybmVkIGNvbXBvbmVudCBcIiArXG4gICAgICAgICAgICAgIFwiaW5zdGFuY2U6IHlvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gZGVmaW5lIGByZW5kZXJgLlwiLFxuICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIG5vR2V0SW5pdGlhbFN0YXRlT25FUzYgPVxuICAgICAgICAhaW5zdGFuY2UuZ2V0SW5pdGlhbFN0YXRlIHx8XG4gICAgICAgIGluc3RhbmNlLmdldEluaXRpYWxTdGF0ZS5pc1JlYWN0Q2xhc3NBcHByb3ZlZCB8fFxuICAgICAgICBpbnN0YW5jZS5zdGF0ZTtcbiAgICAgIHdhcm5pbmcoXG4gICAgICAgIG5vR2V0SW5pdGlhbFN0YXRlT25FUzYsXG4gICAgICAgIFwiZ2V0SW5pdGlhbFN0YXRlIHdhcyBkZWZpbmVkIG9uICVzLCBhIHBsYWluIEphdmFTY3JpcHQgY2xhc3MuIFwiICtcbiAgICAgICAgICBcIlRoaXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGNsYXNzZXMgY3JlYXRlZCB1c2luZyBSZWFjdC5jcmVhdGVDbGFzcy4gXCIgK1xuICAgICAgICAgIFwiRGlkIHlvdSBtZWFuIHRvIGRlZmluZSBhIHN0YXRlIHByb3BlcnR5IGluc3RlYWQ/XCIsXG4gICAgICAgIG5hbWVcbiAgICAgICk7XG4gICAgICB2YXIgbm9HZXREZWZhdWx0UHJvcHNPbkVTNiA9XG4gICAgICAgICFpbnN0YW5jZS5nZXREZWZhdWx0UHJvcHMgfHxcbiAgICAgICAgaW5zdGFuY2UuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkO1xuICAgICAgd2FybmluZyhcbiAgICAgICAgbm9HZXREZWZhdWx0UHJvcHNPbkVTNixcbiAgICAgICAgXCJnZXREZWZhdWx0UHJvcHMgd2FzIGRlZmluZWQgb24gJXMsIGEgcGxhaW4gSmF2YVNjcmlwdCBjbGFzcy4gXCIgK1xuICAgICAgICAgIFwiVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiBcIiArXG4gICAgICAgICAgXCJVc2UgYSBzdGF0aWMgcHJvcGVydHkgdG8gZGVmaW5lIGRlZmF1bHRQcm9wcyBpbnN0ZWFkLlwiLFxuICAgICAgICBuYW1lXG4gICAgICApO1xuICAgICAgdmFyIG5vSW5zdGFuY2VQcm9wVHlwZXMgPSAhaW5zdGFuY2UucHJvcFR5cGVzO1xuICAgICAgd2FybmluZyhcbiAgICAgICAgbm9JbnN0YW5jZVByb3BUeXBlcyxcbiAgICAgICAgXCJwcm9wVHlwZXMgd2FzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgcHJvcGVydHkgb24gJXMuIFVzZSBhIHN0YXRpYyBcIiArXG4gICAgICAgICAgXCJwcm9wZXJ0eSB0byBkZWZpbmUgcHJvcFR5cGVzIGluc3RlYWQuXCIsXG4gICAgICAgIG5hbWVcbiAgICAgICk7XG4gICAgICB2YXIgbm9JbnN0YW5jZUNvbnRleHRUeXBlcyA9ICFpbnN0YW5jZS5jb250ZXh0VHlwZXM7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBub0luc3RhbmNlQ29udGV4dFR5cGVzLFxuICAgICAgICBcImNvbnRleHRUeXBlcyB3YXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcy4gVXNlIGEgc3RhdGljIFwiICtcbiAgICAgICAgICBcInByb3BlcnR5IHRvIGRlZmluZSBjb250ZXh0VHlwZXMgaW5zdGVhZC5cIixcbiAgICAgICAgbmFtZVxuICAgICAgKTtcbiAgICAgIHZhciBub0NvbXBvbmVudFNob3VsZFVwZGF0ZSA9XG4gICAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRTaG91bGRVcGRhdGUgIT09IFwiZnVuY3Rpb25cIjtcbiAgICAgIHdhcm5pbmcoXG4gICAgICAgIG5vQ29tcG9uZW50U2hvdWxkVXBkYXRlLFxuICAgICAgICBcIiVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgXCIgK1xuICAgICAgICAgIFwiY29tcG9uZW50U2hvdWxkVXBkYXRlKCkuIERpZCB5b3UgbWVhbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKT8gXCIgK1xuICAgICAgICAgIFwiVGhlIG5hbWUgaXMgcGhyYXNlZCBhcyBhIHF1ZXN0aW9uIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGlzIFwiICtcbiAgICAgICAgICBcImV4cGVjdGVkIHRvIHJldHVybiBhIHZhbHVlLlwiLFxuICAgICAgICBuYW1lXG4gICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICB0eXBlLnByb3RvdHlwZSAmJlxuICAgICAgICB0eXBlLnByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudCAmJlxuICAgICAgICB0eXBlb2YgaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICApIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIiVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkuIFwiICtcbiAgICAgICAgICAgIFwic2hvdWxkQ29tcG9uZW50VXBkYXRlIHNob3VsZCBub3QgYmUgdXNlZCB3aGVuIGV4dGVuZGluZyBSZWFjdC5QdXJlQ29tcG9uZW50LiBcIiArXG4gICAgICAgICAgICBcIlBsZWFzZSBleHRlbmQgUmVhY3QuQ29tcG9uZW50IGlmIHNob3VsZENvbXBvbmVudFVwZGF0ZSBpcyB1c2VkLlwiLFxuICAgICAgICAgIGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8IFwiQSBwdXJlIGNvbXBvbmVudFwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB2YXIgbm9Db21wb25lbnREaWRVbm1vdW50ID1cbiAgICAgICAgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZFVubW91bnQgIT09IFwiZnVuY3Rpb25cIjtcbiAgICAgIHdhcm5pbmcoXG4gICAgICAgIG5vQ29tcG9uZW50RGlkVW5tb3VudCxcbiAgICAgICAgXCIlcyBoYXMgYSBtZXRob2QgY2FsbGVkIFwiICtcbiAgICAgICAgICBcImNvbXBvbmVudERpZFVubW91bnQoKS4gQnV0IHRoZXJlIGlzIG5vIHN1Y2ggbGlmZWN5Y2xlIG1ldGhvZC4gXCIgK1xuICAgICAgICAgIFwiRGlkIHlvdSBtZWFuIGNvbXBvbmVudFdpbGxVbm1vdW50KCk/XCIsXG4gICAgICAgIG5hbWVcbiAgICAgICk7XG4gICAgICB2YXIgbm9Db21wb25lbnREaWRSZWNlaXZlUHJvcHMgPVxuICAgICAgICB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkUmVjZWl2ZVByb3BzICE9PSBcImZ1bmN0aW9uXCI7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBub0NvbXBvbmVudERpZFJlY2VpdmVQcm9wcyxcbiAgICAgICAgXCIlcyBoYXMgYSBtZXRob2QgY2FsbGVkIFwiICtcbiAgICAgICAgICBcImNvbXBvbmVudERpZFJlY2VpdmVQcm9wcygpLiBCdXQgdGhlcmUgaXMgbm8gc3VjaCBsaWZlY3ljbGUgbWV0aG9kLiBcIiArXG4gICAgICAgICAgXCJJZiB5b3UgbWVhbnQgdG8gdXBkYXRlIHRoZSBzdGF0ZSBpbiByZXNwb25zZSB0byBjaGFuZ2luZyBwcm9wcywgXCIgK1xuICAgICAgICAgIFwidXNlIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKS4gSWYgeW91IG1lYW50IHRvIGZldGNoIGRhdGEgb3IgXCIgK1xuICAgICAgICAgIFwicnVuIHNpZGUtZWZmZWN0cyBvciBtdXRhdGlvbnMgYWZ0ZXIgUmVhY3QgaGFzIHVwZGF0ZWQgdGhlIFVJLCB1c2UgY29tcG9uZW50RGlkVXBkYXRlKCkuXCIsXG4gICAgICAgIG5hbWVcbiAgICAgICk7XG4gICAgICB2YXIgbm9Db21wb25lbnRXaWxsUmVjaWV2ZVByb3BzID1cbiAgICAgICAgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMgIT09IFwiZnVuY3Rpb25cIjtcbiAgICAgIHdhcm5pbmcoXG4gICAgICAgIG5vQ29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyxcbiAgICAgICAgXCIlcyBoYXMgYSBtZXRob2QgY2FsbGVkIFwiICtcbiAgICAgICAgICBcImNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMoKS4gRGlkIHlvdSBtZWFuIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKT9cIixcbiAgICAgICAgbmFtZVxuICAgICAgKTtcbiAgICAgIHZhciBub1Vuc2FmZUNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMgPVxuICAgICAgICB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMgIT09IFwiZnVuY3Rpb25cIjtcbiAgICAgIHdhcm5pbmcoXG4gICAgICAgIG5vVW5zYWZlQ29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyxcbiAgICAgICAgXCIlcyBoYXMgYSBtZXRob2QgY2FsbGVkIFwiICtcbiAgICAgICAgICBcIlVOU0FGRV9jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzKCkuIERpZCB5b3UgbWVhbiBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpP1wiLFxuICAgICAgICBuYW1lXG4gICAgICApO1xuICAgICAgdmFyIGhhc011dGF0ZWRQcm9wcyA9IGluc3RhbmNlLnByb3BzICE9PSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBpbnN0YW5jZS5wcm9wcyA9PT0gdW5kZWZpbmVkIHx8ICFoYXNNdXRhdGVkUHJvcHMsXG4gICAgICAgIFwiJXMoLi4uKTogV2hlbiBjYWxsaW5nIHN1cGVyKCkgaW4gYCVzYCwgbWFrZSBzdXJlIHRvIHBhc3MgXCIgK1xuICAgICAgICAgIFwidXAgdGhlIHNhbWUgcHJvcHMgdGhhdCB5b3VyIGNvbXBvbmVudCdzIGNvbnN0cnVjdG9yIHdhcyBwYXNzZWQuXCIsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIG5hbWVcbiAgICAgICk7XG4gICAgICB2YXIgbm9JbnN0YW5jZURlZmF1bHRQcm9wcyA9ICFpbnN0YW5jZS5kZWZhdWx0UHJvcHM7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBub0luc3RhbmNlRGVmYXVsdFByb3BzLFxuICAgICAgICBcIlNldHRpbmcgZGVmYXVsdFByb3BzIGFzIGFuIGluc3RhbmNlIHByb3BlcnR5IG9uICVzIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIHdpbGwgYmUgaWdub3JlZC5cIiArXG4gICAgICAgICAgXCIgSW5zdGVhZCwgZGVmaW5lIGRlZmF1bHRQcm9wcyBhcyBhIHN0YXRpYyBwcm9wZXJ0eSBvbiAlcy5cIixcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbmFtZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgc3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcbiAgICBpZiAoc3RhdGUgJiYgKHR5cGVvZiBzdGF0ZSAhPT0gXCJvYmplY3RcIiB8fCBpc0FycmF5KHN0YXRlKSkpIHtcbiAgICAgIHdhcm5pbmcoXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBcIiVzLnN0YXRlOiBtdXN0IGJlIHNldCB0byBhbiBvYmplY3Qgb3IgbnVsbFwiLFxuICAgICAgICBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgd2FybmluZyhcbiAgICAgICAgdHlwZW9mIHR5cGUuY2hpbGRDb250ZXh0VHlwZXMgPT09IFwib2JqZWN0XCIsXG4gICAgICAgIFwiJXMuZ2V0Q2hpbGRDb250ZXh0KCk6IGNoaWxkQ29udGV4dFR5cGVzIG11c3QgYmUgZGVmaW5lZCBpbiBvcmRlciB0byBcIiArXG4gICAgICAgICAgXCJ1c2UgZ2V0Q2hpbGRDb250ZXh0KCkuXCIsXG4gICAgICAgIGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0SW5wdXRQb2ludGVycyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpIHtcbiAgICBpbnN0YW5jZS5wcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gICAgaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRvcHRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSkge1xuICAgIGluc3RhbmNlLnVwZGF0ZXIgPSB1cGRhdGVyO1xuICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGluc3RhbmNlO1xuICAgIC8vIFRoZSBpbnN0YW5jZSBuZWVkcyBhY2Nlc3MgdG8gdGhlIGZpYmVyIHNvIHRoYXQgaXQgY2FuIHNjaGVkdWxlIHVwZGF0ZXNcbiAgICBzZXQoaW5zdGFuY2UsIHdvcmtJblByb2dyZXNzKTtcbiAgICB7XG4gICAgICBpbnN0YW5jZS5fcmVhY3RJbnRlcm5hbEluc3RhbmNlID0gZmFrZUludGVybmFsSW5zdGFuY2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29uc3RydWN0Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcHJvcHMpIHtcbiAgICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIHVubWFza2VkQ29udGV4dCA9IGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIG5lZWRzQ29udGV4dCA9IGlzQ29udGV4dENvbnN1bWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICB2YXIgY29udGV4dCA9IG5lZWRzQ29udGV4dFxuICAgICAgPyBnZXRNYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCB1bm1hc2tlZENvbnRleHQpXG4gICAgICA6IGVtcHR5T2JqZWN0O1xuXG4gICAgLy8gSW5zdGFudGlhdGUgdHdpY2UgdG8gaGVscCBkZXRlY3Qgc2lkZS1lZmZlY3RzLlxuICAgIGlmIChcbiAgICAgIGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0cyB8fFxuICAgICAgKGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0c0ZvclN0cmljdE1vZGUgJiZcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdE1vZGUpXG4gICAgKSB7XG4gICAgICBuZXcgY3Rvcihwcm9wcywgY29udGV4dCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgfVxuXG4gICAgdmFyIGluc3RhbmNlID0gbmV3IGN0b3IocHJvcHMsIGNvbnRleHQpO1xuICAgIHZhciBzdGF0ZSA9XG4gICAgICBpbnN0YW5jZS5zdGF0ZSAhPT0gbnVsbCAmJiBpbnN0YW5jZS5zdGF0ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gaW5zdGFuY2Uuc3RhdGVcbiAgICAgICAgOiBudWxsO1xuICAgIGFkb3B0Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpO1xuXG4gICAge1xuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICBzdGF0ZSA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgXCJVbmtub3duXCI7XG4gICAgICAgIGlmICghZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgXCIlczogRGlkIG5vdCBwcm9wZXJseSBpbml0aWFsaXplIHN0YXRlIGR1cmluZyBjb25zdHJ1Y3Rpb24uIFwiICtcbiAgICAgICAgICAgICAgXCJFeHBlY3RlZCBzdGF0ZSB0byBiZSBhbiBvYmplY3QsIGJ1dCBpdCB3YXMgJXMuXCIsXG4gICAgICAgICAgICBjb21wb25lbnROYW1lLFxuICAgICAgICAgICAgaW5zdGFuY2Uuc3RhdGUgPT09IG51bGwgPyBcIm51bGxcIiA6IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZVtjb21wb25lbnROYW1lXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gc3RhdGU7XG5cbiAgICB2YXIgcGFydGlhbFN0YXRlID0gY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICBwcm9wc1xuICAgICk7XG5cbiAgICBpZiAocGFydGlhbFN0YXRlICE9PSBudWxsICYmIHBhcnRpYWxTdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBSZW5kZXItcGhhc2UgdXBkYXRlcyAobGlrZSB0aGlzKSBzaG91bGQgbm90IGJlIGFkZGVkIHRvIHRoZSB1cGRhdGUgcXVldWUsXG4gICAgICAvLyBTbyB0aGF0IG11bHRpcGxlIHJlbmRlciBwYXNzZXMgZG8gbm90IGVucXVldWUgbXVsdGlwbGUgdXBkYXRlcy5cbiAgICAgIC8vIEluc3RlYWQsIGp1c3Qgc3luY2hyb25vdXNseSBtZXJnZSB0aGUgcmV0dXJuZWQgc3RhdGUgaW50byB0aGUgaW5zdGFuY2UuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAge30sXG4gICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUsXG4gICAgICAgIHBhcnRpYWxTdGF0ZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBDYWNoZSB1bm1hc2tlZCBjb250ZXh0IHNvIHdlIGNhbiBhdm9pZCByZWNyZWF0aW5nIG1hc2tlZCBjb250ZXh0IHVubGVzcyBuZWNlc3NhcnkuXG4gICAgLy8gUmVhY3RGaWJlckNvbnRleHQgdXN1YWxseSB1cGRhdGVzIHRoaXMgY2FjaGUgYnV0IGNhbid0IGZvciBuZXdseS1jcmVhdGVkIGluc3RhbmNlcy5cbiAgICBpZiAobmVlZHNDb250ZXh0KSB7XG4gICAgICBjYWNoZUNvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCwgY29udGV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FsbENvbXBvbmVudFdpbGxNb3VudCh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpIHtcbiAgICBzdGFydFBoYXNlVGltZXIod29ya0luUHJvZ3Jlc3MsIFwiY29tcG9uZW50V2lsbE1vdW50XCIpO1xuICAgIHZhciBvbGRTdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xuXG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgfVxuXG4gICAgc3RvcFBoYXNlVGltZXIoKTtcblxuICAgIGlmIChvbGRTdGF0ZSAhPT0gaW5zdGFuY2Uuc3RhdGUpIHtcbiAgICAgIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIiVzLmNvbXBvbmVudFdpbGxNb3VudCgpOiBBc3NpZ25pbmcgZGlyZWN0bHkgdG8gdGhpcy5zdGF0ZSBpcyBcIiArXG4gICAgICAgICAgICBcImRlcHJlY2F0ZWQgKGV4Y2VwdCBpbnNpZGUgYSBjb21wb25lbnQncyBcIiArXG4gICAgICAgICAgICBcImNvbnN0cnVjdG9yKS4gVXNlIHNldFN0YXRlIGluc3RlYWQuXCIsXG4gICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZXIuZW5xdWV1ZVJlcGxhY2VTdGF0ZShpbnN0YW5jZSwgaW5zdGFuY2Uuc3RhdGUsIG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKFxuICAgIHdvcmtJblByb2dyZXNzLFxuICAgIGluc3RhbmNlLFxuICAgIG5ld1Byb3BzLFxuICAgIG5ld0NvbnRleHRcbiAgKSB7XG4gICAgdmFyIG9sZFN0YXRlID0gaW5zdGFuY2Uuc3RhdGU7XG4gICAgc3RhcnRQaGFzZVRpbWVyKHdvcmtJblByb2dyZXNzLCBcImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcIik7XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV3UHJvcHMsIG5ld0NvbnRleHQpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzLCBuZXdDb250ZXh0KTtcbiAgICB9XG4gICAgc3RvcFBoYXNlVGltZXIoKTtcblxuICAgIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gb2xkU3RhdGUpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCBcIkNvbXBvbmVudFwiO1xuICAgICAgICBpZiAoIWRpZFdhcm5BYm91dFN0YXRlQXNzaWdubWVudEZvckNvbXBvbmVudFtjb21wb25lbnROYW1lXSkge1xuICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiJXMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpOiBBc3NpZ25pbmcgZGlyZWN0bHkgdG8gXCIgK1xuICAgICAgICAgICAgICBcInRoaXMuc3RhdGUgaXMgZGVwcmVjYXRlZCAoZXhjZXB0IGluc2lkZSBhIGNvbXBvbmVudCdzIFwiICtcbiAgICAgICAgICAgICAgXCJjb25zdHJ1Y3RvcikuIFVzZSBzZXRTdGF0ZSBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlkV2FybkFib3V0U3RhdGVBc3NpZ25tZW50Rm9yQ29tcG9uZW50W2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdXBkYXRlci5lbnF1ZXVlUmVwbGFjZVN0YXRlKGluc3RhbmNlLCBpbnN0YW5jZS5zdGF0ZSwgbnVsbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UsIHByb3BzKSB7XG4gICAgdmFyIHR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuXG4gICAgaWYgKHR5cGVvZiB0eXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB7XG4gICAgICAgIC8vIERvbid0IHdhcm4gYWJvdXQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzXG4gICAgICAgIGlmIChcbiAgICAgICAgICAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PVxuICAgICAgICAgICAgICB0cnVlKSB8fFxuICAgICAgICAgIHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgXCJVbmtub3duXCI7XG4gICAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRXaWxsUmVjZWl2ZVByb3BzQW5kRGVyaXZlZFN0YXRlW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgXCIlczogRGVmaW5lcyBib3RoIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKSBhbmQgc3RhdGljIFwiICtcbiAgICAgICAgICAgICAgICBcImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpIG1ldGhvZHMuIFdlIHJlY29tbWVuZCB1c2luZyBcIiArXG4gICAgICAgICAgICAgICAgXCJvbmx5IGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpLlwiLFxuICAgICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZGlkV2FybkFib3V0V2lsbFJlY2VpdmVQcm9wc0FuZERlcml2ZWRTdGF0ZVtjb21wb25lbnROYW1lXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzIHx8XG4gICAgICAgIChkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlICYmXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdE1vZGUpXG4gICAgICApIHtcbiAgICAgICAgLy8gSW52b2tlIG1ldGhvZCBhbiBleHRyYSB0aW1lIHRvIGhlbHAgZGV0ZWN0IHNpZGUtZWZmZWN0cy5cbiAgICAgICAgdHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuY2FsbChcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHByb3BzLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGVcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcnRpYWxTdGF0ZSA9IHR5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLmNhbGwoXG4gICAgICAgIG51bGwsXG4gICAgICAgIHByb3BzLFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlXG4gICAgICApO1xuXG4gICAgICB7XG4gICAgICAgIGlmIChwYXJ0aWFsU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHZhciBfY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8IFwiVW5rbm93blwiO1xuICAgICAgICAgIGlmICghZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlW19jb21wb25lbnROYW1lXSkge1xuICAgICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgIFwiJXMuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKCk6IEEgdmFsaWQgc3RhdGUgb2JqZWN0IChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkLiBcIiArXG4gICAgICAgICAgICAgICAgXCJZb3UgaGF2ZSByZXR1cm5lZCB1bmRlZmluZWQuXCIsXG4gICAgICAgICAgICAgIF9jb21wb25lbnROYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlW19jb21wb25lbnROYW1lXSA9IF9jb21wb25lbnROYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFydGlhbFN0YXRlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEludm9rZXMgdGhlIG1vdW50IGxpZmUtY3ljbGVzIG9uIGEgcHJldmlvdXNseSBuZXZlciByZW5kZXJlZCBpbnN0YW5jZS5cbiAgZnVuY3Rpb24gbW91bnRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBjdG9yID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcblxuICAgIHtcbiAgICAgIGNoZWNrQ2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIHZhciBwcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICB2YXIgdW5tYXNrZWRDb250ZXh0ID0gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcblxuICAgIGluc3RhbmNlLnByb3BzID0gcHJvcHM7XG4gICAgaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgIGluc3RhbmNlLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICBpbnN0YW5jZS5jb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KTtcblxuICAgIHtcbiAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyhcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAod2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMpIHtcbiAgICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkRGVwcmVjYXRpb25XYXJuaW5ncyhcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAgIC8vIFVuc2FmZSBsaWZlY3ljbGVzIHNob3VsZCBub3QgYmUgaW52b2tlZCBmb3IgYW55IGNvbXBvbmVudCB3aXRoIHRoZSBuZXcgZ0RTRlAuXG4gICAgaWYgKFxuICAgICAgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgICAgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gXCJmdW5jdGlvblwiKSAmJlxuICAgICAgdHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICE9PSBcImZ1bmN0aW9uXCJcbiAgICApIHtcbiAgICAgIGNhbGxDb21wb25lbnRXaWxsTW91bnQod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlKTtcbiAgICAgIC8vIElmIHdlIGhhZCBhZGRpdGlvbmFsIHN0YXRlIHVwZGF0ZXMgZHVyaW5nIHRoaXMgbGlmZS1jeWNsZSwgbGV0J3NcbiAgICAgIC8vIHByb2Nlc3MgdGhlbSBub3cuXG4gICAgICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCkge1xuICAgICAgICBpbnN0YW5jZS5zdGF0ZSA9IHByb2Nlc3NVcGRhdGVRdWV1ZShcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIHVwZGF0ZVF1ZXVlLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIHByb3BzLFxuICAgICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXN1bWVNb3VudENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgdmFyIGN0b3IgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICByZXNldElucHV0UG9pbnRlcnMod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlKTtcblxuICAgIHZhciBvbGRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gICAgdmFyIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIHZhciBvbGRDb250ZXh0ID0gaW5zdGFuY2UuY29udGV4dDtcbiAgICB2YXIgbmV3VW5tYXNrZWRDb250ZXh0ID0gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICB2YXIgbmV3Q29udGV4dCA9IGdldE1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIG5ld1VubWFza2VkQ29udGV4dCk7XG5cbiAgICAvLyBOb3RlOiBEdXJpbmcgdGhlc2UgbGlmZS1jeWNsZXMsIGluc3RhbmNlLnByb3BzL2luc3RhbmNlLnN0YXRlIGFyZSB3aGF0XG4gICAgLy8gZXZlciB0aGUgcHJldmlvdXNseSBhdHRlbXB0ZWQgdG8gcmVuZGVyIC0gbm90IHRoZSBcImN1cnJlbnRcIi4gSG93ZXZlcixcbiAgICAvLyBkdXJpbmcgY29tcG9uZW50RGlkVXBkYXRlIHdlIHBhc3MgdGhlIFwiY3VycmVudFwiIHByb3BzLlxuXG4gICAgLy8gSW4gb3JkZXIgdG8gc3VwcG9ydCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMsXG4gICAgLy8gVW5zYWZlIGxpZmVjeWNsZXMgc2hvdWxkIG5vdCBiZSBpbnZva2VkIGZvciBhbnkgY29tcG9uZW50IHdpdGggdGhlIG5ldyBnRFNGUC5cbiAgICBpZiAoXG4gICAgICAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgICAgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09IFwiZnVuY3Rpb25cIikgJiZcbiAgICAgIHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gXCJmdW5jdGlvblwiXG4gICAgKSB7XG4gICAgICBpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzIHx8IG9sZENvbnRleHQgIT09IG5ld0NvbnRleHQpIHtcbiAgICAgICAgY2FsbENvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgbmV3Q29udGV4dFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSB2b2lkIDA7XG4gICAgaWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcykge1xuICAgICAgZGVyaXZlZFN0YXRlRnJvbVByb3BzID0gY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICBuZXdQcm9wc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBDb21wdXRlIHRoZSBuZXh0IHN0YXRlIHVzaW5nIHRoZSBtZW1vaXplZCBzdGF0ZSBhbmQgdGhlIHVwZGF0ZSBxdWV1ZS5cbiAgICB2YXIgb2xkU3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgIC8vIFRPRE86IFByZXZpb3VzIHN0YXRlIGNhbiBiZSBudWxsLlxuICAgIHZhciBuZXdTdGF0ZSA9IHZvaWQgMDtcbiAgICB2YXIgZGVyaXZlZFN0YXRlRnJvbUNhdGNoID0gdm9pZCAwO1xuICAgIGlmICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSAhPT0gbnVsbCkge1xuICAgICAgbmV3U3RhdGUgPSBwcm9jZXNzVXBkYXRlUXVldWUoXG4gICAgICAgIG51bGwsXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSxcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIG5ld1Byb3BzLFxuICAgICAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICAgICAgKTtcblxuICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICBpZiAoXG4gICAgICAgIHVwZGF0ZVF1ZXVlICE9PSBudWxsICYmXG4gICAgICAgIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzICE9PSBudWxsICYmXG4gICAgICAgIGVuYWJsZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCAmJlxuICAgICAgICB0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPT09IFwiZnVuY3Rpb25cIlxuICAgICAgKSB7XG4gICAgICAgIHZhciBjYXB0dXJlZFZhbHVlcyA9IHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzO1xuICAgICAgICAvLyBEb24ndCByZW1vdmUgdGhlc2UgZnJvbSB0aGUgdXBkYXRlIHF1ZXVlIHlldC4gV2UgbmVlZCB0aGVtIGluXG4gICAgICAgIC8vIGZpbmlzaENsYXNzQ29tcG9uZW50LiBEbyB0aGUgcmVzZXQgdGhlcmUuXG4gICAgICAgIC8vIFRPRE86IFRoaXMgaXMgYXdrd2FyZC4gUmVmYWN0b3IgY2xhc3MgY29tcG9uZW50cy5cbiAgICAgICAgLy8gdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgPSBudWxsO1xuICAgICAgICBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPSBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoKFxuICAgICAgICAgIGN0b3IsXG4gICAgICAgICAgY2FwdHVyZWRWYWx1ZXNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3U3RhdGUgPSBvbGRTdGF0ZTtcbiAgICB9XG5cbiAgICBpZiAoZGVyaXZlZFN0YXRlRnJvbVByb3BzICE9PSBudWxsICYmIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBSZW5kZXItcGhhc2UgdXBkYXRlcyAobGlrZSB0aGlzKSBzaG91bGQgbm90IGJlIGFkZGVkIHRvIHRoZSB1cGRhdGUgcXVldWUsXG4gICAgICAvLyBTbyB0aGF0IG11bHRpcGxlIHJlbmRlciBwYXNzZXMgZG8gbm90IGVucXVldWUgbXVsdGlwbGUgdXBkYXRlcy5cbiAgICAgIC8vIEluc3RlYWQsIGp1c3Qgc3luY2hyb25vdXNseSBtZXJnZSB0aGUgcmV0dXJuZWQgc3RhdGUgaW50byB0aGUgaW5zdGFuY2UuXG4gICAgICBuZXdTdGF0ZSA9XG4gICAgICAgIG5ld1N0YXRlID09PSBudWxsIHx8IG5ld1N0YXRlID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IGRlcml2ZWRTdGF0ZUZyb21Qcm9wc1xuICAgICAgICAgIDogT2JqZWN0LmFzc2lnbih7fSwgbmV3U3RhdGUsIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyk7XG4gICAgfVxuICAgIGlmIChkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggIT09IG51bGwgJiYgZGVyaXZlZFN0YXRlRnJvbUNhdGNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFJlbmRlci1waGFzZSB1cGRhdGVzIChsaWtlIHRoaXMpIHNob3VsZCBub3QgYmUgYWRkZWQgdG8gdGhlIHVwZGF0ZSBxdWV1ZSxcbiAgICAgIC8vIFNvIHRoYXQgbXVsdGlwbGUgcmVuZGVyIHBhc3NlcyBkbyBub3QgZW5xdWV1ZSBtdWx0aXBsZSB1cGRhdGVzLlxuICAgICAgLy8gSW5zdGVhZCwganVzdCBzeW5jaHJvbm91c2x5IG1lcmdlIHRoZSByZXR1cm5lZCBzdGF0ZSBpbnRvIHRoZSBpbnN0YW5jZS5cbiAgICAgIG5ld1N0YXRlID1cbiAgICAgICAgbmV3U3RhdGUgPT09IG51bGwgfHwgbmV3U3RhdGUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gZGVyaXZlZFN0YXRlRnJvbUNhdGNoXG4gICAgICAgICAgOiBPYmplY3QuYXNzaWduKHt9LCBuZXdTdGF0ZSwgZGVyaXZlZFN0YXRlRnJvbUNhdGNoKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBvbGRQcm9wcyA9PT0gbmV3UHJvcHMgJiZcbiAgICAgIG9sZFN0YXRlID09PSBuZXdTdGF0ZSAmJlxuICAgICAgIWhhc0NvbnRleHRDaGFuZ2VkKCkgJiZcbiAgICAgICEoXG4gICAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlICE9PSBudWxsICYmXG4gICAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlLmhhc0ZvcmNlVXBkYXRlXG4gICAgICApXG4gICAgKSB7XG4gICAgICAvLyBJZiBhbiB1cGRhdGUgd2FzIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIHdlIHNob3VsZCBzY2hlZHVsZSBhbiBVcGRhdGVcbiAgICAgIC8vIGVmZmVjdCBldmVuIHRob3VnaCB3ZSdyZSBiYWlsaW5nIG91dCwgc28gdGhhdCBjV1UvY0RVIGFyZSBjYWxsZWQuXG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgc2hvdWxkVXBkYXRlID0gY2hlY2tTaG91bGRDb21wb25lbnRVcGRhdGUoXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIG9sZFByb3BzLFxuICAgICAgbmV3UHJvcHMsXG4gICAgICBvbGRTdGF0ZSxcbiAgICAgIG5ld1N0YXRlLFxuICAgICAgbmV3Q29udGV4dFxuICAgICk7XG5cbiAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAvLyBJbiBvcmRlciB0byBzdXBwb3J0IHJlYWN0LWxpZmVjeWNsZXMtY29tcGF0IHBvbHlmaWxsZWQgY29tcG9uZW50cyxcbiAgICAgIC8vIFVuc2FmZSBsaWZlY3ljbGVzIHNob3VsZCBub3QgYmUgaW52b2tlZCBmb3IgYW55IGNvbXBvbmVudCB3aXRoIHRoZSBuZXcgZ0RTRlAuXG4gICAgICBpZiAoXG4gICAgICAgICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSBcImZ1bmN0aW9uXCIpICYmXG4gICAgICAgIHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gXCJmdW5jdGlvblwiXG4gICAgICApIHtcbiAgICAgICAgc3RhcnRQaGFzZVRpbWVyKHdvcmtJblByb2dyZXNzLCBcImNvbXBvbmVudFdpbGxVcGRhdGVcIik7XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZShuZXdQcm9wcywgbmV3U3RhdGUsIG5ld0NvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlKG5ld1Byb3BzLCBuZXdTdGF0ZSwgbmV3Q29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RvcFBoYXNlVGltZXIoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgYW4gdXBkYXRlIHdhcyBhbHJlYWR5IGluIHByb2dyZXNzLCB3ZSBzaG91bGQgc2NoZWR1bGUgYW4gVXBkYXRlXG4gICAgICAvLyBlZmZlY3QgZXZlbiB0aG91Z2ggd2UncmUgYmFpbGluZyBvdXQsIHNvIHRoYXQgY1dVL2NEVSBhcmUgY2FsbGVkLlxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHNob3VsZENvbXBvbmVudFVwZGF0ZSByZXR1cm5lZCBmYWxzZSwgd2Ugc2hvdWxkIHN0aWxsIHVwZGF0ZSB0aGVcbiAgICAgIC8vIG1lbW9pemVkIHByb3BzL3N0YXRlIHRvIGluZGljYXRlIHRoYXQgdGhpcyB3b3JrIGNhbiBiZSByZXVzZWQuXG4gICAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5ld1Byb3BzKTtcbiAgICAgIG1lbW9pemVTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgbmV3U3RhdGUpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgZXhpc3RpbmcgaW5zdGFuY2UncyBzdGF0ZSwgcHJvcHMsIGFuZCBjb250ZXh0IHBvaW50ZXJzIGV2ZW5cbiAgICAvLyBpZiBzaG91bGRDb21wb25lbnRVcGRhdGUgcmV0dXJucyBmYWxzZS5cbiAgICBpbnN0YW5jZS5wcm9wcyA9IG5ld1Byb3BzO1xuICAgIGluc3RhbmNlLnN0YXRlID0gbmV3U3RhdGU7XG4gICAgaW5zdGFuY2UuY29udGV4dCA9IG5ld0NvbnRleHQ7XG5cbiAgICByZXR1cm4gc2hvdWxkVXBkYXRlO1xuICB9XG5cbiAgLy8gSW52b2tlcyB0aGUgdXBkYXRlIGxpZmUtY3ljbGVzIGFuZCByZXR1cm5zIGZhbHNlIGlmIGl0IHNob3VsZG4ndCByZXJlbmRlci5cbiAgZnVuY3Rpb24gdXBkYXRlQ2xhc3NJbnN0YW5jZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIHJlc2V0SW5wdXRQb2ludGVycyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpO1xuXG4gICAgdmFyIG9sZFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICB2YXIgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgdmFyIG9sZENvbnRleHQgPSBpbnN0YW5jZS5jb250ZXh0O1xuICAgIHZhciBuZXdVbm1hc2tlZENvbnRleHQgPSBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgIHZhciBuZXdDb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgbmV3VW5tYXNrZWRDb250ZXh0KTtcblxuICAgIC8vIE5vdGU6IER1cmluZyB0aGVzZSBsaWZlLWN5Y2xlcywgaW5zdGFuY2UucHJvcHMvaW5zdGFuY2Uuc3RhdGUgYXJlIHdoYXRcbiAgICAvLyBldmVyIHRoZSBwcmV2aW91c2x5IGF0dGVtcHRlZCB0byByZW5kZXIgLSBub3QgdGhlIFwiY3VycmVudFwiLiBIb3dldmVyLFxuICAgIC8vIGR1cmluZyBjb21wb25lbnREaWRVcGRhdGUgd2UgcGFzcyB0aGUgXCJjdXJyZW50XCIgcHJvcHMuXG5cbiAgICAvLyBJbiBvcmRlciB0byBzdXBwb3J0IHJlYWN0LWxpZmVjeWNsZXMtY29tcGF0IHBvbHlmaWxsZWQgY29tcG9uZW50cyxcbiAgICAvLyBVbnNhZmUgbGlmZWN5Y2xlcyBzaG91bGQgbm90IGJlIGludm9rZWQgZm9yIGFueSBjb21wb25lbnQgd2l0aCB0aGUgbmV3IGdEU0ZQLlxuICAgIGlmIChcbiAgICAgICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgICB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gXCJmdW5jdGlvblwiKSAmJlxuICAgICAgdHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICE9PSBcImZ1bmN0aW9uXCJcbiAgICApIHtcbiAgICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMgfHwgb2xkQ29udGV4dCAhPT0gbmV3Q29udGV4dCkge1xuICAgICAgICBjYWxsQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICBuZXdDb250ZXh0XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IHZvaWQgMDtcbiAgICBpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzKSB7XG4gICAgICBkZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIG5ld1Byb3BzXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIENvbXB1dGUgdGhlIG5leHQgc3RhdGUgdXNpbmcgdGhlIG1lbW9pemVkIHN0YXRlIGFuZCB0aGUgdXBkYXRlIHF1ZXVlLlxuICAgIHZhciBvbGRTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgLy8gVE9ETzogUHJldmlvdXMgc3RhdGUgY2FuIGJlIG51bGwuXG4gICAgdmFyIG5ld1N0YXRlID0gdm9pZCAwO1xuICAgIHZhciBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPSB2b2lkIDA7XG4gICAgaWYgKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgICBuZXdTdGF0ZSA9IHByb2Nlc3NVcGRhdGVRdWV1ZShcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuXG4gICAgICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgIGlmIChcbiAgICAgICAgdXBkYXRlUXVldWUgIT09IG51bGwgJiZcbiAgICAgICAgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwgJiZcbiAgICAgICAgZW5hYmxlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoICYmXG4gICAgICAgIHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCA9PT0gXCJmdW5jdGlvblwiXG4gICAgICApIHtcbiAgICAgICAgdmFyIGNhcHR1cmVkVmFsdWVzID0gdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXM7XG4gICAgICAgIC8vIERvbid0IHJlbW92ZSB0aGVzZSBmcm9tIHRoZSB1cGRhdGUgcXVldWUgeWV0LiBXZSBuZWVkIHRoZW0gaW5cbiAgICAgICAgLy8gZmluaXNoQ2xhc3NDb21wb25lbnQuIERvIHRoZSByZXNldCB0aGVyZS5cbiAgICAgICAgLy8gVE9ETzogVGhpcyBpcyBhd2t3YXJkLiBSZWZhY3RvciBjbGFzcyBjb21wb25lbnRzLlxuICAgICAgICAvLyB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcyA9IG51bGw7XG4gICAgICAgIGRlcml2ZWRTdGF0ZUZyb21DYXRjaCA9IGNhbGxHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2goXG4gICAgICAgICAgY3RvcixcbiAgICAgICAgICBjYXB0dXJlZFZhbHVlc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdTdGF0ZSA9IG9sZFN0YXRlO1xuICAgIH1cblxuICAgIGlmIChkZXJpdmVkU3RhdGVGcm9tUHJvcHMgIT09IG51bGwgJiYgZGVyaXZlZFN0YXRlRnJvbVByb3BzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFJlbmRlci1waGFzZSB1cGRhdGVzIChsaWtlIHRoaXMpIHNob3VsZCBub3QgYmUgYWRkZWQgdG8gdGhlIHVwZGF0ZSBxdWV1ZSxcbiAgICAgIC8vIFNvIHRoYXQgbXVsdGlwbGUgcmVuZGVyIHBhc3NlcyBkbyBub3QgZW5xdWV1ZSBtdWx0aXBsZSB1cGRhdGVzLlxuICAgICAgLy8gSW5zdGVhZCwganVzdCBzeW5jaHJvbm91c2x5IG1lcmdlIHRoZSByZXR1cm5lZCBzdGF0ZSBpbnRvIHRoZSBpbnN0YW5jZS5cbiAgICAgIG5ld1N0YXRlID1cbiAgICAgICAgbmV3U3RhdGUgPT09IG51bGwgfHwgbmV3U3RhdGUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gZGVyaXZlZFN0YXRlRnJvbVByb3BzXG4gICAgICAgICAgOiBPYmplY3QuYXNzaWduKHt9LCBuZXdTdGF0ZSwgZGVyaXZlZFN0YXRlRnJvbVByb3BzKTtcbiAgICB9XG4gICAgaWYgKGRlcml2ZWRTdGF0ZUZyb21DYXRjaCAhPT0gbnVsbCAmJiBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gUmVuZGVyLXBoYXNlIHVwZGF0ZXMgKGxpa2UgdGhpcykgc2hvdWxkIG5vdCBiZSBhZGRlZCB0byB0aGUgdXBkYXRlIHF1ZXVlLFxuICAgICAgLy8gU28gdGhhdCBtdWx0aXBsZSByZW5kZXIgcGFzc2VzIGRvIG5vdCBlbnF1ZXVlIG11bHRpcGxlIHVwZGF0ZXMuXG4gICAgICAvLyBJbnN0ZWFkLCBqdXN0IHN5bmNocm9ub3VzbHkgbWVyZ2UgdGhlIHJldHVybmVkIHN0YXRlIGludG8gdGhlIGluc3RhbmNlLlxuICAgICAgbmV3U3RhdGUgPVxuICAgICAgICBuZXdTdGF0ZSA9PT0gbnVsbCB8fCBuZXdTdGF0ZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2hcbiAgICAgICAgICA6IE9iamVjdC5hc3NpZ24oe30sIG5ld1N0YXRlLCBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2gpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIG9sZFByb3BzID09PSBuZXdQcm9wcyAmJlxuICAgICAgb2xkU3RhdGUgPT09IG5ld1N0YXRlICYmXG4gICAgICAhaGFzQ29udGV4dENoYW5nZWQoKSAmJlxuICAgICAgIShcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgIT09IG51bGwgJiZcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUuaGFzRm9yY2VVcGRhdGVcbiAgICAgIClcbiAgICApIHtcbiAgICAgIC8vIElmIGFuIHVwZGF0ZSB3YXMgYWxyZWFkeSBpbiBwcm9ncmVzcywgd2Ugc2hvdWxkIHNjaGVkdWxlIGFuIFVwZGF0ZVxuICAgICAgLy8gZWZmZWN0IGV2ZW4gdGhvdWdoIHdlJ3JlIGJhaWxpbmcgb3V0LCBzbyB0aGF0IGNXVS9jRFUgYXJlIGNhbGxlZC5cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG9sZFByb3BzICE9PSBjdXJyZW50Lm1lbW9pemVkUHJvcHMgfHxcbiAgICAgICAgICBvbGRTdGF0ZSAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlXG4gICAgICAgICkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgc2hvdWxkVXBkYXRlID0gY2hlY2tTaG91bGRDb21wb25lbnRVcGRhdGUoXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIG9sZFByb3BzLFxuICAgICAgbmV3UHJvcHMsXG4gICAgICBvbGRTdGF0ZSxcbiAgICAgIG5ld1N0YXRlLFxuICAgICAgbmV3Q29udGV4dFxuICAgICk7XG5cbiAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAvLyBJbiBvcmRlciB0byBzdXBwb3J0IHJlYWN0LWxpZmVjeWNsZXMtY29tcGF0IHBvbHlmaWxsZWQgY29tcG9uZW50cyxcbiAgICAgIC8vIFVuc2FmZSBsaWZlY3ljbGVzIHNob3VsZCBub3QgYmUgaW52b2tlZCBmb3IgYW55IGNvbXBvbmVudCB3aXRoIHRoZSBuZXcgZ0RTRlAuXG4gICAgICBpZiAoXG4gICAgICAgICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSBcImZ1bmN0aW9uXCIpICYmXG4gICAgICAgIHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gXCJmdW5jdGlvblwiXG4gICAgICApIHtcbiAgICAgICAgc3RhcnRQaGFzZVRpbWVyKHdvcmtJblByb2dyZXNzLCBcImNvbXBvbmVudFdpbGxVcGRhdGVcIik7XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZShuZXdQcm9wcywgbmV3U3RhdGUsIG5ld0NvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlKG5ld1Byb3BzLCBuZXdTdGF0ZSwgbmV3Q29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RvcFBoYXNlVGltZXIoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgYW4gdXBkYXRlIHdhcyBhbHJlYWR5IGluIHByb2dyZXNzLCB3ZSBzaG91bGQgc2NoZWR1bGUgYW4gVXBkYXRlXG4gICAgICAvLyBlZmZlY3QgZXZlbiB0aG91Z2ggd2UncmUgYmFpbGluZyBvdXQsIHNvIHRoYXQgY1dVL2NEVSBhcmUgY2FsbGVkLlxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgb2xkUHJvcHMgIT09IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyB8fFxuICAgICAgICAgIG9sZFN0YXRlICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiBzaG91bGRDb21wb25lbnRVcGRhdGUgcmV0dXJuZWQgZmFsc2UsIHdlIHNob3VsZCBzdGlsbCB1cGRhdGUgdGhlXG4gICAgICAvLyBtZW1vaXplZCBwcm9wcy9zdGF0ZSB0byBpbmRpY2F0ZSB0aGF0IHRoaXMgd29yayBjYW4gYmUgcmV1c2VkLlxuICAgICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXdQcm9wcyk7XG4gICAgICBtZW1vaXplU3RhdGUod29ya0luUHJvZ3Jlc3MsIG5ld1N0YXRlKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIGV4aXN0aW5nIGluc3RhbmNlJ3Mgc3RhdGUsIHByb3BzLCBhbmQgY29udGV4dCBwb2ludGVycyBldmVuXG4gICAgLy8gaWYgc2hvdWxkQ29tcG9uZW50VXBkYXRlIHJldHVybnMgZmFsc2UuXG4gICAgaW5zdGFuY2UucHJvcHMgPSBuZXdQcm9wcztcbiAgICBpbnN0YW5jZS5zdGF0ZSA9IG5ld1N0YXRlO1xuICAgIGluc3RhbmNlLmNvbnRleHQgPSBuZXdDb250ZXh0O1xuXG4gICAgcmV0dXJuIHNob3VsZFVwZGF0ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYWRvcHRDbGFzc0luc3RhbmNlOiBhZG9wdENsYXNzSW5zdGFuY2UsXG4gICAgY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczogY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyxcbiAgICBjb25zdHJ1Y3RDbGFzc0luc3RhbmNlOiBjb25zdHJ1Y3RDbGFzc0luc3RhbmNlLFxuICAgIG1vdW50Q2xhc3NJbnN0YW5jZTogbW91bnRDbGFzc0luc3RhbmNlLFxuICAgIHJlc3VtZU1vdW50Q2xhc3NJbnN0YW5jZTogcmVzdW1lTW91bnRDbGFzc0luc3RhbmNlLFxuICAgIHVwZGF0ZUNsYXNzSW5zdGFuY2U6IHVwZGF0ZUNsYXNzSW5zdGFuY2VcbiAgfTtcbn07XG5cbnZhciBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDEgPVxuICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW07XG5cbnZhciBkaWRXYXJuQWJvdXRNYXBzID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dFN0cmluZ1JlZkluU3RyaWN0TW9kZSA9IHZvaWQgMDtcbnZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB2b2lkIDA7XG52YXIgb3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nID0gdm9pZCAwO1xudmFyIHdhcm5Gb3JNaXNzaW5nS2V5ID0gZnVuY3Rpb24oY2hpbGQpIHt9O1xuXG57XG4gIGRpZFdhcm5BYm91dE1hcHMgPSBmYWxzZTtcbiAgZGlkV2FybkFib3V0U3RyaW5nUmVmSW5TdHJpY3RNb2RlID0ge307XG5cbiAgLyoqXG4gICAqIFdhcm4gaWYgdGhlcmUncyBubyBrZXkgZXhwbGljaXRseSBzZXQgb24gZHluYW1pYyBhcnJheXMgb2YgY2hpbGRyZW4gb3JcbiAgICogb2JqZWN0IGtleXMgYXJlIG5vdCB2YWxpZC4gVGhpcyBhbGxvd3MgdXMgdG8ga2VlcCB0cmFjayBvZiBjaGlsZHJlbiBiZXR3ZWVuXG4gICAqIHVwZGF0ZXMuXG4gICAqL1xuICBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB7fTtcbiAgb3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nID0ge307XG5cbiAgd2FybkZvck1pc3NpbmdLZXkgPSBmdW5jdGlvbihjaGlsZCkge1xuICAgIGlmIChjaGlsZCA9PT0gbnVsbCB8fCB0eXBlb2YgY2hpbGQgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFjaGlsZC5fc3RvcmUgfHwgY2hpbGQuX3N0b3JlLnZhbGlkYXRlZCB8fCBjaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoXG4gICAgICB0eXBlb2YgY2hpbGQuX3N0b3JlID09PSBcIm9iamVjdFwiLFxuICAgICAgXCJSZWFjdCBDb21wb25lbnQgaW4gd2FybkZvck1pc3NpbmdLZXkgc2hvdWxkIGhhdmUgYSBfc3RvcmUuIFwiICtcbiAgICAgICAgXCJUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgKTtcbiAgICBjaGlsZC5fc3RvcmUudmFsaWRhdGVkID0gdHJ1ZTtcblxuICAgIHZhciBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID1cbiAgICAgIFwiRWFjaCBjaGlsZCBpbiBhbiBhcnJheSBvciBpdGVyYXRvciBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcIiArXG4gICAgICAnXCJrZXlcIiBwcm9wLiBTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC13YXJuaW5nLWtleXMgZm9yICcgK1xuICAgICAgXCJtb3JlIGluZm9ybWF0aW9uLlwiICtcbiAgICAgIChnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDEoKSB8fCBcIlwiKTtcbiAgICBpZiAob3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7XG5cbiAgICB3YXJuaW5nKFxuICAgICAgZmFsc2UsXG4gICAgICBcIkVhY2ggY2hpbGQgaW4gYW4gYXJyYXkgb3IgaXRlcmF0b3Igc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCIgK1xuICAgICAgICAnXCJrZXlcIiBwcm9wLiBTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC13YXJuaW5nLWtleXMgZm9yICcgK1xuICAgICAgICBcIm1vcmUgaW5mb3JtYXRpb24uJXNcIixcbiAgICAgIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMSgpXG4gICAgKTtcbiAgfTtcbn1cblxudmFyIGlzQXJyYXkkMSA9IEFycmF5LmlzQXJyYXk7XG5cbmZ1bmN0aW9uIGNvZXJjZVJlZihyZXR1cm5GaWJlciwgY3VycmVudCwgZWxlbWVudCkge1xuICB2YXIgbWl4ZWRSZWYgPSBlbGVtZW50LnJlZjtcbiAgaWYgKFxuICAgIG1peGVkUmVmICE9PSBudWxsICYmXG4gICAgdHlwZW9mIG1peGVkUmVmICE9PSBcImZ1bmN0aW9uXCIgJiZcbiAgICB0eXBlb2YgbWl4ZWRSZWYgIT09IFwib2JqZWN0XCJcbiAgKSB7XG4gICAge1xuICAgICAgaWYgKHJldHVybkZpYmVyLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShyZXR1cm5GaWJlcikgfHwgXCJDb21wb25lbnRcIjtcbiAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdHJpbmdSZWZJblN0cmljdE1vZGVbY29tcG9uZW50TmFtZV0pIHtcbiAgICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAnQSBzdHJpbmcgcmVmLCBcIiVzXCIswqBoYXMgYmVlbiBmb3VuZCB3aXRoaW4gYSBzdHJpY3QgbW9kZSB0cmVlLiAnICtcbiAgICAgICAgICAgICAgXCJTdHJpbmcgcmVmcyBhcmUgYSBzb3VyY2Ugb2YgcG90ZW50aWFsIGJ1Z3MgYW5kIHNob3VsZCBiZSBhdm9pZGVkLiBcIiArXG4gICAgICAgICAgICAgIFwiV2UgcmVjb21tZW5kIHVzaW5nIGNyZWF0ZVJlZigpIGluc3RlYWQuXCIgK1xuICAgICAgICAgICAgICBcIlxcbiVzXCIgK1xuICAgICAgICAgICAgICBcIlxcblxcbkxlYXJuIG1vcmUgYWJvdXQgdXNpbmcgcmVmcyBzYWZlbHkgaGVyZTpcIiArXG4gICAgICAgICAgICAgIFwiXFxuaHR0cHM6Ly9mYi5tZS9yZWFjdC1zdHJpY3QtbW9kZS1zdHJpbmctcmVmXCIsXG4gICAgICAgICAgICBtaXhlZFJlZixcbiAgICAgICAgICAgIGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIocmV0dXJuRmliZXIpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZJblN0cmljdE1vZGVbY29tcG9uZW50TmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQuX293bmVyKSB7XG4gICAgICB2YXIgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgIHZhciBpbnN0ID0gdm9pZCAwO1xuICAgICAgaWYgKG93bmVyKSB7XG4gICAgICAgIHZhciBvd25lckZpYmVyID0gb3duZXI7XG4gICAgICAgIGludmFyaWFudChcbiAgICAgICAgICBvd25lckZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQsXG4gICAgICAgICAgXCJTdGF0ZWxlc3MgZnVuY3Rpb24gY29tcG9uZW50cyBjYW5ub3QgaGF2ZSByZWZzLlwiXG4gICAgICAgICk7XG4gICAgICAgIGluc3QgPSBvd25lckZpYmVyLnN0YXRlTm9kZTtcbiAgICAgIH1cbiAgICAgIGludmFyaWFudChcbiAgICAgICAgaW5zdCxcbiAgICAgICAgXCJNaXNzaW5nIG93bmVyIGZvciBzdHJpbmcgcmVmICVzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBcIiArXG4gICAgICAgICAgXCJidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiLFxuICAgICAgICBtaXhlZFJlZlxuICAgICAgKTtcbiAgICAgIHZhciBzdHJpbmdSZWYgPSBcIlwiICsgbWl4ZWRSZWY7XG4gICAgICAvLyBDaGVjayBpZiBwcmV2aW91cyBzdHJpbmcgcmVmIG1hdGNoZXMgbmV3IHN0cmluZyByZWZcbiAgICAgIGlmIChcbiAgICAgICAgY3VycmVudCAhPT0gbnVsbCAmJlxuICAgICAgICBjdXJyZW50LnJlZiAhPT0gbnVsbCAmJlxuICAgICAgICBjdXJyZW50LnJlZi5fc3RyaW5nUmVmID09PSBzdHJpbmdSZWZcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gY3VycmVudC5yZWY7XG4gICAgICB9XG4gICAgICB2YXIgcmVmID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIHJlZnMgPSBpbnN0LnJlZnMgPT09IGVtcHR5T2JqZWN0ID8gKGluc3QucmVmcyA9IHt9KSA6IGluc3QucmVmcztcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgZGVsZXRlIHJlZnNbc3RyaW5nUmVmXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWZzW3N0cmluZ1JlZl0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJlZi5fc3RyaW5nUmVmID0gc3RyaW5nUmVmO1xuICAgICAgcmV0dXJuIHJlZjtcbiAgICB9IGVsc2Uge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICB0eXBlb2YgbWl4ZWRSZWYgPT09IFwic3RyaW5nXCIsXG4gICAgICAgIFwiRXhwZWN0ZWQgcmVmIHRvIGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmcuXCJcbiAgICAgICk7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIGVsZW1lbnQuX293bmVyLFxuICAgICAgICBcIkVsZW1lbnQgcmVmIHdhcyBzcGVjaWZpZWQgYXMgYSBzdHJpbmcgKCVzKSBidXQgbm8gb3duZXIgd2FzIHNldC4gVGhpcyBjb3VsZCBoYXBwZW4gZm9yIG9uZSBvZlwiICtcbiAgICAgICAgICBcIiB0aGUgZm9sbG93aW5nIHJlYXNvbnM6XFxuXCIgK1xuICAgICAgICAgIFwiMS4gWW91IG1heSBiZSBhZGRpbmcgYSByZWYgdG8gYSBmdW5jdGlvbmFsIGNvbXBvbmVudFxcblwiICtcbiAgICAgICAgICBcIjIuIFlvdSBtYXkgYmUgYWRkaW5nIGEgcmVmIHRvIGEgY29tcG9uZW50IHRoYXQgd2FzIG5vdCBjcmVhdGVkIGluc2lkZSBhIGNvbXBvbmVudCdzIHJlbmRlciBtZXRob2RcXG5cIiArXG4gICAgICAgICAgXCIzLiBZb3UgaGF2ZSBtdWx0aXBsZSBjb3BpZXMgb2YgUmVhY3QgbG9hZGVkXFxuXCIgK1xuICAgICAgICAgIFwiU2VlIGh0dHBzOi8vZmIubWUvcmVhY3QtcmVmcy1tdXN0LWhhdmUtb3duZXIgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCIsXG4gICAgICAgIG1peGVkUmVmXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWl4ZWRSZWY7XG59XG5cbmZ1bmN0aW9uIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpIHtcbiAgaWYgKHJldHVybkZpYmVyLnR5cGUgIT09IFwidGV4dGFyZWFcIikge1xuICAgIHZhciBhZGRlbmR1bSA9IFwiXCI7XG4gICAge1xuICAgICAgYWRkZW5kdW0gPVxuICAgICAgICBcIiBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5IFwiICtcbiAgICAgICAgXCJpbnN0ZWFkLlwiICtcbiAgICAgICAgKGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMSgpIHx8IFwiXCIpO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoXG4gICAgICBmYWxzZSxcbiAgICAgIFwiT2JqZWN0cyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQgKGZvdW5kOiAlcykuJXNcIixcbiAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdDaGlsZCkgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgICAgPyBcIm9iamVjdCB3aXRoIGtleXMge1wiICsgT2JqZWN0LmtleXMobmV3Q2hpbGQpLmpvaW4oXCIsIFwiKSArIFwifVwiXG4gICAgICAgIDogbmV3Q2hpbGQsXG4gICAgICBhZGRlbmR1bVxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2Fybk9uRnVuY3Rpb25UeXBlKCkge1xuICB2YXIgY3VycmVudENvbXBvbmVudEVycm9ySW5mbyA9XG4gICAgXCJGdW5jdGlvbnMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkLiBUaGlzIG1heSBoYXBwZW4gaWYgXCIgK1xuICAgIFwieW91IHJldHVybiBhIENvbXBvbmVudCBpbnN0ZWFkIG9mIDxDb21wb25lbnQgLz4gZnJvbSByZW5kZXIuIFwiICtcbiAgICBcIk9yIG1heWJlIHlvdSBtZWFudCB0byBjYWxsIHRoaXMgZnVuY3Rpb24gcmF0aGVyIHRoYW4gcmV0dXJuIGl0LlwiICtcbiAgICAoZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQxKCkgfHwgXCJcIik7XG5cbiAgaWYgKG93bmVySGFzRnVuY3Rpb25UeXBlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSkge1xuICAgIHJldHVybjtcbiAgfVxuICBvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10gPSB0cnVlO1xuXG4gIHdhcm5pbmcoXG4gICAgZmFsc2UsXG4gICAgXCJGdW5jdGlvbnMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkLiBUaGlzIG1heSBoYXBwZW4gaWYgXCIgK1xuICAgICAgXCJ5b3UgcmV0dXJuIGEgQ29tcG9uZW50IGluc3RlYWQgb2YgPENvbXBvbmVudCAvPiBmcm9tIHJlbmRlci4gXCIgK1xuICAgICAgXCJPciBtYXliZSB5b3UgbWVhbnQgdG8gY2FsbCB0aGlzIGZ1bmN0aW9uIHJhdGhlciB0aGFuIHJldHVybiBpdC4lc1wiLFxuICAgIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMSgpIHx8IFwiXCJcbiAgKTtcbn1cblxuLy8gVGhpcyB3cmFwcGVyIGZ1bmN0aW9uIGV4aXN0cyBiZWNhdXNlIEkgZXhwZWN0IHRvIGNsb25lIHRoZSBjb2RlIGluIGVhY2ggcGF0aFxuLy8gdG8gYmUgYWJsZSB0byBvcHRpbWl6ZSBlYWNoIHBhdGggaW5kaXZpZHVhbGx5IGJ5IGJyYW5jaGluZyBlYXJseS4gVGhpcyBuZWVkc1xuLy8gYSBjb21waWxlciBvciB3ZSBjYW4gZG8gaXQgbWFudWFsbHkuIEhlbHBlcnMgdGhhdCBkb24ndCBuZWVkIHRoaXMgYnJhbmNoaW5nXG4vLyBsaXZlIG91dHNpZGUgb2YgdGhpcyBmdW5jdGlvbi5cbmZ1bmN0aW9uIENoaWxkUmVjb25jaWxlcihzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gIGZ1bmN0aW9uIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZFRvRGVsZXRlKSB7XG4gICAgaWYgKCFzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAvLyBOb29wLlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBEZWxldGlvbnMgYXJlIGFkZGVkIGluIHJldmVyc2VkIG9yZGVyIHNvIHdlIGFkZCBpdCB0byB0aGUgZnJvbnQuXG4gICAgLy8gQXQgdGhpcyBwb2ludCwgdGhlIHJldHVybiBmaWJlcidzIGVmZmVjdCBsaXN0IGlzIGVtcHR5IGV4Y2VwdCBmb3JcbiAgICAvLyBkZWxldGlvbnMsIHNvIHdlIGNhbiBqdXN0IGFwcGVuZCB0aGUgZGVsZXRpb24gdG8gdGhlIGxpc3QuIFRoZSByZW1haW5pbmdcbiAgICAvLyBlZmZlY3RzIGFyZW4ndCBhZGRlZCB1bnRpbCB0aGUgY29tcGxldGUgcGhhc2UuIE9uY2Ugd2UgaW1wbGVtZW50XG4gICAgLy8gcmVzdW1pbmcsIHRoaXMgbWF5IG5vdCBiZSB0cnVlLlxuICAgIHZhciBsYXN0ID0gcmV0dXJuRmliZXIubGFzdEVmZmVjdDtcbiAgICBpZiAobGFzdCAhPT0gbnVsbCkge1xuICAgICAgbGFzdC5uZXh0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgICAgIHJldHVybkZpYmVyLmxhc3RFZmZlY3QgPSBjaGlsZFRvRGVsZXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IHJldHVybkZpYmVyLmxhc3RFZmZlY3QgPSBjaGlsZFRvRGVsZXRlO1xuICAgIH1cbiAgICBjaGlsZFRvRGVsZXRlLm5leHRFZmZlY3QgPSBudWxsO1xuICAgIGNoaWxkVG9EZWxldGUuZWZmZWN0VGFnID0gRGVsZXRpb247XG4gIH1cblxuICBmdW5jdGlvbiBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpIHtcbiAgICBpZiAoIXNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgIC8vIE5vb3AuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBGb3IgdGhlIHNob3VsZENsb25lIGNhc2UsIHRoaXMgY291bGQgYmUgbWljcm8tb3B0aW1pemVkIGEgYml0IGJ5XG4gICAgLy8gYXNzdW1pbmcgdGhhdCBhZnRlciB0aGUgZmlyc3QgY2hpbGQgd2UndmUgYWxyZWFkeSBhZGRlZCBldmVyeXRoaW5nLlxuICAgIHZhciBjaGlsZFRvRGVsZXRlID0gY3VycmVudEZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKGNoaWxkVG9EZWxldGUgIT09IG51bGwpIHtcbiAgICAgIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZFRvRGVsZXRlKTtcbiAgICAgIGNoaWxkVG9EZWxldGUgPSBjaGlsZFRvRGVsZXRlLnNpYmxpbmc7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFwUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKSB7XG4gICAgLy8gQWRkIHRoZSByZW1haW5pbmcgY2hpbGRyZW4gdG8gYSB0ZW1wb3JhcnkgbWFwIHNvIHRoYXQgd2UgY2FuIGZpbmQgdGhlbSBieVxuICAgIC8vIGtleXMgcXVpY2tseS4gSW1wbGljaXQgKG51bGwpIGtleXMgZ2V0IGFkZGVkIHRvIHRoaXMgc2V0IHdpdGggdGhlaXIgaW5kZXhcbiAgICB2YXIgZXhpc3RpbmdDaGlsZHJlbiA9IG5ldyBNYXAoKTtcblxuICAgIHZhciBleGlzdGluZ0NoaWxkID0gY3VycmVudEZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKGV4aXN0aW5nQ2hpbGQgIT09IG51bGwpIHtcbiAgICAgIGlmIChleGlzdGluZ0NoaWxkLmtleSAhPT0gbnVsbCkge1xuICAgICAgICBleGlzdGluZ0NoaWxkcmVuLnNldChleGlzdGluZ0NoaWxkLmtleSwgZXhpc3RpbmdDaGlsZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBleGlzdGluZ0NoaWxkcmVuLnNldChleGlzdGluZ0NoaWxkLmluZGV4LCBleGlzdGluZ0NoaWxkKTtcbiAgICAgIH1cbiAgICAgIGV4aXN0aW5nQ2hpbGQgPSBleGlzdGluZ0NoaWxkLnNpYmxpbmc7XG4gICAgfVxuICAgIHJldHVybiBleGlzdGluZ0NoaWxkcmVuO1xuICB9XG5cbiAgZnVuY3Rpb24gdXNlRmliZXIoZmliZXIsIHBlbmRpbmdQcm9wcywgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBXZSBjdXJyZW50bHkgc2V0IHNpYmxpbmcgdG8gbnVsbCBhbmQgaW5kZXggdG8gMCBoZXJlIGJlY2F1c2UgaXQgaXMgZWFzeVxuICAgIC8vIHRvIGZvcmdldCB0byBkbyBiZWZvcmUgcmV0dXJuaW5nIGl0LiBFLmcuIGZvciB0aGUgc2luZ2xlIGNoaWxkIGNhc2UuXG4gICAgdmFyIGNsb25lID0gY3JlYXRlV29ya0luUHJvZ3Jlc3MoZmliZXIsIHBlbmRpbmdQcm9wcywgZXhwaXJhdGlvblRpbWUpO1xuICAgIGNsb25lLmluZGV4ID0gMDtcbiAgICBjbG9uZS5zaWJsaW5nID0gbnVsbDtcbiAgICByZXR1cm4gY2xvbmU7XG4gIH1cblxuICBmdW5jdGlvbiBwbGFjZUNoaWxkKG5ld0ZpYmVyLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0luZGV4KSB7XG4gICAgbmV3RmliZXIuaW5kZXggPSBuZXdJbmRleDtcbiAgICBpZiAoIXNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgIC8vIE5vb3AuXG4gICAgICByZXR1cm4gbGFzdFBsYWNlZEluZGV4O1xuICAgIH1cbiAgICB2YXIgY3VycmVudCA9IG5ld0ZpYmVyLmFsdGVybmF0ZTtcbiAgICBpZiAoY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgdmFyIG9sZEluZGV4ID0gY3VycmVudC5pbmRleDtcbiAgICAgIGlmIChvbGRJbmRleCA8IGxhc3RQbGFjZWRJbmRleCkge1xuICAgICAgICAvLyBUaGlzIGlzIGEgbW92ZS5cbiAgICAgICAgbmV3RmliZXIuZWZmZWN0VGFnID0gUGxhY2VtZW50O1xuICAgICAgICByZXR1cm4gbGFzdFBsYWNlZEluZGV4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhpcyBpdGVtIGNhbiBzdGF5IGluIHBsYWNlLlxuICAgICAgICByZXR1cm4gb2xkSW5kZXg7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgaXMgYW4gaW5zZXJ0aW9uLlxuICAgICAgbmV3RmliZXIuZWZmZWN0VGFnID0gUGxhY2VtZW50O1xuICAgICAgcmV0dXJuIGxhc3RQbGFjZWRJbmRleDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwbGFjZVNpbmdsZUNoaWxkKG5ld0ZpYmVyKSB7XG4gICAgLy8gVGhpcyBpcyBzaW1wbGVyIGZvciB0aGUgc2luZ2xlIGNoaWxkIGNhc2UuIFdlIG9ubHkgbmVlZCB0byBkbyBhXG4gICAgLy8gcGxhY2VtZW50IGZvciBpbnNlcnRpbmcgbmV3IGNoaWxkcmVuLlxuICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzICYmIG5ld0ZpYmVyLmFsdGVybmF0ZSA9PT0gbnVsbCkge1xuICAgICAgbmV3RmliZXIuZWZmZWN0VGFnID0gUGxhY2VtZW50O1xuICAgIH1cbiAgICByZXR1cm4gbmV3RmliZXI7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVUZXh0Tm9kZShyZXR1cm5GaWJlciwgY3VycmVudCwgdGV4dENvbnRlbnQsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwgfHwgY3VycmVudC50YWcgIT09IEhvc3RUZXh0KSB7XG4gICAgICAvLyBJbnNlcnRcbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tVGV4dChcbiAgICAgICAgdGV4dENvbnRlbnQsXG4gICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgICAgY3JlYXRlZFtcInJldHVyblwiXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFVwZGF0ZVxuICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY3VycmVudCwgdGV4dENvbnRlbnQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGV4aXN0aW5nW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRWxlbWVudChyZXR1cm5GaWJlciwgY3VycmVudCwgZWxlbWVudCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICBpZiAoY3VycmVudCAhPT0gbnVsbCAmJiBjdXJyZW50LnR5cGUgPT09IGVsZW1lbnQudHlwZSkge1xuICAgICAgLy8gTW92ZSBiYXNlZCBvbiBpbmRleFxuICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY3VycmVudCwgZWxlbWVudC5wcm9wcywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgZXhpc3RpbmcucmVmID0gY29lcmNlUmVmKHJldHVybkZpYmVyLCBjdXJyZW50LCBlbGVtZW50KTtcbiAgICAgIGV4aXN0aW5nW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgICB7XG4gICAgICAgIGV4aXN0aW5nLl9kZWJ1Z1NvdXJjZSA9IGVsZW1lbnQuX3NvdXJjZTtcbiAgICAgICAgZXhpc3RpbmcuX2RlYnVnT3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBleGlzdGluZztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSW5zZXJ0XG4gICAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbUVsZW1lbnQoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgICAgY3JlYXRlZC5yZWYgPSBjb2VyY2VSZWYocmV0dXJuRmliZXIsIGN1cnJlbnQsIGVsZW1lbnQpO1xuICAgICAgY3JlYXRlZFtcInJldHVyblwiXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlUG9ydGFsKHJldHVybkZpYmVyLCBjdXJyZW50LCBwb3J0YWwsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKFxuICAgICAgY3VycmVudCA9PT0gbnVsbCB8fFxuICAgICAgY3VycmVudC50YWcgIT09IEhvc3RQb3J0YWwgfHxcbiAgICAgIGN1cnJlbnQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8gIT09IHBvcnRhbC5jb250YWluZXJJbmZvIHx8XG4gICAgICBjdXJyZW50LnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbiAhPT0gcG9ydGFsLmltcGxlbWVudGF0aW9uXG4gICAgKSB7XG4gICAgICAvLyBJbnNlcnRcbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tUG9ydGFsKFxuICAgICAgICBwb3J0YWwsXG4gICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgICAgY3JlYXRlZFtcInJldHVyblwiXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFVwZGF0ZVxuICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY3VycmVudCwgcG9ydGFsLmNoaWxkcmVuIHx8IFtdLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBleGlzdGluZ1tcInJldHVyblwiXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUZyYWdtZW50KHJldHVybkZpYmVyLCBjdXJyZW50LCBmcmFnbWVudCwgZXhwaXJhdGlvblRpbWUsIGtleSkge1xuICAgIGlmIChjdXJyZW50ID09PSBudWxsIHx8IGN1cnJlbnQudGFnICE9PSBGcmFnbWVudCkge1xuICAgICAgLy8gSW5zZXJ0XG4gICAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KFxuICAgICAgICBmcmFnbWVudCxcbiAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgZXhwaXJhdGlvblRpbWUsXG4gICAgICAgIGtleVxuICAgICAgKTtcbiAgICAgIGNyZWF0ZWRbXCJyZXR1cm5cIl0gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBjcmVhdGVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVcGRhdGVcbiAgICAgIHZhciBleGlzdGluZyA9IHVzZUZpYmVyKGN1cnJlbnQsIGZyYWdtZW50LCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBleGlzdGluZ1tcInJldHVyblwiXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNoaWxkKHJldHVybkZpYmVyLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBuZXdDaGlsZCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgLy8gVGV4dCBub2RlcyBkb24ndCBoYXZlIGtleXMuIElmIHRoZSBwcmV2aW91cyBub2RlIGlzIGltcGxpY2l0bHkga2V5ZWRcbiAgICAgIC8vIHdlIGNhbiBjb250aW51ZSB0byByZXBsYWNlIGl0IHdpdGhvdXQgYWJvcnRpbmcgZXZlbiBpZiBpdCBpcyBub3QgYSB0ZXh0XG4gICAgICAvLyBub2RlLlxuICAgICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21UZXh0KFxuICAgICAgICBcIlwiICsgbmV3Q2hpbGQsXG4gICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgICAgY3JlYXRlZFtcInJldHVyblwiXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gXCJvYmplY3RcIiAmJiBuZXdDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRToge1xuICAgICAgICAgIHZhciBfY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbUVsZW1lbnQoXG4gICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICBleHBpcmF0aW9uVGltZVxuICAgICAgICAgICk7XG4gICAgICAgICAgX2NyZWF0ZWQucmVmID0gY29lcmNlUmVmKHJldHVybkZpYmVyLCBudWxsLCBuZXdDaGlsZCk7XG4gICAgICAgICAgX2NyZWF0ZWRbXCJyZXR1cm5cIl0gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICByZXR1cm4gX2NyZWF0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRToge1xuICAgICAgICAgIHZhciBfY3JlYXRlZDIgPSBjcmVhdGVGaWJlckZyb21Qb3J0YWwoXG4gICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICBleHBpcmF0aW9uVGltZVxuICAgICAgICAgICk7XG4gICAgICAgICAgX2NyZWF0ZWQyW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgcmV0dXJuIF9jcmVhdGVkMjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNBcnJheSQxKG5ld0NoaWxkKSB8fCBnZXRJdGVyYXRvckZuKG5ld0NoaWxkKSkge1xuICAgICAgICB2YXIgX2NyZWF0ZWQzID0gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICBleHBpcmF0aW9uVGltZSxcbiAgICAgICAgICBudWxsXG4gICAgICAgICk7XG4gICAgICAgIF9jcmVhdGVkM1tcInJldHVyblwiXSA9IHJldHVybkZpYmVyO1xuICAgICAgICByZXR1cm4gX2NyZWF0ZWQzO1xuICAgICAgfVxuXG4gICAgICB0aHJvd09uSW52YWxpZE9iamVjdFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICB9XG5cbiAgICB7XG4gICAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTbG90KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gVXBkYXRlIHRoZSBmaWJlciBpZiB0aGUga2V5cyBtYXRjaCwgb3RoZXJ3aXNlIHJldHVybiBudWxsLlxuXG4gICAgdmFyIGtleSA9IG9sZEZpYmVyICE9PSBudWxsID8gb2xkRmliZXIua2V5IDogbnVsbDtcblxuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG5ld0NoaWxkID09PSBcIm51bWJlclwiKSB7XG4gICAgICAvLyBUZXh0IG5vZGVzIGRvbid0IGhhdmUga2V5cy4gSWYgdGhlIHByZXZpb3VzIG5vZGUgaXMgaW1wbGljaXRseSBrZXllZFxuICAgICAgLy8gd2UgY2FuIGNvbnRpbnVlIHRvIHJlcGxhY2UgaXQgd2l0aG91dCBhYm9ydGluZyBldmVuIGlmIGl0IGlzIG5vdCBhIHRleHRcbiAgICAgIC8vIG5vZGUuXG4gICAgICBpZiAoa2V5ICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVwZGF0ZVRleHROb2RlKFxuICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgb2xkRmliZXIsXG4gICAgICAgIFwiXCIgKyBuZXdDaGlsZCxcbiAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gXCJvYmplY3RcIiAmJiBuZXdDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRToge1xuICAgICAgICAgIGlmIChuZXdDaGlsZC5rZXkgPT09IGtleSkge1xuICAgICAgICAgICAgaWYgKG5ld0NoaWxkLnR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUZyYWdtZW50KFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICAgIG5ld0NoaWxkLnByb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lLFxuICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRToge1xuICAgICAgICAgIGlmIChuZXdDaGlsZC5rZXkgPT09IGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZVBvcnRhbChcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNBcnJheSQxKG5ld0NoaWxkKSB8fCBnZXRJdGVyYXRvckZuKG5ld0NoaWxkKSkge1xuICAgICAgICBpZiAoa2V5ICE9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXBkYXRlRnJhZ21lbnQoXG4gICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgZXhwaXJhdGlvblRpbWUsXG4gICAgICAgICAgbnVsbFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0aHJvd09uSW52YWxpZE9iamVjdFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICB9XG5cbiAgICB7XG4gICAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVGcm9tTWFwKFxuICAgIGV4aXN0aW5nQ2hpbGRyZW4sXG4gICAgcmV0dXJuRmliZXIsXG4gICAgbmV3SWR4LFxuICAgIG5ld0NoaWxkLFxuICAgIGV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG5ld0NoaWxkID09PSBcIm51bWJlclwiKSB7XG4gICAgICAvLyBUZXh0IG5vZGVzIGRvbid0IGhhdmUga2V5cywgc28gd2UgbmVpdGhlciBoYXZlIHRvIGNoZWNrIHRoZSBvbGQgbm9yXG4gICAgICAvLyBuZXcgbm9kZSBmb3IgdGhlIGtleS4gSWYgYm90aCBhcmUgdGV4dCBub2RlcywgdGhleSBtYXRjaC5cbiAgICAgIHZhciBtYXRjaGVkRmliZXIgPSBleGlzdGluZ0NoaWxkcmVuLmdldChuZXdJZHgpIHx8IG51bGw7XG4gICAgICByZXR1cm4gdXBkYXRlVGV4dE5vZGUoXG4gICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICBtYXRjaGVkRmliZXIsXG4gICAgICAgIFwiXCIgKyBuZXdDaGlsZCxcbiAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gXCJvYmplY3RcIiAmJiBuZXdDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRToge1xuICAgICAgICAgIHZhciBfbWF0Y2hlZEZpYmVyID1cbiAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KFxuICAgICAgICAgICAgICBuZXdDaGlsZC5rZXkgPT09IG51bGwgPyBuZXdJZHggOiBuZXdDaGlsZC5rZXlcbiAgICAgICAgICAgICkgfHwgbnVsbDtcbiAgICAgICAgICBpZiAobmV3Q2hpbGQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkge1xuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUZyYWdtZW50KFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgX21hdGNoZWRGaWJlcixcbiAgICAgICAgICAgICAgbmV3Q2hpbGQucHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lLFxuICAgICAgICAgICAgICBuZXdDaGlsZC5rZXlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB1cGRhdGVFbGVtZW50KFxuICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICBfbWF0Y2hlZEZpYmVyLFxuICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICBleHBpcmF0aW9uVGltZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRToge1xuICAgICAgICAgIHZhciBfbWF0Y2hlZEZpYmVyMiA9XG4gICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuLmdldChcbiAgICAgICAgICAgICAgbmV3Q2hpbGQua2V5ID09PSBudWxsID8gbmV3SWR4IDogbmV3Q2hpbGQua2V5XG4gICAgICAgICAgICApIHx8IG51bGw7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZVBvcnRhbChcbiAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgX21hdGNoZWRGaWJlcjIsXG4gICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNBcnJheSQxKG5ld0NoaWxkKSB8fCBnZXRJdGVyYXRvckZuKG5ld0NoaWxkKSkge1xuICAgICAgICB2YXIgX21hdGNoZWRGaWJlcjMgPSBleGlzdGluZ0NoaWxkcmVuLmdldChuZXdJZHgpIHx8IG51bGw7XG4gICAgICAgIHJldHVybiB1cGRhdGVGcmFnbWVudChcbiAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICBfbWF0Y2hlZEZpYmVyMyxcbiAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICBleHBpcmF0aW9uVGltZSxcbiAgICAgICAgICBudWxsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBXYXJucyBpZiB0aGVyZSBpcyBhIGR1cGxpY2F0ZSBvciBtaXNzaW5nIGtleVxuICAgKi9cbiAgZnVuY3Rpb24gd2Fybk9uSW52YWxpZEtleShjaGlsZCwga25vd25LZXlzKSB7XG4gICAge1xuICAgICAgaWYgKHR5cGVvZiBjaGlsZCAhPT0gXCJvYmplY3RcIiB8fCBjaGlsZCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ga25vd25LZXlzO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChjaGlsZC4kJHR5cGVvZikge1xuICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICB3YXJuRm9yTWlzc2luZ0tleShjaGlsZCk7XG4gICAgICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChrbm93bktleXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGtub3duS2V5cyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIGtub3duS2V5cy5hZGQoa2V5KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWtub3duS2V5cy5oYXMoa2V5KSkge1xuICAgICAgICAgICAga25vd25LZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiRW5jb3VudGVyZWQgdHdvIGNoaWxkcmVuIHdpdGggdGhlIHNhbWUga2V5LCBgJXNgLiBcIiArXG4gICAgICAgICAgICAgIFwiS2V5cyBzaG91bGQgYmUgdW5pcXVlIHNvIHRoYXQgY29tcG9uZW50cyBtYWludGFpbiB0aGVpciBpZGVudGl0eSBcIiArXG4gICAgICAgICAgICAgIFwiYWNyb3NzIHVwZGF0ZXMuIE5vbi11bmlxdWUga2V5cyBtYXkgY2F1c2UgY2hpbGRyZW4gdG8gYmUgXCIgK1xuICAgICAgICAgICAgICBcImR1cGxpY2F0ZWQgYW5kL29yIG9taXR0ZWQg4oCUIHRoZSBiZWhhdmlvciBpcyB1bnN1cHBvcnRlZCBhbmQgXCIgK1xuICAgICAgICAgICAgICBcImNvdWxkIGNoYW5nZSBpbiBhIGZ1dHVyZSB2ZXJzaW9uLiVzXCIsXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDEoKVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrbm93bktleXM7XG4gIH1cblxuICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZHJlbkFycmF5KFxuICAgIHJldHVybkZpYmVyLFxuICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgIG5ld0NoaWxkcmVuLFxuICAgIGV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIC8vIFRoaXMgYWxnb3JpdGhtIGNhbid0IG9wdGltaXplIGJ5IHNlYXJjaGluZyBmcm9tIGJvdGhzIGVuZHMgc2luY2Ugd2VcbiAgICAvLyBkb24ndCBoYXZlIGJhY2twb2ludGVycyBvbiBmaWJlcnMuIEknbSB0cnlpbmcgdG8gc2VlIGhvdyBmYXIgd2UgY2FuIGdldFxuICAgIC8vIHdpdGggdGhhdCBtb2RlbC4gSWYgaXQgZW5kcyB1cCBub3QgYmVpbmcgd29ydGggdGhlIHRyYWRlb2Zmcywgd2UgY2FuXG4gICAgLy8gYWRkIGl0IGxhdGVyLlxuXG4gICAgLy8gRXZlbiB3aXRoIGEgdHdvIGVuZGVkIG9wdGltaXphdGlvbiwgd2UnZCB3YW50IHRvIG9wdGltaXplIGZvciB0aGUgY2FzZVxuICAgIC8vIHdoZXJlIHRoZXJlIGFyZSBmZXcgY2hhbmdlcyBhbmQgYnJ1dGUgZm9yY2UgdGhlIGNvbXBhcmlzb24gaW5zdGVhZCBvZlxuICAgIC8vIGdvaW5nIGZvciB0aGUgTWFwLiBJdCdkIGxpa2UgdG8gZXhwbG9yZSBoaXR0aW5nIHRoYXQgcGF0aCBmaXJzdCBpblxuICAgIC8vIGZvcndhcmQtb25seSBtb2RlIGFuZCBvbmx5IGdvIGZvciB0aGUgTWFwIG9uY2Ugd2Ugbm90aWNlIHRoYXQgd2UgbmVlZFxuICAgIC8vIGxvdHMgb2YgbG9vayBhaGVhZC4gVGhpcyBkb2Vzbid0IGhhbmRsZSByZXZlcnNhbCBhcyB3ZWxsIGFzIHR3byBlbmRlZFxuICAgIC8vIHNlYXJjaCBidXQgdGhhdCdzIHVudXN1YWwuIEJlc2lkZXMsIGZvciB0aGUgdHdvIGVuZGVkIG9wdGltaXphdGlvbiB0b1xuICAgIC8vIHdvcmsgb24gSXRlcmFibGVzLCB3ZSdkIG5lZWQgdG8gY29weSB0aGUgd2hvbGUgc2V0LlxuXG4gICAgLy8gSW4gdGhpcyBmaXJzdCBpdGVyYXRpb24sIHdlJ2xsIGp1c3QgbGl2ZSB3aXRoIGhpdHRpbmcgdGhlIGJhZCBjYXNlXG4gICAgLy8gKGFkZGluZyBldmVyeXRoaW5nIHRvIGEgTWFwKSBpbiBmb3IgZXZlcnkgaW5zZXJ0L21vdmUuXG5cbiAgICAvLyBJZiB5b3UgY2hhbmdlIHRoaXMgY29kZSwgYWxzbyB1cGRhdGUgcmVjb25jaWxlQ2hpbGRyZW5JdGVyYXRvcigpIHdoaWNoXG4gICAgLy8gdXNlcyB0aGUgc2FtZSBhbGdvcml0aG0uXG5cbiAgICB7XG4gICAgICAvLyBGaXJzdCwgdmFsaWRhdGUga2V5cy5cbiAgICAgIHZhciBrbm93bktleXMgPSBudWxsO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hpbGQgPSBuZXdDaGlsZHJlbltpXTtcbiAgICAgICAga25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShjaGlsZCwga25vd25LZXlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IG51bGw7XG4gICAgdmFyIHByZXZpb3VzTmV3RmliZXIgPSBudWxsO1xuXG4gICAgdmFyIG9sZEZpYmVyID0gY3VycmVudEZpcnN0Q2hpbGQ7XG4gICAgdmFyIGxhc3RQbGFjZWRJbmRleCA9IDA7XG4gICAgdmFyIG5ld0lkeCA9IDA7XG4gICAgdmFyIG5leHRPbGRGaWJlciA9IG51bGw7XG4gICAgZm9yICg7IG9sZEZpYmVyICE9PSBudWxsICYmIG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgbmV3SWR4KyspIHtcbiAgICAgIGlmIChvbGRGaWJlci5pbmRleCA+IG5ld0lkeCkge1xuICAgICAgICBuZXh0T2xkRmliZXIgPSBvbGRGaWJlcjtcbiAgICAgICAgb2xkRmliZXIgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dE9sZEZpYmVyID0gb2xkRmliZXIuc2libGluZztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdGaWJlciA9IHVwZGF0ZVNsb3QoXG4gICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgbmV3Q2hpbGRyZW5bbmV3SWR4XSxcbiAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgICBpZiAobmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBicmVha3Mgb24gZW1wdHkgc2xvdHMgbGlrZSBudWxsIGNoaWxkcmVuLiBUaGF0J3NcbiAgICAgICAgLy8gdW5mb3J0dW5hdGUgYmVjYXVzZSBpdCB0cmlnZ2VycyB0aGUgc2xvdyBwYXRoIGFsbCB0aGUgdGltZS4gV2UgbmVlZFxuICAgICAgICAvLyBhIGJldHRlciB3YXkgdG8gY29tbXVuaWNhdGUgd2hldGhlciB0aGlzIHdhcyBhIG1pc3Mgb3IgbnVsbCxcbiAgICAgICAgLy8gYm9vbGVhbiwgdW5kZWZpbmVkLCBldGMuXG4gICAgICAgIGlmIChvbGRGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgaWYgKG9sZEZpYmVyICYmIG5ld0ZpYmVyLmFsdGVybmF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlIG1hdGNoZWQgdGhlIHNsb3QsIGJ1dCB3ZSBkaWRuJ3QgcmV1c2UgdGhlIGV4aXN0aW5nIGZpYmVyLCBzbyB3ZVxuICAgICAgICAgIC8vIG5lZWQgdG8gZGVsZXRlIHRoZSBleGlzdGluZyBjaGlsZC5cbiAgICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsYXN0UGxhY2VkSW5kZXggPSBwbGFjZUNoaWxkKG5ld0ZpYmVyLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBNb3ZlIG91dCBvZiB0aGUgbG9vcC4gVGhpcyBvbmx5IGhhcHBlbnMgZm9yIHRoZSBmaXJzdCBydW4uXG4gICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBuZXdGaWJlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRPRE86IERlZmVyIHNpYmxpbmdzIGlmIHdlJ3JlIG5vdCBhdCB0aGUgcmlnaHQgaW5kZXggZm9yIHRoaXMgc2xvdC5cbiAgICAgICAgLy8gSS5lLiBpZiB3ZSBoYWQgbnVsbCB2YWx1ZXMgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gZGVmZXIgdGhpc1xuICAgICAgICAvLyBmb3IgZWFjaCBudWxsIHZhbHVlLiBIb3dldmVyLCB3ZSBhbHNvIGRvbid0IHdhbnQgdG8gY2FsbCB1cGRhdGVTbG90XG4gICAgICAgIC8vIHdpdGggdGhlIHByZXZpb3VzIG9uZS5cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gbmV3RmliZXI7XG4gICAgICB9XG4gICAgICBwcmV2aW91c05ld0ZpYmVyID0gbmV3RmliZXI7XG4gICAgICBvbGRGaWJlciA9IG5leHRPbGRGaWJlcjtcbiAgICB9XG5cbiAgICBpZiAobmV3SWR4ID09PSBuZXdDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIC8vIFdlJ3ZlIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgbmV3IGNoaWxkcmVuLiBXZSBjYW4gZGVsZXRlIHRoZSByZXN0LlxuICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIG9sZEZpYmVyKTtcbiAgICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICAgIH1cblxuICAgIGlmIChvbGRGaWJlciA9PT0gbnVsbCkge1xuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbnkgbW9yZSBleGlzdGluZyBjaGlsZHJlbiB3ZSBjYW4gY2hvb3NlIGEgZmFzdCBwYXRoXG4gICAgICAvLyBzaW5jZSB0aGUgcmVzdCB3aWxsIGFsbCBiZSBpbnNlcnRpb25zLlxuICAgICAgZm9yICg7IG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgbmV3SWR4KyspIHtcbiAgICAgICAgdmFyIF9uZXdGaWJlciA9IGNyZWF0ZUNoaWxkKFxuICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgIG5ld0NoaWxkcmVuW25ld0lkeF0sXG4gICAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFfbmV3RmliZXIpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0UGxhY2VkSW5kZXggPSBwbGFjZUNoaWxkKF9uZXdGaWJlciwgbGFzdFBsYWNlZEluZGV4LCBuZXdJZHgpO1xuICAgICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFRPRE86IE1vdmUgb3V0IG9mIHRoZSBsb29wLiBUaGlzIG9ubHkgaGFwcGVucyBmb3IgdGhlIGZpcnN0IHJ1bi5cbiAgICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkID0gX25ld0ZpYmVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IF9uZXdGaWJlcjtcbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91c05ld0ZpYmVyID0gX25ld0ZpYmVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gICAgfVxuXG4gICAgLy8gQWRkIGFsbCBjaGlsZHJlbiB0byBhIGtleSBtYXAgZm9yIHF1aWNrIGxvb2t1cHMuXG4gICAgdmFyIGV4aXN0aW5nQ2hpbGRyZW4gPSBtYXBSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuXG4gICAgLy8gS2VlcCBzY2FubmluZyBhbmQgdXNlIHRoZSBtYXAgdG8gcmVzdG9yZSBkZWxldGVkIGl0ZW1zIGFzIG1vdmVzLlxuICAgIGZvciAoOyBuZXdJZHggPCBuZXdDaGlsZHJlbi5sZW5ndGg7IG5ld0lkeCsrKSB7XG4gICAgICB2YXIgX25ld0ZpYmVyMiA9IHVwZGF0ZUZyb21NYXAoXG4gICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4sXG4gICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICBuZXdJZHgsXG4gICAgICAgIG5ld0NoaWxkcmVuW25ld0lkeF0sXG4gICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgICAgaWYgKF9uZXdGaWJlcjIpIHtcbiAgICAgICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgICBpZiAoX25ld0ZpYmVyMi5hbHRlcm5hdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFRoZSBuZXcgZmliZXIgaXMgYSB3b3JrIGluIHByb2dyZXNzLCBidXQgaWYgdGhlcmUgZXhpc3RzIGFcbiAgICAgICAgICAgIC8vIGN1cnJlbnQsIHRoYXQgbWVhbnMgdGhhdCB3ZSByZXVzZWQgdGhlIGZpYmVyLiBXZSBuZWVkIHRvIGRlbGV0ZVxuICAgICAgICAgICAgLy8gaXQgZnJvbSB0aGUgY2hpbGQgbGlzdCBzbyB0aGF0IHdlIGRvbid0IGFkZCBpdCB0byB0aGUgZGVsZXRpb25cbiAgICAgICAgICAgIC8vIGxpc3QuXG4gICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuW1wiZGVsZXRlXCJdKFxuICAgICAgICAgICAgICBfbmV3RmliZXIyLmtleSA9PT0gbnVsbCA/IG5ld0lkeCA6IF9uZXdGaWJlcjIua2V5XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsYXN0UGxhY2VkSW5kZXggPSBwbGFjZUNoaWxkKF9uZXdGaWJlcjIsIGxhc3RQbGFjZWRJbmRleCwgbmV3SWR4KTtcbiAgICAgICAgaWYgKHByZXZpb3VzTmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkID0gX25ld0ZpYmVyMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBfbmV3RmliZXIyO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBfbmV3RmliZXIyO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAvLyBBbnkgZXhpc3RpbmcgY2hpbGRyZW4gdGhhdCB3ZXJlbid0IGNvbnN1bWVkIGFib3ZlIHdlcmUgZGVsZXRlZC4gV2UgbmVlZFxuICAgICAgLy8gdG8gYWRkIHRoZW0gdG8gdGhlIGRlbGV0aW9uIGxpc3QuXG4gICAgICBleGlzdGluZ0NoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuSXRlcmF0b3IoXG4gICAgcmV0dXJuRmliZXIsXG4gICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgbmV3Q2hpbGRyZW5JdGVyYWJsZSxcbiAgICBleHBpcmF0aW9uVGltZVxuICApIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBzYW1lIGltcGxlbWVudGF0aW9uIGFzIHJlY29uY2lsZUNoaWxkcmVuQXJyYXkoKSxcbiAgICAvLyBidXQgdXNpbmcgdGhlIGl0ZXJhdG9yIGluc3RlYWQuXG5cbiAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGRyZW5JdGVyYWJsZSk7XG4gICAgaW52YXJpYW50KFxuICAgICAgdHlwZW9mIGl0ZXJhdG9yRm4gPT09IFwiZnVuY3Rpb25cIixcbiAgICAgIFwiQW4gb2JqZWN0IGlzIG5vdCBhbiBpdGVyYWJsZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFwiICtcbiAgICAgICAgXCJSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICApO1xuXG4gICAge1xuICAgICAgLy8gV2FybiBhYm91dCB1c2luZyBNYXBzIGFzIGNoaWxkcmVuXG4gICAgICBpZiAodHlwZW9mIG5ld0NoaWxkcmVuSXRlcmFibGUuZW50cmllcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHZhciBwb3NzaWJsZU1hcCA9IG5ld0NoaWxkcmVuSXRlcmFibGU7XG4gICAgICAgIGlmIChwb3NzaWJsZU1hcC5lbnRyaWVzID09PSBpdGVyYXRvckZuKSB7XG4gICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgIGRpZFdhcm5BYm91dE1hcHMsXG4gICAgICAgICAgICBcIlVzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgdW5zdXBwb3J0ZWQgYW5kIHdpbGwgbGlrZWx5IHlpZWxkIFwiICtcbiAgICAgICAgICAgICAgXCJ1bmV4cGVjdGVkIHJlc3VsdHMuIENvbnZlcnQgaXQgdG8gYSBzZXF1ZW5jZS9pdGVyYWJsZSBvZiBrZXllZCBcIiArXG4gICAgICAgICAgICAgIFwiUmVhY3RFbGVtZW50cyBpbnN0ZWFkLiVzXCIsXG4gICAgICAgICAgICBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDEoKVxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlkV2FybkFib3V0TWFwcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRmlyc3QsIHZhbGlkYXRlIGtleXMuXG4gICAgICAvLyBXZSdsbCBnZXQgYSBkaWZmZXJlbnQgaXRlcmF0b3IgbGF0ZXIgZm9yIHRoZSBtYWluIHBhc3MuXG4gICAgICB2YXIgX25ld0NoaWxkcmVuID0gaXRlcmF0b3JGbi5jYWxsKG5ld0NoaWxkcmVuSXRlcmFibGUpO1xuICAgICAgaWYgKF9uZXdDaGlsZHJlbikge1xuICAgICAgICB2YXIga25vd25LZXlzID0gbnVsbDtcbiAgICAgICAgdmFyIF9zdGVwID0gX25ld0NoaWxkcmVuLm5leHQoKTtcbiAgICAgICAgZm9yICg7ICFfc3RlcC5kb25lOyBfc3RlcCA9IF9uZXdDaGlsZHJlbi5uZXh0KCkpIHtcbiAgICAgICAgICB2YXIgY2hpbGQgPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICBrbm93bktleXMgPSB3YXJuT25JbnZhbGlkS2V5KGNoaWxkLCBrbm93bktleXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG5ld0NoaWxkcmVuID0gaXRlcmF0b3JGbi5jYWxsKG5ld0NoaWxkcmVuSXRlcmFibGUpO1xuICAgIGludmFyaWFudChuZXdDaGlsZHJlbiAhPSBudWxsLCBcIkFuIGl0ZXJhYmxlIG9iamVjdCBwcm92aWRlZCBubyBpdGVyYXRvci5cIik7XG5cbiAgICB2YXIgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IG51bGw7XG4gICAgdmFyIHByZXZpb3VzTmV3RmliZXIgPSBudWxsO1xuXG4gICAgdmFyIG9sZEZpYmVyID0gY3VycmVudEZpcnN0Q2hpbGQ7XG4gICAgdmFyIGxhc3RQbGFjZWRJbmRleCA9IDA7XG4gICAgdmFyIG5ld0lkeCA9IDA7XG4gICAgdmFyIG5leHRPbGRGaWJlciA9IG51bGw7XG5cbiAgICB2YXIgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKTtcbiAgICBmb3IgKFxuICAgICAgO1xuICAgICAgb2xkRmliZXIgIT09IG51bGwgJiYgIXN0ZXAuZG9uZTtcbiAgICAgIG5ld0lkeCsrLCBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpXG4gICAgKSB7XG4gICAgICBpZiAob2xkRmliZXIuaW5kZXggPiBuZXdJZHgpIHtcbiAgICAgICAgbmV4dE9sZEZpYmVyID0gb2xkRmliZXI7XG4gICAgICAgIG9sZEZpYmVyID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRPbGRGaWJlciA9IG9sZEZpYmVyLnNpYmxpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbmV3RmliZXIgPSB1cGRhdGVTbG90KFxuICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgb2xkRmliZXIsXG4gICAgICAgIHN0ZXAudmFsdWUsXG4gICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgICAgaWYgKG5ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgIC8vIFRPRE86IFRoaXMgYnJlYWtzIG9uIGVtcHR5IHNsb3RzIGxpa2UgbnVsbCBjaGlsZHJlbi4gVGhhdCdzXG4gICAgICAgIC8vIHVuZm9ydHVuYXRlIGJlY2F1c2UgaXQgdHJpZ2dlcnMgdGhlIHNsb3cgcGF0aCBhbGwgdGhlIHRpbWUuIFdlIG5lZWRcbiAgICAgICAgLy8gYSBiZXR0ZXIgd2F5IHRvIGNvbW11bmljYXRlIHdoZXRoZXIgdGhpcyB3YXMgYSBtaXNzIG9yIG51bGwsXG4gICAgICAgIC8vIGJvb2xlYW4sIHVuZGVmaW5lZCwgZXRjLlxuICAgICAgICBpZiAoIW9sZEZpYmVyKSB7XG4gICAgICAgICAgb2xkRmliZXIgPSBuZXh0T2xkRmliZXI7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgICBpZiAob2xkRmliZXIgJiYgbmV3RmliZXIuYWx0ZXJuYXRlID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gV2UgbWF0Y2hlZCB0aGUgc2xvdCwgYnV0IHdlIGRpZG4ndCByZXVzZSB0aGUgZXhpc3RpbmcgZmliZXIsIHNvIHdlXG4gICAgICAgICAgLy8gbmVlZCB0byBkZWxldGUgdGhlIGV4aXN0aW5nIGNoaWxkLlxuICAgICAgICAgIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxhc3RQbGFjZWRJbmRleCA9IHBsYWNlQ2hpbGQobmV3RmliZXIsIGxhc3RQbGFjZWRJbmRleCwgbmV3SWR4KTtcbiAgICAgIGlmIChwcmV2aW91c05ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgIC8vIFRPRE86IE1vdmUgb3V0IG9mIHRoZSBsb29wLiBUaGlzIG9ubHkgaGFwcGVucyBmb3IgdGhlIGZpcnN0IHJ1bi5cbiAgICAgICAgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IG5ld0ZpYmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVE9ETzogRGVmZXIgc2libGluZ3MgaWYgd2UncmUgbm90IGF0IHRoZSByaWdodCBpbmRleCBmb3IgdGhpcyBzbG90LlxuICAgICAgICAvLyBJLmUuIGlmIHdlIGhhZCBudWxsIHZhbHVlcyBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byBkZWZlciB0aGlzXG4gICAgICAgIC8vIGZvciBlYWNoIG51bGwgdmFsdWUuIEhvd2V2ZXIsIHdlIGFsc28gZG9uJ3Qgd2FudCB0byBjYWxsIHVwZGF0ZVNsb3RcbiAgICAgICAgLy8gd2l0aCB0aGUgcHJldmlvdXMgb25lLlxuICAgICAgICBwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBuZXdGaWJlcjtcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBuZXdGaWJlcjtcbiAgICAgIG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyO1xuICAgIH1cblxuICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgIC8vIFdlJ3ZlIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgbmV3IGNoaWxkcmVuLiBXZSBjYW4gZGVsZXRlIHRoZSByZXN0LlxuICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIG9sZEZpYmVyKTtcbiAgICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICAgIH1cblxuICAgIGlmIChvbGRGaWJlciA9PT0gbnVsbCkge1xuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbnkgbW9yZSBleGlzdGluZyBjaGlsZHJlbiB3ZSBjYW4gY2hvb3NlIGEgZmFzdCBwYXRoXG4gICAgICAvLyBzaW5jZSB0aGUgcmVzdCB3aWxsIGFsbCBiZSBpbnNlcnRpb25zLlxuICAgICAgZm9yICg7ICFzdGVwLmRvbmU7IG5ld0lkeCsrLCBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpKSB7XG4gICAgICAgIHZhciBfbmV3RmliZXIzID0gY3JlYXRlQ2hpbGQocmV0dXJuRmliZXIsIHN0ZXAudmFsdWUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgaWYgKF9uZXdGaWJlcjMgPT09IG51bGwpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0UGxhY2VkSW5kZXggPSBwbGFjZUNoaWxkKF9uZXdGaWJlcjMsIGxhc3RQbGFjZWRJbmRleCwgbmV3SWR4KTtcbiAgICAgICAgaWYgKHByZXZpb3VzTmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBUT0RPOiBNb3ZlIG91dCBvZiB0aGUgbG9vcC4gVGhpcyBvbmx5IGhhcHBlbnMgZm9yIHRoZSBmaXJzdCBydW4uXG4gICAgICAgICAgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IF9uZXdGaWJlcjM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gX25ld0ZpYmVyMztcbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91c05ld0ZpYmVyID0gX25ld0ZpYmVyMztcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICAgIH1cblxuICAgIC8vIEFkZCBhbGwgY2hpbGRyZW4gdG8gYSBrZXkgbWFwIGZvciBxdWljayBsb29rdXBzLlxuICAgIHZhciBleGlzdGluZ0NoaWxkcmVuID0gbWFwUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIG9sZEZpYmVyKTtcblxuICAgIC8vIEtlZXAgc2Nhbm5pbmcgYW5kIHVzZSB0aGUgbWFwIHRvIHJlc3RvcmUgZGVsZXRlZCBpdGVtcyBhcyBtb3Zlcy5cbiAgICBmb3IgKDsgIXN0ZXAuZG9uZTsgbmV3SWR4KyssIHN0ZXAgPSBuZXdDaGlsZHJlbi5uZXh0KCkpIHtcbiAgICAgIHZhciBfbmV3RmliZXI0ID0gdXBkYXRlRnJvbU1hcChcbiAgICAgICAgZXhpc3RpbmdDaGlsZHJlbixcbiAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgIG5ld0lkeCxcbiAgICAgICAgc3RlcC52YWx1ZSxcbiAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgICBpZiAoX25ld0ZpYmVyNCAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgICAgIGlmIChfbmV3RmliZXI0LmFsdGVybmF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVGhlIG5ldyBmaWJlciBpcyBhIHdvcmsgaW4gcHJvZ3Jlc3MsIGJ1dCBpZiB0aGVyZSBleGlzdHMgYVxuICAgICAgICAgICAgLy8gY3VycmVudCwgdGhhdCBtZWFucyB0aGF0IHdlIHJldXNlZCB0aGUgZmliZXIuIFdlIG5lZWQgdG8gZGVsZXRlXG4gICAgICAgICAgICAvLyBpdCBmcm9tIHRoZSBjaGlsZCBsaXN0IHNvIHRoYXQgd2UgZG9uJ3QgYWRkIGl0IHRvIHRoZSBkZWxldGlvblxuICAgICAgICAgICAgLy8gbGlzdC5cbiAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW5bXCJkZWxldGVcIl0oXG4gICAgICAgICAgICAgIF9uZXdGaWJlcjQua2V5ID09PSBudWxsID8gbmV3SWR4IDogX25ld0ZpYmVyNC5rZXlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxhc3RQbGFjZWRJbmRleCA9IHBsYWNlQ2hpbGQoX25ld0ZpYmVyNCwgbGFzdFBsYWNlZEluZGV4LCBuZXdJZHgpO1xuICAgICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBfbmV3RmliZXI0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IF9uZXdGaWJlcjQ7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IF9uZXdGaWJlcjQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgIC8vIEFueSBleGlzdGluZyBjaGlsZHJlbiB0aGF0IHdlcmVuJ3QgY29uc3VtZWQgYWJvdmUgd2VyZSBkZWxldGVkLiBXZSBuZWVkXG4gICAgICAvLyB0byBhZGQgdGhlbSB0byB0aGUgZGVsZXRpb24gbGlzdC5cbiAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICByZXR1cm4gZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjb25jaWxlU2luZ2xlVGV4dE5vZGUoXG4gICAgcmV0dXJuRmliZXIsXG4gICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgdGV4dENvbnRlbnQsXG4gICAgZXhwaXJhdGlvblRpbWVcbiAgKSB7XG4gICAgLy8gVGhlcmUncyBubyBuZWVkIHRvIGNoZWNrIGZvciBrZXlzIG9uIHRleHQgbm9kZXMgc2luY2Ugd2UgZG9uJ3QgaGF2ZSBhXG4gICAgLy8gd2F5IHRvIGRlZmluZSB0aGVtLlxuICAgIGlmIChjdXJyZW50Rmlyc3RDaGlsZCAhPT0gbnVsbCAmJiBjdXJyZW50Rmlyc3RDaGlsZC50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICAvLyBXZSBhbHJlYWR5IGhhdmUgYW4gZXhpc3Rpbmcgbm9kZSBzbyBsZXQncyBqdXN0IHVwZGF0ZSBpdCBhbmQgZGVsZXRlXG4gICAgICAvLyB0aGUgcmVzdC5cbiAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nKTtcbiAgICAgIHZhciBleGlzdGluZyA9IHVzZUZpYmVyKGN1cnJlbnRGaXJzdENoaWxkLCB0ZXh0Q29udGVudCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgZXhpc3RpbmdbXCJyZXR1cm5cIl0gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBleGlzdGluZztcbiAgICB9XG4gICAgLy8gVGhlIGV4aXN0aW5nIGZpcnN0IGNoaWxkIGlzIG5vdCBhIHRleHQgbm9kZSBzbyB3ZSBuZWVkIHRvIGNyZWF0ZSBvbmVcbiAgICAvLyBhbmQgZGVsZXRlIHRoZSBleGlzdGluZyBvbmVzLlxuICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCk7XG4gICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21UZXh0KFxuICAgICAgdGV4dENvbnRlbnQsXG4gICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICApO1xuICAgIGNyZWF0ZWRbXCJyZXR1cm5cIl0gPSByZXR1cm5GaWJlcjtcbiAgICByZXR1cm4gY3JlYXRlZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZVNpbmdsZUVsZW1lbnQoXG4gICAgcmV0dXJuRmliZXIsXG4gICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgZWxlbWVudCxcbiAgICBleHBpcmF0aW9uVGltZVxuICApIHtcbiAgICB2YXIga2V5ID0gZWxlbWVudC5rZXk7XG4gICAgdmFyIGNoaWxkID0gY3VycmVudEZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKGNoaWxkICE9PSBudWxsKSB7XG4gICAgICAvLyBUT0RPOiBJZiBrZXkgPT09IG51bGwgYW5kIGNoaWxkLmtleSA9PT0gbnVsbCwgdGhlbiB0aGlzIG9ubHkgYXBwbGllcyB0b1xuICAgICAgLy8gdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGxpc3QuXG4gICAgICBpZiAoY2hpbGQua2V5ID09PSBrZXkpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNoaWxkLnRhZyA9PT0gRnJhZ21lbnRcbiAgICAgICAgICAgID8gZWxlbWVudC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFXG4gICAgICAgICAgICA6IGNoaWxkLnR5cGUgPT09IGVsZW1lbnQudHlwZVxuICAgICAgICApIHtcbiAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY2hpbGQuc2libGluZyk7XG4gICAgICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoXG4gICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgIGVsZW1lbnQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRVxuICAgICAgICAgICAgICA/IGVsZW1lbnQucHJvcHMuY2hpbGRyZW5cbiAgICAgICAgICAgICAgOiBlbGVtZW50LnByb3BzLFxuICAgICAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGV4aXN0aW5nLnJlZiA9IGNvZXJjZVJlZihyZXR1cm5GaWJlciwgY2hpbGQsIGVsZW1lbnQpO1xuICAgICAgICAgIGV4aXN0aW5nW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAge1xuICAgICAgICAgICAgZXhpc3RpbmcuX2RlYnVnU291cmNlID0gZWxlbWVudC5fc291cmNlO1xuICAgICAgICAgICAgZXhpc3RpbmcuX2RlYnVnT3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICB9XG4gICAgICBjaGlsZCA9IGNoaWxkLnNpYmxpbmc7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkge1xuICAgICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudChcbiAgICAgICAgZWxlbWVudC5wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgZXhwaXJhdGlvblRpbWUsXG4gICAgICAgIGVsZW1lbnQua2V5XG4gICAgICApO1xuICAgICAgY3JlYXRlZFtcInJldHVyblwiXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBfY3JlYXRlZDQgPSBjcmVhdGVGaWJlckZyb21FbGVtZW50KFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICBleHBpcmF0aW9uVGltZVxuICAgICAgKTtcbiAgICAgIF9jcmVhdGVkNC5yZWYgPSBjb2VyY2VSZWYocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBlbGVtZW50KTtcbiAgICAgIF9jcmVhdGVkNFtcInJldHVyblwiXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIF9jcmVhdGVkNDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWNvbmNpbGVTaW5nbGVQb3J0YWwoXG4gICAgcmV0dXJuRmliZXIsXG4gICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgcG9ydGFsLFxuICAgIGV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIHZhciBrZXkgPSBwb3J0YWwua2V5O1xuICAgIHZhciBjaGlsZCA9IGN1cnJlbnRGaXJzdENoaWxkO1xuICAgIHdoaWxlIChjaGlsZCAhPT0gbnVsbCkge1xuICAgICAgLy8gVE9ETzogSWYga2V5ID09PSBudWxsIGFuZCBjaGlsZC5rZXkgPT09IG51bGwsIHRoZW4gdGhpcyBvbmx5IGFwcGxpZXMgdG9cbiAgICAgIC8vIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBsaXN0LlxuICAgICAgaWYgKGNoaWxkLmtleSA9PT0ga2V5KSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjaGlsZC50YWcgPT09IEhvc3RQb3J0YWwgJiZcbiAgICAgICAgICBjaGlsZC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyA9PT0gcG9ydGFsLmNvbnRhaW5lckluZm8gJiZcbiAgICAgICAgICBjaGlsZC5zdGF0ZU5vZGUuaW1wbGVtZW50YXRpb24gPT09IHBvcnRhbC5pbXBsZW1lbnRhdGlvblxuICAgICAgICApIHtcbiAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY2hpbGQuc2libGluZyk7XG4gICAgICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY2hpbGQsIHBvcnRhbC5jaGlsZHJlbiB8fCBbXSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIGV4aXN0aW5nW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICB9XG4gICAgICBjaGlsZCA9IGNoaWxkLnNpYmxpbmc7XG4gICAgfVxuXG4gICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21Qb3J0YWwoXG4gICAgICBwb3J0YWwsXG4gICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICApO1xuICAgIGNyZWF0ZWRbXCJyZXR1cm5cIl0gPSByZXR1cm5GaWJlcjtcbiAgICByZXR1cm4gY3JlYXRlZDtcbiAgfVxuXG4gIC8vIFRoaXMgQVBJIHdpbGwgdGFnIHRoZSBjaGlsZHJlbiB3aXRoIHRoZSBzaWRlLWVmZmVjdCBvZiB0aGUgcmVjb25jaWxpYXRpb25cbiAgLy8gaXRzZWxmLiBUaGV5IHdpbGwgYmUgYWRkZWQgdG8gdGhlIHNpZGUtZWZmZWN0IGxpc3QgYXMgd2UgcGFzcyB0aHJvdWdoIHRoZVxuICAvLyBjaGlsZHJlbiBhbmQgdGhlIHBhcmVudC5cbiAgZnVuY3Rpb24gcmVjb25jaWxlQ2hpbGRGaWJlcnMoXG4gICAgcmV0dXJuRmliZXIsXG4gICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgbmV3Q2hpbGQsXG4gICAgZXhwaXJhdGlvblRpbWVcbiAgKSB7XG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBub3QgcmVjdXJzaXZlLlxuICAgIC8vIElmIHRoZSB0b3AgbGV2ZWwgaXRlbSBpcyBhbiBhcnJheSwgd2UgdHJlYXQgaXQgYXMgYSBzZXQgb2YgY2hpbGRyZW4sXG4gICAgLy8gbm90IGFzIGEgZnJhZ21lbnQuIE5lc3RlZCBhcnJheXMgb24gdGhlIG90aGVyIGhhbmQgd2lsbCBiZSB0cmVhdGVkIGFzXG4gICAgLy8gZnJhZ21lbnQgbm9kZXMuIFJlY3Vyc2lvbiBoYXBwZW5zIGF0IHRoZSBub3JtYWwgZmxvdy5cblxuICAgIC8vIEhhbmRsZSB0b3AgbGV2ZWwgdW5rZXllZCBmcmFnbWVudHMgYXMgaWYgdGhleSB3ZXJlIGFycmF5cy5cbiAgICAvLyBUaGlzIGxlYWRzIHRvIGFuIGFtYmlndWl0eSBiZXR3ZWVuIDw+e1suLi5dfTwvPiBhbmQgPD4uLi48Lz4uXG4gICAgLy8gV2UgdHJlYXQgdGhlIGFtYmlndW91cyBjYXNlcyBhYm92ZSB0aGUgc2FtZS5cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgbmV3Q2hpbGQgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgIG5ld0NoaWxkICE9PSBudWxsICYmXG4gICAgICBuZXdDaGlsZC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFICYmXG4gICAgICBuZXdDaGlsZC5rZXkgPT09IG51bGxcbiAgICApIHtcbiAgICAgIG5ld0NoaWxkID0gbmV3Q2hpbGQucHJvcHMuY2hpbGRyZW47XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIG9iamVjdCB0eXBlc1xuICAgIHZhciBpc09iamVjdCA9IHR5cGVvZiBuZXdDaGlsZCA9PT0gXCJvYmplY3RcIiAmJiBuZXdDaGlsZCAhPT0gbnVsbDtcblxuICAgIGlmIChpc09iamVjdCkge1xuICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICByZXR1cm4gcGxhY2VTaW5nbGVDaGlsZChcbiAgICAgICAgICAgIHJlY29uY2lsZVNpbmdsZUVsZW1lbnQoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICByZXR1cm4gcGxhY2VTaW5nbGVDaGlsZChcbiAgICAgICAgICAgIHJlY29uY2lsZVNpbmdsZVBvcnRhbChcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG5ld0NoaWxkID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gcGxhY2VTaW5nbGVDaGlsZChcbiAgICAgICAgcmVjb25jaWxlU2luZ2xlVGV4dE5vZGUoXG4gICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgXCJcIiArIG5ld0NoaWxkLFxuICAgICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGlzQXJyYXkkMShuZXdDaGlsZCkpIHtcbiAgICAgIHJldHVybiByZWNvbmNpbGVDaGlsZHJlbkFycmF5KFxuICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgIG5ld0NoaWxkLFxuICAgICAgICBleHBpcmF0aW9uVGltZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpIHtcbiAgICAgIHJldHVybiByZWNvbmNpbGVDaGlsZHJlbkl0ZXJhdG9yKFxuICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgIG5ld0NoaWxkLFxuICAgICAgICBleHBpcmF0aW9uVGltZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoaXNPYmplY3QpIHtcbiAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgLy8gSWYgdGhlIG5ldyBjaGlsZCBpcyB1bmRlZmluZWQsIGFuZCB0aGUgcmV0dXJuIGZpYmVyIGlzIGEgY29tcG9zaXRlXG4gICAgICAvLyBjb21wb25lbnQsIHRocm93IGFuIGVycm9yLiBJZiBGaWJlciByZXR1cm4gdHlwZXMgYXJlIGRpc2FibGVkLFxuICAgICAgLy8gd2UgYWxyZWFkeSB0aHJldyBhYm92ZS5cbiAgICAgIHN3aXRjaCAocmV0dXJuRmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6IHtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSByZXR1cm5GaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UucmVuZGVyLl9pc01vY2tGdW5jdGlvbikge1xuICAgICAgICAgICAgICAvLyBXZSBhbGxvdyBhdXRvLW1vY2tzIHRvIHByb2NlZWQgYXMgaWYgdGhleSdyZSByZXR1cm5pbmcgbnVsbC5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEludGVudGlvbmFsbHkgZmFsbCB0aHJvdWdoIHRvIHRoZSBuZXh0IGNhc2UsIHdoaWNoIGhhbmRsZXMgYm90aFxuICAgICAgICAvLyBmdW5jdGlvbnMgYW5kIGNsYXNzZXNcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lZCBuby1mYWxsdGhyb3VnaFxuICAgICAgICBjYXNlIEZ1bmN0aW9uYWxDb21wb25lbnQ6IHtcbiAgICAgICAgICB2YXIgQ29tcG9uZW50ID0gcmV0dXJuRmliZXIudHlwZTtcbiAgICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiJXMoLi4uKTogTm90aGluZyB3YXMgcmV0dXJuZWQgZnJvbSByZW5kZXIuIFRoaXMgdXN1YWxseSBtZWFucyBhIFwiICtcbiAgICAgICAgICAgICAgXCJyZXR1cm4gc3RhdGVtZW50IGlzIG1pc3NpbmcuIE9yLCB0byByZW5kZXIgbm90aGluZywgXCIgK1xuICAgICAgICAgICAgICBcInJldHVybiBudWxsLlwiLFxuICAgICAgICAgICAgQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtYWluaW5nIGNhc2VzIGFyZSBhbGwgdHJlYXRlZCBhcyBlbXB0eS5cbiAgICByZXR1cm4gZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKTtcbiAgfVxuXG4gIHJldHVybiByZWNvbmNpbGVDaGlsZEZpYmVycztcbn1cblxudmFyIHJlY29uY2lsZUNoaWxkRmliZXJzID0gQ2hpbGRSZWNvbmNpbGVyKHRydWUpO1xudmFyIG1vdW50Q2hpbGRGaWJlcnMgPSBDaGlsZFJlY29uY2lsZXIoZmFsc2UpO1xuXG5mdW5jdGlvbiBjbG9uZUNoaWxkRmliZXJzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gIGludmFyaWFudChcbiAgICBjdXJyZW50ID09PSBudWxsIHx8IHdvcmtJblByb2dyZXNzLmNoaWxkID09PSBjdXJyZW50LmNoaWxkLFxuICAgIFwiUmVzdW1pbmcgd29yayBub3QgeWV0IGltcGxlbWVudGVkLlwiXG4gICk7XG5cbiAgaWYgKHdvcmtJblByb2dyZXNzLmNoaWxkID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRDaGlsZCA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB2YXIgbmV3Q2hpbGQgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhcbiAgICBjdXJyZW50Q2hpbGQsXG4gICAgY3VycmVudENoaWxkLnBlbmRpbmdQcm9wcyxcbiAgICBjdXJyZW50Q2hpbGQuZXhwaXJhdGlvblRpbWVcbiAgKTtcbiAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBuZXdDaGlsZDtcblxuICBuZXdDaGlsZFtcInJldHVyblwiXSA9IHdvcmtJblByb2dyZXNzO1xuICB3aGlsZSAoY3VycmVudENoaWxkLnNpYmxpbmcgIT09IG51bGwpIHtcbiAgICBjdXJyZW50Q2hpbGQgPSBjdXJyZW50Q2hpbGQuc2libGluZztcbiAgICBuZXdDaGlsZCA9IG5ld0NoaWxkLnNpYmxpbmcgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhcbiAgICAgIGN1cnJlbnRDaGlsZCxcbiAgICAgIGN1cnJlbnRDaGlsZC5wZW5kaW5nUHJvcHMsXG4gICAgICBjdXJyZW50Q2hpbGQuZXhwaXJhdGlvblRpbWVcbiAgICApO1xuICAgIG5ld0NoaWxkW1wicmV0dXJuXCJdID0gd29ya0luUHJvZ3Jlc3M7XG4gIH1cbiAgbmV3Q2hpbGQuc2libGluZyA9IG51bGw7XG59XG5cbnZhciBjaGFuZ2VkQml0c1N0YWNrID0gW107XG52YXIgY3VycmVudFZhbHVlU3RhY2sgPSBbXTtcbnZhciBzdGFjayA9IFtdO1xudmFyIGluZGV4JDEgPSAtMTtcblxudmFyIHJlbmRlcmVyU2lnaWwgPSB2b2lkIDA7XG57XG4gIC8vIFVzZSB0aGlzIHRvIGRldGVjdCBtdWx0aXBsZSByZW5kZXJlcnMgdXNpbmcgdGhlIHNhbWUgY29udGV4dFxuICByZW5kZXJlclNpZ2lsID0ge307XG59XG5cbmZ1bmN0aW9uIHB1c2hQcm92aWRlcihwcm92aWRlckZpYmVyKSB7XG4gIHZhciBjb250ZXh0ID0gcHJvdmlkZXJGaWJlci50eXBlLmNvbnRleHQ7XG4gIGluZGV4JDEgKz0gMTtcbiAgY2hhbmdlZEJpdHNTdGFja1tpbmRleCQxXSA9IGNvbnRleHQuX2NoYW5nZWRCaXRzO1xuICBjdXJyZW50VmFsdWVTdGFja1tpbmRleCQxXSA9IGNvbnRleHQuX2N1cnJlbnRWYWx1ZTtcbiAgc3RhY2tbaW5kZXgkMV0gPSBwcm92aWRlckZpYmVyO1xuICBjb250ZXh0Ll9jdXJyZW50VmFsdWUgPSBwcm92aWRlckZpYmVyLnBlbmRpbmdQcm9wcy52YWx1ZTtcbiAgY29udGV4dC5fY2hhbmdlZEJpdHMgPSBwcm92aWRlckZpYmVyLnN0YXRlTm9kZTtcblxuICB7XG4gICAgd2FybmluZyhcbiAgICAgIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciA9PT0gbnVsbCB8fFxuICAgICAgICBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgPT09IHJlbmRlcmVyU2lnaWwsXG4gICAgICBcIkRldGVjdGVkIG11bHRpcGxlIHJlbmRlcmVycyBjb25jdXJyZW50bHkgcmVuZGVyaW5nIHRoZSBcIiArXG4gICAgICAgIFwic2FtZSBjb250ZXh0IHByb3ZpZGVyLiBUaGlzIGlzIGN1cnJlbnRseSB1bnN1cHBvcnRlZC5cIlxuICAgICk7XG4gICAgY29udGV4dC5fY3VycmVudFJlbmRlcmVyID0gcmVuZGVyZXJTaWdpbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb3BQcm92aWRlcihwcm92aWRlckZpYmVyKSB7XG4gIHtcbiAgICB3YXJuaW5nKFxuICAgICAgaW5kZXgkMSA+IC0xICYmIHByb3ZpZGVyRmliZXIgPT09IHN0YWNrW2luZGV4JDFdLFxuICAgICAgXCJVbmV4cGVjdGVkIHBvcC5cIlxuICAgICk7XG4gIH1cbiAgdmFyIGNoYW5nZWRCaXRzID0gY2hhbmdlZEJpdHNTdGFja1tpbmRleCQxXTtcbiAgdmFyIGN1cnJlbnRWYWx1ZSA9IGN1cnJlbnRWYWx1ZVN0YWNrW2luZGV4JDFdO1xuICBjaGFuZ2VkQml0c1N0YWNrW2luZGV4JDFdID0gbnVsbDtcbiAgY3VycmVudFZhbHVlU3RhY2tbaW5kZXgkMV0gPSBudWxsO1xuICBzdGFja1tpbmRleCQxXSA9IG51bGw7XG4gIGluZGV4JDEgLT0gMTtcbiAgdmFyIGNvbnRleHQgPSBwcm92aWRlckZpYmVyLnR5cGUuY29udGV4dDtcbiAgY29udGV4dC5fY3VycmVudFZhbHVlID0gY3VycmVudFZhbHVlO1xuICBjb250ZXh0Ll9jaGFuZ2VkQml0cyA9IGNoYW5nZWRCaXRzO1xufVxuXG5mdW5jdGlvbiByZXNldFByb3ZpZGVyU3RhY2soKSB7XG4gIGZvciAodmFyIGkgPSBpbmRleCQxOyBpID4gLTE7IGktLSkge1xuICAgIHZhciBwcm92aWRlckZpYmVyID0gc3RhY2tbaV07XG4gICAgdmFyIGNvbnRleHQgPSBwcm92aWRlckZpYmVyLnR5cGUuY29udGV4dDtcbiAgICBjb250ZXh0Ll9jdXJyZW50VmFsdWUgPSBjb250ZXh0Ll9kZWZhdWx0VmFsdWU7XG4gICAgY29udGV4dC5fY2hhbmdlZEJpdHMgPSAwO1xuICAgIGNoYW5nZWRCaXRzU3RhY2tbaV0gPSBudWxsO1xuICAgIGN1cnJlbnRWYWx1ZVN0YWNrW2ldID0gbnVsbDtcbiAgICBzdGFja1tpXSA9IG51bGw7XG4gICAge1xuICAgICAgY29udGV4dC5fY3VycmVudFJlbmRlcmVyID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgaW5kZXgkMSA9IC0xO1xufVxuXG52YXIgZGlkV2FybkFib3V0QmFkQ2xhc3MgPSB2b2lkIDA7XG52YXIgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbmFsQ29tcG9uZW50ID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dFN0YXRlbGVzc1JlZnMgPSB2b2lkIDA7XG5cbntcbiAgZGlkV2FybkFib3V0QmFkQ2xhc3MgPSB7fTtcbiAgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbmFsQ29tcG9uZW50ID0ge307XG4gIGRpZFdhcm5BYm91dFN0YXRlbGVzc1JlZnMgPSB7fTtcbn1cblxudmFyIFJlYWN0RmliZXJCZWdpbldvcmsgPSBmdW5jdGlvbihcbiAgY29uZmlnLFxuICBob3N0Q29udGV4dCxcbiAgaHlkcmF0aW9uQ29udGV4dCxcbiAgc2NoZWR1bGVXb3JrLFxuICBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyXG4pIHtcbiAgdmFyIHNob3VsZFNldFRleHRDb250ZW50ID0gY29uZmlnLnNob3VsZFNldFRleHRDb250ZW50LFxuICAgIHNob3VsZERlcHJpb3JpdGl6ZVN1YnRyZWUgPSBjb25maWcuc2hvdWxkRGVwcmlvcml0aXplU3VidHJlZTtcbiAgdmFyIHB1c2hIb3N0Q29udGV4dCA9IGhvc3RDb250ZXh0LnB1c2hIb3N0Q29udGV4dCxcbiAgICBwdXNoSG9zdENvbnRhaW5lciA9IGhvc3RDb250ZXh0LnB1c2hIb3N0Q29udGFpbmVyO1xuICB2YXIgZW50ZXJIeWRyYXRpb25TdGF0ZSA9IGh5ZHJhdGlvbkNvbnRleHQuZW50ZXJIeWRyYXRpb25TdGF0ZSxcbiAgICByZXNldEh5ZHJhdGlvblN0YXRlID0gaHlkcmF0aW9uQ29udGV4dC5yZXNldEh5ZHJhdGlvblN0YXRlLFxuICAgIHRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlID1cbiAgICAgIGh5ZHJhdGlvbkNvbnRleHQudHJ5VG9DbGFpbU5leHRIeWRyYXRhYmxlSW5zdGFuY2U7XG5cbiAgdmFyIF9SZWFjdEZpYmVyQ2xhc3NDb21wbyA9IFJlYWN0RmliZXJDbGFzc0NvbXBvbmVudChcbiAgICAgIHNjaGVkdWxlV29yayxcbiAgICAgIGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIsXG4gICAgICBtZW1vaXplUHJvcHMsXG4gICAgICBtZW1vaXplU3RhdGVcbiAgICApLFxuICAgIGFkb3B0Q2xhc3NJbnN0YW5jZSA9IF9SZWFjdEZpYmVyQ2xhc3NDb21wby5hZG9wdENsYXNzSW5zdGFuY2UsXG4gICAgY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9XG4gICAgICBfUmVhY3RGaWJlckNsYXNzQ29tcG8uY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyxcbiAgICBjb25zdHJ1Y3RDbGFzc0luc3RhbmNlID0gX1JlYWN0RmliZXJDbGFzc0NvbXBvLmNvbnN0cnVjdENsYXNzSW5zdGFuY2UsXG4gICAgbW91bnRDbGFzc0luc3RhbmNlID0gX1JlYWN0RmliZXJDbGFzc0NvbXBvLm1vdW50Q2xhc3NJbnN0YW5jZSxcbiAgICByZXN1bWVNb3VudENsYXNzSW5zdGFuY2UgPSBfUmVhY3RGaWJlckNsYXNzQ29tcG8ucmVzdW1lTW91bnRDbGFzc0luc3RhbmNlLFxuICAgIHVwZGF0ZUNsYXNzSW5zdGFuY2UgPSBfUmVhY3RGaWJlckNsYXNzQ29tcG8udXBkYXRlQ2xhc3NJbnN0YW5jZTtcblxuICAvLyBUT0RPOiBSZW1vdmUgdGhpcyBhbmQgdXNlIHJlY29uY2lsZUNoaWxkcmVuQXRFeHBpcmF0aW9uVGltZSBkaXJlY3RseS5cblxuICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKSB7XG4gICAgcmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lKFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgbmV4dENoaWxkcmVuLFxuICAgICAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWVcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lKFxuICAgIGN1cnJlbnQsXG4gICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgbmV4dENoaWxkcmVuLFxuICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAvLyBJZiB0aGlzIGlzIGEgZnJlc2ggbmV3IGNvbXBvbmVudCB0aGF0IGhhc24ndCBiZWVuIHJlbmRlcmVkIHlldCwgd2VcbiAgICAgIC8vIHdvbid0IHVwZGF0ZSBpdHMgY2hpbGQgc2V0IGJ5IGFwcGx5aW5nIG1pbmltYWwgc2lkZS1lZmZlY3RzLiBJbnN0ZWFkLFxuICAgICAgLy8gd2Ugd2lsbCBhZGQgdGhlbSBhbGwgdG8gdGhlIGNoaWxkIGJlZm9yZSBpdCBnZXRzIHJlbmRlcmVkLiBUaGF0IG1lYW5zXG4gICAgICAvLyB3ZSBjYW4gb3B0aW1pemUgdGhpcyByZWNvbmNpbGlhdGlvbiBwYXNzIGJ5IG5vdCB0cmFja2luZyBzaWRlLWVmZmVjdHMuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IG1vdW50Q2hpbGRGaWJlcnMoXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICBudWxsLFxuICAgICAgICBuZXh0Q2hpbGRyZW4sXG4gICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB0aGUgY3VycmVudCBjaGlsZCBpcyB0aGUgc2FtZSBhcyB0aGUgd29yayBpbiBwcm9ncmVzcywgaXQgbWVhbnMgdGhhdFxuICAgICAgLy8gd2UgaGF2ZW4ndCB5ZXQgc3RhcnRlZCBhbnkgd29yayBvbiB0aGVzZSBjaGlsZHJlbi4gVGhlcmVmb3JlLCB3ZSB1c2VcbiAgICAgIC8vIHRoZSBjbG9uZSBhbGdvcml0aG0gdG8gY3JlYXRlIGEgY29weSBvZiBhbGwgdGhlIGN1cnJlbnQgY2hpbGRyZW4uXG5cbiAgICAgIC8vIElmIHdlIGhhZCBhbnkgcHJvZ3Jlc3NlZCB3b3JrIGFscmVhZHksIHRoYXQgaXMgaW52YWxpZCBhdCB0aGlzIHBvaW50IHNvXG4gICAgICAvLyBsZXQncyB0aHJvdyBpdCBvdXQuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgY3VycmVudC5jaGlsZCxcbiAgICAgICAgbmV4dENoaWxkcmVuLFxuICAgICAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVGcmFnbWVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgaWYgKGhhc0NvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPT09IG5leHRDaGlsZHJlbikge1xuICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTW9kZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMuY2hpbGRyZW47XG4gICAgaWYgKGhhc0NvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKFxuICAgICAgbmV4dENoaWxkcmVuID09PSBudWxsIHx8XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID09PSBuZXh0Q2hpbGRyZW5cbiAgICApIHtcbiAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICB2YXIgcmVmID0gd29ya0luUHJvZ3Jlc3MucmVmO1xuICAgIGlmIChcbiAgICAgIChjdXJyZW50ID09PSBudWxsICYmIHJlZiAhPT0gbnVsbCkgfHxcbiAgICAgIChjdXJyZW50ICE9PSBudWxsICYmIGN1cnJlbnQucmVmICE9PSByZWYpXG4gICAgKSB7XG4gICAgICAvLyBTY2hlZHVsZSBhIFJlZiBlZmZlY3RcbiAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBSZWY7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRnVuY3Rpb25hbENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciBmbiA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcblxuICAgIGlmIChoYXNDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAgIC8vIHdlIGRvbid0IGRvIHRoZSBiYWlsb3V0IGFuZCB3ZSBoYXZlIHRvIHJldXNlIGV4aXN0aW5nIHByb3BzIGluc3RlYWQuXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID09PSBuZXh0UHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgfVxuICAgICAgLy8gVE9ETzogY29uc2lkZXIgYnJpbmdpbmcgZm4uc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkgYmFjay5cbiAgICAgIC8vIEl0IHVzZWQgdG8gYmUgaGVyZS5cbiAgICB9XG5cbiAgICB2YXIgdW5tYXNrZWRDb250ZXh0ID0gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICB2YXIgY29udGV4dCA9IGdldE1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCk7XG5cbiAgICB2YXIgbmV4dENoaWxkcmVuID0gdm9pZCAwO1xuXG4gICAge1xuICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50UGhhc2UoXCJyZW5kZXJcIik7XG4gICAgICBuZXh0Q2hpbGRyZW4gPSBmbihuZXh0UHJvcHMsIGNvbnRleHQpO1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50UGhhc2UobnVsbCk7XG4gICAgfVxuICAgIC8vIFJlYWN0IERldlRvb2xzIHJlYWRzIHRoaXMgZmxhZy5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGVyZm9ybWVkV29yaztcbiAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcyk7XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ2xhc3NDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gUHVzaCBjb250ZXh0IHByb3ZpZGVycyBlYXJseSB0byBwcmV2ZW50IGNvbnRleHQgc3RhY2sgbWlzbWF0Y2hlcy5cbiAgICAvLyBEdXJpbmcgbW91bnRpbmcgd2UgZG9uJ3Qga25vdyB0aGUgY2hpbGQgY29udGV4dCB5ZXQgYXMgdGhlIGluc3RhbmNlIGRvZXNuJ3QgZXhpc3QuXG4gICAgLy8gV2Ugd2lsbCBpbnZhbGlkYXRlIHRoZSBjaGlsZCBjb250ZXh0IGluIGZpbmlzaENsYXNzQ29tcG9uZW50KCkgcmlnaHQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgIHZhciBoYXNDb250ZXh0ID0gcHVzaENvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIHNob3VsZFVwZGF0ZSA9IHZvaWQgMDtcbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgaWYgKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBJbiB0aGUgaW5pdGlhbCBwYXNzIHdlIG1pZ2h0IG5lZWQgdG8gY29uc3RydWN0IHRoZSBpbnN0YW5jZS5cbiAgICAgICAgY29uc3RydWN0Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzKTtcbiAgICAgICAgbW91bnRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG5cbiAgICAgICAgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEluIGEgcmVzdW1lLCB3ZSdsbCBhbHJlYWR5IGhhdmUgYW4gaW5zdGFuY2Ugd2UgY2FuIHJldXNlLlxuICAgICAgICBzaG91bGRVcGRhdGUgPSByZXN1bWVNb3VudENsYXNzSW5zdGFuY2UoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2hvdWxkVXBkYXRlID0gdXBkYXRlQ2xhc3NJbnN0YW5jZShcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFdlIHByb2Nlc3NlZCB0aGUgdXBkYXRlIHF1ZXVlIGluc2lkZSB1cGRhdGVDbGFzc0luc3RhbmNlLiBJdCBtYXkgaGF2ZVxuICAgIC8vIGluY2x1ZGVkIHNvbWUgZXJyb3JzIHRoYXQgd2VyZSBkaXNwYXRjaGVkIGR1cmluZyB0aGUgY29tbWl0IHBoYXNlLlxuICAgIC8vIFRPRE86IFJlZmFjdG9yIGNsYXNzIGNvbXBvbmVudHMgc28gdGhpcyBpcyBsZXNzIGF3a3dhcmQuXG4gICAgdmFyIGRpZENhcHR1cmVFcnJvciA9IGZhbHNlO1xuICAgIHZhciB1cGRhdGVRdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcyAhPT0gbnVsbCkge1xuICAgICAgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcbiAgICAgIGRpZENhcHR1cmVFcnJvciA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmaW5pc2hDbGFzc0NvbXBvbmVudChcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIHNob3VsZFVwZGF0ZSxcbiAgICAgIGhhc0NvbnRleHQsXG4gICAgICBkaWRDYXB0dXJlRXJyb3IsXG4gICAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hDbGFzc0NvbXBvbmVudChcbiAgICBjdXJyZW50LFxuICAgIHdvcmtJblByb2dyZXNzLFxuICAgIHNob3VsZFVwZGF0ZSxcbiAgICBoYXNDb250ZXh0LFxuICAgIGRpZENhcHR1cmVFcnJvcixcbiAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICApIHtcbiAgICAvLyBSZWZzIHNob3VsZCB1cGRhdGUgZXZlbiBpZiBzaG91bGRDb21wb25lbnRVcGRhdGUgcmV0dXJucyBmYWxzZVxuICAgIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgaWYgKCFzaG91bGRVcGRhdGUgJiYgIWRpZENhcHR1cmVFcnJvcikge1xuICAgICAgLy8gQ29udGV4dCBwcm92aWRlcnMgc2hvdWxkIGRlZmVyIHRvIHNDVSBmb3IgcmVuZGVyaW5nXG4gICAgICBpZiAoaGFzQ29udGV4dCkge1xuICAgICAgICBpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuXG4gICAgLy8gUmVyZW5kZXJcbiAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IHZvaWQgMDtcbiAgICBpZiAoXG4gICAgICBkaWRDYXB0dXJlRXJyb3IgJiZcbiAgICAgICghZW5hYmxlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoIHx8XG4gICAgICAgIHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCAhPT0gXCJmdW5jdGlvblwiKVxuICAgICkge1xuICAgICAgLy8gSWYgd2UgY2FwdHVyZWQgYW4gZXJyb3IsIGJ1dCBnZXREZXJpdmVkU3RhdGVGcm9tIGNhdGNoIGlzIG5vdCBkZWZpbmVkLFxuICAgICAgLy8gdW5tb3VudCBhbGwgdGhlIGNoaWxkcmVuLiBjb21wb25lbnREaWRDYXRjaCB3aWxsIHNjaGVkdWxlIGFuIHVwZGF0ZSB0b1xuICAgICAgLy8gcmUtcmVuZGVyIGEgZmFsbGJhY2suIFRoaXMgaXMgdGVtcG9yYXJ5IHVudGlsIHdlIG1pZ3JhdGUgZXZlcnlvbmUgdG9cbiAgICAgIC8vIHRoZSBuZXcgQVBJLlxuICAgICAgLy8gVE9ETzogV2FybiBpbiBhIGZ1dHVyZSByZWxlYXNlLlxuICAgICAgbmV4dENoaWxkcmVuID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAge1xuICAgICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRQaGFzZShcInJlbmRlclwiKTtcbiAgICAgICAgbmV4dENoaWxkcmVuID0gaW5zdGFuY2UucmVuZGVyKCk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHMgfHxcbiAgICAgICAgICAoZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSAmJlxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdE1vZGUpXG4gICAgICAgICkge1xuICAgICAgICAgIGluc3RhbmNlLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudFBoYXNlKG51bGwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlYWN0IERldlRvb2xzIHJlYWRzIHRoaXMgZmxhZy5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGVyZm9ybWVkV29yaztcbiAgICBpZiAoZGlkQ2FwdHVyZUVycm9yKSB7XG4gICAgICAvLyBJZiB3ZSdyZSByZWNvdmVyaW5nIGZyb20gYW4gZXJyb3IsIHJlY29uY2lsZSB0d2ljZTogZmlyc3QgdG8gZGVsZXRlXG4gICAgICAvLyBhbGwgdGhlIGV4aXN0aW5nIGNoaWxkcmVuLlxuICAgICAgcmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lKFxuICAgICAgICBjdXJyZW50LFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IG51bGw7XG4gICAgICAvLyBOb3cgd2UgY2FuIGNvbnRpbnVlIHJlY29uY2lsaW5nIGxpa2Ugbm9ybWFsLiBUaGlzIGhhcyB0aGUgZWZmZWN0IG9mXG4gICAgICAvLyByZW1vdW50aW5nIGFsbCBjaGlsZHJlbiByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhlaXIgdGhlaXJcbiAgICAgIC8vIGlkZW50aXR5IG1hdGNoZXMuXG4gICAgfVxuICAgIHJlY29uY2lsZUNoaWxkcmVuQXRFeHBpcmF0aW9uVGltZShcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIG5leHRDaGlsZHJlbixcbiAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgKTtcbiAgICAvLyBNZW1vaXplIHByb3BzIGFuZCBzdGF0ZSB1c2luZyB0aGUgdmFsdWVzIHdlIGp1c3QgdXNlZCB0byByZW5kZXIuXG4gICAgLy8gVE9ETzogUmVzdHJ1Y3R1cmUgc28gd2UgbmV2ZXIgcmVhZCB2YWx1ZXMgZnJvbSB0aGUgaW5zdGFuY2UuXG4gICAgbWVtb2l6ZVN0YXRlKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZS5zdGF0ZSk7XG4gICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZS5wcm9wcyk7XG5cbiAgICAvLyBUaGUgY29udGV4dCBtaWdodCBoYXZlIGNoYW5nZWQgc28gd2UgbmVlZCB0byByZWNhbGN1bGF0ZSBpdC5cbiAgICBpZiAoaGFzQ29udGV4dCkge1xuICAgICAgaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaEhvc3RSb290Q29udGV4dCh3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciByb290ID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIGlmIChyb290LnBlbmRpbmdDb250ZXh0KSB7XG4gICAgICBwdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0KFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgcm9vdC5wZW5kaW5nQ29udGV4dCxcbiAgICAgICAgcm9vdC5wZW5kaW5nQ29udGV4dCAhPT0gcm9vdC5jb250ZXh0XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAocm9vdC5jb250ZXh0KSB7XG4gICAgICAvLyBTaG91bGQgYWx3YXlzIGJlIHNldFxuICAgICAgcHVzaFRvcExldmVsQ29udGV4dE9iamVjdCh3b3JrSW5Qcm9ncmVzcywgcm9vdC5jb250ZXh0LCBmYWxzZSk7XG4gICAgfVxuICAgIHB1c2hIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzLCByb290LmNvbnRhaW5lckluZm8pO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlSG9zdFJvb3QoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgcHVzaEhvc3RSb290Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgaWYgKHVwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgICB2YXIgcHJldlN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIHZhciBzdGF0ZSA9IHByb2Nlc3NVcGRhdGVRdWV1ZShcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIHVwZGF0ZVF1ZXVlLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICAgICAgKTtcbiAgICAgIG1lbW9pemVTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgc3RhdGUpO1xuICAgICAgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcblxuICAgICAgdmFyIGVsZW1lbnQgPSB2b2lkIDA7XG4gICAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwgJiYgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwpIHtcbiAgICAgICAgLy8gVGhlcmUncyBhbiB1bmNhdWdodCBlcnJvci4gVW5tb3VudCB0aGUgd2hvbGUgcm9vdC5cbiAgICAgICAgZWxlbWVudCA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHByZXZTdGF0ZSA9PT0gc3RhdGUpIHtcbiAgICAgICAgLy8gSWYgdGhlIHN0YXRlIGlzIHRoZSBzYW1lIGFzIGJlZm9yZSwgdGhhdCdzIGEgYmFpbG91dCBiZWNhdXNlIHdlIGhhZFxuICAgICAgICAvLyBubyB3b3JrIHRoYXQgZXhwaXJlcyBhdCB0aGlzIHRpbWUuXG4gICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudCA9IHN0YXRlLmVsZW1lbnQ7XG4gICAgICB9XG4gICAgICB2YXIgcm9vdCA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgIGlmIChcbiAgICAgICAgKGN1cnJlbnQgPT09IG51bGwgfHwgY3VycmVudC5jaGlsZCA9PT0gbnVsbCkgJiZcbiAgICAgICAgcm9vdC5oeWRyYXRlICYmXG4gICAgICAgIGVudGVySHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpXG4gICAgICApIHtcbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbnkgY3VycmVudCBjaGlsZHJlbiB0aGlzIG1pZ2h0IGJlIHRoZSBmaXJzdCBwYXNzLlxuICAgICAgICAvLyBXZSBhbHdheXMgdHJ5IHRvIGh5ZHJhdGUuIElmIHRoaXMgaXNuJ3QgYSBoeWRyYXRpb24gcGFzcyB0aGVyZSB3b24ndFxuICAgICAgICAvLyBiZSBhbnkgY2hpbGRyZW4gdG8gaHlkcmF0ZSB3aGljaCBpcyBlZmZlY3RpdmVseSB0aGUgc2FtZSB0aGluZyBhc1xuICAgICAgICAvLyBub3QgaHlkcmF0aW5nLlxuXG4gICAgICAgIC8vIFRoaXMgaXMgYSBiaXQgb2YgYSBoYWNrLiBXZSB0cmFjayB0aGUgaG9zdCByb290IGFzIGEgcGxhY2VtZW50IHRvXG4gICAgICAgIC8vIGtub3cgdGhhdCB3ZSdyZSBjdXJyZW50bHkgaW4gYSBtb3VudGluZyBzdGF0ZS4gVGhhdCB3YXkgaXNNb3VudGVkXG4gICAgICAgIC8vIHdvcmtzIGFzIGV4cGVjdGVkLiBXZSBtdXN0IHJlc2V0IHRoaXMgYmVmb3JlIGNvbW1pdHRpbmcuXG4gICAgICAgIC8vIFRPRE86IERlbGV0ZSB0aGlzIHdoZW4gd2UgZGVsZXRlIGlzTW91bnRlZCBhbmQgZmluZERPTU5vZGUuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBQbGFjZW1lbnQ7XG5cbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgY2hpbGRyZW4gbW91bnQgaW50byB0aGlzIHJvb3Qgd2l0aG91dCB0cmFja2luZ1xuICAgICAgICAvLyBzaWRlLWVmZmVjdHMuIFRoaXMgZW5zdXJlcyB0aGF0IHdlIGRvbid0IHN0b3JlIFBsYWNlbWVudCBlZmZlY3RzIG9uXG4gICAgICAgIC8vIG5vZGVzIHRoYXQgd2lsbCBiZSBoeWRyYXRlZC5cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBtb3VudENoaWxkRmliZXJzKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlIHJlc2V0IGh5ZHJhdGlvbiBzdGF0ZSBpbiBjYXNlIHdlIGFib3J0ZWQgYW5kIHJlc3VtZWQgYW5vdGhlclxuICAgICAgICAvLyByb290LlxuICAgICAgICByZXNldEh5ZHJhdGlvblN0YXRlKCk7XG4gICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBlbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIG1lbW9pemVTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgc3RhdGUpO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIH1cbiAgICByZXNldEh5ZHJhdGlvblN0YXRlKCk7XG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gdXBkYXRlIHF1ZXVlLCB0aGF0J3MgYSBiYWlsb3V0IGJlY2F1c2UgdGhlIHJvb3QgaGFzIG5vIHByb3BzLlxuICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUhvc3RDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgcHVzaEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcblxuICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgdmFyIHR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBtZW1vaXplZFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIHZhciBwcmV2UHJvcHMgPSBjdXJyZW50ICE9PSBudWxsID8gY3VycmVudC5tZW1vaXplZFByb3BzIDogbnVsbDtcblxuICAgIGlmIChoYXNDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAgIC8vIHdlIGRvbid0IGRvIHRoZSBiYWlsb3V0IGFuZCB3ZSBoYXZlIHRvIHJldXNlIGV4aXN0aW5nIHByb3BzIGluc3RlYWQuXG4gICAgfSBlbHNlIGlmIChtZW1vaXplZFByb3BzID09PSBuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBpc0hpZGRlbiA9XG4gICAgICAgIHdvcmtJblByb2dyZXNzLm1vZGUgJiBBc3luY01vZGUgJiZcbiAgICAgICAgc2hvdWxkRGVwcmlvcml0aXplU3VidHJlZSh0eXBlLCBuZXh0UHJvcHMpO1xuICAgICAgaWYgKGlzSGlkZGVuKSB7XG4gICAgICAgIC8vIEJlZm9yZSBiYWlsaW5nIG91dCwgbWFrZSBzdXJlIHdlJ3ZlIGRlcHJpb3JpdGl6ZWQgYSBoaWRkZW4gY29tcG9uZW50LlxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5leHBpcmF0aW9uVGltZSA9IE5ldmVyO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0hpZGRlbiB8fCByZW5kZXJFeHBpcmF0aW9uVGltZSAhPT0gTmV2ZXIpIHtcbiAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgfVxuICAgICAgLy8gSWYgd2UncmUgcmVuZGVyaW5nIGEgaGlkZGVuIG5vZGUgYXQgaGlkZGVuIHByaW9yaXR5LCBkb24ndCBiYWlsb3V0LiBUaGVcbiAgICAgIC8vIHBhcmVudCBpcyBjb21wbGV0ZSwgYnV0IHRoZSBjaGlsZHJlbiBtYXkgbm90IGJlLlxuICAgIH1cblxuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSBuZXh0UHJvcHMuY2hpbGRyZW47XG4gICAgdmFyIGlzRGlyZWN0VGV4dENoaWxkID0gc2hvdWxkU2V0VGV4dENvbnRlbnQodHlwZSwgbmV4dFByb3BzKTtcblxuICAgIGlmIChpc0RpcmVjdFRleHRDaGlsZCkge1xuICAgICAgLy8gV2Ugc3BlY2lhbCBjYXNlIGEgZGlyZWN0IHRleHQgY2hpbGQgb2YgYSBob3N0IG5vZGUuIFRoaXMgaXMgYSBjb21tb25cbiAgICAgIC8vIGNhc2UuIFdlIHdvbid0IGhhbmRsZSBpdCBhcyBhIHJlaWZpZWQgY2hpbGQuIFdlIHdpbGwgaW5zdGVhZCBoYW5kbGVcbiAgICAgIC8vIHRoaXMgaW4gdGhlIGhvc3QgZW52aXJvbm1lbnQgdGhhdCBhbHNvIGhhdmUgYWNjZXNzIHRvIHRoaXMgcHJvcC4gVGhhdFxuICAgICAgLy8gYXZvaWRzIGFsbG9jYXRpbmcgYW5vdGhlciBIb3N0VGV4dCBmaWJlciBhbmQgdHJhdmVyc2luZyBpdC5cbiAgICAgIG5leHRDaGlsZHJlbiA9IG51bGw7XG4gICAgfSBlbHNlIGlmIChwcmV2UHJvcHMgJiYgc2hvdWxkU2V0VGV4dENvbnRlbnQodHlwZSwgcHJldlByb3BzKSkge1xuICAgICAgLy8gSWYgd2UncmUgc3dpdGNoaW5nIGZyb20gYSBkaXJlY3QgdGV4dCBjaGlsZCB0byBhIG5vcm1hbCBjaGlsZCwgb3IgdG9cbiAgICAgIC8vIGVtcHR5LCB3ZSBuZWVkIHRvIHNjaGVkdWxlIHRoZSB0ZXh0IGNvbnRlbnQgdG8gYmUgcmVzZXQuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gQ29udGVudFJlc2V0O1xuICAgIH1cblxuICAgIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgLy8gQ2hlY2sgdGhlIGhvc3QgY29uZmlnIHRvIHNlZSBpZiB0aGUgY2hpbGRyZW4gYXJlIG9mZnNjcmVlbi9oaWRkZW4uXG4gICAgaWYgKFxuICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWUgIT09IE5ldmVyICYmXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgQXN5bmNNb2RlICYmXG4gICAgICBzaG91bGREZXByaW9yaXRpemVTdWJ0cmVlKHR5cGUsIG5leHRQcm9wcylcbiAgICApIHtcbiAgICAgIC8vIERvd24tcHJpb3JpdGl6ZSB0aGUgY2hpbGRyZW4uXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5leHBpcmF0aW9uVGltZSA9IE5ldmVyO1xuICAgICAgLy8gQmFpbG91dCBhbmQgY29tZSBiYWNrIHRvIHRoaXMgZmliZXIgbGF0ZXIuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gbmV4dFByb3BzO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMpO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUhvc3RUZXh0KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgIHRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcyk7XG4gICAgLy8gTm90aGluZyB0byBkbyBoZXJlLiBUaGlzIGlzIHRlcm1pbmFsLiBXZSdsbCBkbyB0aGUgY29tcGxldGlvbiBzdGVwXG4gICAgLy8gaW1tZWRpYXRlbHkgYWZ0ZXIuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBtb3VudEluZGV0ZXJtaW5hdGVDb21wb25lbnQoXG4gICAgY3VycmVudCxcbiAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICApIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBjdXJyZW50ID09PSBudWxsLFxuICAgICAgXCJBbiBpbmRldGVybWluYXRlIGNvbXBvbmVudCBzaG91bGQgbmV2ZXIgaGF2ZSBtb3VudGVkLiBUaGlzIGVycm9yIGlzIFwiICtcbiAgICAgICAgXCJsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICk7XG4gICAgdmFyIGZuID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgcHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgdmFyIHVubWFza2VkQ29udGV4dCA9IGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIGNvbnRleHQgPSBnZXRNYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCB1bm1hc2tlZENvbnRleHQpO1xuXG4gICAgdmFyIHZhbHVlID0gdm9pZCAwO1xuXG4gICAge1xuICAgICAgaWYgKGZuLnByb3RvdHlwZSAmJiB0eXBlb2YgZm4ucHJvdG90eXBlLnJlbmRlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgXCJVbmtub3duXCI7XG5cbiAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRCYWRDbGFzc1tjb21wb25lbnROYW1lXSkge1xuICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiVGhlIDwlcyAvPiBjb21wb25lbnQgYXBwZWFycyB0byBoYXZlIGEgcmVuZGVyIG1ldGhvZCwgYnV0IGRvZXNuJ3QgZXh0ZW5kIFJlYWN0LkNvbXBvbmVudC4gXCIgK1xuICAgICAgICAgICAgICBcIlRoaXMgaXMgbGlrZWx5IHRvIGNhdXNlIGVycm9ycy4gQ2hhbmdlICVzIHRvIGV4dGVuZCBSZWFjdC5Db21wb25lbnQgaW5zdGVhZC5cIixcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRCYWRDbGFzc1tjb21wb25lbnROYW1lXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIHZhbHVlID0gZm4ocHJvcHMsIGNvbnRleHQpO1xuICAgIH1cbiAgICAvLyBSZWFjdCBEZXZUb29scyByZWFkcyB0aGlzIGZsYWcuXG4gICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFBlcmZvcm1lZFdvcms7XG5cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgIHZhbHVlICE9PSBudWxsICYmXG4gICAgICB0eXBlb2YgdmFsdWUucmVuZGVyID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgIHZhbHVlLiQkdHlwZW9mID09PSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIHZhciBDb21wb25lbnQgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuXG4gICAgICAvLyBQcm9jZWVkIHVuZGVyIHRoZSBhc3N1bXB0aW9uIHRoYXQgdGhpcyBpcyBhIGNsYXNzIGluc3RhbmNlXG4gICAgICB3b3JrSW5Qcm9ncmVzcy50YWcgPSBDbGFzc0NvbXBvbmVudDtcblxuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9XG4gICAgICAgIHZhbHVlLnN0YXRlICE9PSBudWxsICYmIHZhbHVlLnN0YXRlICE9PSB1bmRlZmluZWQgPyB2YWx1ZS5zdGF0ZSA6IG51bGw7XG5cbiAgICAgIGlmICh0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsU3RhdGUgPSBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIHByb3BzXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHBhcnRpYWxTdGF0ZSAhPT0gbnVsbCAmJiBwYXJ0aWFsU3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAge30sXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlLFxuICAgICAgICAgICAgcGFydGlhbFN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBQdXNoIGNvbnRleHQgcHJvdmlkZXJzIGVhcmx5IHRvIHByZXZlbnQgY29udGV4dCBzdGFjayBtaXNtYXRjaGVzLlxuICAgICAgLy8gRHVyaW5nIG1vdW50aW5nIHdlIGRvbid0IGtub3cgdGhlIGNoaWxkIGNvbnRleHQgeWV0IGFzIHRoZSBpbnN0YW5jZSBkb2Vzbid0IGV4aXN0LlxuICAgICAgLy8gV2Ugd2lsbCBpbnZhbGlkYXRlIHRoZSBjaGlsZCBjb250ZXh0IGluIGZpbmlzaENsYXNzQ29tcG9uZW50KCkgcmlnaHQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgICAgdmFyIGhhc0NvbnRleHQgPSBwdXNoQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGFkb3B0Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgdmFsdWUpO1xuICAgICAgbW91bnRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICByZXR1cm4gZmluaXNoQ2xhc3NDb21wb25lbnQoXG4gICAgICAgIGN1cnJlbnQsXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICB0cnVlLFxuICAgICAgICBoYXNDb250ZXh0LFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFByb2NlZWQgdW5kZXIgdGhlIGFzc3VtcHRpb24gdGhhdCB0aGlzIGlzIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcbiAgICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IEZ1bmN0aW9uYWxDb21wb25lbnQ7XG4gICAgICB7XG4gICAgICAgIHZhciBfQ29tcG9uZW50ID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcblxuICAgICAgICBpZiAoX0NvbXBvbmVudCkge1xuICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICAhX0NvbXBvbmVudC5jaGlsZENvbnRleHRUeXBlcyxcbiAgICAgICAgICAgIFwiJXMoLi4uKTogY2hpbGRDb250ZXh0VHlwZXMgY2Fubm90IGJlIGRlZmluZWQgb24gYSBmdW5jdGlvbmFsIGNvbXBvbmVudC5cIixcbiAgICAgICAgICAgIF9Db21wb25lbnQuZGlzcGxheU5hbWUgfHwgX0NvbXBvbmVudC5uYW1lIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5yZWYgIT09IG51bGwpIHtcbiAgICAgICAgICB2YXIgaW5mbyA9IFwiXCI7XG4gICAgICAgICAgdmFyIG93bmVyTmFtZSA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lKCk7XG4gICAgICAgICAgaWYgKG93bmVyTmFtZSkge1xuICAgICAgICAgICAgaW5mbyArPSBcIlxcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGBcIiArIG93bmVyTmFtZSArIFwiYC5cIjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgd2FybmluZ0tleSA9IG93bmVyTmFtZSB8fCB3b3JrSW5Qcm9ncmVzcy5fZGVidWdJRCB8fCBcIlwiO1xuICAgICAgICAgIHZhciBkZWJ1Z1NvdXJjZSA9IHdvcmtJblByb2dyZXNzLl9kZWJ1Z1NvdXJjZTtcbiAgICAgICAgICBpZiAoZGVidWdTb3VyY2UpIHtcbiAgICAgICAgICAgIHdhcm5pbmdLZXkgPSBkZWJ1Z1NvdXJjZS5maWxlTmFtZSArIFwiOlwiICsgZGVidWdTb3VyY2UubGluZU51bWJlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdGF0ZWxlc3NSZWZzW3dhcm5pbmdLZXldKSB7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRTdGF0ZWxlc3NSZWZzW3dhcm5pbmdLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICBcIlN0YXRlbGVzcyBmdW5jdGlvbiBjb21wb25lbnRzIGNhbm5vdCBiZSBnaXZlbiByZWZzLiBcIiArXG4gICAgICAgICAgICAgICAgXCJBdHRlbXB0cyB0byBhY2Nlc3MgdGhpcyByZWYgd2lsbCBmYWlsLiVzJXNcIixcbiAgICAgICAgICAgICAgaW5mbyxcbiAgICAgICAgICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtKClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBmbi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHZhciBfY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8IFwiVW5rbm93blwiO1xuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWRpZFdhcm5BYm91dEdldERlcml2ZWRTdGF0ZU9uRnVuY3Rpb25hbENvbXBvbmVudFtfY29tcG9uZW50TmFtZV1cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICBcIiVzOiBTdGF0ZWxlc3MgZnVuY3Rpb25hbCBjb21wb25lbnRzIGRvIG5vdCBzdXBwb3J0IGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy5cIixcbiAgICAgICAgICAgICAgX2NvbXBvbmVudE5hbWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRHZXREZXJpdmVkU3RhdGVPbkZ1bmN0aW9uYWxDb21wb25lbnRbXG4gICAgICAgICAgICAgIF9jb21wb25lbnROYW1lXG4gICAgICAgICAgICBdID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCB2YWx1ZSk7XG4gICAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIHByb3BzKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVDYWxsQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgaWYgKGhhc0NvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPT09IG5leHRQcm9wcykge1xuICAgICAgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICAgIC8vIFRPRE86IFdoZW4gYmFpbGluZyBvdXQsIHdlIG1pZ2h0IG5lZWQgdG8gcmV0dXJuIHRoZSBzdGF0ZU5vZGUgaW5zdGVhZFxuICAgICAgLy8gb2YgdGhlIGNoaWxkLiBUbyBjaGVjayBpdCBmb3Igd29yay5cbiAgICAgIC8vIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICB2YXIgbmV4dENoaWxkcmVuID0gbmV4dFByb3BzLmNoaWxkcmVuO1xuXG4gICAgLy8gVGhlIGZvbGxvd2luZyBpcyBhIGZvcmsgb2YgcmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lIGJ1dCB1c2luZ1xuICAgIC8vIHN0YXRlTm9kZSB0byBzdG9yZSB0aGUgY2hpbGQuXG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IG1vdW50Q2hpbGRGaWJlcnMoXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUsXG4gICAgICAgIG5leHRDaGlsZHJlbixcbiAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgY3VycmVudC5zdGF0ZU5vZGUsXG4gICAgICAgIG5leHRDaGlsZHJlbixcbiAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMpO1xuICAgIC8vIFRoaXMgZG9lc24ndCB0YWtlIGFyYml0cmFyeSB0aW1lIHNvIHdlIGNvdWxkIHN5bmNocm9ub3VzbHkganVzdCBiZWdpblxuICAgIC8vIGVhZ2VybHkgZG8gdGhlIHdvcmsgb2Ygd29ya0luUHJvZ3Jlc3MuY2hpbGQgYXMgYW4gb3B0aW1pemF0aW9uLlxuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVQb3J0YWxDb21wb25lbnQoXG4gICAgY3VycmVudCxcbiAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICApIHtcbiAgICBwdXNoSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pO1xuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgaWYgKGhhc0NvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPT09IG5leHRDaGlsZHJlbikge1xuICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAvLyBQb3J0YWxzIGFyZSBzcGVjaWFsIGJlY2F1c2Ugd2UgZG9uJ3QgYXBwZW5kIHRoZSBjaGlsZHJlbiBkdXJpbmcgbW91bnRcbiAgICAgIC8vIGJ1dCBhdCBjb21taXQuIFRoZXJlZm9yZSB3ZSBuZWVkIHRvIHRyYWNrIGluc2VydGlvbnMgd2hpY2ggdGhlIG5vcm1hbFxuICAgICAgLy8gZmxvdyBkb2Vzbid0IGRvIGR1cmluZyBtb3VudC4gVGhpcyBkb2Vzbid0IGhhcHBlbiBhdCB0aGUgcm9vdCBiZWNhdXNlXG4gICAgICAvLyB0aGUgcm9vdCBhbHdheXMgc3RhcnRzIHdpdGggYSBcImN1cnJlbnRcIiB3aXRoIGEgbnVsbCBjaGlsZC5cbiAgICAgIC8vIFRPRE86IENvbnNpZGVyIHVuaWZ5aW5nIHRoaXMgd2l0aCBob3cgdGhlIHJvb3Qgd29ya3MuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbmV4dENoaWxkcmVuLFxuICAgICAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICAgICAgKTtcbiAgICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgfVxuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb3BhZ2F0ZUNvbnRleHRDaGFuZ2UoXG4gICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgY29udGV4dCxcbiAgICBjaGFuZ2VkQml0cyxcbiAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICApIHtcbiAgICB2YXIgZmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB3aGlsZSAoZmliZXIgIT09IG51bGwpIHtcbiAgICAgIHZhciBuZXh0RmliZXIgPSB2b2lkIDA7XG4gICAgICAvLyBWaXNpdCB0aGlzIGZpYmVyLlxuICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSBDb250ZXh0Q29uc3VtZXI6XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNvbnRleHQgbWF0Y2hlcy5cbiAgICAgICAgICB2YXIgb2JzZXJ2ZWRCaXRzID0gZmliZXIuc3RhdGVOb2RlIHwgMDtcbiAgICAgICAgICBpZiAoZmliZXIudHlwZSA9PT0gY29udGV4dCAmJiAob2JzZXJ2ZWRCaXRzICYgY2hhbmdlZEJpdHMpICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGV4cGlyYXRpb24gdGltZSBvZiBhbGwgdGhlIGFuY2VzdG9ycywgaW5jbHVkaW5nXG4gICAgICAgICAgICAvLyB0aGUgYWx0ZXJuYXRlcy5cbiAgICAgICAgICAgIHZhciBub2RlID0gZmliZXI7XG4gICAgICAgICAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICB2YXIgYWx0ZXJuYXRlID0gbm9kZS5hbHRlcm5hdGU7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBub2RlLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHxcbiAgICAgICAgICAgICAgICBub2RlLmV4cGlyYXRpb25UaW1lID4gcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5leHBpcmF0aW9uVGltZSA9IHJlbmRlckV4cGlyYXRpb25UaW1lO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGFsdGVybmF0ZSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgKGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8XG4gICAgICAgICAgICAgICAgICAgIGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA+IHJlbmRlckV4cGlyYXRpb25UaW1lKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID0gcmVuZGVyRXhwaXJhdGlvblRpbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIGFsdGVybmF0ZSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIChhbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fFxuICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID4gcmVuZGVyRXhwaXJhdGlvblRpbWUpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA9IHJlbmRlckV4cGlyYXRpb25UaW1lO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5laXRoZXIgYWx0ZXJuYXRlIHdhcyB1cGRhdGVkLCB3aGljaCBtZWFucyB0aGUgcmVzdCBvZiB0aGVcbiAgICAgICAgICAgICAgICAvLyBhbmNlc3RvciBwYXRoIGFscmVhZHkgaGFzIHN1ZmZpY2llbnQgcHJpb3JpdHkuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbm9kZSA9IG5vZGVbXCJyZXR1cm5cIl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEb24ndCBzY2FuIGRlZXBlciB0aGFuIGEgbWF0Y2hpbmcgY29uc3VtZXIuIFdoZW4gd2UgcmVuZGVyIHRoZVxuICAgICAgICAgICAgLy8gY29uc3VtZXIsIHdlJ2xsIGNvbnRpbnVlIHNjYW5uaW5nIGZyb20gdGhhdCBwb2ludC4gVGhpcyB3YXkgdGhlXG4gICAgICAgICAgICAvLyBzY2FubmluZyB3b3JrIGlzIHRpbWUtc2xpY2VkLlxuICAgICAgICAgICAgbmV4dEZpYmVyID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVHJhdmVyc2UgZG93bi5cbiAgICAgICAgICAgIG5leHRGaWJlciA9IGZpYmVyLmNoaWxkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgICAgLy8gRG9uJ3Qgc2NhbiBkZWVwZXIgaWYgdGhpcyBpcyBhIG1hdGNoaW5nIHByb3ZpZGVyXG4gICAgICAgICAgbmV4dEZpYmVyID0gZmliZXIudHlwZSA9PT0gd29ya0luUHJvZ3Jlc3MudHlwZSA/IG51bGwgOiBmaWJlci5jaGlsZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBUcmF2ZXJzZSBkb3duLlxuICAgICAgICAgIG5leHRGaWJlciA9IGZpYmVyLmNoaWxkO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKG5leHRGaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAvLyBTZXQgdGhlIHJldHVybiBwb2ludGVyIG9mIHRoZSBjaGlsZCB0byB0aGUgd29yay1pbi1wcm9ncmVzcyBmaWJlci5cbiAgICAgICAgbmV4dEZpYmVyW1wicmV0dXJuXCJdID0gZmliZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBObyBjaGlsZC4gVHJhdmVyc2UgdG8gbmV4dCBzaWJsaW5nLlxuICAgICAgICBuZXh0RmliZXIgPSBmaWJlcjtcbiAgICAgICAgd2hpbGUgKG5leHRGaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChuZXh0RmliZXIgPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAvLyBXZSdyZSBiYWNrIHRvIHRoZSByb290IG9mIHRoaXMgc3VidHJlZS4gRXhpdC5cbiAgICAgICAgICAgIG5leHRGaWJlciA9IG51bGw7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHNpYmxpbmcgPSBuZXh0RmliZXIuc2libGluZztcbiAgICAgICAgICBpZiAoc2libGluZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbmV4dEZpYmVyID0gc2libGluZztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBObyBtb3JlIHNpYmxpbmdzLiBUcmF2ZXJzZSB1cC5cbiAgICAgICAgICBuZXh0RmliZXIgPSBuZXh0RmliZXJbXCJyZXR1cm5cIl07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZpYmVyID0gbmV4dEZpYmVyO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNvbnRleHRQcm92aWRlcihcbiAgICBjdXJyZW50LFxuICAgIHdvcmtJblByb2dyZXNzLFxuICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIHZhciBwcm92aWRlclR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBjb250ZXh0ID0gcHJvdmlkZXJUeXBlLmNvbnRleHQ7XG5cbiAgICB2YXIgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgdmFyIG9sZFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcblxuICAgIGlmIChoYXNDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAgIC8vIHdlIGRvbid0IGRvIHRoZSBiYWlsb3V0IGFuZCB3ZSBoYXZlIHRvIHJldXNlIGV4aXN0aW5nIHByb3BzIGluc3RlYWQuXG4gICAgfSBlbHNlIGlmIChvbGRQcm9wcyA9PT0gbmV3UHJvcHMpIHtcbiAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IDA7XG4gICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIHZhciBuZXdWYWx1ZSA9IG5ld1Byb3BzLnZhbHVlO1xuICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBuZXdQcm9wcztcblxuICAgIHZhciBjaGFuZ2VkQml0cyA9IHZvaWQgMDtcbiAgICBpZiAob2xkUHJvcHMgPT09IG51bGwpIHtcbiAgICAgIC8vIEluaXRpYWwgcmVuZGVyXG4gICAgICBjaGFuZ2VkQml0cyA9IE1BWF9TSUdORURfMzFfQklUX0lOVDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG9sZFByb3BzLnZhbHVlID09PSBuZXdQcm9wcy52YWx1ZSkge1xuICAgICAgICAvLyBObyBjaGFuZ2UuIEJhaWxvdXQgZWFybHkgaWYgY2hpbGRyZW4gYXJlIHRoZSBzYW1lLlxuICAgICAgICBpZiAob2xkUHJvcHMuY2hpbGRyZW4gPT09IG5ld1Byb3BzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gMDtcbiAgICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBjaGFuZ2VkQml0cyA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgb2xkVmFsdWUgPSBvbGRQcm9wcy52YWx1ZTtcbiAgICAgICAgLy8gVXNlIE9iamVjdC5pcyB0byBjb21wYXJlIHRoZSBuZXcgY29udGV4dCB2YWx1ZSB0byB0aGUgb2xkIHZhbHVlLlxuICAgICAgICAvLyBJbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbC5cbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG4gICAgICAgIGlmIChcbiAgICAgICAgICAob2xkVmFsdWUgPT09IG5ld1ZhbHVlICYmXG4gICAgICAgICAgICAob2xkVmFsdWUgIT09IDAgfHwgMSAvIG9sZFZhbHVlID09PSAxIC8gbmV3VmFsdWUpKSB8fFxuICAgICAgICAgIChvbGRWYWx1ZSAhPT0gb2xkVmFsdWUgJiYgbmV3VmFsdWUgIT09IG5ld1ZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBObyBjaGFuZ2UuIEJhaWxvdXQgZWFybHkgaWYgY2hpbGRyZW4gYXJlIHRoZSBzYW1lLlxuICAgICAgICAgIGlmIChvbGRQcm9wcy5jaGlsZHJlbiA9PT0gbmV3UHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IDA7XG4gICAgICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGFuZ2VkQml0cyA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hhbmdlZEJpdHMgPVxuICAgICAgICAgICAgdHlwZW9mIGNvbnRleHQuX2NhbGN1bGF0ZUNoYW5nZWRCaXRzID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgICAgPyBjb250ZXh0Ll9jYWxjdWxhdGVDaGFuZ2VkQml0cyhvbGRWYWx1ZSwgbmV3VmFsdWUpXG4gICAgICAgICAgICAgIDogTUFYX1NJR05FRF8zMV9CSVRfSU5UO1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICAgIChjaGFuZ2VkQml0cyAmIE1BWF9TSUdORURfMzFfQklUX0lOVCkgPT09IGNoYW5nZWRCaXRzLFxuICAgICAgICAgICAgICBcImNhbGN1bGF0ZUNoYW5nZWRCaXRzOiBFeHBlY3RlZCB0aGUgcmV0dXJuIHZhbHVlIHRvIGJlIGEgXCIgK1xuICAgICAgICAgICAgICAgIFwiMzEtYml0IGludGVnZXIuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzXCIsXG4gICAgICAgICAgICAgIGNoYW5nZWRCaXRzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGFuZ2VkQml0cyB8PSAwO1xuXG4gICAgICAgICAgaWYgKGNoYW5nZWRCaXRzID09PSAwKSB7XG4gICAgICAgICAgICAvLyBObyBjaGFuZ2UuIEJhaWxvdXQgZWFybHkgaWYgY2hpbGRyZW4gYXJlIHRoZSBzYW1lLlxuICAgICAgICAgICAgaWYgKG9sZFByb3BzLmNoaWxkcmVuID09PSBuZXdQcm9wcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSAwO1xuICAgICAgICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb3BhZ2F0ZUNvbnRleHRDaGFuZ2UoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICBjaGFuZ2VkQml0cyxcbiAgICAgICAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY2hhbmdlZEJpdHM7XG4gICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcblxuICAgIHZhciBuZXdDaGlsZHJlbiA9IG5ld1Byb3BzLmNoaWxkcmVuO1xuICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXdDaGlsZHJlbik7XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ29udGV4dENvbnN1bWVyKFxuICAgIGN1cnJlbnQsXG4gICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgKSB7XG4gICAgdmFyIGNvbnRleHQgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICB2YXIgb2xkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuXG4gICAgdmFyIG5ld1ZhbHVlID0gY29udGV4dC5fY3VycmVudFZhbHVlO1xuICAgIHZhciBjaGFuZ2VkQml0cyA9IGNvbnRleHQuX2NoYW5nZWRCaXRzO1xuXG4gICAgaWYgKGhhc0NvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKGNoYW5nZWRCaXRzID09PSAwICYmIG9sZFByb3BzID09PSBuZXdQcm9wcykge1xuICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gbmV3UHJvcHM7XG5cbiAgICB2YXIgb2JzZXJ2ZWRCaXRzID0gbmV3UHJvcHMudW5zdGFibGVfb2JzZXJ2ZWRCaXRzO1xuICAgIGlmIChvYnNlcnZlZEJpdHMgPT09IHVuZGVmaW5lZCB8fCBvYnNlcnZlZEJpdHMgPT09IG51bGwpIHtcbiAgICAgIC8vIFN1YnNjcmliZSB0byBhbGwgY2hhbmdlcyBieSBkZWZhdWx0XG4gICAgICBvYnNlcnZlZEJpdHMgPSBNQVhfU0lHTkVEXzMxX0JJVF9JTlQ7XG4gICAgfVxuICAgIC8vIFN0b3JlIHRoZSBvYnNlcnZlZEJpdHMgb24gdGhlIGZpYmVyJ3Mgc3RhdGVOb2RlIGZvciBxdWljayBhY2Nlc3MuXG4gICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gb2JzZXJ2ZWRCaXRzO1xuXG4gICAgaWYgKChjaGFuZ2VkQml0cyAmIG9ic2VydmVkQml0cykgIT09IDApIHtcbiAgICAgIC8vIENvbnRleHQgY2hhbmdlIHByb3BhZ2F0aW9uIHN0b3BzIGF0IG1hdGNoaW5nIGNvbnN1bWVycywgZm9yIHRpbWUtXG4gICAgICAvLyBzbGljaW5nLiBDb250aW51ZSB0aGUgcHJvcGFnYXRpb24gaGVyZS5cbiAgICAgIHByb3BhZ2F0ZUNvbnRleHRDaGFuZ2UoXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBjaGFuZ2VkQml0cyxcbiAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChvbGRQcm9wcyAhPT0gbnVsbCAmJiBvbGRQcm9wcy5jaGlsZHJlbiA9PT0gbmV3UHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgIC8vIE5vIGNoYW5nZS4gQmFpbG91dCBlYXJseSBpZiBjaGlsZHJlbiBhcmUgdGhlIHNhbWUuXG4gICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgdmFyIHJlbmRlciA9IG5ld1Byb3BzLmNoaWxkcmVuO1xuXG4gICAge1xuICAgICAgd2FybmluZyhcbiAgICAgICAgdHlwZW9mIHJlbmRlciA9PT0gXCJmdW5jdGlvblwiLFxuICAgICAgICBcIkEgY29udGV4dCBjb25zdW1lciB3YXMgcmVuZGVyZWQgd2l0aCBtdWx0aXBsZSBjaGlsZHJlbiwgb3IgYSBjaGlsZCBcIiArXG4gICAgICAgICAgXCJ0aGF0IGlzbid0IGEgZnVuY3Rpb24uIEEgY29udGV4dCBjb25zdW1lciBleHBlY3RzIGEgc2luZ2xlIGNoaWxkIFwiICtcbiAgICAgICAgICBcInRoYXQgaXMgYSBmdW5jdGlvbi4gSWYgeW91IGRpZCBwYXNzIGEgZnVuY3Rpb24sIG1ha2Ugc3VyZSB0aGVyZSBcIiArXG4gICAgICAgICAgXCJpcyBubyB0cmFpbGluZyBvciBsZWFkaW5nIHdoaXRlc3BhY2UgYXJvdW5kIGl0LlwiXG4gICAgICApO1xuICAgIH1cblxuICAgIHZhciBuZXdDaGlsZHJlbiA9IHJlbmRlcihuZXdWYWx1ZSk7XG4gICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5ld0NoaWxkcmVuKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICAvKlxuICBmdW5jdGlvbiByZXVzZUNoaWxkcmVuRWZmZWN0cyhyZXR1cm5GaWJlciA6IEZpYmVyLCBmaXJzdENoaWxkIDogRmliZXIpIHtcbiAgICBsZXQgY2hpbGQgPSBmaXJzdENoaWxkO1xuICAgIGRvIHtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBmaXJzdCBhbmQgbGFzdCBlZmZlY3Qgb2YgdGhlIHBhcmVudCBjb3JyZXNwb25kc1xuICAgICAgLy8gdG8gdGhlIGNoaWxkcmVuJ3MgZmlyc3QgYW5kIGxhc3QgZWZmZWN0LlxuICAgICAgaWYgKCFyZXR1cm5GaWJlci5maXJzdEVmZmVjdCkge1xuICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IGNoaWxkLmZpcnN0RWZmZWN0O1xuICAgICAgfVxuICAgICAgaWYgKGNoaWxkLmxhc3RFZmZlY3QpIHtcbiAgICAgICAgaWYgKHJldHVybkZpYmVyLmxhc3RFZmZlY3QpIHtcbiAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0Lm5leHRFZmZlY3QgPSBjaGlsZC5maXJzdEVmZmVjdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gY2hpbGQubGFzdEVmZmVjdDtcbiAgICAgIH1cbiAgICB9IHdoaWxlIChjaGlsZCA9IGNoaWxkLnNpYmxpbmcpO1xuICB9XG4gICovXG5cbiAgZnVuY3Rpb24gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIGNhbmNlbFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAvLyBUT0RPOiBXZSBzaG91bGQgaWRlYWxseSBiZSBhYmxlIHRvIGJhaWwgb3V0IGVhcmx5IGlmIHRoZSBjaGlsZHJlbiBoYXZlIG5vXG4gICAgLy8gbW9yZSB3b3JrIHRvIGRvLiBIb3dldmVyLCBzaW5jZSB3ZSBkb24ndCBoYXZlIGEgc2VwYXJhdGlvbiBvZiB0aGlzXG4gICAgLy8gRmliZXIncyBwcmlvcml0eSBhbmQgaXRzIGNoaWxkcmVuIHlldCAtIHdlIGRvbid0IGtub3cgd2l0aG91dCBkb2luZyBsb3RzXG4gICAgLy8gb2YgdGhlIHNhbWUgd29yayB3ZSBkbyBhbnl3YXkuIE9uY2Ugd2UgaGF2ZSB0aGF0IHNlcGFyYXRpb24gd2UgY2FuIGp1c3RcbiAgICAvLyBiYWlsIG91dCBoZXJlIGlmIHRoZSBjaGlsZHJlbiBoYXMgbm8gbW9yZSB3b3JrIGF0IHRoaXMgcHJpb3JpdHkgbGV2ZWwuXG4gICAgLy8gaWYgKHdvcmtJblByb2dyZXNzLnByaW9yaXR5T2ZDaGlsZHJlbiA8PSBwcmlvcml0eUxldmVsKSB7XG4gICAgLy8gICAvLyBJZiB0aGVyZSBhcmUgc2lkZS1lZmZlY3RzIGluIHRoZXNlIGNoaWxkcmVuIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW5cbiAgICAvLyAgIC8vIGNvbW1pdHRlZCB3ZSBuZWVkIHRvIGVuc3VyZSB0aGF0IHRoZXkgZ2V0IHByb3Blcmx5IHRyYW5zZmVycmVkIHVwLlxuICAgIC8vICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudC5jaGlsZCAhPT0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpIHtcbiAgICAvLyAgICAgcmV1c2VDaGlsZHJlbkVmZmVjdHMod29ya0luUHJvZ3Jlc3MsIGNoaWxkKTtcbiAgICAvLyAgIH1cbiAgICAvLyAgIHJldHVybiBudWxsO1xuICAgIC8vIH1cblxuICAgIGNsb25lQ2hpbGRGaWJlcnMoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJhaWxvdXRPbkxvd1ByaW9yaXR5KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgY2FuY2VsV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcblxuICAgIC8vIFRPRE86IEhhbmRsZSBIb3N0Q29tcG9uZW50IHRhZ3MgaGVyZSBhcyB3ZWxsIGFuZCBjYWxsIHB1c2hIb3N0Q29udGV4dCgpP1xuICAgIC8vIFNlZSBQUiA4NTkwIGRpc2N1c3Npb24gZm9yIGNvbnRleHRcbiAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgcHVzaEhvc3RSb290Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgcHVzaENvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICBwdXNoSG9zdENvbnRhaW5lcihcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29udGV4dFByb3ZpZGVyOlxuICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gVE9ETzogV2hhdCBpZiB0aGlzIGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcz9cbiAgICAvLyBIb3cgY2FuIHRoYXQgaGFwcGVuPyBIb3cgaXMgdGhpcyBub3QgYmVpbmcgY2xvbmVkP1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gVE9ETzogRGVsZXRlIG1lbW9pemVQcm9wcy9TdGF0ZSBhbmQgbW92ZSB0byByZWNvbmNpbGUvYmFpbG91dCBpbnN0ZWFkXG4gIGZ1bmN0aW9uIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzKSB7XG4gICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5leHRQcm9wcztcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lbW9pemVTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgbmV4dFN0YXRlKSB7XG4gICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAvLyBEb24ndCByZXNldCB0aGUgdXBkYXRlUXVldWUsIGluIGNhc2UgdGhlcmUgYXJlIHBlbmRpbmcgdXBkYXRlcy4gUmVzZXR0aW5nXG4gICAgLy8gaXMgaGFuZGxlZCBieSBwcm9jZXNzVXBkYXRlUXVldWUuXG4gIH1cblxuICBmdW5jdGlvbiBiZWdpbldvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKFxuICAgICAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fFxuICAgICAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPiByZW5kZXJFeHBpcmF0aW9uVGltZVxuICAgICkge1xuICAgICAgcmV0dXJuIGJhaWxvdXRPbkxvd1ByaW9yaXR5KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgY2FzZSBJbmRldGVybWluYXRlQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gbW91bnRJbmRldGVybWluYXRlQ29tcG9uZW50KFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgRnVuY3Rpb25hbENvbXBvbmVudDpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUZ1bmN0aW9uYWxDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNsYXNzQ29tcG9uZW50KFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHJldHVybiB1cGRhdGVIb3N0Um9vdChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICByZXR1cm4gdXBkYXRlSG9zdENvbXBvbmVudChcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICAgICk7XG4gICAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgICByZXR1cm4gdXBkYXRlSG9zdFRleHQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgY2FzZSBDYWxsSGFuZGxlclBoYXNlOlxuICAgICAgICAvLyBUaGlzIGlzIGEgcmVzdGFydC4gUmVzZXQgdGhlIHRhZyB0byB0aGUgaW5pdGlhbCBwaGFzZS5cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MudGFnID0gQ2FsbENvbXBvbmVudDtcbiAgICAgIC8vIEludGVudGlvbmFsbHkgZmFsbCB0aHJvdWdoIHNpbmNlIHRoaXMgaXMgbm93IHRoZSBzYW1lLlxuICAgICAgY2FzZSBDYWxsQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gdXBkYXRlQ2FsbENvbXBvbmVudChcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICAgICk7XG4gICAgICBjYXNlIFJldHVybkNvbXBvbmVudDpcbiAgICAgICAgLy8gQSByZXR1cm4gY29tcG9uZW50IGlzIGp1c3QgYSBwbGFjZWhvbGRlciwgd2UgY2FuIGp1c3QgcnVuIHRocm91Z2ggdGhlXG4gICAgICAgIC8vIG5leHQgb25lIGltbWVkaWF0ZWx5LlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVBvcnRhbENvbXBvbmVudChcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICAgICk7XG4gICAgICBjYXNlIEZyYWdtZW50OlxuICAgICAgICByZXR1cm4gdXBkYXRlRnJhZ21lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgY2FzZSBNb2RlOlxuICAgICAgICByZXR1cm4gdXBkYXRlTW9kZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNvbnRleHRQcm92aWRlcihcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICAgICk7XG4gICAgICBjYXNlIENvbnRleHRDb25zdW1lcjpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNvbnRleHRDb25zdW1lcihcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICAgICk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJVbmtub3duIHVuaXQgb2Ygd29yayB0YWcuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBcIiArXG4gICAgICAgICAgICBcIlJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmVnaW5Xb3JrOiBiZWdpbldvcmtcbiAgfTtcbn07XG5cbnZhciBSZWFjdEZpYmVyQ29tcGxldGVXb3JrID0gZnVuY3Rpb24oY29uZmlnLCBob3N0Q29udGV4dCwgaHlkcmF0aW9uQ29udGV4dCkge1xuICB2YXIgY3JlYXRlSW5zdGFuY2UgPSBjb25maWcuY3JlYXRlSW5zdGFuY2UsXG4gICAgY3JlYXRlVGV4dEluc3RhbmNlID0gY29uZmlnLmNyZWF0ZVRleHRJbnN0YW5jZSxcbiAgICBhcHBlbmRJbml0aWFsQ2hpbGQgPSBjb25maWcuYXBwZW5kSW5pdGlhbENoaWxkLFxuICAgIGZpbmFsaXplSW5pdGlhbENoaWxkcmVuID0gY29uZmlnLmZpbmFsaXplSW5pdGlhbENoaWxkcmVuLFxuICAgIHByZXBhcmVVcGRhdGUgPSBjb25maWcucHJlcGFyZVVwZGF0ZSxcbiAgICBtdXRhdGlvbiA9IGNvbmZpZy5tdXRhdGlvbixcbiAgICBwZXJzaXN0ZW5jZSA9IGNvbmZpZy5wZXJzaXN0ZW5jZTtcbiAgdmFyIGdldFJvb3RIb3N0Q29udGFpbmVyID0gaG9zdENvbnRleHQuZ2V0Um9vdEhvc3RDb250YWluZXIsXG4gICAgcG9wSG9zdENvbnRleHQgPSBob3N0Q29udGV4dC5wb3BIb3N0Q29udGV4dCxcbiAgICBnZXRIb3N0Q29udGV4dCA9IGhvc3RDb250ZXh0LmdldEhvc3RDb250ZXh0LFxuICAgIHBvcEhvc3RDb250YWluZXIgPSBob3N0Q29udGV4dC5wb3BIb3N0Q29udGFpbmVyO1xuICB2YXIgcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZSA9XG4gICAgICBoeWRyYXRpb25Db250ZXh0LnByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UsXG4gICAgcHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UgPVxuICAgICAgaHlkcmF0aW9uQ29udGV4dC5wcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSxcbiAgICBwb3BIeWRyYXRpb25TdGF0ZSA9IGh5ZHJhdGlvbkNvbnRleHQucG9wSHlkcmF0aW9uU3RhdGU7XG5cbiAgZnVuY3Rpb24gbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcykge1xuICAgIC8vIFRhZyB0aGUgZmliZXIgd2l0aCBhbiB1cGRhdGUgZWZmZWN0LiBUaGlzIHR1cm5zIGEgUGxhY2VtZW50IGludG9cbiAgICAvLyBhbiBVcGRhdGVBbmRQbGFjZW1lbnQuXG4gICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1hcmtSZWYod29ya0luUHJvZ3Jlc3MpIHtcbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUmVmO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwZW5kQWxsUmV0dXJucyhyZXR1cm5zLCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciBub2RlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIGlmIChub2RlKSB7XG4gICAgICBub2RlW1wicmV0dXJuXCJdID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgfVxuICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICBpZiAoXG4gICAgICAgIG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50IHx8XG4gICAgICAgIG5vZGUudGFnID09PSBIb3N0VGV4dCB8fFxuICAgICAgICBub2RlLnRhZyA9PT0gSG9zdFBvcnRhbFxuICAgICAgKSB7XG4gICAgICAgIGludmFyaWFudChmYWxzZSwgXCJBIGNhbGwgY2Fubm90IGhhdmUgaG9zdCBjb21wb25lbnQgY2hpbGRyZW4uXCIpO1xuICAgICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gUmV0dXJuQ29tcG9uZW50KSB7XG4gICAgICAgIHJldHVybnMucHVzaChub2RlLnBlbmRpbmdQcm9wcy52YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKG5vZGUuY2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgbm9kZS5jaGlsZFtcInJldHVyblwiXSA9IG5vZGU7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKG5vZGVbXCJyZXR1cm5cIl0gPT09IG51bGwgfHwgbm9kZVtcInJldHVyblwiXSA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGVbXCJyZXR1cm5cIl07XG4gICAgICB9XG4gICAgICBub2RlLnNpYmxpbmdbXCJyZXR1cm5cIl0gPSBub2RlW1wicmV0dXJuXCJdO1xuICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtb3ZlQ2FsbFRvSGFuZGxlclBoYXNlKFxuICAgIGN1cnJlbnQsXG4gICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgKSB7XG4gICAgdmFyIHByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICBpbnZhcmlhbnQoXG4gICAgICBwcm9wcyxcbiAgICAgIFwiU2hvdWxkIGJlIHJlc29sdmVkIGJ5IG5vdy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFwiICtcbiAgICAgICAgXCJSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICApO1xuXG4gICAgLy8gRmlyc3Qgc3RlcCBvZiB0aGUgY2FsbCBoYXMgY29tcGxldGVkLiBOb3cgd2UgbmVlZCB0byBkbyB0aGUgc2Vjb25kLlxuICAgIC8vIFRPRE86IEl0IHdvdWxkIGJlIG5pY2UgdG8gaGF2ZSBhIG11bHRpIHN0YWdlIGNhbGwgcmVwcmVzZW50ZWQgYnkgYVxuICAgIC8vIHNpbmdsZSBjb21wb25lbnQsIG9yIGF0IGxlYXN0IHRhaWwgY2FsbCBvcHRpbWl6ZSBuZXN0ZWQgb25lcy4gQ3VycmVudGx5XG4gICAgLy8gdGhhdCByZXF1aXJlcyBhZGRpdGlvbmFsIGZpZWxkcyB0aGF0IHdlIGRvbid0IHdhbnQgdG8gYWRkIHRvIHRoZSBmaWJlci5cbiAgICAvLyBTbyB0aGlzIHJlcXVpcmVzIG5lc3RlZCBoYW5kbGVycy5cbiAgICAvLyBOb3RlOiBUaGlzIGRvZXNuJ3QgbXV0YXRlIHRoZSBhbHRlcm5hdGUgbm9kZS4gSSBkb24ndCB0aGluayBpdCBuZWVkcyB0b1xuICAgIC8vIHNpbmNlIHRoaXMgc3RhZ2UgaXMgcmVzZXQgZm9yIGV2ZXJ5IHBhc3MuXG4gICAgd29ya0luUHJvZ3Jlc3MudGFnID0gQ2FsbEhhbmRsZXJQaGFzZTtcblxuICAgIC8vIEJ1aWxkIHVwIHRoZSByZXR1cm5zLlxuICAgIC8vIFRPRE86IENvbXBhcmUgdGhpcyB0byBhIGdlbmVyYXRvciBvciBvcGFxdWUgaGVscGVycyBsaWtlIENoaWxkcmVuLlxuICAgIHZhciByZXR1cm5zID0gW107XG4gICAgYXBwZW5kQWxsUmV0dXJucyhyZXR1cm5zLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIGZuID0gcHJvcHMuaGFuZGxlcjtcbiAgICB2YXIgY2hpbGRQcm9wcyA9IHByb3BzLnByb3BzO1xuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSBmbihjaGlsZFByb3BzLCByZXR1cm5zKTtcblxuICAgIHZhciBjdXJyZW50Rmlyc3RDaGlsZCA9IGN1cnJlbnQgIT09IG51bGwgPyBjdXJyZW50LmNoaWxkIDogbnVsbDtcbiAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgIG5leHRDaGlsZHJlbixcbiAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBlbmRBbGxDaGlsZHJlbihwYXJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgLy8gV2Ugb25seSBoYXZlIHRoZSB0b3AgRmliZXIgdGhhdCB3YXMgY3JlYXRlZCBidXQgd2UgbmVlZCByZWN1cnNlIGRvd24gaXRzXG4gICAgLy8gY2hpbGRyZW4gdG8gZmluZCBhbGwgdGhlIHRlcm1pbmFsIG5vZGVzLlxuICAgIHZhciBub2RlID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgd2hpbGUgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBub2RlLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgICAgYXBwZW5kSW5pdGlhbENoaWxkKHBhcmVudCwgbm9kZS5zdGF0ZU5vZGUpO1xuICAgICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcG9ydGFsIGNoaWxkLCB0aGVuIHdlIGRvbid0IHdhbnQgdG8gdHJhdmVyc2VcbiAgICAgICAgLy8gZG93biBpdHMgY2hpbGRyZW4uIEluc3RlYWQsIHdlJ2xsIGdldCBpbnNlcnRpb25zIGZyb20gZWFjaCBjaGlsZCBpblxuICAgICAgICAvLyB0aGUgcG9ydGFsIGRpcmVjdGx5LlxuICAgICAgfSBlbHNlIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUuY2hpbGRbXCJyZXR1cm5cIl0gPSBub2RlO1xuICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAobm9kZSA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZVtcInJldHVyblwiXSA9PT0gbnVsbCB8fCBub2RlW1wicmV0dXJuXCJdID09PSB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZVtcInJldHVyblwiXTtcbiAgICAgIH1cbiAgICAgIG5vZGUuc2libGluZ1tcInJldHVyblwiXSA9IG5vZGVbXCJyZXR1cm5cIl07XG4gICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgIH1cbiAgfVxuXG4gIHZhciB1cGRhdGVIb3N0Q29udGFpbmVyID0gdm9pZCAwO1xuICB2YXIgdXBkYXRlSG9zdENvbXBvbmVudCA9IHZvaWQgMDtcbiAgdmFyIHVwZGF0ZUhvc3RUZXh0ID0gdm9pZCAwO1xuICBpZiAobXV0YXRpb24pIHtcbiAgICBpZiAoZW5hYmxlTXV0YXRpbmdSZWNvbmNpbGVyKSB7XG4gICAgICAvLyBNdXRhdGlvbiBtb2RlXG4gICAgICB1cGRhdGVIb3N0Q29udGFpbmVyID0gZnVuY3Rpb24od29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgLy8gTm9vcFxuICAgICAgfTtcbiAgICAgIHVwZGF0ZUhvc3RDb21wb25lbnQgPSBmdW5jdGlvbihcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIG9sZFByb3BzLFxuICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgcm9vdENvbnRhaW5lckluc3RhbmNlLFxuICAgICAgICBjdXJyZW50SG9zdENvbnRleHRcbiAgICAgICkge1xuICAgICAgICAvLyBUT0RPOiBUeXBlIHRoaXMgc3BlY2lmaWMgdG8gdGhpcyB0eXBlIG9mIGNvbXBvbmVudC5cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSB1cGRhdGVQYXlsb2FkO1xuICAgICAgICAvLyBJZiB0aGUgdXBkYXRlIHBheWxvYWQgaW5kaWNhdGVzIHRoYXQgdGhlcmUgaXMgYSBjaGFuZ2Ugb3IgaWYgdGhlcmVcbiAgICAgICAgLy8gaXMgYSBuZXcgcmVmIHdlIG1hcmsgdGhpcyBhcyBhbiB1cGRhdGUuIEFsbCB0aGUgd29yayBpcyBkb25lIGluIGNvbW1pdFdvcmsuXG4gICAgICAgIGlmICh1cGRhdGVQYXlsb2FkKSB7XG4gICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB1cGRhdGVIb3N0VGV4dCA9IGZ1bmN0aW9uKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBvbGRUZXh0LCBuZXdUZXh0KSB7XG4gICAgICAgIC8vIElmIHRoZSB0ZXh0IGRpZmZlcnMsIG1hcmsgaXQgYXMgYW4gdXBkYXRlLiBBbGwgdGhlIHdvcmsgaW4gZG9uZSBpbiBjb21taXRXb3JrLlxuICAgICAgICBpZiAob2xkVGV4dCAhPT0gbmV3VGV4dCkge1xuICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsIFwiTXV0YXRpbmcgcmVjb25jaWxlciBpcyBkaXNhYmxlZC5cIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHBlcnNpc3RlbmNlKSB7XG4gICAgaWYgKGVuYWJsZVBlcnNpc3RlbnRSZWNvbmNpbGVyKSB7XG4gICAgICAvLyBQZXJzaXN0ZW50IGhvc3QgdHJlZSBtb2RlXG4gICAgICB2YXIgY2xvbmVJbnN0YW5jZSA9IHBlcnNpc3RlbmNlLmNsb25lSW5zdGFuY2UsXG4gICAgICAgIGNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0ID0gcGVyc2lzdGVuY2UuY3JlYXRlQ29udGFpbmVyQ2hpbGRTZXQsXG4gICAgICAgIGFwcGVuZENoaWxkVG9Db250YWluZXJDaGlsZFNldCA9XG4gICAgICAgICAgcGVyc2lzdGVuY2UuYXBwZW5kQ2hpbGRUb0NvbnRhaW5lckNoaWxkU2V0LFxuICAgICAgICBmaW5hbGl6ZUNvbnRhaW5lckNoaWxkcmVuID0gcGVyc2lzdGVuY2UuZmluYWxpemVDb250YWluZXJDaGlsZHJlbjtcblxuICAgICAgLy8gQW4gdW5mb3J0dW5hdGUgZm9yayBvZiBhcHBlbmRBbGxDaGlsZHJlbiBiZWNhdXNlIHdlIGhhdmUgdHdvIGRpZmZlcmVudCBwYXJlbnQgdHlwZXMuXG5cbiAgICAgIHZhciBhcHBlbmRBbGxDaGlsZHJlblRvQ29udGFpbmVyID0gZnVuY3Rpb24oXG4gICAgICAgIGNvbnRhaW5lckNoaWxkU2V0LFxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgKSB7XG4gICAgICAgIC8vIFdlIG9ubHkgaGF2ZSB0aGUgdG9wIEZpYmVyIHRoYXQgd2FzIGNyZWF0ZWQgYnV0IHdlIG5lZWQgcmVjdXJzZSBkb3duIGl0c1xuICAgICAgICAvLyBjaGlsZHJlbiB0byBmaW5kIGFsbCB0aGUgdGVybWluYWwgbm9kZXMuXG4gICAgICAgIHZhciBub2RlID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IG5vZGUudGFnID09PSBIb3N0VGV4dCkge1xuICAgICAgICAgICAgYXBwZW5kQ2hpbGRUb0NvbnRhaW5lckNoaWxkU2V0KGNvbnRhaW5lckNoaWxkU2V0LCBub2RlLnN0YXRlTm9kZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBvcnRhbCBjaGlsZCwgdGhlbiB3ZSBkb24ndCB3YW50IHRvIHRyYXZlcnNlXG4gICAgICAgICAgICAvLyBkb3duIGl0cyBjaGlsZHJlbi4gSW5zdGVhZCwgd2UnbGwgZ2V0IGluc2VydGlvbnMgZnJvbSBlYWNoIGNoaWxkIGluXG4gICAgICAgICAgICAvLyB0aGUgcG9ydGFsIGRpcmVjdGx5LlxuICAgICAgICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbm9kZS5jaGlsZFtcInJldHVyblwiXSA9IG5vZGU7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobm9kZSA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKG5vZGVbXCJyZXR1cm5cIl0gPT09IG51bGwgfHwgbm9kZVtcInJldHVyblwiXSA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGVbXCJyZXR1cm5cIl07XG4gICAgICAgICAgfVxuICAgICAgICAgIG5vZGUuc2libGluZ1tcInJldHVyblwiXSA9IG5vZGVbXCJyZXR1cm5cIl07XG4gICAgICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHVwZGF0ZUhvc3RDb250YWluZXIgPSBmdW5jdGlvbih3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICB2YXIgcG9ydGFsT3JSb290ID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICB2YXIgY2hpbGRyZW5VbmNoYW5nZWQgPSB3b3JrSW5Qcm9ncmVzcy5maXJzdEVmZmVjdCA9PT0gbnVsbDtcbiAgICAgICAgaWYgKGNoaWxkcmVuVW5jaGFuZ2VkKSB7XG4gICAgICAgICAgLy8gTm8gY2hhbmdlcywganVzdCByZXVzZSB0aGUgZXhpc3RpbmcgaW5zdGFuY2UuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHBvcnRhbE9yUm9vdC5jb250YWluZXJJbmZvO1xuICAgICAgICAgIHZhciBuZXdDaGlsZFNldCA9IGNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0KGNvbnRhaW5lcik7XG4gICAgICAgICAgLy8gSWYgY2hpbGRyZW4gbWlnaHQgaGF2ZSBjaGFuZ2VkLCB3ZSBoYXZlIHRvIGFkZCB0aGVtIGFsbCB0byB0aGUgc2V0LlxuICAgICAgICAgIGFwcGVuZEFsbENoaWxkcmVuVG9Db250YWluZXIobmV3Q2hpbGRTZXQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBwb3J0YWxPclJvb3QucGVuZGluZ0NoaWxkcmVuID0gbmV3Q2hpbGRTZXQ7XG4gICAgICAgICAgLy8gU2NoZWR1bGUgYW4gdXBkYXRlIG9uIHRoZSBjb250YWluZXIgdG8gc3dhcCBvdXQgdGhlIGNvbnRhaW5lci5cbiAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBmaW5hbGl6ZUNvbnRhaW5lckNoaWxkcmVuKGNvbnRhaW5lciwgbmV3Q2hpbGRTZXQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdXBkYXRlSG9zdENvbXBvbmVudCA9IGZ1bmN0aW9uKFxuICAgICAgICBjdXJyZW50LFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgdXBkYXRlUGF5bG9hZCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgb2xkUHJvcHMsXG4gICAgICAgIG5ld1Byb3BzLFxuICAgICAgICByb290Q29udGFpbmVySW5zdGFuY2UsXG4gICAgICAgIGN1cnJlbnRIb3N0Q29udGV4dFxuICAgICAgKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBlZmZlY3RzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG5vZGUsIHRoZW4gbm9uZSBvZiBvdXIgY2hpbGRyZW4gaGFkIGFueSB1cGRhdGVzLlxuICAgICAgICAvLyBUaGlzIGd1YXJhbnRlZXMgdGhhdCB3ZSBjYW4gcmV1c2UgYWxsIG9mIHRoZW0uXG4gICAgICAgIHZhciBjaGlsZHJlblVuY2hhbmdlZCA9IHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0ID09PSBudWxsO1xuICAgICAgICB2YXIgY3VycmVudEluc3RhbmNlID0gY3VycmVudC5zdGF0ZU5vZGU7XG4gICAgICAgIGlmIChjaGlsZHJlblVuY2hhbmdlZCAmJiB1cGRhdGVQYXlsb2FkID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gTm8gY2hhbmdlcywganVzdCByZXVzZSB0aGUgZXhpc3RpbmcgaW5zdGFuY2UuXG4gICAgICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgbWlnaHQgcmVsZWFzZSBhIHByZXZpb3VzIGNsb25lLlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcmVjeWNsYWJsZUluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICAgIHZhciBuZXdJbnN0YW5jZSA9IGNsb25lSW5zdGFuY2UoXG4gICAgICAgICAgICBjdXJyZW50SW5zdGFuY2UsXG4gICAgICAgICAgICB1cGRhdGVQYXlsb2FkLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIG9sZFByb3BzLFxuICAgICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIGNoaWxkcmVuVW5jaGFuZ2VkLFxuICAgICAgICAgICAgcmVjeWNsYWJsZUluc3RhbmNlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBmaW5hbGl6ZUluaXRpYWxDaGlsZHJlbihcbiAgICAgICAgICAgICAgbmV3SW5zdGFuY2UsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgICAgICByb290Q29udGFpbmVySW5zdGFuY2UsXG4gICAgICAgICAgICAgIGN1cnJlbnRIb3N0Q29udGV4dFxuICAgICAgICAgICAgKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IG5ld0luc3RhbmNlO1xuICAgICAgICAgIGlmIChjaGlsZHJlblVuY2hhbmdlZCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIG90aGVyIGVmZmVjdHMgaW4gdGhpcyB0cmVlLCB3ZSBuZWVkIHRvIGZsYWcgdGhpcyBub2RlIGFzIGhhdmluZyBvbmUuXG4gICAgICAgICAgICAvLyBFdmVuIHRob3VnaCB3ZSdyZSBub3QgZ29pbmcgdG8gdXNlIGl0IGZvciBhbnl0aGluZy5cbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSBwYXJlbnRzIHdvbid0IGtub3cgdGhhdCB0aGVyZSBhcmUgbmV3IGNoaWxkcmVuIHRvIHByb3BhZ2F0ZSB1cHdhcmRzLlxuICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIGNoaWxkcmVuIG1pZ2h0IGhhdmUgY2hhbmdlZCwgd2UgaGF2ZSB0byBhZGQgdGhlbSBhbGwgdG8gdGhlIHNldC5cbiAgICAgICAgICAgIGFwcGVuZEFsbENoaWxkcmVuKG5ld0luc3RhbmNlLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdXBkYXRlSG9zdFRleHQgPSBmdW5jdGlvbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgb2xkVGV4dCwgbmV3VGV4dCkge1xuICAgICAgICBpZiAob2xkVGV4dCAhPT0gbmV3VGV4dCkge1xuICAgICAgICAgIC8vIElmIHRoZSB0ZXh0IGNvbnRlbnQgZGlmZmVycywgd2UnbGwgY3JlYXRlIGEgbmV3IHRleHQgaW5zdGFuY2UgZm9yIGl0LlxuICAgICAgICAgIHZhciByb290Q29udGFpbmVySW5zdGFuY2UgPSBnZXRSb290SG9zdENvbnRhaW5lcigpO1xuICAgICAgICAgIHZhciBjdXJyZW50SG9zdENvbnRleHQgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGNyZWF0ZVRleHRJbnN0YW5jZShcbiAgICAgICAgICAgIG5ld1RleHQsXG4gICAgICAgICAgICByb290Q29udGFpbmVySW5zdGFuY2UsXG4gICAgICAgICAgICBjdXJyZW50SG9zdENvbnRleHQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICk7XG4gICAgICAgICAgLy8gV2UnbGwgaGF2ZSB0byBtYXJrIGl0IGFzIGhhdmluZyBhbiBlZmZlY3QsIGV2ZW4gdGhvdWdoIHdlIHdvbid0IHVzZSB0aGUgZWZmZWN0IGZvciBhbnl0aGluZy5cbiAgICAgICAgICAvLyBUaGlzIGxldHMgdGhlIHBhcmVudHMga25vdyB0aGF0IGF0IGxlYXN0IG9uZSBvZiB0aGVpciBjaGlsZHJlbiBoYXMgY2hhbmdlZC5cbiAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCBcIlBlcnNpc3RlbnQgcmVjb25jaWxlciBpcyBkaXNhYmxlZC5cIik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChlbmFibGVOb29wUmVjb25jaWxlcikge1xuICAgICAgLy8gTm8gaG9zdCBvcGVyYXRpb25zXG4gICAgICB1cGRhdGVIb3N0Q29udGFpbmVyID0gZnVuY3Rpb24od29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgLy8gTm9vcFxuICAgICAgfTtcbiAgICAgIHVwZGF0ZUhvc3RDb21wb25lbnQgPSBmdW5jdGlvbihcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIG9sZFByb3BzLFxuICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgcm9vdENvbnRhaW5lckluc3RhbmNlLFxuICAgICAgICBjdXJyZW50SG9zdENvbnRleHRcbiAgICAgICkge1xuICAgICAgICAvLyBOb29wXG4gICAgICB9O1xuICAgICAgdXBkYXRlSG9zdFRleHQgPSBmdW5jdGlvbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgb2xkVGV4dCwgbmV3VGV4dCkge1xuICAgICAgICAvLyBOb29wXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsIFwiTm9vcCByZWNvbmNpbGVyIGlzIGRpc2FibGVkLlwiKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21wbGV0ZVdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgdmFyIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICBjYXNlIEZ1bmN0aW9uYWxDb21wb25lbnQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDoge1xuICAgICAgICAvLyBXZSBhcmUgbGVhdmluZyB0aGlzIHN1YnRyZWUsIHNvIHBvcCBjb250ZXh0IGlmIGFueS5cbiAgICAgICAgcG9wQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcblxuICAgICAgICAvLyBJZiB0aGlzIGNvbXBvbmVudCBjYXVnaHQgYW4gZXJyb3IsIHNjaGVkdWxlIGFuIGVycm9yIGxvZyBlZmZlY3QuXG4gICAgICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICAgIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcyAhPT0gbnVsbCkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmPSB+RGlkQ2FwdHVyZTtcbiAgICAgICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZENhdGNoID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBFcnJMb2c7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vcm1hbGx5IHdlIGNsZWFyIHRoaXMgaW4gdGhlIGNvbW1pdCBwaGFzZSwgYnV0IHNpbmNlIHdlIGRpZCBub3RcbiAgICAgICAgICAgIC8vIHNjaGVkdWxlIGFuIGVmZmVjdCwgd2UgbmVlZCB0byByZXNldCBpdCBoZXJlLlxuICAgICAgICAgICAgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFJvb3Q6IHtcbiAgICAgICAgcG9wSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHBvcFRvcExldmVsQ29udGV4dE9iamVjdCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHZhciBmaWJlclJvb3QgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgIGlmIChmaWJlclJvb3QucGVuZGluZ0NvbnRleHQpIHtcbiAgICAgICAgICBmaWJlclJvb3QuY29udGV4dCA9IGZpYmVyUm9vdC5wZW5kaW5nQ29udGV4dDtcbiAgICAgICAgICBmaWJlclJvb3QucGVuZGluZ0NvbnRleHQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50ID09PSBudWxsIHx8IGN1cnJlbnQuY2hpbGQgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBJZiB3ZSBoeWRyYXRlZCwgcG9wIHNvIHRoYXQgd2UgY2FuIGRlbGV0ZSBhbnkgcmVtYWluaW5nIGNoaWxkcmVuXG4gICAgICAgICAgLy8gdGhhdCB3ZXJlbid0IGh5ZHJhdGVkLlxuICAgICAgICAgIHBvcEh5ZHJhdGlvblN0YXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAvLyBUaGlzIHJlc2V0cyB0aGUgaGFja3kgc3RhdGUgdG8gZml4IGlzTW91bnRlZCBiZWZvcmUgY29tbWl0dGluZy5cbiAgICAgICAgICAvLyBUT0RPOiBEZWxldGUgdGhpcyB3aGVuIHdlIGRlbGV0ZSBpc01vdW50ZWQgYW5kIGZpbmRET01Ob2RlLlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmPSB+UGxhY2VtZW50O1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgICAgIHZhciBfdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgICAgaWYgKF91cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiBfdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gRXJyTG9nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OiB7XG4gICAgICAgIHBvcEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgdmFyIHJvb3RDb250YWluZXJJbnN0YW5jZSA9IGdldFJvb3RIb3N0Q29udGFpbmVyKCk7XG4gICAgICAgIHZhciB0eXBlID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICAgICAgaWYgKGN1cnJlbnQgIT09IG51bGwgJiYgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlICE9IG51bGwpIHtcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGFuIGFsdGVybmF0ZSwgdGhhdCBtZWFucyB0aGlzIGlzIGFuIHVwZGF0ZSBhbmQgd2UgbmVlZCB0b1xuICAgICAgICAgIC8vIHNjaGVkdWxlIGEgc2lkZS1lZmZlY3QgdG8gZG8gdGhlIHVwZGF0ZXMuXG4gICAgICAgICAgdmFyIG9sZFByb3BzID0gY3VycmVudC5tZW1vaXplZFByb3BzO1xuICAgICAgICAgIC8vIElmIHdlIGdldCB1cGRhdGVkIGJlY2F1c2Ugb25lIG9mIG91ciBjaGlsZHJlbiB1cGRhdGVkLCB3ZSBkb24ndFxuICAgICAgICAgIC8vIGhhdmUgbmV3UHJvcHMgc28gd2UnbGwgaGF2ZSB0byByZXVzZSB0aGVtLlxuICAgICAgICAgIC8vIFRPRE86IFNwbGl0IHRoZSB1cGRhdGUgQVBJIGFzIHNlcGFyYXRlIGZvciB0aGUgcHJvcHMgdnMuIGNoaWxkcmVuLlxuICAgICAgICAgIC8vIEV2ZW4gYmV0dGVyIHdvdWxkIGJlIGlmIGNoaWxkcmVuIHdlcmVuJ3Qgc3BlY2lhbCBjYXNlZCBhdCBhbGwgdGhvLlxuICAgICAgICAgIHZhciBfaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgICAgdmFyIGN1cnJlbnRIb3N0Q29udGV4dCA9IGdldEhvc3RDb250ZXh0KCk7XG4gICAgICAgICAgLy8gVE9ETzogRXhwZXJpZW5jaW5nIGFuIGVycm9yIHdoZXJlIG9sZFByb3BzIGlzIG51bGwuIFN1Z2dlc3RzIGEgaG9zdFxuICAgICAgICAgIC8vIGNvbXBvbmVudCBpcyBoaXR0aW5nIHRoZSByZXN1bWUgcGF0aC4gRmlndXJlIG91dCB3aHkuIFBvc3NpYmx5XG4gICAgICAgICAgLy8gcmVsYXRlZCB0byBgaGlkZGVuYC5cbiAgICAgICAgICB2YXIgdXBkYXRlUGF5bG9hZCA9IHByZXBhcmVVcGRhdGUoXG4gICAgICAgICAgICBfaW5zdGFuY2UsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgb2xkUHJvcHMsXG4gICAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICAgIHJvb3RDb250YWluZXJJbnN0YW5jZSxcbiAgICAgICAgICAgIGN1cnJlbnRIb3N0Q29udGV4dFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICB1cGRhdGVIb3N0Q29tcG9uZW50KFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgdXBkYXRlUGF5bG9hZCxcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBvbGRQcm9wcyxcbiAgICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgICAgcm9vdENvbnRhaW5lckluc3RhbmNlLFxuICAgICAgICAgICAgY3VycmVudEhvc3RDb250ZXh0XG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChjdXJyZW50LnJlZiAhPT0gd29ya0luUHJvZ3Jlc3MucmVmKSB7XG4gICAgICAgICAgICBtYXJrUmVmKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFuZXdQcm9wcykge1xuICAgICAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgIT09IG51bGwsXG4gICAgICAgICAgICAgIFwiV2UgbXVzdCBoYXZlIG5ldyBwcm9wcyBmb3IgbmV3IG1vdW50cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgXCIgK1xuICAgICAgICAgICAgICAgIFwiY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIC8vIFRoaXMgY2FuIGhhcHBlbiB3aGVuIHdlIGFib3J0IHdvcmsuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX2N1cnJlbnRIb3N0Q29udGV4dCA9IGdldEhvc3RDb250ZXh0KCk7XG4gICAgICAgICAgLy8gVE9ETzogTW92ZSBjcmVhdGVJbnN0YW5jZSB0byBiZWdpbldvcmsgYW5kIGtlZXAgaXQgb24gYSBjb250ZXh0XG4gICAgICAgICAgLy8gXCJzdGFja1wiIGFzIHRoZSBwYXJlbnQuIFRoZW4gYXBwZW5kIGNoaWxkcmVuIGFzIHdlIGdvIGluIGJlZ2luV29ya1xuICAgICAgICAgIC8vIG9yIGNvbXBsZXRlV29yayBkZXBlbmRpbmcgb24gd2Ugd2FudCB0byBhZGQgdGhlbiB0b3AtPmRvd24gb3JcbiAgICAgICAgICAvLyBib3R0b20tPnVwLiBUb3AtPmRvd24gaXMgZmFzdGVyIGluIElFMTEuXG4gICAgICAgICAgdmFyIHdhc0h5ZHJhdGVkID0gcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGlmICh3YXNIeWRyYXRlZCkge1xuICAgICAgICAgICAgLy8gVE9ETzogTW92ZSB0aGlzIGFuZCBjcmVhdGVJbnN0YW5jZSBzdGVwIGludG8gdGhlIGJlZ2luUGhhc2VcbiAgICAgICAgICAgIC8vIHRvIGNvbnNvbGlkYXRlLlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIHJvb3RDb250YWluZXJJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICBfY3VycmVudEhvc3RDb250ZXh0XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAvLyBJZiBjaGFuZ2VzIHRvIHRoZSBoeWRyYXRlZCBub2RlIG5lZWRzIHRvIGJlIGFwcGxpZWQgYXQgdGhlXG4gICAgICAgICAgICAgIC8vIGNvbW1pdC1waGFzZSB3ZSBtYXJrIHRoaXMgYXMgc3VjaC5cbiAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBfaW5zdGFuY2UyID0gY3JlYXRlSW5zdGFuY2UoXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgICAgICByb290Q29udGFpbmVySW5zdGFuY2UsXG4gICAgICAgICAgICAgIF9jdXJyZW50SG9zdENvbnRleHQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBhcHBlbmRBbGxDaGlsZHJlbihfaW5zdGFuY2UyLCB3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAgICAgICAgIC8vIENlcnRhaW4gcmVuZGVyZXJzIHJlcXVpcmUgY29tbWl0LXRpbWUgZWZmZWN0cyBmb3IgaW5pdGlhbCBtb3VudC5cbiAgICAgICAgICAgIC8vIChlZyBET00gcmVuZGVyZXIgc3VwcG9ydHMgYXV0by1mb2N1cyBmb3IgY2VydGFpbiBlbGVtZW50cykuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgc3VjaCByZW5kZXJlcnMgZ2V0IHNjaGVkdWxlZCBmb3IgbGF0ZXIgd29yay5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgZmluYWxpemVJbml0aWFsQ2hpbGRyZW4oXG4gICAgICAgICAgICAgICAgX2luc3RhbmNlMixcbiAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgICAgICAgIHJvb3RDb250YWluZXJJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICBfY3VycmVudEhvc3RDb250ZXh0XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IF9pbnN0YW5jZTI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLnJlZiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSByZWYgb24gYSBob3N0IG5vZGUgd2UgbmVlZCB0byBzY2hlZHVsZSBhIGNhbGxiYWNrXG4gICAgICAgICAgICBtYXJrUmVmKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjYXNlIEhvc3RUZXh0OiB7XG4gICAgICAgIHZhciBuZXdUZXh0ID0gbmV3UHJvcHM7XG4gICAgICAgIGlmIChjdXJyZW50ICYmIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgdmFyIG9sZFRleHQgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbiBhbHRlcm5hdGUsIHRoYXQgbWVhbnMgdGhpcyBpcyBhbiB1cGRhdGUgYW5kIHdlIG5lZWRcbiAgICAgICAgICAvLyB0byBzY2hlZHVsZSBhIHNpZGUtZWZmZWN0IHRvIGRvIHRoZSB1cGRhdGVzLlxuICAgICAgICAgIHVwZGF0ZUhvc3RUZXh0KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBvbGRUZXh0LCBuZXdUZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG5ld1RleHQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGludmFyaWFudChcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlICE9PSBudWxsLFxuICAgICAgICAgICAgICBcIldlIG11c3QgaGF2ZSBuZXcgcHJvcHMgZm9yIG5ldyBtb3VudHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IFwiICtcbiAgICAgICAgICAgICAgICBcImNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gd2hlbiB3ZSBhYm9ydCB3b3JrLlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBfcm9vdENvbnRhaW5lckluc3RhbmNlID0gZ2V0Um9vdEhvc3RDb250YWluZXIoKTtcbiAgICAgICAgICB2YXIgX2N1cnJlbnRIb3N0Q29udGV4dDIgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgICAgIHZhciBfd2FzSHlkcmF0ZWQgPSBwb3BIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgaWYgKF93YXNIeWRyYXRlZCkge1xuICAgICAgICAgICAgaWYgKHByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlKHdvcmtJblByb2dyZXNzKSkge1xuICAgICAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY3JlYXRlVGV4dEluc3RhbmNlKFxuICAgICAgICAgICAgICBuZXdUZXh0LFxuICAgICAgICAgICAgICBfcm9vdENvbnRhaW5lckluc3RhbmNlLFxuICAgICAgICAgICAgICBfY3VycmVudEhvc3RDb250ZXh0MixcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY2FzZSBDYWxsQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gbW92ZUNhbGxUb0hhbmRsZXJQaGFzZShcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICAgICk7XG4gICAgICBjYXNlIENhbGxIYW5kbGVyUGhhc2U6XG4gICAgICAgIC8vIFJlc2V0IHRoZSB0YWcgdG8gbm93IGJlIGEgZmlyc3QgcGhhc2UgY2FsbC5cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MudGFnID0gQ2FsbENvbXBvbmVudDtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlIFJldHVybkNvbXBvbmVudDpcbiAgICAgICAgLy8gRG9lcyBub3RoaW5nLlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBNb2RlOlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgcG9wSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHVwZGF0ZUhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgQ29udGV4dFByb3ZpZGVyOlxuICAgICAgICAvLyBQb3AgcHJvdmlkZXIgZmliZXJcbiAgICAgICAgcG9wUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgQ29udGV4dENvbnN1bWVyOlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIC8vIEVycm9yIGNhc2VzXG4gICAgICBjYXNlIEluZGV0ZXJtaW5hdGVDb21wb25lbnQ6XG4gICAgICAgIGludmFyaWFudChcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIkFuIGluZGV0ZXJtaW5hdGUgY29tcG9uZW50IHNob3VsZCBoYXZlIGJlY29tZSBkZXRlcm1pbmF0ZSBiZWZvcmUgXCIgK1xuICAgICAgICAgICAgXCJjb21wbGV0aW5nLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBcIiArXG4gICAgICAgICAgICBcImZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1mYWxsdGhyb3VnaFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiVW5rbm93biB1bml0IG9mIHdvcmsgdGFnLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gXCIgK1xuICAgICAgICAgICAgXCJSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGNvbXBsZXRlV29yazogY29tcGxldGVXb3JrXG4gIH07XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVDYXB0dXJlZFZhbHVlKHZhbHVlLCBzb3VyY2UpIHtcbiAgLy8gSWYgdGhlIHZhbHVlIGlzIGFuIGVycm9yLCBjYWxsIHRoaXMgZnVuY3Rpb24gaW1tZWRpYXRlbHkgYWZ0ZXIgaXQgaXMgdGhyb3duXG4gIC8vIHNvIHRoZSBzdGFjayBpcyBhY2N1cmF0ZS5cbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgc291cmNlOiBzb3VyY2UsXG4gICAgc3RhY2s6IGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIoc291cmNlKVxuICB9O1xufVxuXG52YXIgUmVhY3RGaWJlclVud2luZFdvcmsgPSBmdW5jdGlvbihcbiAgaG9zdENvbnRleHQsXG4gIHNjaGVkdWxlV29yayxcbiAgaXNBbHJlYWR5RmFpbGVkTGVnYWN5RXJyb3JCb3VuZGFyeVxuKSB7XG4gIHZhciBwb3BIb3N0Q29udGFpbmVyID0gaG9zdENvbnRleHQucG9wSG9zdENvbnRhaW5lcixcbiAgICBwb3BIb3N0Q29udGV4dCA9IGhvc3RDb250ZXh0LnBvcEhvc3RDb250ZXh0O1xuXG4gIGZ1bmN0aW9uIHRocm93RXhjZXB0aW9uKHJldHVybkZpYmVyLCBzb3VyY2VGaWJlciwgcmF3VmFsdWUpIHtcbiAgICAvLyBUaGUgc291cmNlIGZpYmVyIGRpZCBub3QgY29tcGxldGUuXG4gICAgc291cmNlRmliZXIuZWZmZWN0VGFnIHw9IEluY29tcGxldGU7XG4gICAgLy8gSXRzIGVmZmVjdCBsaXN0IGlzIG5vIGxvbmdlciB2YWxpZC5cbiAgICBzb3VyY2VGaWJlci5maXJzdEVmZmVjdCA9IHNvdXJjZUZpYmVyLmxhc3RFZmZlY3QgPSBudWxsO1xuXG4gICAgdmFyIHZhbHVlID0gY3JlYXRlQ2FwdHVyZWRWYWx1ZShyYXdWYWx1ZSwgc291cmNlRmliZXIpO1xuXG4gICAgdmFyIHdvcmtJblByb2dyZXNzID0gcmV0dXJuRmliZXI7XG4gICAgZG8ge1xuICAgICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgICAgY2FzZSBIb3N0Um9vdDoge1xuICAgICAgICAgIC8vIFVuY2F1Z2h0IGVycm9yXG4gICAgICAgICAgdmFyIGVycm9ySW5mbyA9IHZhbHVlO1xuICAgICAgICAgIGVuc3VyZVVwZGF0ZVF1ZXVlcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICAgICAgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgPSBbZXJyb3JJbmZvXTtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gU2hvdWxkQ2FwdHVyZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgICAvLyBDYXB0dXJlIGFuZCByZXRyeVxuICAgICAgICAgIHZhciBjdG9yID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICAgICAgICB2YXIgX2luc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgJiBEaWRDYXB0dXJlKSA9PT0gTm9FZmZlY3QgJiZcbiAgICAgICAgICAgICgodHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgZW5hYmxlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoKSB8fFxuICAgICAgICAgICAgICAoX2luc3RhbmNlICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRDYXRjaCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAgICAgIWlzQWxyZWFkeUZhaWxlZExlZ2FjeUVycm9yQm91bmRhcnkoX2luc3RhbmNlKSkpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBlbnN1cmVVcGRhdGVRdWV1ZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgdmFyIF91cGRhdGVRdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgICAgICAgICAgdmFyIGNhcHR1cmVkVmFsdWVzID0gX3VwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzO1xuICAgICAgICAgICAgaWYgKGNhcHR1cmVkVmFsdWVzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIF91cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcyA9IFt2YWx1ZV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjYXB0dXJlZFZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBTaG91bGRDYXB0dXJlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHdvcmtJblByb2dyZXNzID0gd29ya0luUHJvZ3Jlc3NbXCJyZXR1cm5cIl07XG4gICAgfSB3aGlsZSAod29ya0luUHJvZ3Jlc3MgIT09IG51bGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gdW53aW5kV29yayh3b3JrSW5Qcm9ncmVzcykge1xuICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICBjYXNlIENsYXNzQ29tcG9uZW50OiB7XG4gICAgICAgIHBvcENvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHZhciBlZmZlY3RUYWcgPSB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWc7XG4gICAgICAgIGlmIChlZmZlY3RUYWcgJiBTaG91bGRDYXB0dXJlKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnID0gKGVmZmVjdFRhZyAmIH5TaG91bGRDYXB0dXJlKSB8IERpZENhcHR1cmU7XG4gICAgICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY2FzZSBIb3N0Um9vdDoge1xuICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgcG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgdmFyIF9lZmZlY3RUYWcgPSB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWc7XG4gICAgICAgIGlmIChfZWZmZWN0VGFnICYgU2hvdWxkQ2FwdHVyZSkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyA9IChfZWZmZWN0VGFnICYgflNob3VsZENhcHR1cmUpIHwgRGlkQ2FwdHVyZTtcbiAgICAgICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjYXNlIEhvc3RDb21wb25lbnQ6IHtcbiAgICAgICAgcG9wSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgcG9wSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgIHBvcFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB0aHJvd0V4Y2VwdGlvbjogdGhyb3dFeGNlcHRpb24sXG4gICAgdW53aW5kV29yazogdW53aW5kV29ya1xuICB9O1xufTtcblxuLy8gTW9kdWxlIHByb3ZpZGVkIGJ5IFJOOlxuLyoqXG4gKiBJbnRlcmNlcHQgbGlmZWN5Y2xlIGVycm9ycyBhbmQgZW5zdXJlIHRoZXkgYXJlIHNob3duIHdpdGggdGhlIGNvcnJlY3Qgc3RhY2tcbiAqIHRyYWNlIHdpdGhpbiB0aGUgbmF0aXZlIHJlZGJveCBjb21wb25lbnQuXG4gKi9cbmZ1bmN0aW9uIHNob3dFcnJvckRpYWxvZyhjYXB0dXJlZEVycm9yKSB7XG4gIHZhciBjb21wb25lbnRTdGFjayA9IGNhcHR1cmVkRXJyb3IuY29tcG9uZW50U3RhY2ssXG4gICAgZXJyb3IgPSBjYXB0dXJlZEVycm9yLmVycm9yO1xuXG4gIHZhciBlcnJvclRvSGFuZGxlID0gdm9pZCAwO1xuXG4gIC8vIFR5cGljYWxseSBFcnJvcnMgYXJlIHRocm93biBidXQgZWcgc3RyaW5ncyBvciBudWxsIGNhbiBiZSB0aHJvd24gYXMgd2VsbC5cbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICB2YXIgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UsXG4gICAgICBuYW1lID0gZXJyb3IubmFtZTtcblxuICAgIHZhciBzdW1tYXJ5ID0gbWVzc2FnZSA/IG5hbWUgKyBcIjogXCIgKyBtZXNzYWdlIDogbmFtZTtcblxuICAgIGVycm9yVG9IYW5kbGUgPSBlcnJvcjtcblxuICAgIHRyeSB7XG4gICAgICBlcnJvclRvSGFuZGxlLm1lc3NhZ2UgPVxuICAgICAgICBzdW1tYXJ5ICsgXCJcXG5cXG5UaGlzIGVycm9yIGlzIGxvY2F0ZWQgYXQ6XCIgKyBjb21wb25lbnRTdGFjaztcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9IGVsc2UgaWYgKHR5cGVvZiBlcnJvciA9PT0gXCJzdHJpbmdcIikge1xuICAgIGVycm9yVG9IYW5kbGUgPSBuZXcgRXJyb3IoXG4gICAgICBlcnJvciArIFwiXFxuXFxuVGhpcyBlcnJvciBpcyBsb2NhdGVkIGF0OlwiICsgY29tcG9uZW50U3RhY2tcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGVycm9yVG9IYW5kbGUgPSBuZXcgRXJyb3IoXCJVbnNwZWNpZmllZCBlcnJvciBhdDpcIiArIGNvbXBvbmVudFN0YWNrKTtcbiAgfVxuXG4gIEV4Y2VwdGlvbnNNYW5hZ2VyLmhhbmRsZUV4Y2VwdGlvbihlcnJvclRvSGFuZGxlLCBmYWxzZSk7XG5cbiAgLy8gUmV0dXJuIGZhbHNlIGhlcmUgdG8gcHJldmVudCBSZWFjdEZpYmVyRXJyb3JMb2dnZXIgZGVmYXVsdCBiZWhhdmlvciBvZlxuICAvLyBsb2dnaW5nIGVycm9yIGRldGFpbHMgdG8gY29uc29sZS5lcnJvci4gQ2FsbHMgdG8gY29uc29sZS5lcnJvciBhcmVcbiAgLy8gYXV0b21hdGljYWxseSByb3V0ZWQgdG8gdGhlIG5hdGl2ZSByZWRib3ggY29udHJvbGxlciwgd2hpY2ggd2UndmUgYWxyZWFkeVxuICAvLyBkb25lIGFib3ZlIGJ5IGNhbGxpbmcgRXhjZXB0aW9uc01hbmFnZXIuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbG9nQ2FwdHVyZWRFcnJvcihjYXB0dXJlZEVycm9yKSB7XG4gIHZhciBsb2dFcnJvciA9IHNob3dFcnJvckRpYWxvZyhjYXB0dXJlZEVycm9yKTtcblxuICAvLyBBbGxvdyBpbmplY3RlZCBzaG93RXJyb3JEaWFsb2coKSB0byBwcmV2ZW50IGRlZmF1bHQgY29uc29sZS5lcnJvciBsb2dnaW5nLlxuICAvLyBUaGlzIGVuYWJsZXMgcmVuZGVyZXJzIGxpa2UgUmVhY3ROYXRpdmUgdG8gYmV0dGVyIG1hbmFnZSByZWRib3ggYmVoYXZpb3IuXG4gIGlmIChsb2dFcnJvciA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZXJyb3IgPSBjYXB0dXJlZEVycm9yLmVycm9yO1xuICB2YXIgc3VwcHJlc3NMb2dnaW5nID0gZXJyb3IgJiYgZXJyb3Iuc3VwcHJlc3NSZWFjdEVycm9yTG9nZ2luZztcbiAgaWYgKHN1cHByZXNzTG9nZ2luZykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHtcbiAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNhcHR1cmVkRXJyb3IuY29tcG9uZW50TmFtZSxcbiAgICAgIGNvbXBvbmVudFN0YWNrID0gY2FwdHVyZWRFcnJvci5jb21wb25lbnRTdGFjayxcbiAgICAgIGVycm9yQm91bmRhcnlOYW1lID0gY2FwdHVyZWRFcnJvci5lcnJvckJvdW5kYXJ5TmFtZSxcbiAgICAgIGVycm9yQm91bmRhcnlGb3VuZCA9IGNhcHR1cmVkRXJyb3IuZXJyb3JCb3VuZGFyeUZvdW5kLFxuICAgICAgd2lsbFJldHJ5ID0gY2FwdHVyZWRFcnJvci53aWxsUmV0cnk7XG5cbiAgICB2YXIgY29tcG9uZW50TmFtZU1lc3NhZ2UgPSBjb21wb25lbnROYW1lXG4gICAgICA/IFwiVGhlIGFib3ZlIGVycm9yIG9jY3VycmVkIGluIHRoZSA8XCIgKyBjb21wb25lbnROYW1lICsgXCI+IGNvbXBvbmVudDpcIlxuICAgICAgOiBcIlRoZSBhYm92ZSBlcnJvciBvY2N1cnJlZCBpbiBvbmUgb2YgeW91ciBSZWFjdCBjb21wb25lbnRzOlwiO1xuXG4gICAgdmFyIGVycm9yQm91bmRhcnlNZXNzYWdlID0gdm9pZCAwO1xuICAgIC8vIGVycm9yQm91bmRhcnlGb3VuZCBjaGVjayBpcyBzdWZmaWNpZW50OyBlcnJvckJvdW5kYXJ5TmFtZSBjaGVjayBpcyB0byBzYXRpc2Z5IEZsb3cuXG4gICAgaWYgKGVycm9yQm91bmRhcnlGb3VuZCAmJiBlcnJvckJvdW5kYXJ5TmFtZSkge1xuICAgICAgaWYgKHdpbGxSZXRyeSkge1xuICAgICAgICBlcnJvckJvdW5kYXJ5TWVzc2FnZSA9XG4gICAgICAgICAgXCJSZWFjdCB3aWxsIHRyeSB0byByZWNyZWF0ZSB0aGlzIGNvbXBvbmVudCB0cmVlIGZyb20gc2NyYXRjaCBcIiArXG4gICAgICAgICAgKFwidXNpbmcgdGhlIGVycm9yIGJvdW5kYXJ5IHlvdSBwcm92aWRlZCwgXCIgKyBlcnJvckJvdW5kYXJ5TmFtZSArIFwiLlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yQm91bmRhcnlNZXNzYWdlID1cbiAgICAgICAgICBcIlRoaXMgZXJyb3Igd2FzIGluaXRpYWxseSBoYW5kbGVkIGJ5IHRoZSBlcnJvciBib3VuZGFyeSBcIiArXG4gICAgICAgICAgZXJyb3JCb3VuZGFyeU5hbWUgK1xuICAgICAgICAgIFwiLlxcblwiICtcbiAgICAgICAgICBcIlJlY3JlYXRpbmcgdGhlIHRyZWUgZnJvbSBzY3JhdGNoIGZhaWxlZCBzbyBSZWFjdCB3aWxsIHVubW91bnQgdGhlIHRyZWUuXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVycm9yQm91bmRhcnlNZXNzYWdlID1cbiAgICAgICAgXCJDb25zaWRlciBhZGRpbmcgYW4gZXJyb3IgYm91bmRhcnkgdG8geW91ciB0cmVlIHRvIGN1c3RvbWl6ZSBlcnJvciBoYW5kbGluZyBiZWhhdmlvci5cXG5cIiArXG4gICAgICAgIFwiVmlzaXQgaHR0cHM6Ly9mYi5tZS9yZWFjdC1lcnJvci1ib3VuZGFyaWVzIHRvIGxlYXJuIG1vcmUgYWJvdXQgZXJyb3IgYm91bmRhcmllcy5cIjtcbiAgICB9XG4gICAgdmFyIGNvbWJpbmVkTWVzc2FnZSA9XG4gICAgICBcIlwiICtcbiAgICAgIGNvbXBvbmVudE5hbWVNZXNzYWdlICtcbiAgICAgIGNvbXBvbmVudFN0YWNrICtcbiAgICAgIFwiXFxuXFxuXCIgK1xuICAgICAgKFwiXCIgKyBlcnJvckJvdW5kYXJ5TWVzc2FnZSk7XG5cbiAgICAvLyBJbiBkZXZlbG9wbWVudCwgd2UgcHJvdmlkZSBvdXIgb3duIG1lc3NhZ2Ugd2l0aCBqdXN0IHRoZSBjb21wb25lbnQgc3RhY2suXG4gICAgLy8gV2UgZG9uJ3QgaW5jbHVkZSB0aGUgb3JpZ2luYWwgZXJyb3IgbWVzc2FnZSBhbmQgSlMgc3RhY2sgYmVjYXVzZSB0aGUgYnJvd3NlclxuICAgIC8vIGhhcyBhbHJlYWR5IHByaW50ZWQgaXQuIEV2ZW4gaWYgdGhlIGFwcGxpY2F0aW9uIHN3YWxsb3dzIHRoZSBlcnJvciwgaXQgaXMgc3RpbGxcbiAgICAvLyBkaXNwbGF5ZWQgYnkgdGhlIGJyb3dzZXIgdGhhbmtzIHRvIHRoZSBERVYtb25seSBmYWtlIGV2ZW50IHRyaWNrIGluIFJlYWN0RXJyb3JVdGlscy5cbiAgICBjb25zb2xlLmVycm9yKGNvbWJpbmVkTWVzc2FnZSk7XG4gIH1cbn1cblxudmFyIGludm9rZUd1YXJkZWRDYWxsYmFjayQzID0gUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFjaztcbnZhciBoYXNDYXVnaHRFcnJvciQxID0gUmVhY3RFcnJvclV0aWxzLmhhc0NhdWdodEVycm9yO1xudmFyIGNsZWFyQ2F1Z2h0RXJyb3IkMSA9IFJlYWN0RXJyb3JVdGlscy5jbGVhckNhdWdodEVycm9yO1xuXG5mdW5jdGlvbiBsb2dFcnJvcihib3VuZGFyeSwgZXJyb3JJbmZvKSB7XG4gIHZhciBzb3VyY2UgPSBlcnJvckluZm8uc291cmNlO1xuICB2YXIgc3RhY2sgPSBlcnJvckluZm8uc3RhY2s7XG4gIGlmIChzdGFjayA9PT0gbnVsbCkge1xuICAgIHN0YWNrID0gZ2V0U3RhY2tBZGRlbmR1bUJ5V29ya0luUHJvZ3Jlc3NGaWJlcihzb3VyY2UpO1xuICB9XG5cbiAgdmFyIGNhcHR1cmVkRXJyb3IgPSB7XG4gICAgY29tcG9uZW50TmFtZTogc291cmNlICE9PSBudWxsID8gZ2V0Q29tcG9uZW50TmFtZShzb3VyY2UpIDogbnVsbCxcbiAgICBlcnJvcjogZXJyb3JJbmZvLnZhbHVlLFxuICAgIGVycm9yQm91bmRhcnk6IGJvdW5kYXJ5LFxuICAgIGNvbXBvbmVudFN0YWNrOiBzdGFjayAhPT0gbnVsbCA/IHN0YWNrIDogXCJcIixcbiAgICBlcnJvckJvdW5kYXJ5TmFtZTogbnVsbCxcbiAgICBlcnJvckJvdW5kYXJ5Rm91bmQ6IGZhbHNlLFxuICAgIHdpbGxSZXRyeTogZmFsc2VcbiAgfTtcblxuICBpZiAoYm91bmRhcnkgIT09IG51bGwpIHtcbiAgICBjYXB0dXJlZEVycm9yLmVycm9yQm91bmRhcnlOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShib3VuZGFyeSk7XG4gICAgY2FwdHVyZWRFcnJvci5lcnJvckJvdW5kYXJ5Rm91bmQgPSBjYXB0dXJlZEVycm9yLndpbGxSZXRyeSA9XG4gICAgICBib3VuZGFyeS50YWcgPT09IENsYXNzQ29tcG9uZW50O1xuICB9IGVsc2Uge1xuICAgIGNhcHR1cmVkRXJyb3IuZXJyb3JCb3VuZGFyeU5hbWUgPSBudWxsO1xuICAgIGNhcHR1cmVkRXJyb3IuZXJyb3JCb3VuZGFyeUZvdW5kID0gY2FwdHVyZWRFcnJvci53aWxsUmV0cnkgPSBmYWxzZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgbG9nQ2FwdHVyZWRFcnJvcihjYXB0dXJlZEVycm9yKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIFByZXZlbnQgY3ljbGUgaWYgbG9nQ2FwdHVyZWRFcnJvcigpIHRocm93cy5cbiAgICAvLyBBIGN5Y2xlIG1heSBzdGlsbCBvY2N1ciBpZiBsb2dDYXB0dXJlZEVycm9yIHJlbmRlcnMgYSBjb21wb25lbnQgdGhhdCB0aHJvd3MuXG4gICAgdmFyIHN1cHByZXNzTG9nZ2luZyA9IGUgJiYgZS5zdXBwcmVzc1JlYWN0RXJyb3JMb2dnaW5nO1xuICAgIGlmICghc3VwcHJlc3NMb2dnaW5nKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgUmVhY3RGaWJlckNvbW1pdFdvcmsgPSBmdW5jdGlvbihcbiAgY29uZmlnLFxuICBjYXB0dXJlRXJyb3IsXG4gIHNjaGVkdWxlV29yayxcbiAgY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcixcbiAgbWFya0xlZ2FjeUVycm9yQm91bmRhcnlBc0ZhaWxlZCxcbiAgcmVjYWxjdWxhdGVDdXJyZW50VGltZVxuKSB7XG4gIHZhciBnZXRQdWJsaWNJbnN0YW5jZSA9IGNvbmZpZy5nZXRQdWJsaWNJbnN0YW5jZSxcbiAgICBtdXRhdGlvbiA9IGNvbmZpZy5tdXRhdGlvbixcbiAgICBwZXJzaXN0ZW5jZSA9IGNvbmZpZy5wZXJzaXN0ZW5jZTtcblxuICB2YXIgY2FsbENvbXBvbmVudFdpbGxVbm1vdW50V2l0aFRpbWVyID0gZnVuY3Rpb24oY3VycmVudCwgaW5zdGFuY2UpIHtcbiAgICBzdGFydFBoYXNlVGltZXIoY3VycmVudCwgXCJjb21wb25lbnRXaWxsVW5tb3VudFwiKTtcbiAgICBpbnN0YW5jZS5wcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcztcbiAgICBpbnN0YW5jZS5zdGF0ZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuICAgIHN0b3BQaGFzZVRpbWVyKCk7XG4gIH07XG5cbiAgLy8gQ2FwdHVyZSBlcnJvcnMgc28gdGhleSBkb24ndCBpbnRlcnJ1cHQgdW5tb3VudGluZy5cbiAgZnVuY3Rpb24gc2FmZWx5Q2FsbENvbXBvbmVudFdpbGxVbm1vdW50KGN1cnJlbnQsIGluc3RhbmNlKSB7XG4gICAge1xuICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDMoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGNhbGxDb21wb25lbnRXaWxsVW5tb3VudFdpdGhUaW1lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgaW5zdGFuY2VcbiAgICAgICk7XG4gICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IkMSgpKSB7XG4gICAgICAgIHZhciB1bm1vdW50RXJyb3IgPSBjbGVhckNhdWdodEVycm9yJDEoKTtcbiAgICAgICAgY2FwdHVyZUVycm9yKGN1cnJlbnQsIHVubW91bnRFcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQpIHtcbiAgICB2YXIgcmVmID0gY3VycmVudC5yZWY7XG4gICAgaWYgKHJlZiAhPT0gbnVsbCkge1xuICAgICAgaWYgKHR5cGVvZiByZWYgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB7XG4gICAgICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDMobnVsbCwgcmVmLCBudWxsLCBudWxsKTtcbiAgICAgICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IkMSgpKSB7XG4gICAgICAgICAgICB2YXIgcmVmRXJyb3IgPSBjbGVhckNhdWdodEVycm9yJDEoKTtcbiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihjdXJyZW50LCByZWZFcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWYudmFsdWUgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdExpZmVDeWNsZXMoXG4gICAgZmluaXNoZWRSb290LFxuICAgIGN1cnJlbnQsXG4gICAgZmluaXNoZWRXb3JrLFxuICAgIGN1cnJlbnRUaW1lLFxuICAgIGNvbW1pdHRlZEV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDoge1xuICAgICAgICB2YXIgX2luc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgaWYgKGZpbmlzaGVkV29yay5lZmZlY3RUYWcgJiBVcGRhdGUpIHtcbiAgICAgICAgICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhcnRQaGFzZVRpbWVyKGZpbmlzaGVkV29yaywgXCJjb21wb25lbnREaWRNb3VudFwiKTtcbiAgICAgICAgICAgIF9pbnN0YW5jZS5wcm9wcyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgX2luc3RhbmNlLnN0YXRlID0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICBfaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQoKTtcbiAgICAgICAgICAgIHN0b3BQaGFzZVRpbWVyKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwcmV2UHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICB2YXIgcHJldlN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgc3RhcnRQaGFzZVRpbWVyKGZpbmlzaGVkV29yaywgXCJjb21wb25lbnREaWRVcGRhdGVcIik7XG4gICAgICAgICAgICBfaW5zdGFuY2UucHJvcHMgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgIF9pbnN0YW5jZS5zdGF0ZSA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgX2luc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSk7XG4gICAgICAgICAgICBzdG9wUGhhc2VUaW1lcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdXBkYXRlUXVldWUgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICAgIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIGNvbW1pdENhbGxiYWNrcyh1cGRhdGVRdWV1ZSwgX2luc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYXNlIEhvc3RSb290OiB7XG4gICAgICAgIHZhciBfdXBkYXRlUXVldWUgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICAgIGlmIChfdXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgICAgICB2YXIgX2luc3RhbmNlMiA9IG51bGw7XG4gICAgICAgICAgaWYgKGZpbmlzaGVkV29yay5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsuY2hpbGQudGFnKSB7XG4gICAgICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICAgICAgICBfaW5zdGFuY2UyID0gZ2V0UHVibGljSW5zdGFuY2UoZmluaXNoZWRXb3JrLmNoaWxkLnN0YXRlTm9kZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgICAgICAgICAgX2luc3RhbmNlMiA9IGZpbmlzaGVkV29yay5jaGlsZC5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbW1pdENhbGxiYWNrcyhfdXBkYXRlUXVldWUsIF9pbnN0YW5jZTIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDoge1xuICAgICAgICB2YXIgX2luc3RhbmNlMyA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG5cbiAgICAgICAgLy8gUmVuZGVyZXJzIG1heSBzY2hlZHVsZSB3b3JrIHRvIGJlIGRvbmUgYWZ0ZXIgaG9zdCBjb21wb25lbnRzIGFyZSBtb3VudGVkXG4gICAgICAgIC8vIChlZyBET00gcmVuZGVyZXIgbWF5IHNjaGVkdWxlIGF1dG8tZm9jdXMgZm9yIGlucHV0cyBhbmQgZm9ybSBjb250cm9scykuXG4gICAgICAgIC8vIFRoZXNlIGVmZmVjdHMgc2hvdWxkIG9ubHkgYmUgY29tbWl0dGVkIHdoZW4gY29tcG9uZW50cyBhcmUgZmlyc3QgbW91bnRlZCxcbiAgICAgICAgLy8gYWthIHdoZW4gdGhlcmUgaXMgbm8gY3VycmVudC9hbHRlcm5hdGUuXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBudWxsICYmIGZpbmlzaGVkV29yay5lZmZlY3RUYWcgJiBVcGRhdGUpIHtcbiAgICAgICAgICB2YXIgdHlwZSA9IGZpbmlzaGVkV29yay50eXBlO1xuICAgICAgICAgIHZhciBwcm9wcyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgIGNvbW1pdE1vdW50KF9pbnN0YW5jZTMsIHR5cGUsIHByb3BzLCBmaW5pc2hlZFdvcmspO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2FzZSBIb3N0VGV4dDoge1xuICAgICAgICAvLyBXZSBoYXZlIG5vIGxpZmUtY3ljbGVzIGFzc29jaWF0ZWQgd2l0aCB0ZXh0LlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYXNlIEhvc3RQb3J0YWw6IHtcbiAgICAgICAgLy8gV2UgaGF2ZSBubyBsaWZlLWN5Y2xlcyBhc3NvY2lhdGVkIHdpdGggcG9ydGFscy5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJUaGlzIHVuaXQgb2Ygd29yayB0YWcgc2hvdWxkIG5vdCBoYXZlIHNpZGUtZWZmZWN0cy4gVGhpcyBlcnJvciBpcyBcIiArXG4gICAgICAgICAgICBcImxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0RXJyb3JMb2dnaW5nKGZpbmlzaGVkV29yaywgb25VbmNhdWdodEVycm9yKSB7XG4gICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGN0b3IgPSBmaW5pc2hlZFdvcmsudHlwZTtcbiAgICAgICAgICB2YXIgX2luc3RhbmNlNCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlO1xuICAgICAgICAgIGludmFyaWFudChcbiAgICAgICAgICAgIHVwZGF0ZVF1ZXVlICE9PSBudWxsICYmIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzICE9PSBudWxsLFxuICAgICAgICAgICAgXCJBbiBlcnJvciBsb2dnaW5nIGVmZmVjdCBzaG91bGQgbm90IGhhdmUgYmVlbiBzY2hlZHVsZWQgaWYgbm8gZXJyb3JzIFwiICtcbiAgICAgICAgICAgICAgXCJ3ZXJlIGNhcHR1cmVkLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFwiICtcbiAgICAgICAgICAgICAgXCJQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgdmFyIGNhcHR1cmVkRXJyb3JzID0gdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXM7XG4gICAgICAgICAgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgPSBudWxsO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAvLyBUbyBwcmVzZXJ2ZSB0aGUgcHJlZXhpc3RpbmcgcmV0cnkgYmVoYXZpb3Igb2YgZXJyb3IgYm91bmRhcmllcyxcbiAgICAgICAgICAgIC8vIHdlIGtlZXAgdHJhY2sgb2Ygd2hpY2ggb25lcyBhbHJlYWR5IGZhaWxlZCBkdXJpbmcgdGhpcyBiYXRjaC5cbiAgICAgICAgICAgIC8vIFRoaXMgZ2V0cyByZXNldCBiZWZvcmUgd2UgeWllbGQgYmFjayB0byB0aGUgYnJvd3Nlci5cbiAgICAgICAgICAgIC8vIFRPRE86IFdhcm4gaW4gc3RyaWN0IG1vZGUgaWYgZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoIGlzXG4gICAgICAgICAgICAvLyBub3QgZGVmaW5lZC5cbiAgICAgICAgICAgIG1hcmtMZWdhY3lFcnJvckJvdW5kYXJ5QXNGYWlsZWQoX2luc3RhbmNlNCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2luc3RhbmNlNC5wcm9wcyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgIF9pbnN0YW5jZTQuc3RhdGUgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhcHR1cmVkRXJyb3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JJbmZvID0gY2FwdHVyZWRFcnJvcnNbaV07XG4gICAgICAgICAgICB2YXIgX2Vycm9yID0gZXJyb3JJbmZvLnZhbHVlO1xuICAgICAgICAgICAgbG9nRXJyb3IoZmluaXNoZWRXb3JrLCBlcnJvckluZm8pO1xuICAgICAgICAgICAgX2luc3RhbmNlNC5jb21wb25lbnREaWRDYXRjaChfZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgSG9zdFJvb3Q6IHtcbiAgICAgICAgdmFyIF91cGRhdGVRdWV1ZTIgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICAgIGludmFyaWFudChcbiAgICAgICAgICBfdXBkYXRlUXVldWUyICE9PSBudWxsICYmIF91cGRhdGVRdWV1ZTIuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwsXG4gICAgICAgICAgXCJBbiBlcnJvciBsb2dnaW5nIGVmZmVjdCBzaG91bGQgbm90IGhhdmUgYmVlbiBzY2hlZHVsZWQgaWYgbm8gZXJyb3JzIFwiICtcbiAgICAgICAgICAgIFwid2VyZSBjYXB0dXJlZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBcIiArXG4gICAgICAgICAgICBcIlBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICAgIHZhciBfY2FwdHVyZWRFcnJvcnMgPSBfdXBkYXRlUXVldWUyLmNhcHR1cmVkVmFsdWVzO1xuICAgICAgICBfdXBkYXRlUXVldWUyLmNhcHR1cmVkVmFsdWVzID0gbnVsbDtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IF9jYXB0dXJlZEVycm9ycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICB2YXIgX2Vycm9ySW5mbyA9IF9jYXB0dXJlZEVycm9yc1tfaV07XG4gICAgICAgICAgbG9nRXJyb3IoZmluaXNoZWRXb3JrLCBfZXJyb3JJbmZvKTtcbiAgICAgICAgICBvblVuY2F1Z2h0RXJyb3IoX2Vycm9ySW5mby52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJUaGlzIHVuaXQgb2Ygd29yayB0YWcgY2Fubm90IGNhcHR1cmUgZXJyb3JzLiAgVGhpcyBlcnJvciBpcyBcIiArXG4gICAgICAgICAgICBcImxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0QXR0YWNoUmVmKGZpbmlzaGVkV29yaykge1xuICAgIHZhciByZWYgPSBmaW5pc2hlZFdvcmsucmVmO1xuICAgIGlmIChyZWYgIT09IG51bGwpIHtcbiAgICAgIHZhciBfaW5zdGFuY2U1ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgIHZhciBpbnN0YW5jZVRvVXNlID0gdm9pZCAwO1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICBpbnN0YW5jZVRvVXNlID0gZ2V0UHVibGljSW5zdGFuY2UoX2luc3RhbmNlNSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaW5zdGFuY2VUb1VzZSA9IF9pbnN0YW5jZTU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHJlZiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJlZihpbnN0YW5jZVRvVXNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlZi52YWx1ZSA9IGluc3RhbmNlVG9Vc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0RGV0YWNoUmVmKGN1cnJlbnQpIHtcbiAgICB2YXIgY3VycmVudFJlZiA9IGN1cnJlbnQucmVmO1xuICAgIGlmIChjdXJyZW50UmVmICE9PSBudWxsKSB7XG4gICAgICBpZiAodHlwZW9mIGN1cnJlbnRSZWYgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjdXJyZW50UmVmKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFJlZi52YWx1ZSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gVXNlci1vcmlnaW5hdGluZyBlcnJvcnMgKGxpZmVjeWNsZXMgYW5kIHJlZnMpIHNob3VsZCBub3QgaW50ZXJydXB0XG4gIC8vIGRlbGV0aW9uLCBzbyBkb24ndCBsZXQgdGhlbSB0aHJvdy4gSG9zdC1vcmlnaW5hdGluZyBlcnJvcnMgc2hvdWxkXG4gIC8vIGludGVycnVwdCBkZWxldGlvbiwgc28gaXQncyBva2F5XG4gIGZ1bmN0aW9uIGNvbW1pdFVubW91bnQoY3VycmVudCkge1xuICAgIGlmICh0eXBlb2Ygb25Db21taXRVbm1vdW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIG9uQ29tbWl0VW5tb3VudChjdXJyZW50KTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGN1cnJlbnQudGFnKSB7XG4gICAgICBjYXNlIENsYXNzQ29tcG9uZW50OiB7XG4gICAgICAgIHNhZmVseURldGFjaFJlZihjdXJyZW50KTtcbiAgICAgICAgdmFyIF9pbnN0YW5jZTYgPSBjdXJyZW50LnN0YXRlTm9kZTtcbiAgICAgICAgaWYgKHR5cGVvZiBfaW5zdGFuY2U2LmNvbXBvbmVudFdpbGxVbm1vdW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBzYWZlbHlDYWxsQ29tcG9uZW50V2lsbFVubW91bnQoY3VycmVudCwgX2luc3RhbmNlNik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OiB7XG4gICAgICAgIHNhZmVseURldGFjaFJlZihjdXJyZW50KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2FzZSBDYWxsQ29tcG9uZW50OiB7XG4gICAgICAgIGNvbW1pdE5lc3RlZFVubW91bnRzKGN1cnJlbnQuc3RhdGVOb2RlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2FzZSBIb3N0UG9ydGFsOiB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgcmVjdXJzaXZlLlxuICAgICAgICAvLyBXZSBhcmUgYWxzbyBub3QgdXNpbmcgdGhpcyBwYXJlbnQgYmVjYXVzZVxuICAgICAgICAvLyB0aGUgcG9ydGFsIHdpbGwgZ2V0IHB1c2hlZCBpbW1lZGlhdGVseS5cbiAgICAgICAgaWYgKGVuYWJsZU11dGF0aW5nUmVjb25jaWxlciAmJiBtdXRhdGlvbikge1xuICAgICAgICAgIHVubW91bnRIb3N0Q29tcG9uZW50cyhjdXJyZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChlbmFibGVQZXJzaXN0ZW50UmVjb25jaWxlciAmJiBwZXJzaXN0ZW5jZSkge1xuICAgICAgICAgIGVtcHR5UG9ydGFsQ29udGFpbmVyKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXROZXN0ZWRVbm1vdW50cyhyb290KSB7XG4gICAgLy8gV2hpbGUgd2UncmUgaW5zaWRlIGEgcmVtb3ZlZCBob3N0IG5vZGUgd2UgZG9uJ3Qgd2FudCB0byBjYWxsXG4gICAgLy8gcmVtb3ZlQ2hpbGQgb24gdGhlIGlubmVyIG5vZGVzIGJlY2F1c2UgdGhleSdyZSByZW1vdmVkIGJ5IHRoZSB0b3BcbiAgICAvLyBjYWxsIGFueXdheS4gV2UgYWxzbyB3YW50IHRvIGNhbGwgY29tcG9uZW50V2lsbFVubW91bnQgb24gYWxsXG4gICAgLy8gY29tcG9zaXRlcyBiZWZvcmUgdGhpcyBob3N0IG5vZGUgaXMgcmVtb3ZlZCBmcm9tIHRoZSB0cmVlLiBUaGVyZWZvcmVcbiAgICB2YXIgbm9kZSA9IHJvb3Q7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbW1pdFVubW91bnQobm9kZSk7XG4gICAgICAvLyBWaXNpdCBjaGlsZHJlbiBiZWNhdXNlIHRoZXkgbWF5IGNvbnRhaW4gbW9yZSBjb21wb3NpdGUgb3IgaG9zdCBub2Rlcy5cbiAgICAgIC8vIFNraXAgcG9ydGFscyBiZWNhdXNlIGNvbW1pdFVubW91bnQoKSBjdXJyZW50bHkgdmlzaXRzIHRoZW0gcmVjdXJzaXZlbHkuXG4gICAgICBpZiAoXG4gICAgICAgIG5vZGUuY2hpbGQgIT09IG51bGwgJiZcbiAgICAgICAgLy8gSWYgd2UgdXNlIG11dGF0aW9uIHdlIGRyaWxsIGRvd24gaW50byBwb3J0YWxzIHVzaW5nIGNvbW1pdFVubW91bnQgYWJvdmUuXG4gICAgICAgIC8vIElmIHdlIGRvbid0IHVzZSBtdXRhdGlvbiB3ZSBkcmlsbCBkb3duIGludG8gcG9ydGFscyBoZXJlIGluc3RlYWQuXG4gICAgICAgICghbXV0YXRpb24gfHwgbm9kZS50YWcgIT09IEhvc3RQb3J0YWwpXG4gICAgICApIHtcbiAgICAgICAgbm9kZS5jaGlsZFtcInJldHVyblwiXSA9IG5vZGU7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlID09PSByb290KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKG5vZGVbXCJyZXR1cm5cIl0gPT09IG51bGwgfHwgbm9kZVtcInJldHVyblwiXSA9PT0gcm9vdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZVtcInJldHVyblwiXTtcbiAgICAgIH1cbiAgICAgIG5vZGUuc2libGluZ1tcInJldHVyblwiXSA9IG5vZGVbXCJyZXR1cm5cIl07XG4gICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGFjaEZpYmVyKGN1cnJlbnQpIHtcbiAgICAvLyBDdXQgb2ZmIHRoZSByZXR1cm4gcG9pbnRlcnMgdG8gZGlzY29ubmVjdCBpdCBmcm9tIHRoZSB0cmVlLiBJZGVhbGx5LCB3ZVxuICAgIC8vIHNob3VsZCBjbGVhciB0aGUgY2hpbGQgcG9pbnRlciBvZiB0aGUgcGFyZW50IGFsdGVybmF0ZSB0byBsZXQgdGhpc1xuICAgIC8vIGdldCBHQzplZCBidXQgd2UgZG9uJ3Qga25vdyB3aGljaCBmb3Igc3VyZSB3aGljaCBwYXJlbnQgaXMgdGhlIGN1cnJlbnRcbiAgICAvLyBvbmUgc28gd2UnbGwgc2V0dGxlIGZvciBHQzppbmcgdGhlIHN1YnRyZWUgb2YgdGhpcyBjaGlsZC4gVGhpcyBjaGlsZFxuICAgIC8vIGl0c2VsZiB3aWxsIGJlIEdDOmVkIHdoZW4gdGhlIHBhcmVudCB1cGRhdGVzIHRoZSBuZXh0IHRpbWUuXG4gICAgY3VycmVudFtcInJldHVyblwiXSA9IG51bGw7XG4gICAgY3VycmVudC5jaGlsZCA9IG51bGw7XG4gICAgaWYgKGN1cnJlbnQuYWx0ZXJuYXRlKSB7XG4gICAgICBjdXJyZW50LmFsdGVybmF0ZS5jaGlsZCA9IG51bGw7XG4gICAgICBjdXJyZW50LmFsdGVybmF0ZVtcInJldHVyblwiXSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgdmFyIGVtcHR5UG9ydGFsQ29udGFpbmVyID0gdm9pZCAwO1xuXG4gIGlmICghbXV0YXRpb24pIHtcbiAgICB2YXIgY29tbWl0Q29udGFpbmVyID0gdm9pZCAwO1xuICAgIGlmIChwZXJzaXN0ZW5jZSkge1xuICAgICAgdmFyIHJlcGxhY2VDb250YWluZXJDaGlsZHJlbiA9IHBlcnNpc3RlbmNlLnJlcGxhY2VDb250YWluZXJDaGlsZHJlbixcbiAgICAgICAgY3JlYXRlQ29udGFpbmVyQ2hpbGRTZXQgPSBwZXJzaXN0ZW5jZS5jcmVhdGVDb250YWluZXJDaGlsZFNldDtcblxuICAgICAgZW1wdHlQb3J0YWxDb250YWluZXIgPSBmdW5jdGlvbihjdXJyZW50KSB7XG4gICAgICAgIHZhciBwb3J0YWwgPSBjdXJyZW50LnN0YXRlTm9kZTtcbiAgICAgICAgdmFyIGNvbnRhaW5lckluZm8gPSBwb3J0YWwuY29udGFpbmVySW5mbztcblxuICAgICAgICB2YXIgZW1wdHlDaGlsZFNldCA9IGNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0KGNvbnRhaW5lckluZm8pO1xuICAgICAgICByZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4oY29udGFpbmVySW5mbywgZW1wdHlDaGlsZFNldCk7XG4gICAgICB9O1xuICAgICAgY29tbWl0Q29udGFpbmVyID0gZnVuY3Rpb24oZmluaXNoZWRXb3JrKSB7XG4gICAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6IHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OiB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgSG9zdFRleHQ6IHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgICBjYXNlIEhvc3RQb3J0YWw6IHtcbiAgICAgICAgICAgIHZhciBwb3J0YWxPclJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lckluZm8gPSBwb3J0YWxPclJvb3QuY29udGFpbmVySW5mbyxcbiAgICAgICAgICAgICAgX3BlbmRpbmdDaGlsZHJlbiA9IHBvcnRhbE9yUm9vdC5wZW5kaW5nQ2hpbGRyZW47XG5cbiAgICAgICAgICAgIHJlcGxhY2VDb250YWluZXJDaGlsZHJlbihjb250YWluZXJJbmZvLCBfcGVuZGluZ0NoaWxkcmVuKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgXCJUaGlzIHVuaXQgb2Ygd29yayB0YWcgc2hvdWxkIG5vdCBoYXZlIHNpZGUtZWZmZWN0cy4gVGhpcyBlcnJvciBpcyBcIiArXG4gICAgICAgICAgICAgICAgXCJsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1pdENvbnRhaW5lciA9IGZ1bmN0aW9uKGZpbmlzaGVkV29yaykge1xuICAgICAgICAvLyBOb29wXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoZW5hYmxlUGVyc2lzdGVudFJlY29uY2lsZXIgfHwgZW5hYmxlTm9vcFJlY29uY2lsZXIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbW1pdFJlc2V0VGV4dENvbnRlbnQ6IGZ1bmN0aW9uKGZpbmlzaGVkV29yaykge30sXG4gICAgICAgIGNvbW1pdFBsYWNlbWVudDogZnVuY3Rpb24oZmluaXNoZWRXb3JrKSB7fSxcbiAgICAgICAgY29tbWl0RGVsZXRpb246IGZ1bmN0aW9uKGN1cnJlbnQpIHtcbiAgICAgICAgICAvLyBEZXRhY2ggcmVmcyBhbmQgY2FsbCBjb21wb25lbnRXaWxsVW5tb3VudCgpIG9uIHRoZSB3aG9sZSBzdWJ0cmVlLlxuICAgICAgICAgIGNvbW1pdE5lc3RlZFVubW91bnRzKGN1cnJlbnQpO1xuICAgICAgICAgIGRldGFjaEZpYmVyKGN1cnJlbnQpO1xuICAgICAgICB9LFxuICAgICAgICBjb21taXRXb3JrOiBmdW5jdGlvbihjdXJyZW50LCBmaW5pc2hlZFdvcmspIHtcbiAgICAgICAgICBjb21taXRDb250YWluZXIoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjb21taXRMaWZlQ3ljbGVzOiBjb21taXRMaWZlQ3ljbGVzLFxuICAgICAgICBjb21taXRFcnJvckxvZ2dpbmc6IGNvbW1pdEVycm9yTG9nZ2luZyxcbiAgICAgICAgY29tbWl0QXR0YWNoUmVmOiBjb21taXRBdHRhY2hSZWYsXG4gICAgICAgIGNvbW1pdERldGFjaFJlZjogY29tbWl0RGV0YWNoUmVmXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAocGVyc2lzdGVuY2UpIHtcbiAgICAgIGludmFyaWFudChmYWxzZSwgXCJQZXJzaXN0ZW50IHJlY29uY2lsZXIgaXMgZGlzYWJsZWQuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsIFwiTm9vcCByZWNvbmNpbGVyIGlzIGRpc2FibGVkLlwiKTtcbiAgICB9XG4gIH1cbiAgdmFyIGNvbW1pdE1vdW50ID0gbXV0YXRpb24uY29tbWl0TW91bnQsXG4gICAgY29tbWl0VXBkYXRlID0gbXV0YXRpb24uY29tbWl0VXBkYXRlLFxuICAgIHJlc2V0VGV4dENvbnRlbnQgPSBtdXRhdGlvbi5yZXNldFRleHRDb250ZW50LFxuICAgIGNvbW1pdFRleHRVcGRhdGUgPSBtdXRhdGlvbi5jb21taXRUZXh0VXBkYXRlLFxuICAgIGFwcGVuZENoaWxkID0gbXV0YXRpb24uYXBwZW5kQ2hpbGQsXG4gICAgYXBwZW5kQ2hpbGRUb0NvbnRhaW5lciA9IG11dGF0aW9uLmFwcGVuZENoaWxkVG9Db250YWluZXIsXG4gICAgaW5zZXJ0QmVmb3JlID0gbXV0YXRpb24uaW5zZXJ0QmVmb3JlLFxuICAgIGluc2VydEluQ29udGFpbmVyQmVmb3JlID0gbXV0YXRpb24uaW5zZXJ0SW5Db250YWluZXJCZWZvcmUsXG4gICAgcmVtb3ZlQ2hpbGQgPSBtdXRhdGlvbi5yZW1vdmVDaGlsZCxcbiAgICByZW1vdmVDaGlsZEZyb21Db250YWluZXIgPSBtdXRhdGlvbi5yZW1vdmVDaGlsZEZyb21Db250YWluZXI7XG5cbiAgZnVuY3Rpb24gZ2V0SG9zdFBhcmVudEZpYmVyKGZpYmVyKSB7XG4gICAgdmFyIHBhcmVudCA9IGZpYmVyW1wicmV0dXJuXCJdO1xuICAgIHdoaWxlIChwYXJlbnQgIT09IG51bGwpIHtcbiAgICAgIGlmIChpc0hvc3RQYXJlbnQocGFyZW50KSkge1xuICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgfVxuICAgICAgcGFyZW50ID0gcGFyZW50W1wicmV0dXJuXCJdO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoXG4gICAgICBmYWxzZSxcbiAgICAgIFwiRXhwZWN0ZWQgdG8gZmluZCBhIGhvc3QgcGFyZW50LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgXCIgK1xuICAgICAgICBcImluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0hvc3RQYXJlbnQoZmliZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgZmliZXIudGFnID09PSBIb3N0Q29tcG9uZW50IHx8XG4gICAgICBmaWJlci50YWcgPT09IEhvc3RSb290IHx8XG4gICAgICBmaWJlci50YWcgPT09IEhvc3RQb3J0YWxcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SG9zdFNpYmxpbmcoZmliZXIpIHtcbiAgICAvLyBXZSdyZSBnb2luZyB0byBzZWFyY2ggZm9yd2FyZCBpbnRvIHRoZSB0cmVlIHVudGlsIHdlIGZpbmQgYSBzaWJsaW5nIGhvc3RcbiAgICAvLyBub2RlLiBVbmZvcnR1bmF0ZWx5LCBpZiBtdWx0aXBsZSBpbnNlcnRpb25zIGFyZSBkb25lIGluIGEgcm93IHdlIGhhdmUgdG9cbiAgICAvLyBzZWFyY2ggcGFzdCB0aGVtLiBUaGlzIGxlYWRzIHRvIGV4cG9uZW50aWFsIHNlYXJjaCBmb3IgdGhlIG5leHQgc2libGluZy5cbiAgICB2YXIgbm9kZSA9IGZpYmVyO1xuICAgIHNpYmxpbmdzOiB3aGlsZSAodHJ1ZSkge1xuICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYW55dGhpbmcsIGxldCdzIHRyeSB0aGUgbmV4dCBzaWJsaW5nLlxuICAgICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZVtcInJldHVyblwiXSA9PT0gbnVsbCB8fCBpc0hvc3RQYXJlbnQobm9kZVtcInJldHVyblwiXSkpIHtcbiAgICAgICAgICAvLyBJZiB3ZSBwb3Agb3V0IG9mIHRoZSByb290IG9yIGhpdCB0aGUgcGFyZW50IHRoZSBmaWJlciB3ZSBhcmUgdGhlXG4gICAgICAgICAgLy8gbGFzdCBzaWJsaW5nLlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlW1wicmV0dXJuXCJdO1xuICAgICAgfVxuICAgICAgbm9kZS5zaWJsaW5nW1wicmV0dXJuXCJdID0gbm9kZVtcInJldHVyblwiXTtcbiAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgICB3aGlsZSAobm9kZS50YWcgIT09IEhvc3RDb21wb25lbnQgJiYgbm9kZS50YWcgIT09IEhvc3RUZXh0KSB7XG4gICAgICAgIC8vIElmIGl0IGlzIG5vdCBob3N0IG5vZGUgYW5kLCB3ZSBtaWdodCBoYXZlIGEgaG9zdCBub2RlIGluc2lkZSBpdC5cbiAgICAgICAgLy8gVHJ5IHRvIHNlYXJjaCBkb3duIHVudGlsIHdlIGZpbmQgb25lLlxuICAgICAgICBpZiAobm9kZS5lZmZlY3RUYWcgJiBQbGFjZW1lbnQpIHtcbiAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgY2hpbGQsIHRyeSB0aGUgc2libGluZ3MgaW5zdGVhZC5cbiAgICAgICAgICBjb250aW51ZSBzaWJsaW5ncztcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgY2hpbGQsIHRyeSB0aGUgc2libGluZ3MgaW5zdGVhZC5cbiAgICAgICAgLy8gV2UgYWxzbyBza2lwIHBvcnRhbHMgYmVjYXVzZSB0aGV5IGFyZSBub3QgcGFydCBvZiB0aGlzIGhvc3QgdHJlZS5cbiAgICAgICAgaWYgKG5vZGUuY2hpbGQgPT09IG51bGwgfHwgbm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgICAgICBjb250aW51ZSBzaWJsaW5ncztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlLmNoaWxkW1wicmV0dXJuXCJdID0gbm9kZTtcbiAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBob3N0IG5vZGUgaXMgc3RhYmxlIG9yIGFib3V0IHRvIGJlIHBsYWNlZC5cbiAgICAgIGlmICghKG5vZGUuZWZmZWN0VGFnICYgUGxhY2VtZW50KSkge1xuICAgICAgICAvLyBGb3VuZCBpdCFcbiAgICAgICAgcmV0dXJuIG5vZGUuc3RhdGVOb2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdFBsYWNlbWVudChmaW5pc2hlZFdvcmspIHtcbiAgICAvLyBSZWN1cnNpdmVseSBpbnNlcnQgYWxsIGhvc3Qgbm9kZXMgaW50byB0aGUgcGFyZW50LlxuICAgIHZhciBwYXJlbnRGaWJlciA9IGdldEhvc3RQYXJlbnRGaWJlcihmaW5pc2hlZFdvcmspO1xuICAgIHZhciBwYXJlbnQgPSB2b2lkIDA7XG4gICAgdmFyIGlzQ29udGFpbmVyID0gdm9pZCAwO1xuICAgIHN3aXRjaCAocGFyZW50RmliZXIudGFnKSB7XG4gICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgIHBhcmVudCA9IHBhcmVudEZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgaXNDb250YWluZXIgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICBwYXJlbnQgPSBwYXJlbnRGaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgaXNDb250YWluZXIgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgcGFyZW50ID0gcGFyZW50RmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgIGlzQ29udGFpbmVyID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJJbnZhbGlkIGhvc3QgcGFyZW50IGZpYmVyLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgXCIgK1xuICAgICAgICAgICAgXCJpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHBhcmVudEZpYmVyLmVmZmVjdFRhZyAmIENvbnRlbnRSZXNldCkge1xuICAgICAgLy8gUmVzZXQgdGhlIHRleHQgY29udGVudCBvZiB0aGUgcGFyZW50IGJlZm9yZSBkb2luZyBhbnkgaW5zZXJ0aW9uc1xuICAgICAgcmVzZXRUZXh0Q29udGVudChwYXJlbnQpO1xuICAgICAgLy8gQ2xlYXIgQ29udGVudFJlc2V0IGZyb20gdGhlIGVmZmVjdCB0YWdcbiAgICAgIHBhcmVudEZpYmVyLmVmZmVjdFRhZyAmPSB+Q29udGVudFJlc2V0O1xuICAgIH1cblxuICAgIHZhciBiZWZvcmUgPSBnZXRIb3N0U2libGluZyhmaW5pc2hlZFdvcmspO1xuICAgIC8vIFdlIG9ubHkgaGF2ZSB0aGUgdG9wIEZpYmVyIHRoYXQgd2FzIGluc2VydGVkIGJ1dCB3ZSBuZWVkIHJlY3Vyc2UgZG93biBpdHNcbiAgICAvLyBjaGlsZHJlbiB0byBmaW5kIGFsbCB0aGUgdGVybWluYWwgbm9kZXMuXG4gICAgdmFyIG5vZGUgPSBmaW5pc2hlZFdvcms7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBub2RlLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgICAgaWYgKGJlZm9yZSkge1xuICAgICAgICAgIGlmIChpc0NvbnRhaW5lcikge1xuICAgICAgICAgICAgaW5zZXJ0SW5Db250YWluZXJCZWZvcmUocGFyZW50LCBub2RlLnN0YXRlTm9kZSwgYmVmb3JlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5zZXJ0QmVmb3JlKHBhcmVudCwgbm9kZS5zdGF0ZU5vZGUsIGJlZm9yZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChpc0NvbnRhaW5lcikge1xuICAgICAgICAgICAgYXBwZW5kQ2hpbGRUb0NvbnRhaW5lcihwYXJlbnQsIG5vZGUuc3RhdGVOb2RlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXBwZW5kQ2hpbGQocGFyZW50LCBub2RlLnN0YXRlTm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUudGFnID09PSBIb3N0UG9ydGFsKSB7XG4gICAgICAgIC8vIElmIHRoZSBpbnNlcnRpb24gaXRzZWxmIGlzIGEgcG9ydGFsLCB0aGVuIHdlIGRvbid0IHdhbnQgdG8gdHJhdmVyc2VcbiAgICAgICAgLy8gZG93biBpdHMgY2hpbGRyZW4uIEluc3RlYWQsIHdlJ2xsIGdldCBpbnNlcnRpb25zIGZyb20gZWFjaCBjaGlsZCBpblxuICAgICAgICAvLyB0aGUgcG9ydGFsIGRpcmVjdGx5LlxuICAgICAgfSBlbHNlIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUuY2hpbGRbXCJyZXR1cm5cIl0gPSBub2RlO1xuICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAobm9kZSA9PT0gZmluaXNoZWRXb3JrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKG5vZGVbXCJyZXR1cm5cIl0gPT09IG51bGwgfHwgbm9kZVtcInJldHVyblwiXSA9PT0gZmluaXNoZWRXb3JrKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlW1wicmV0dXJuXCJdO1xuICAgICAgfVxuICAgICAgbm9kZS5zaWJsaW5nW1wicmV0dXJuXCJdID0gbm9kZVtcInJldHVyblwiXTtcbiAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdW5tb3VudEhvc3RDb21wb25lbnRzKGN1cnJlbnQpIHtcbiAgICAvLyBXZSBvbmx5IGhhdmUgdGhlIHRvcCBGaWJlciB0aGF0IHdhcyBpbnNlcnRlZCBidXQgd2UgbmVlZCByZWN1cnNlIGRvd24gaXRzXG4gICAgdmFyIG5vZGUgPSBjdXJyZW50O1xuXG4gICAgLy8gRWFjaCBpdGVyYXRpb24sIGN1cnJlbnRQYXJlbnQgaXMgcG9wdWxhdGVkIHdpdGggbm9kZSdzIGhvc3QgcGFyZW50IGlmIG5vdFxuICAgIC8vIGN1cnJlbnRQYXJlbnRJc1ZhbGlkLlxuICAgIHZhciBjdXJyZW50UGFyZW50SXNWYWxpZCA9IGZhbHNlO1xuICAgIHZhciBjdXJyZW50UGFyZW50ID0gdm9pZCAwO1xuICAgIHZhciBjdXJyZW50UGFyZW50SXNDb250YWluZXIgPSB2b2lkIDA7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKCFjdXJyZW50UGFyZW50SXNWYWxpZCkge1xuICAgICAgICB2YXIgcGFyZW50ID0gbm9kZVtcInJldHVyblwiXTtcbiAgICAgICAgZmluZFBhcmVudDogd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgICBwYXJlbnQgIT09IG51bGwsXG4gICAgICAgICAgICBcIkV4cGVjdGVkIHRvIGZpbmQgYSBob3N0IHBhcmVudC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IFwiICtcbiAgICAgICAgICAgICAgXCJhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHN3aXRjaCAocGFyZW50LnRhZykge1xuICAgICAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gcGFyZW50LnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgY3VycmVudFBhcmVudElzQ29udGFpbmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJyZWFrIGZpbmRQYXJlbnQ7XG4gICAgICAgICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gcGFyZW50LnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAgICAgICBjdXJyZW50UGFyZW50SXNDb250YWluZXIgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhayBmaW5kUGFyZW50O1xuICAgICAgICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gcGFyZW50LnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAgICAgICBjdXJyZW50UGFyZW50SXNDb250YWluZXIgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhayBmaW5kUGFyZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJlbnQgPSBwYXJlbnRbXCJyZXR1cm5cIl07XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFBhcmVudElzVmFsaWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICAgIGNvbW1pdE5lc3RlZFVubW91bnRzKG5vZGUpO1xuICAgICAgICAvLyBBZnRlciBhbGwgdGhlIGNoaWxkcmVuIGhhdmUgdW5tb3VudGVkLCBpdCBpcyBub3cgc2FmZSB0byByZW1vdmUgdGhlXG4gICAgICAgIC8vIG5vZGUgZnJvbSB0aGUgdHJlZS5cbiAgICAgICAgaWYgKGN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lcikge1xuICAgICAgICAgIHJlbW92ZUNoaWxkRnJvbUNvbnRhaW5lcihjdXJyZW50UGFyZW50LCBub2RlLnN0YXRlTm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVtb3ZlQ2hpbGQoY3VycmVudFBhcmVudCwgbm9kZS5zdGF0ZU5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvbid0IHZpc2l0IGNoaWxkcmVuIGJlY2F1c2Ugd2UgYWxyZWFkeSB2aXNpdGVkIHRoZW0uXG4gICAgICB9IGVsc2UgaWYgKG5vZGUudGFnID09PSBIb3N0UG9ydGFsKSB7XG4gICAgICAgIC8vIFdoZW4gd2UgZ28gaW50byBhIHBvcnRhbCwgaXQgYmVjb21lcyB0aGUgcGFyZW50IHRvIHJlbW92ZSBmcm9tLlxuICAgICAgICAvLyBXZSB3aWxsIHJlYXNzaWduIGl0IGJhY2sgd2hlbiB3ZSBwb3AgdGhlIHBvcnRhbCBvbiB0aGUgd2F5IHVwLlxuICAgICAgICBjdXJyZW50UGFyZW50ID0gbm9kZS5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgLy8gVmlzaXQgY2hpbGRyZW4gYmVjYXVzZSBwb3J0YWxzIG1pZ2h0IGNvbnRhaW4gaG9zdCBjb21wb25lbnRzLlxuICAgICAgICBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgIG5vZGUuY2hpbGRbXCJyZXR1cm5cIl0gPSBub2RlO1xuICAgICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21taXRVbm1vdW50KG5vZGUpO1xuICAgICAgICAvLyBWaXNpdCBjaGlsZHJlbiBiZWNhdXNlIHdlIG1heSBmaW5kIG1vcmUgaG9zdCBjb21wb25lbnRzIGJlbG93LlxuICAgICAgICBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgIG5vZGUuY2hpbGRbXCJyZXR1cm5cIl0gPSBub2RlO1xuICAgICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobm9kZSA9PT0gY3VycmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlW1wicmV0dXJuXCJdID09PSBudWxsIHx8IG5vZGVbXCJyZXR1cm5cIl0gPT09IGN1cnJlbnQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGVbXCJyZXR1cm5cIl07XG4gICAgICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgICAgIC8vIFdoZW4gd2UgZ28gb3V0IG9mIHRoZSBwb3J0YWwsIHdlIG5lZWQgdG8gcmVzdG9yZSB0aGUgcGFyZW50LlxuICAgICAgICAgIC8vIFNpbmNlIHdlIGRvbid0IGtlZXAgYSBzdGFjayBvZiB0aGVtLCB3ZSB3aWxsIHNlYXJjaCBmb3IgaXQuXG4gICAgICAgICAgY3VycmVudFBhcmVudElzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbm9kZS5zaWJsaW5nW1wicmV0dXJuXCJdID0gbm9kZVtcInJldHVyblwiXTtcbiAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0RGVsZXRpb24oY3VycmVudCkge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGRlbGV0ZSBhbGwgaG9zdCBub2RlcyBmcm9tIHRoZSBwYXJlbnQuXG4gICAgLy8gRGV0YWNoIHJlZnMgYW5kIGNhbGwgY29tcG9uZW50V2lsbFVubW91bnQoKSBvbiB0aGUgd2hvbGUgc3VidHJlZS5cbiAgICB1bm1vdW50SG9zdENvbXBvbmVudHMoY3VycmVudCk7XG4gICAgZGV0YWNoRmliZXIoY3VycmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXRXb3JrKGN1cnJlbnQsIGZpbmlzaGVkV29yaykge1xuICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDoge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYXNlIEhvc3RDb21wb25lbnQ6IHtcbiAgICAgICAgdmFyIF9pbnN0YW5jZTcgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICBpZiAoX2luc3RhbmNlNyAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gQ29tbWl0IHRoZSB3b3JrIHByZXBhcmVkIGVhcmxpZXIuXG4gICAgICAgICAgdmFyIG5ld1Byb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgLy8gRm9yIGh5ZHJhdGlvbiB3ZSByZXVzZSB0aGUgdXBkYXRlIHBhdGggYnV0IHdlIHRyZWF0IHRoZSBvbGRQcm9wc1xuICAgICAgICAgIC8vIGFzIHRoZSBuZXdQcm9wcy4gVGhlIHVwZGF0ZVBheWxvYWQgd2lsbCBjb250YWluIHRoZSByZWFsIGNoYW5nZSBpblxuICAgICAgICAgIC8vIHRoaXMgY2FzZS5cbiAgICAgICAgICB2YXIgb2xkUHJvcHMgPSBjdXJyZW50ICE9PSBudWxsID8gY3VycmVudC5tZW1vaXplZFByb3BzIDogbmV3UHJvcHM7XG4gICAgICAgICAgdmFyIHR5cGUgPSBmaW5pc2hlZFdvcmsudHlwZTtcbiAgICAgICAgICAvLyBUT0RPOiBUeXBlIHRoZSB1cGRhdGVRdWV1ZSB0byBiZSBzcGVjaWZpYyB0byBob3N0IGNvbXBvbmVudHMuXG4gICAgICAgICAgdmFyIHVwZGF0ZVBheWxvYWQgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICAgICAgZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlID0gbnVsbDtcbiAgICAgICAgICBpZiAodXBkYXRlUGF5bG9hZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29tbWl0VXBkYXRlKFxuICAgICAgICAgICAgICBfaW5zdGFuY2U3LFxuICAgICAgICAgICAgICB1cGRhdGVQYXlsb2FkLFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBvbGRQcm9wcyxcbiAgICAgICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2FzZSBIb3N0VGV4dDoge1xuICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgZmluaXNoZWRXb3JrLnN0YXRlTm9kZSAhPT0gbnVsbCxcbiAgICAgICAgICBcIlRoaXMgc2hvdWxkIGhhdmUgYSB0ZXh0IG5vZGUgaW5pdGlhbGl6ZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IFwiICtcbiAgICAgICAgICAgIFwiY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgICAgICB2YXIgdGV4dEluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgdmFyIG5ld1RleHQgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgLy8gRm9yIGh5ZHJhdGlvbiB3ZSByZXVzZSB0aGUgdXBkYXRlIHBhdGggYnV0IHdlIHRyZWF0IHRoZSBvbGRQcm9wc1xuICAgICAgICAvLyBhcyB0aGUgbmV3UHJvcHMuIFRoZSB1cGRhdGVQYXlsb2FkIHdpbGwgY29udGFpbiB0aGUgcmVhbCBjaGFuZ2UgaW5cbiAgICAgICAgLy8gdGhpcyBjYXNlLlxuICAgICAgICB2YXIgb2xkVGV4dCA9IGN1cnJlbnQgIT09IG51bGwgPyBjdXJyZW50Lm1lbW9pemVkUHJvcHMgOiBuZXdUZXh0O1xuICAgICAgICBjb21taXRUZXh0VXBkYXRlKHRleHRJbnN0YW5jZSwgb2xkVGV4dCwgbmV3VGV4dCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFJvb3Q6IHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJUaGlzIHVuaXQgb2Ygd29yayB0YWcgc2hvdWxkIG5vdCBoYXZlIHNpZGUtZWZmZWN0cy4gVGhpcyBlcnJvciBpcyBcIiArXG4gICAgICAgICAgICBcImxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0UmVzZXRUZXh0Q29udGVudChjdXJyZW50KSB7XG4gICAgcmVzZXRUZXh0Q29udGVudChjdXJyZW50LnN0YXRlTm9kZSk7XG4gIH1cblxuICBpZiAoZW5hYmxlTXV0YXRpbmdSZWNvbmNpbGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbW1pdFJlc2V0VGV4dENvbnRlbnQ6IGNvbW1pdFJlc2V0VGV4dENvbnRlbnQsXG4gICAgICBjb21taXRQbGFjZW1lbnQ6IGNvbW1pdFBsYWNlbWVudCxcbiAgICAgIGNvbW1pdERlbGV0aW9uOiBjb21taXREZWxldGlvbixcbiAgICAgIGNvbW1pdFdvcms6IGNvbW1pdFdvcmssXG4gICAgICBjb21taXRMaWZlQ3ljbGVzOiBjb21taXRMaWZlQ3ljbGVzLFxuICAgICAgY29tbWl0RXJyb3JMb2dnaW5nOiBjb21taXRFcnJvckxvZ2dpbmcsXG4gICAgICBjb21taXRBdHRhY2hSZWY6IGNvbW1pdEF0dGFjaFJlZixcbiAgICAgIGNvbW1pdERldGFjaFJlZjogY29tbWl0RGV0YWNoUmVmXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBpbnZhcmlhbnQoZmFsc2UsIFwiTXV0YXRpbmcgcmVjb25jaWxlciBpcyBkaXNhYmxlZC5cIik7XG4gIH1cbn07XG5cbnZhciBOT19DT05URVhUID0ge307XG5cbnZhciBSZWFjdEZpYmVySG9zdENvbnRleHQgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgdmFyIGdldENoaWxkSG9zdENvbnRleHQgPSBjb25maWcuZ2V0Q2hpbGRIb3N0Q29udGV4dCxcbiAgICBnZXRSb290SG9zdENvbnRleHQgPSBjb25maWcuZ2V0Um9vdEhvc3RDb250ZXh0O1xuXG4gIHZhciBjb250ZXh0U3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IoTk9fQ09OVEVYVCk7XG4gIHZhciBjb250ZXh0RmliZXJTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihOT19DT05URVhUKTtcbiAgdmFyIHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKE5PX0NPTlRFWFQpO1xuXG4gIGZ1bmN0aW9uIHJlcXVpcmVkQ29udGV4dChjKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgYyAhPT0gTk9fQ09OVEVYVCxcbiAgICAgIFwiRXhwZWN0ZWQgaG9zdCBjb250ZXh0IHRvIGV4aXN0LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgXCIgK1xuICAgICAgICBcImluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICk7XG4gICAgcmV0dXJuIGM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSb290SG9zdENvbnRhaW5lcigpIHtcbiAgICB2YXIgcm9vdEluc3RhbmNlID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgIHJldHVybiByb290SW5zdGFuY2U7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoSG9zdENvbnRhaW5lcihmaWJlciwgbmV4dFJvb3RJbnN0YW5jZSkge1xuICAgIC8vIFB1c2ggY3VycmVudCByb290IGluc3RhbmNlIG9udG8gdGhlIHN0YWNrO1xuICAgIC8vIFRoaXMgYWxsb3dzIHVzIHRvIHJlc2V0IHJvb3Qgd2hlbiBwb3J0YWxzIGFyZSBwb3BwZWQuXG4gICAgcHVzaChyb290SW5zdGFuY2VTdGFja0N1cnNvciwgbmV4dFJvb3RJbnN0YW5jZSwgZmliZXIpO1xuXG4gICAgdmFyIG5leHRSb290Q29udGV4dCA9IGdldFJvb3RIb3N0Q29udGV4dChuZXh0Um9vdEluc3RhbmNlKTtcblxuICAgIC8vIFRyYWNrIHRoZSBjb250ZXh0IGFuZCB0aGUgRmliZXIgdGhhdCBwcm92aWRlZCBpdC5cbiAgICAvLyBUaGlzIGVuYWJsZXMgdXMgdG8gcG9wIG9ubHkgRmliZXJzIHRoYXQgcHJvdmlkZSB1bmlxdWUgY29udGV4dHMuXG4gICAgcHVzaChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIsIGZpYmVyKTtcbiAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgbmV4dFJvb3RDb250ZXh0LCBmaWJlcik7XG4gIH1cblxuICBmdW5jdGlvbiBwb3BIb3N0Q29udGFpbmVyKGZpYmVyKSB7XG4gICAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpO1xuICAgIHBvcChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIpO1xuICAgIHBvcChyb290SW5zdGFuY2VTdGFja0N1cnNvciwgZmliZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SG9zdENvbnRleHQoKSB7XG4gICAgdmFyIGNvbnRleHQgPSByZXF1aXJlZENvbnRleHQoY29udGV4dFN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgIHJldHVybiBjb250ZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaEhvc3RDb250ZXh0KGZpYmVyKSB7XG4gICAgdmFyIHJvb3RJbnN0YW5jZSA9IHJlcXVpcmVkQ29udGV4dChyb290SW5zdGFuY2VTdGFja0N1cnNvci5jdXJyZW50KTtcbiAgICB2YXIgY29udGV4dCA9IHJlcXVpcmVkQ29udGV4dChjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudCk7XG4gICAgdmFyIG5leHRDb250ZXh0ID0gZ2V0Q2hpbGRIb3N0Q29udGV4dChjb250ZXh0LCBmaWJlci50eXBlLCByb290SW5zdGFuY2UpO1xuXG4gICAgLy8gRG9uJ3QgcHVzaCB0aGlzIEZpYmVyJ3MgY29udGV4dCB1bmxlc3MgaXQncyB1bmlxdWUuXG4gICAgaWYgKGNvbnRleHQgPT09IG5leHRDb250ZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVHJhY2sgdGhlIGNvbnRleHQgYW5kIHRoZSBGaWJlciB0aGF0IHByb3ZpZGVkIGl0LlxuICAgIC8vIFRoaXMgZW5hYmxlcyB1cyB0byBwb3Agb25seSBGaWJlcnMgdGhhdCBwcm92aWRlIHVuaXF1ZSBjb250ZXh0cy5cbiAgICBwdXNoKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlciwgZmliZXIpO1xuICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBuZXh0Q29udGV4dCwgZmliZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9wSG9zdENvbnRleHQoZmliZXIpIHtcbiAgICAvLyBEbyBub3QgcG9wIHVubGVzcyB0aGlzIEZpYmVyIHByb3ZpZGVkIHRoZSBjdXJyZW50IGNvbnRleHQuXG4gICAgLy8gcHVzaEhvc3RDb250ZXh0KCkgb25seSBwdXNoZXMgRmliZXJzIHRoYXQgcHJvdmlkZSB1bmlxdWUgY29udGV4dHMuXG4gICAgaWYgKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLmN1cnJlbnQgIT09IGZpYmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpO1xuICAgIHBvcChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRIb3N0Q29udGFpbmVyKCkge1xuICAgIGNvbnRleHRTdGFja0N1cnNvci5jdXJyZW50ID0gTk9fQ09OVEVYVDtcbiAgICByb290SW5zdGFuY2VTdGFja0N1cnNvci5jdXJyZW50ID0gTk9fQ09OVEVYVDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0SG9zdENvbnRleHQ6IGdldEhvc3RDb250ZXh0LFxuICAgIGdldFJvb3RIb3N0Q29udGFpbmVyOiBnZXRSb290SG9zdENvbnRhaW5lcixcbiAgICBwb3BIb3N0Q29udGFpbmVyOiBwb3BIb3N0Q29udGFpbmVyLFxuICAgIHBvcEhvc3RDb250ZXh0OiBwb3BIb3N0Q29udGV4dCxcbiAgICBwdXNoSG9zdENvbnRhaW5lcjogcHVzaEhvc3RDb250YWluZXIsXG4gICAgcHVzaEhvc3RDb250ZXh0OiBwdXNoSG9zdENvbnRleHQsXG4gICAgcmVzZXRIb3N0Q29udGFpbmVyOiByZXNldEhvc3RDb250YWluZXJcbiAgfTtcbn07XG5cbnZhciBSZWFjdEZpYmVySHlkcmF0aW9uQ29udGV4dCA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICB2YXIgc2hvdWxkU2V0VGV4dENvbnRlbnQgPSBjb25maWcuc2hvdWxkU2V0VGV4dENvbnRlbnQsXG4gICAgaHlkcmF0aW9uID0gY29uZmlnLmh5ZHJhdGlvbjtcblxuICAvLyBJZiB0aGlzIGRvZXNuJ3QgaGF2ZSBoeWRyYXRpb24gbW9kZS5cblxuICBpZiAoIWh5ZHJhdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICBlbnRlckh5ZHJhdGlvblN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSxcbiAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGU6IGZ1bmN0aW9uKCkge30sXG4gICAgICB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZTogZnVuY3Rpb24oKSB7fSxcbiAgICAgIHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJFeHBlY3RlZCBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlKCkgdG8gbmV2ZXIgYmUgY2FsbGVkLiBcIiArXG4gICAgICAgICAgICBcIlRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGludmFyaWFudChcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIkV4cGVjdGVkIHByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlKCkgdG8gbmV2ZXIgYmUgY2FsbGVkLiBcIiArXG4gICAgICAgICAgICBcIlRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBwb3BIeWRyYXRpb25TdGF0ZTogZnVuY3Rpb24oZmliZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB2YXIgY2FuSHlkcmF0ZUluc3RhbmNlID0gaHlkcmF0aW9uLmNhbkh5ZHJhdGVJbnN0YW5jZSxcbiAgICBjYW5IeWRyYXRlVGV4dEluc3RhbmNlID0gaHlkcmF0aW9uLmNhbkh5ZHJhdGVUZXh0SW5zdGFuY2UsXG4gICAgZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nID0gaHlkcmF0aW9uLmdldE5leHRIeWRyYXRhYmxlU2libGluZyxcbiAgICBnZXRGaXJzdEh5ZHJhdGFibGVDaGlsZCA9IGh5ZHJhdGlvbi5nZXRGaXJzdEh5ZHJhdGFibGVDaGlsZCxcbiAgICBoeWRyYXRlSW5zdGFuY2UgPSBoeWRyYXRpb24uaHlkcmF0ZUluc3RhbmNlLFxuICAgIGh5ZHJhdGVUZXh0SW5zdGFuY2UgPSBoeWRyYXRpb24uaHlkcmF0ZVRleHRJbnN0YW5jZSxcbiAgICBkaWROb3RNYXRjaEh5ZHJhdGVkQ29udGFpbmVyVGV4dEluc3RhbmNlID1cbiAgICAgIGh5ZHJhdGlvbi5kaWROb3RNYXRjaEh5ZHJhdGVkQ29udGFpbmVyVGV4dEluc3RhbmNlLFxuICAgIGRpZE5vdE1hdGNoSHlkcmF0ZWRUZXh0SW5zdGFuY2UgPSBoeWRyYXRpb24uZGlkTm90TWF0Y2hIeWRyYXRlZFRleHRJbnN0YW5jZSxcbiAgICBkaWROb3RIeWRyYXRlQ29udGFpbmVySW5zdGFuY2UgPSBoeWRyYXRpb24uZGlkTm90SHlkcmF0ZUNvbnRhaW5lckluc3RhbmNlLFxuICAgIGRpZE5vdEh5ZHJhdGVJbnN0YW5jZSA9IGh5ZHJhdGlvbi5kaWROb3RIeWRyYXRlSW5zdGFuY2UsXG4gICAgZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJJbnN0YW5jZSA9XG4gICAgICBoeWRyYXRpb24uZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJJbnN0YW5jZSxcbiAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lclRleHRJbnN0YW5jZSA9XG4gICAgICBoeWRyYXRpb24uZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJUZXh0SW5zdGFuY2UsXG4gICAgZGlkTm90RmluZEh5ZHJhdGFibGVJbnN0YW5jZSA9IGh5ZHJhdGlvbi5kaWROb3RGaW5kSHlkcmF0YWJsZUluc3RhbmNlLFxuICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlVGV4dEluc3RhbmNlID1cbiAgICAgIGh5ZHJhdGlvbi5kaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZTtcblxuICAvLyBUaGUgZGVlcGVzdCBGaWJlciBvbiB0aGUgc3RhY2sgaW52b2x2ZWQgaW4gYSBoeWRyYXRpb24gY29udGV4dC5cbiAgLy8gVGhpcyBtYXkgaGF2ZSBiZWVuIGFuIGluc2VydGlvbiBvciBhIGh5ZHJhdGlvbi5cblxuICB2YXIgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBudWxsO1xuICB2YXIgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IG51bGw7XG4gIHZhciBpc0h5ZHJhdGluZyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGVudGVySHlkcmF0aW9uU3RhdGUoZmliZXIpIHtcbiAgICB2YXIgcGFyZW50SW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0Rmlyc3RIeWRyYXRhYmxlQ2hpbGQocGFyZW50SW5zdGFuY2UpO1xuICAgIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gZmliZXI7XG4gICAgaXNIeWRyYXRpbmcgPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlSHlkcmF0YWJsZUluc3RhbmNlKHJldHVybkZpYmVyLCBpbnN0YW5jZSkge1xuICAgIHtcbiAgICAgIHN3aXRjaCAocmV0dXJuRmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgZGlkTm90SHlkcmF0ZUNvbnRhaW5lckluc3RhbmNlKFxuICAgICAgICAgICAgcmV0dXJuRmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8sXG4gICAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICBkaWROb3RIeWRyYXRlSW5zdGFuY2UoXG4gICAgICAgICAgICByZXR1cm5GaWJlci50eXBlLFxuICAgICAgICAgICAgcmV0dXJuRmliZXIubWVtb2l6ZWRQcm9wcyxcbiAgICAgICAgICAgIHJldHVybkZpYmVyLnN0YXRlTm9kZSxcbiAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY2hpbGRUb0RlbGV0ZSA9IGNyZWF0ZUZpYmVyRnJvbUhvc3RJbnN0YW5jZUZvckRlbGV0aW9uKCk7XG4gICAgY2hpbGRUb0RlbGV0ZS5zdGF0ZU5vZGUgPSBpbnN0YW5jZTtcbiAgICBjaGlsZFRvRGVsZXRlW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgY2hpbGRUb0RlbGV0ZS5lZmZlY3RUYWcgPSBEZWxldGlvbjtcblxuICAgIC8vIFRoaXMgbWlnaHQgc2VlbSBsaWtlIGl0IGJlbG9uZ3Mgb24gcHJvZ3Jlc3NlZEZpcnN0RGVsZXRpb24uIEhvd2V2ZXIsXG4gICAgLy8gdGhlc2UgY2hpbGRyZW4gYXJlIG5vdCBwYXJ0IG9mIHRoZSByZWNvbmNpbGlhdGlvbiBsaXN0IG9mIGNoaWxkcmVuLlxuICAgIC8vIEV2ZW4gaWYgd2UgYWJvcnQgYW5kIHJlcmVjb25jaWxlIHRoZSBjaGlsZHJlbiwgdGhhdCB3aWxsIHRyeSB0byBoeWRyYXRlXG4gICAgLy8gYWdhaW4gYW5kIHRoZSBub2RlcyBhcmUgc3RpbGwgaW4gdGhlIGhvc3QgdHJlZSBzbyB0aGVzZSB3aWxsIGJlXG4gICAgLy8gcmVjcmVhdGVkLlxuICAgIGlmIChyZXR1cm5GaWJlci5sYXN0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0Lm5leHRFZmZlY3QgPSBjaGlsZFRvRGVsZXRlO1xuICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID0gcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5zZXJ0Tm9uSHlkcmF0ZWRJbnN0YW5jZShyZXR1cm5GaWJlciwgZmliZXIpIHtcbiAgICBmaWJlci5lZmZlY3RUYWcgfD0gUGxhY2VtZW50O1xuICAgIHtcbiAgICAgIHN3aXRjaCAocmV0dXJuRmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgSG9zdFJvb3Q6IHtcbiAgICAgICAgICB2YXIgcGFyZW50Q29udGFpbmVyID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICAgICAgdmFyIHR5cGUgPSBmaWJlci50eXBlO1xuICAgICAgICAgICAgICB2YXIgcHJvcHMgPSBmaWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICAgICAgICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVySW5zdGFuY2UoXG4gICAgICAgICAgICAgICAgcGFyZW50Q29udGFpbmVyLFxuICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgcHJvcHNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgICAgICAgICB2YXIgdGV4dCA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICAgICAgZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJUZXh0SW5zdGFuY2UocGFyZW50Q29udGFpbmVyLCB0ZXh0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDoge1xuICAgICAgICAgIHZhciBwYXJlbnRUeXBlID0gcmV0dXJuRmliZXIudHlwZTtcbiAgICAgICAgICB2YXIgcGFyZW50UHJvcHMgPSByZXR1cm5GaWJlci5tZW1vaXplZFByb3BzO1xuICAgICAgICAgIHZhciBwYXJlbnRJbnN0YW5jZSA9IHJldHVybkZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICAgICAgICB2YXIgX3R5cGUgPSBmaWJlci50eXBlO1xuICAgICAgICAgICAgICB2YXIgX3Byb3BzID0gZmliZXIucGVuZGluZ1Byb3BzO1xuICAgICAgICAgICAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUluc3RhbmNlKFxuICAgICAgICAgICAgICAgIHBhcmVudFR5cGUsXG4gICAgICAgICAgICAgICAgcGFyZW50UHJvcHMsXG4gICAgICAgICAgICAgICAgcGFyZW50SW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgX3R5cGUsXG4gICAgICAgICAgICAgICAgX3Byb3BzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBIb3N0VGV4dDpcbiAgICAgICAgICAgICAgdmFyIF90ZXh0ID0gZmliZXIucGVuZGluZ1Byb3BzO1xuICAgICAgICAgICAgICBkaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZShcbiAgICAgICAgICAgICAgICBwYXJlbnRUeXBlLFxuICAgICAgICAgICAgICAgIHBhcmVudFByb3BzLFxuICAgICAgICAgICAgICAgIHBhcmVudEluc3RhbmNlLFxuICAgICAgICAgICAgICAgIF90ZXh0XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlIeWRyYXRlKGZpYmVyLCBuZXh0SW5zdGFuY2UpIHtcbiAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OiB7XG4gICAgICAgIHZhciB0eXBlID0gZmliZXIudHlwZTtcbiAgICAgICAgdmFyIHByb3BzID0gZmliZXIucGVuZGluZ1Byb3BzO1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBjYW5IeWRyYXRlSW5zdGFuY2UobmV4dEluc3RhbmNlLCB0eXBlLCBwcm9wcyk7XG4gICAgICAgIGlmIChpbnN0YW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgIGZpYmVyLnN0YXRlTm9kZSA9IGluc3RhbmNlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFRleHQ6IHtcbiAgICAgICAgdmFyIHRleHQgPSBmaWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICAgIHZhciB0ZXh0SW5zdGFuY2UgPSBjYW5IeWRyYXRlVGV4dEluc3RhbmNlKG5leHRJbnN0YW5jZSwgdGV4dCk7XG4gICAgICAgIGlmICh0ZXh0SW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICBmaWJlci5zdGF0ZU5vZGUgPSB0ZXh0SW5zdGFuY2U7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlKGZpYmVyKSB7XG4gICAgaWYgKCFpc0h5ZHJhdGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbmV4dEluc3RhbmNlID0gbmV4dEh5ZHJhdGFibGVJbnN0YW5jZTtcbiAgICBpZiAoIW5leHRJbnN0YW5jZSkge1xuICAgICAgLy8gTm90aGluZyB0byBoeWRyYXRlLiBNYWtlIGl0IGFuIGluc2VydGlvbi5cbiAgICAgIGluc2VydE5vbkh5ZHJhdGVkSW5zdGFuY2UoaHlkcmF0aW9uUGFyZW50RmliZXIsIGZpYmVyKTtcbiAgICAgIGlzSHlkcmF0aW5nID0gZmFsc2U7XG4gICAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IGZpYmVyO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRyeUh5ZHJhdGUoZmliZXIsIG5leHRJbnN0YW5jZSkpIHtcbiAgICAgIC8vIElmIHdlIGNhbid0IGh5ZHJhdGUgdGhpcyBpbnN0YW5jZSBsZXQncyB0cnkgdGhlIG5leHQgb25lLlxuICAgICAgLy8gV2UgdXNlIHRoaXMgYXMgYSBoZXVyaXN0aWMuIEl0J3MgYmFzZWQgb24gaW50dWl0aW9uIGFuZCBub3QgZGF0YSBzbyBpdFxuICAgICAgLy8gbWlnaHQgYmUgZmxhd2VkIG9yIHVubmVjZXNzYXJ5LlxuICAgICAgbmV4dEluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nKG5leHRJbnN0YW5jZSk7XG4gICAgICBpZiAoIW5leHRJbnN0YW5jZSB8fCAhdHJ5SHlkcmF0ZShmaWJlciwgbmV4dEluc3RhbmNlKSkge1xuICAgICAgICAvLyBOb3RoaW5nIHRvIGh5ZHJhdGUuIE1ha2UgaXQgYW4gaW5zZXJ0aW9uLlxuICAgICAgICBpbnNlcnROb25IeWRyYXRlZEluc3RhbmNlKGh5ZHJhdGlvblBhcmVudEZpYmVyLCBmaWJlcik7XG4gICAgICAgIGlzSHlkcmF0aW5nID0gZmFsc2U7XG4gICAgICAgIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gZmliZXI7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFdlIG1hdGNoZWQgdGhlIG5leHQgb25lLCB3ZSdsbCBub3cgYXNzdW1lIHRoYXQgdGhlIGZpcnN0IG9uZSB3YXNcbiAgICAgIC8vIHN1cGVyZmx1b3VzIGFuZCB3ZSdsbCBkZWxldGUgaXQuIFNpbmNlIHdlIGNhbid0IGVhZ2VybHkgZGVsZXRlIGl0XG4gICAgICAvLyB3ZSdsbCBoYXZlIHRvIHNjaGVkdWxlIGEgZGVsZXRpb24uIFRvIGRvIHRoYXQsIHRoaXMgbm9kZSBuZWVkcyBhIGR1bW15XG4gICAgICAvLyBmaWJlciBhc3NvY2lhdGVkIHdpdGggaXQuXG4gICAgICBkZWxldGVIeWRyYXRhYmxlSW5zdGFuY2UoaHlkcmF0aW9uUGFyZW50RmliZXIsIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UpO1xuICAgIH1cbiAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IGZpYmVyO1xuICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBnZXRGaXJzdEh5ZHJhdGFibGVDaGlsZChuZXh0SW5zdGFuY2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZShcbiAgICBmaWJlcixcbiAgICByb290Q29udGFpbmVySW5zdGFuY2UsXG4gICAgaG9zdENvbnRleHRcbiAgKSB7XG4gICAgdmFyIGluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlO1xuICAgIHZhciB1cGRhdGVQYXlsb2FkID0gaHlkcmF0ZUluc3RhbmNlKFxuICAgICAgaW5zdGFuY2UsXG4gICAgICBmaWJlci50eXBlLFxuICAgICAgZmliZXIubWVtb2l6ZWRQcm9wcyxcbiAgICAgIHJvb3RDb250YWluZXJJbnN0YW5jZSxcbiAgICAgIGhvc3RDb250ZXh0LFxuICAgICAgZmliZXJcbiAgICApO1xuICAgIC8vIFRPRE86IFR5cGUgdGhpcyBzcGVjaWZpYyB0byB0aGlzIHR5cGUgb2YgY29tcG9uZW50LlxuICAgIGZpYmVyLnVwZGF0ZVF1ZXVlID0gdXBkYXRlUGF5bG9hZDtcbiAgICAvLyBJZiB0aGUgdXBkYXRlIHBheWxvYWQgaW5kaWNhdGVzIHRoYXQgdGhlcmUgaXMgYSBjaGFuZ2Ugb3IgaWYgdGhlcmVcbiAgICAvLyBpcyBhIG5ldyByZWYgd2UgbWFyayB0aGlzIGFzIGFuIHVwZGF0ZS5cbiAgICBpZiAodXBkYXRlUGF5bG9hZCAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlKGZpYmVyKSB7XG4gICAgdmFyIHRleHRJbnN0YW5jZSA9IGZpYmVyLnN0YXRlTm9kZTtcbiAgICB2YXIgdGV4dENvbnRlbnQgPSBmaWJlci5tZW1vaXplZFByb3BzO1xuICAgIHZhciBzaG91bGRVcGRhdGUgPSBoeWRyYXRlVGV4dEluc3RhbmNlKHRleHRJbnN0YW5jZSwgdGV4dENvbnRlbnQsIGZpYmVyKTtcbiAgICB7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgIC8vIFdlIGFzc3VtZSB0aGF0IHByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlIGlzIGNhbGxlZCBpbiBhIGNvbnRleHQgd2hlcmUgdGhlXG4gICAgICAgIC8vIGh5ZHJhdGlvbiBwYXJlbnQgaXMgdGhlIHBhcmVudCBob3N0IGNvbXBvbmVudCBvZiB0aGlzIGhvc3QgdGV4dC5cbiAgICAgICAgdmFyIHJldHVybkZpYmVyID0gaHlkcmF0aW9uUGFyZW50RmliZXI7XG4gICAgICAgIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIHN3aXRjaCAocmV0dXJuRmliZXIudGFnKSB7XG4gICAgICAgICAgICBjYXNlIEhvc3RSb290OiB7XG4gICAgICAgICAgICAgIHZhciBwYXJlbnRDb250YWluZXIgPSByZXR1cm5GaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgICAgZGlkTm90TWF0Y2hIeWRyYXRlZENvbnRhaW5lclRleHRJbnN0YW5jZShcbiAgICAgICAgICAgICAgICBwYXJlbnRDb250YWluZXIsXG4gICAgICAgICAgICAgICAgdGV4dEluc3RhbmNlLFxuICAgICAgICAgICAgICAgIHRleHRDb250ZW50XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OiB7XG4gICAgICAgICAgICAgIHZhciBwYXJlbnRUeXBlID0gcmV0dXJuRmliZXIudHlwZTtcbiAgICAgICAgICAgICAgdmFyIHBhcmVudFByb3BzID0gcmV0dXJuRmliZXIubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgICAgdmFyIHBhcmVudEluc3RhbmNlID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICBkaWROb3RNYXRjaEh5ZHJhdGVkVGV4dEluc3RhbmNlKFxuICAgICAgICAgICAgICAgIHBhcmVudFR5cGUsXG4gICAgICAgICAgICAgICAgcGFyZW50UHJvcHMsXG4gICAgICAgICAgICAgICAgcGFyZW50SW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgdGV4dEluc3RhbmNlLFxuICAgICAgICAgICAgICAgIHRleHRDb250ZW50XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2hvdWxkVXBkYXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9wVG9OZXh0SG9zdFBhcmVudChmaWJlcikge1xuICAgIHZhciBwYXJlbnQgPSBmaWJlcltcInJldHVyblwiXTtcbiAgICB3aGlsZSAoXG4gICAgICBwYXJlbnQgIT09IG51bGwgJiZcbiAgICAgIHBhcmVudC50YWcgIT09IEhvc3RDb21wb25lbnQgJiZcbiAgICAgIHBhcmVudC50YWcgIT09IEhvc3RSb290XG4gICAgKSB7XG4gICAgICBwYXJlbnQgPSBwYXJlbnRbXCJyZXR1cm5cIl07XG4gICAgfVxuICAgIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gcGFyZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gcG9wSHlkcmF0aW9uU3RhdGUoZmliZXIpIHtcbiAgICBpZiAoZmliZXIgIT09IGh5ZHJhdGlvblBhcmVudEZpYmVyKSB7XG4gICAgICAvLyBXZSdyZSBkZWVwZXIgdGhhbiB0aGUgY3VycmVudCBoeWRyYXRpb24gY29udGV4dCwgaW5zaWRlIGFuIGluc2VydGVkXG4gICAgICAvLyB0cmVlLlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWlzSHlkcmF0aW5nKSB7XG4gICAgICAvLyBJZiB3ZSdyZSBub3QgY3VycmVudGx5IGh5ZHJhdGluZyBidXQgd2UncmUgaW4gYSBoeWRyYXRpb24gY29udGV4dCwgdGhlblxuICAgICAgLy8gd2Ugd2VyZSBhbiBpbnNlcnRpb24gYW5kIG5vdyBuZWVkIHRvIHBvcCB1cCByZWVudGVyIGh5ZHJhdGlvbiBvZiBvdXJcbiAgICAgIC8vIHNpYmxpbmdzLlxuICAgICAgcG9wVG9OZXh0SG9zdFBhcmVudChmaWJlcik7XG4gICAgICBpc0h5ZHJhdGluZyA9IHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHR5cGUgPSBmaWJlci50eXBlO1xuXG4gICAgLy8gSWYgd2UgaGF2ZSBhbnkgcmVtYWluaW5nIGh5ZHJhdGFibGUgbm9kZXMsIHdlIG5lZWQgdG8gZGVsZXRlIHRoZW0gbm93LlxuICAgIC8vIFdlIG9ubHkgZG8gdGhpcyBkZWVwZXIgdGhhbiBoZWFkIGFuZCBib2R5IHNpbmNlIHRoZXkgdGVuZCB0byBoYXZlIHJhbmRvbVxuICAgIC8vIG90aGVyIG5vZGVzIGluIHRoZW0uIFdlIGFsc28gaWdub3JlIGNvbXBvbmVudHMgd2l0aCBwdXJlIHRleHQgY29udGVudCBpblxuICAgIC8vIHNpZGUgb2YgdGhlbS5cbiAgICAvLyBUT0RPOiBCZXR0ZXIgaGV1cmlzdGljLlxuICAgIGlmIChcbiAgICAgIGZpYmVyLnRhZyAhPT0gSG9zdENvbXBvbmVudCB8fFxuICAgICAgKHR5cGUgIT09IFwiaGVhZFwiICYmXG4gICAgICAgIHR5cGUgIT09IFwiYm9keVwiICYmXG4gICAgICAgICFzaG91bGRTZXRUZXh0Q29udGVudCh0eXBlLCBmaWJlci5tZW1vaXplZFByb3BzKSlcbiAgICApIHtcbiAgICAgIHZhciBuZXh0SW5zdGFuY2UgPSBuZXh0SHlkcmF0YWJsZUluc3RhbmNlO1xuICAgICAgd2hpbGUgKG5leHRJbnN0YW5jZSkge1xuICAgICAgICBkZWxldGVIeWRyYXRhYmxlSW5zdGFuY2UoZmliZXIsIG5leHRJbnN0YW5jZSk7XG4gICAgICAgIG5leHRJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlU2libGluZyhuZXh0SW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBvcFRvTmV4dEhvc3RQYXJlbnQoZmliZXIpO1xuICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBoeWRyYXRpb25QYXJlbnRGaWJlclxuICAgICAgPyBnZXROZXh0SHlkcmF0YWJsZVNpYmxpbmcoZmliZXIuc3RhdGVOb2RlKVxuICAgICAgOiBudWxsO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRIeWRyYXRpb25TdGF0ZSgpIHtcbiAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IG51bGw7XG4gICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IG51bGw7XG4gICAgaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZW50ZXJIeWRyYXRpb25TdGF0ZTogZW50ZXJIeWRyYXRpb25TdGF0ZSxcbiAgICByZXNldEh5ZHJhdGlvblN0YXRlOiByZXNldEh5ZHJhdGlvblN0YXRlLFxuICAgIHRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlOiB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZSxcbiAgICBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlOiBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlLFxuICAgIHByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlOiBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSxcbiAgICBwb3BIeWRyYXRpb25TdGF0ZTogcG9wSHlkcmF0aW9uU3RhdGVcbiAgfTtcbn07XG5cbi8vIFRoaXMgbGV0cyB1cyBob29rIGludG8gRmliZXIgdG8gZGVidWcgd2hhdCBpdCdzIGRvaW5nLlxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9wdWxsLzgwMzMuXG4vLyBUaGlzIGlzIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJLCBub3QgZXZlbiBmb3IgUmVhY3QgRGV2VG9vbHMuXG4vLyBZb3UgbWF5IG9ubHkgaW5qZWN0IGEgZGVidWdUb29sIGlmIHlvdSB3b3JrIG9uIFJlYWN0IEZpYmVyIGl0c2VsZi5cbnZhciBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uID0ge1xuICBkZWJ1Z1Rvb2w6IG51bGxcbn07XG5cbnZhciBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEgPSBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uO1xuXG52YXIgaW52b2tlR3VhcmRlZENhbGxiYWNrJDIgPSBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrO1xudmFyIGhhc0NhdWdodEVycm9yID0gUmVhY3RFcnJvclV0aWxzLmhhc0NhdWdodEVycm9yO1xudmFyIGNsZWFyQ2F1Z2h0RXJyb3IgPSBSZWFjdEVycm9yVXRpbHMuY2xlYXJDYXVnaHRFcnJvcjtcblxudmFyIGRpZFdhcm5BYm91dFN0YXRlVHJhbnNpdGlvbiA9IHZvaWQgMDtcbnZhciBkaWRXYXJuU2V0U3RhdGVDaGlsZENvbnRleHQgPSB2b2lkIDA7XG52YXIgd2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWQgPSB2b2lkIDA7XG52YXIgd2FybkFib3V0SW52YWxpZFVwZGF0ZXMgPSB2b2lkIDA7XG5cbntcbiAgZGlkV2FybkFib3V0U3RhdGVUcmFuc2l0aW9uID0gZmFsc2U7XG4gIGRpZFdhcm5TZXRTdGF0ZUNoaWxkQ29udGV4dCA9IGZhbHNlO1xuICB2YXIgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50ID0ge307XG5cbiAgd2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWQgPSBmdW5jdGlvbihmaWJlcikge1xuICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgXCJSZWFjdENsYXNzXCI7XG4gICAgaWYgKGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFtjb21wb25lbnROYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3YXJuaW5nKFxuICAgICAgZmFsc2UsXG4gICAgICBcIkNhbiBvbmx5IHVwZGF0ZSBhIG1vdW50ZWQgb3IgbW91bnRpbmcgXCIgK1xuICAgICAgICBcImNvbXBvbmVudC4gVGhpcyB1c3VhbGx5IG1lYW5zIHlvdSBjYWxsZWQgc2V0U3RhdGUsIHJlcGxhY2VTdGF0ZSwgXCIgK1xuICAgICAgICBcIm9yIGZvcmNlVXBkYXRlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuIFRoaXMgaXMgYSBuby1vcC5cXG5cXG5QbGVhc2UgXCIgK1xuICAgICAgICBcImNoZWNrIHRoZSBjb2RlIGZvciB0aGUgJXMgY29tcG9uZW50LlwiLFxuICAgICAgY29tcG9uZW50TmFtZVxuICAgICk7XG4gICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgfTtcblxuICB3YXJuQWJvdXRJbnZhbGlkVXBkYXRlcyA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgc3dpdGNoIChSZWFjdERlYnVnQ3VycmVudEZpYmVyLnBoYXNlKSB7XG4gICAgICBjYXNlIFwiZ2V0Q2hpbGRDb250ZXh0XCI6XG4gICAgICAgIGlmIChkaWRXYXJuU2V0U3RhdGVDaGlsZENvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcInNldFN0YXRlKC4uLik6IENhbm5vdCBjYWxsIHNldFN0YXRlKCkgaW5zaWRlIGdldENoaWxkQ29udGV4dCgpXCJcbiAgICAgICAgKTtcbiAgICAgICAgZGlkV2FyblNldFN0YXRlQ2hpbGRDb250ZXh0ID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmVuZGVyXCI6XG4gICAgICAgIGlmIChkaWRXYXJuQWJvdXRTdGF0ZVRyYW5zaXRpb24pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIkNhbm5vdCB1cGRhdGUgZHVyaW5nIGFuIGV4aXN0aW5nIHN0YXRlIHRyYW5zaXRpb24gKHN1Y2ggYXMgd2l0aGluIFwiICtcbiAgICAgICAgICAgIFwiYHJlbmRlcmAgb3IgYW5vdGhlciBjb21wb25lbnQncyBjb25zdHJ1Y3RvcikuIFJlbmRlciBtZXRob2RzIHNob3VsZCBcIiArXG4gICAgICAgICAgICBcImJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGU7IGNvbnN0cnVjdG9yIHNpZGUtZWZmZWN0cyBhcmUgXCIgK1xuICAgICAgICAgICAgXCJhbiBhbnRpLXBhdHRlcm4sIGJ1dCBjYW4gYmUgbW92ZWQgdG8gYGNvbXBvbmVudFdpbGxNb3VudGAuXCJcbiAgICAgICAgKTtcbiAgICAgICAgZGlkV2FybkFib3V0U3RhdGVUcmFuc2l0aW9uID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xufVxuXG52YXIgUmVhY3RGaWJlclNjaGVkdWxlciA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICB2YXIgaG9zdENvbnRleHQgPSBSZWFjdEZpYmVySG9zdENvbnRleHQoY29uZmlnKTtcbiAgdmFyIHBvcEhvc3RDb250ZXh0ID0gaG9zdENvbnRleHQucG9wSG9zdENvbnRleHQsXG4gICAgcG9wSG9zdENvbnRhaW5lciA9IGhvc3RDb250ZXh0LnBvcEhvc3RDb250YWluZXI7XG5cbiAgdmFyIGh5ZHJhdGlvbkNvbnRleHQgPSBSZWFjdEZpYmVySHlkcmF0aW9uQ29udGV4dChjb25maWcpO1xuICB2YXIgcmVzZXRIb3N0Q29udGFpbmVyID0gaG9zdENvbnRleHQucmVzZXRIb3N0Q29udGFpbmVyO1xuXG4gIHZhciBfUmVhY3RGaWJlckJlZ2luV29yayA9IFJlYWN0RmliZXJCZWdpbldvcmsoXG4gICAgICBjb25maWcsXG4gICAgICBob3N0Q29udGV4dCxcbiAgICAgIGh5ZHJhdGlvbkNvbnRleHQsXG4gICAgICBzY2hlZHVsZVdvcmssXG4gICAgICBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyXG4gICAgKSxcbiAgICBiZWdpbldvcmsgPSBfUmVhY3RGaWJlckJlZ2luV29yay5iZWdpbldvcms7XG5cbiAgdmFyIF9SZWFjdEZpYmVyQ29tcGxldGVXbyA9IFJlYWN0RmliZXJDb21wbGV0ZVdvcmsoXG4gICAgICBjb25maWcsXG4gICAgICBob3N0Q29udGV4dCxcbiAgICAgIGh5ZHJhdGlvbkNvbnRleHRcbiAgICApLFxuICAgIGNvbXBsZXRlV29yayA9IF9SZWFjdEZpYmVyQ29tcGxldGVXby5jb21wbGV0ZVdvcms7XG5cbiAgdmFyIF9SZWFjdEZpYmVyVW53aW5kV29yayA9IFJlYWN0RmliZXJVbndpbmRXb3JrKFxuICAgICAgaG9zdENvbnRleHQsXG4gICAgICBzY2hlZHVsZVdvcmssXG4gICAgICBpc0FscmVhZHlGYWlsZWRMZWdhY3lFcnJvckJvdW5kYXJ5XG4gICAgKSxcbiAgICB0aHJvd0V4Y2VwdGlvbiA9IF9SZWFjdEZpYmVyVW53aW5kV29yay50aHJvd0V4Y2VwdGlvbixcbiAgICB1bndpbmRXb3JrID0gX1JlYWN0RmliZXJVbndpbmRXb3JrLnVud2luZFdvcms7XG5cbiAgdmFyIF9SZWFjdEZpYmVyQ29tbWl0V29yayA9IFJlYWN0RmliZXJDb21taXRXb3JrKFxuICAgICAgY29uZmlnLFxuICAgICAgb25Db21taXRQaGFzZUVycm9yLFxuICAgICAgc2NoZWR1bGVXb3JrLFxuICAgICAgY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcixcbiAgICAgIG1hcmtMZWdhY3lFcnJvckJvdW5kYXJ5QXNGYWlsZWQsXG4gICAgICByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lXG4gICAgKSxcbiAgICBjb21taXRSZXNldFRleHRDb250ZW50ID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdFJlc2V0VGV4dENvbnRlbnQsXG4gICAgY29tbWl0UGxhY2VtZW50ID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdFBsYWNlbWVudCxcbiAgICBjb21taXREZWxldGlvbiA9IF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXREZWxldGlvbixcbiAgICBjb21taXRXb3JrID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdFdvcmssXG4gICAgY29tbWl0TGlmZUN5Y2xlcyA9IF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXRMaWZlQ3ljbGVzLFxuICAgIGNvbW1pdEVycm9yTG9nZ2luZyA9IF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXRFcnJvckxvZ2dpbmcsXG4gICAgY29tbWl0QXR0YWNoUmVmID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdEF0dGFjaFJlZixcbiAgICBjb21taXREZXRhY2hSZWYgPSBfUmVhY3RGaWJlckNvbW1pdFdvcmsuY29tbWl0RGV0YWNoUmVmO1xuXG4gIHZhciBub3cgPSBjb25maWcubm93LFxuICAgIHNjaGVkdWxlRGVmZXJyZWRDYWxsYmFjayA9IGNvbmZpZy5zY2hlZHVsZURlZmVycmVkQ2FsbGJhY2ssXG4gICAgY2FuY2VsRGVmZXJyZWRDYWxsYmFjayA9IGNvbmZpZy5jYW5jZWxEZWZlcnJlZENhbGxiYWNrLFxuICAgIHByZXBhcmVGb3JDb21taXQgPSBjb25maWcucHJlcGFyZUZvckNvbW1pdCxcbiAgICByZXNldEFmdGVyQ29tbWl0ID0gY29uZmlnLnJlc2V0QWZ0ZXJDb21taXQ7XG5cbiAgLy8gUmVwcmVzZW50cyB0aGUgY3VycmVudCB0aW1lIGluIG1zLlxuXG4gIHZhciBvcmlnaW5hbFN0YXJ0VGltZU1zID0gbm93KCk7XG4gIHZhciBtb3N0UmVjZW50Q3VycmVudFRpbWUgPSBtc1RvRXhwaXJhdGlvblRpbWUoMCk7XG4gIHZhciBtb3N0UmVjZW50Q3VycmVudFRpbWVNcyA9IG9yaWdpbmFsU3RhcnRUaW1lTXM7XG5cbiAgLy8gVXNlZCB0byBlbnN1cmUgY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbiBpcyBtb25vdG9uaWNhbGx5IGluY3JlYXNlcy5cbiAgdmFyIGxhc3RVbmlxdWVBc3luY0V4cGlyYXRpb24gPSAwO1xuXG4gIC8vIFJlcHJlc2VudHMgdGhlIGV4cGlyYXRpb24gdGltZSB0aGF0IGluY29taW5nIHVwZGF0ZXMgc2hvdWxkIHVzZS4gKElmIHRoaXNcbiAgLy8gaXMgTm9Xb3JrLCB1c2UgdGhlIGRlZmF1bHQgc3RyYXRlZ3k6IGFzeW5jIHVwZGF0ZXMgaW4gYXN5bmMgbW9kZSwgc3luY1xuICAvLyB1cGRhdGVzIGluIHN5bmMgbW9kZS4pXG4gIHZhciBleHBpcmF0aW9uQ29udGV4dCA9IE5vV29yaztcblxuICB2YXIgaXNXb3JraW5nID0gZmFsc2U7XG5cbiAgLy8gVGhlIG5leHQgd29yayBpbiBwcm9ncmVzcyBmaWJlciB0aGF0IHdlJ3JlIGN1cnJlbnRseSB3b3JraW5nIG9uLlxuICB2YXIgbmV4dFVuaXRPZldvcmsgPSBudWxsO1xuICB2YXIgbmV4dFJvb3QgPSBudWxsO1xuICAvLyBUaGUgdGltZSBhdCB3aGljaCB3ZSdyZSBjdXJyZW50bHkgcmVuZGVyaW5nIHdvcmsuXG4gIHZhciBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG5cbiAgLy8gVGhlIG5leHQgZmliZXIgd2l0aCBhbiBlZmZlY3QgdGhhdCB3ZSdyZSBjdXJyZW50bHkgY29tbWl0dGluZy5cbiAgdmFyIG5leHRFZmZlY3QgPSBudWxsO1xuXG4gIHZhciBpc0NvbW1pdHRpbmcgPSBmYWxzZTtcblxuICB2YXIgaXNSb290UmVhZHlGb3JDb21taXQgPSBmYWxzZTtcblxuICB2YXIgbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgPSBudWxsO1xuXG4gIC8vIFVzZWQgZm9yIHBlcmZvcm1hbmNlIHRyYWNraW5nLlxuICB2YXIgaW50ZXJydXB0ZWRCeSA9IG51bGw7XG5cbiAgdmFyIHN0YXNoZWRXb3JrSW5Qcm9ncmVzc1Byb3BlcnRpZXMgPSB2b2lkIDA7XG4gIHZhciByZXBsYXlVbml0T2ZXb3JrID0gdm9pZCAwO1xuICBpZiAodHJ1ZSAmJiByZXBsYXlGYWlsZWRVbml0T2ZXb3JrV2l0aEludm9rZUd1YXJkZWRDYWxsYmFjaykge1xuICAgIHN0YXNoZWRXb3JrSW5Qcm9ncmVzc1Byb3BlcnRpZXMgPSBudWxsO1xuICAgIHJlcGxheVVuaXRPZldvcmsgPSBmdW5jdGlvbihmYWlsZWRVbml0T2ZXb3JrLCBpc0FzeW5jKSB7XG4gICAgICAvLyBSZXRvcmUgdGhlIG9yaWdpbmFsIHN0YXRlIG9mIHRoZSB3b3JrLWluLXByb2dyZXNzXG4gICAgICBPYmplY3QuYXNzaWduKGZhaWxlZFVuaXRPZldvcmssIHN0YXNoZWRXb3JrSW5Qcm9ncmVzc1Byb3BlcnRpZXMpO1xuICAgICAgc3dpdGNoIChmYWlsZWRVbml0T2ZXb3JrLnRhZykge1xuICAgICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICAgIHBvcEhvc3RDb250YWluZXIoZmFpbGVkVW5pdE9mV29yayk7XG4gICAgICAgICAgcG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0KGZhaWxlZFVuaXRPZldvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgcG9wSG9zdENvbnRleHQoZmFpbGVkVW5pdE9mV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgICAgcG9wQ29udGV4dFByb3ZpZGVyKGZhaWxlZFVuaXRPZldvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgICAgcG9wSG9zdENvbnRhaW5lcihmYWlsZWRVbml0T2ZXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgICAgcG9wUHJvdmlkZXIoZmFpbGVkVW5pdE9mV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvLyBSZXBsYXkgdGhlIGJlZ2luIHBoYXNlLlxuICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDIobnVsbCwgd29ya0xvb3AsIG51bGwsIGlzQXN5bmMpO1xuICAgICAgaWYgKGhhc0NhdWdodEVycm9yKCkpIHtcbiAgICAgICAgY2xlYXJDYXVnaHRFcnJvcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgYmUgdW5yZWFjaGFibGUgYmVjYXVzZSB0aGUgcmVuZGVyIHBoYXNlIGlzXG4gICAgICAgIC8vIGlkZW1wb3RlbnRcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRDb250ZXh0U3RhY2soKSB7XG4gICAgLy8gUmVzZXQgdGhlIHN0YWNrXG4gICAgcmVzZXQoKTtcbiAgICAvLyBSZXNldCB0aGUgY3Vyc29yc1xuICAgIHJlc2V0Q29udGV4dCgpO1xuICAgIHJlc2V0SG9zdENvbnRhaW5lcigpO1xuXG4gICAgLy8gVE9ETzogVW5pZnkgbmV3IGNvbnRleHQgaW1wbGVtZW50YXRpb24gd2l0aCBvdGhlciBzdGFja3NcbiAgICByZXNldFByb3ZpZGVyU3RhY2soKTtcblxuICAgIHtcbiAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmRpc2NhcmRQZW5kaW5nV2FybmluZ3MoKTtcbiAgICB9XG5cbiAgICBuZXh0Um9vdCA9IG51bGw7XG4gICAgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgIG5leHRVbml0T2ZXb3JrID0gbnVsbDtcblxuICAgIGlzUm9vdFJlYWR5Rm9yQ29tbWl0ID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXRBbGxIb3N0RWZmZWN0cygpIHtcbiAgICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAge1xuICAgICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRGaWJlcihuZXh0RWZmZWN0KTtcbiAgICAgIH1cbiAgICAgIHJlY29yZEVmZmVjdCgpO1xuXG4gICAgICB2YXIgZWZmZWN0VGFnID0gbmV4dEVmZmVjdC5lZmZlY3RUYWc7XG4gICAgICBpZiAoZWZmZWN0VGFnICYgQ29udGVudFJlc2V0KSB7XG4gICAgICAgIGNvbW1pdFJlc2V0VGV4dENvbnRlbnQobmV4dEVmZmVjdCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlZmZlY3RUYWcgJiBSZWYpIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBuZXh0RWZmZWN0LmFsdGVybmF0ZTtcbiAgICAgICAgaWYgKGN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICBjb21taXREZXRhY2hSZWYoY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGZvbGxvd2luZyBzd2l0Y2ggc3RhdGVtZW50IGlzIG9ubHkgY29uY2VybmVkIGFib3V0IHBsYWNlbWVudCxcbiAgICAgIC8vIHVwZGF0ZXMsIGFuZCBkZWxldGlvbnMuIFRvIGF2b2lkIG5lZWRpbmcgdG8gYWRkIGEgY2FzZSBmb3IgZXZlcnlcbiAgICAgIC8vIHBvc3NpYmxlIGJpdG1hcCB2YWx1ZSwgd2UgcmVtb3ZlIHRoZSBzZWNvbmRhcnkgZWZmZWN0cyBmcm9tIHRoZVxuICAgICAgLy8gZWZmZWN0IHRhZyBhbmQgc3dpdGNoIG9uIHRoYXQgdmFsdWUuXG4gICAgICB2YXIgcHJpbWFyeUVmZmVjdFRhZyA9IGVmZmVjdFRhZyAmIChQbGFjZW1lbnQgfCBVcGRhdGUgfCBEZWxldGlvbik7XG4gICAgICBzd2l0Y2ggKHByaW1hcnlFZmZlY3RUYWcpIHtcbiAgICAgICAgY2FzZSBQbGFjZW1lbnQ6IHtcbiAgICAgICAgICBjb21taXRQbGFjZW1lbnQobmV4dEVmZmVjdCk7XG4gICAgICAgICAgLy8gQ2xlYXIgdGhlIFwicGxhY2VtZW50XCIgZnJvbSBlZmZlY3QgdGFnIHNvIHRoYXQgd2Uga25vdyB0aGF0IHRoaXMgaXMgaW5zZXJ0ZWQsIGJlZm9yZVxuICAgICAgICAgIC8vIGFueSBsaWZlLWN5Y2xlcyBsaWtlIGNvbXBvbmVudERpZE1vdW50IGdldHMgY2FsbGVkLlxuICAgICAgICAgIC8vIFRPRE86IGZpbmRET01Ob2RlIGRvZXNuJ3QgcmVseSBvbiB0aGlzIGFueSBtb3JlIGJ1dCBpc01vdW50ZWRcbiAgICAgICAgICAvLyBkb2VzIGFuZCBpc01vdW50ZWQgaXMgZGVwcmVjYXRlZCBhbnl3YXkgc28gd2Ugc2hvdWxkIGJlIGFibGVcbiAgICAgICAgICAvLyB0byBraWxsIHRoaXMuXG4gICAgICAgICAgbmV4dEVmZmVjdC5lZmZlY3RUYWcgJj0gflBsYWNlbWVudDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFBsYWNlbWVudEFuZFVwZGF0ZToge1xuICAgICAgICAgIC8vIFBsYWNlbWVudFxuICAgICAgICAgIGNvbW1pdFBsYWNlbWVudChuZXh0RWZmZWN0KTtcbiAgICAgICAgICAvLyBDbGVhciB0aGUgXCJwbGFjZW1lbnRcIiBmcm9tIGVmZmVjdCB0YWcgc28gdGhhdCB3ZSBrbm93IHRoYXQgdGhpcyBpcyBpbnNlcnRlZCwgYmVmb3JlXG4gICAgICAgICAgLy8gYW55IGxpZmUtY3ljbGVzIGxpa2UgY29tcG9uZW50RGlkTW91bnQgZ2V0cyBjYWxsZWQuXG4gICAgICAgICAgbmV4dEVmZmVjdC5lZmZlY3RUYWcgJj0gflBsYWNlbWVudDtcblxuICAgICAgICAgIC8vIFVwZGF0ZVxuICAgICAgICAgIHZhciBfY3VycmVudCA9IG5leHRFZmZlY3QuYWx0ZXJuYXRlO1xuICAgICAgICAgIGNvbW1pdFdvcmsoX2N1cnJlbnQsIG5leHRFZmZlY3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgVXBkYXRlOiB7XG4gICAgICAgICAgdmFyIF9jdXJyZW50MiA9IG5leHRFZmZlY3QuYWx0ZXJuYXRlO1xuICAgICAgICAgIGNvbW1pdFdvcmsoX2N1cnJlbnQyLCBuZXh0RWZmZWN0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIERlbGV0aW9uOiB7XG4gICAgICAgICAgY29tbWl0RGVsZXRpb24obmV4dEVmZmVjdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5leHRFZmZlY3QgPSBuZXh0RWZmZWN0Lm5leHRFZmZlY3Q7XG4gICAgfVxuXG4gICAge1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5yZXNldEN1cnJlbnRGaWJlcigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdEFsbExpZmVDeWNsZXMoXG4gICAgZmluaXNoZWRSb290LFxuICAgIGN1cnJlbnRUaW1lLFxuICAgIGNvbW1pdHRlZEV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIHtcbiAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoUGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzKCk7XG5cbiAgICAgIGlmICh3YXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcykge1xuICAgICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5mbHVzaFBlbmRpbmdEZXByZWNhdGlvbldhcm5pbmdzKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHdoaWxlIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICB2YXIgZWZmZWN0VGFnID0gbmV4dEVmZmVjdC5lZmZlY3RUYWc7XG5cbiAgICAgIGlmIChlZmZlY3RUYWcgJiAoVXBkYXRlIHwgQ2FsbGJhY2spKSB7XG4gICAgICAgIHJlY29yZEVmZmVjdCgpO1xuICAgICAgICB2YXIgY3VycmVudCA9IG5leHRFZmZlY3QuYWx0ZXJuYXRlO1xuICAgICAgICBjb21taXRMaWZlQ3ljbGVzKFxuICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIG5leHRFZmZlY3QsXG4gICAgICAgICAgY3VycmVudFRpbWUsXG4gICAgICAgICAgY29tbWl0dGVkRXhwaXJhdGlvblRpbWVcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVmZmVjdFRhZyAmIEVyckxvZykge1xuICAgICAgICBjb21taXRFcnJvckxvZ2dpbmcobmV4dEVmZmVjdCwgb25VbmNhdWdodEVycm9yKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVmZmVjdFRhZyAmIFJlZikge1xuICAgICAgICByZWNvcmRFZmZlY3QoKTtcbiAgICAgICAgY29tbWl0QXR0YWNoUmVmKG5leHRFZmZlY3QpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV4dCA9IG5leHRFZmZlY3QubmV4dEVmZmVjdDtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IHdlIGNsZWFuIHRoZXNlIHVwIHNvIHRoYXQgd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IGtlZXAgdGhlbS5cbiAgICAgIC8vIEknbSBub3QgYWN0dWFsbHkgc3VyZSB0aGlzIG1hdHRlcnMgYmVjYXVzZSB3ZSBjYW4ndCByZXNldCBmaXJzdEVmZmVjdFxuICAgICAgLy8gYW5kIGxhc3RFZmZlY3Qgc2luY2UgdGhleSdyZSBvbiBldmVyeSBub2RlLCBub3QganVzdCB0aGUgZWZmZWN0ZnVsXG4gICAgICAvLyBvbmVzLiBTbyB3ZSBoYXZlIHRvIGNsZWFuIGV2ZXJ5dGhpbmcgYXMgd2UgcmV1c2Ugbm9kZXMgYW55d2F5LlxuICAgICAgbmV4dEVmZmVjdC5uZXh0RWZmZWN0ID0gbnVsbDtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IHdlIHJlc2V0IHRoZSBlZmZlY3RUYWcgaGVyZSBzbyB0aGF0IHdlIGNhbiByZWx5IG9uIGVmZmVjdFxuICAgICAgLy8gdGFncyB0byByZWFzb24gYWJvdXQgdGhlIGN1cnJlbnQgbGlmZS1jeWNsZS5cbiAgICAgIG5leHRFZmZlY3QgPSBuZXh0O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQWxyZWFkeUZhaWxlZExlZ2FjeUVycm9yQm91bmRhcnkoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgIT09IG51bGwgJiZcbiAgICAgIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkLmhhcyhpbnN0YW5jZSlcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFya0xlZ2FjeUVycm9yQm91bmRhcnlBc0ZhaWxlZChpbnN0YW5jZSkge1xuICAgIGlmIChsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCA9PT0gbnVsbCkge1xuICAgICAgbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgPSBuZXcgU2V0KFtpbnN0YW5jZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZC5hZGQoaW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdFJvb3QoZmluaXNoZWRXb3JrKSB7XG4gICAgaXNXb3JraW5nID0gdHJ1ZTtcbiAgICBpc0NvbW1pdHRpbmcgPSB0cnVlO1xuICAgIHN0YXJ0Q29tbWl0VGltZXIoKTtcblxuICAgIHZhciByb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICByb290LmN1cnJlbnQgIT09IGZpbmlzaGVkV29yayxcbiAgICAgIFwiQ2Fubm90IGNvbW1pdCB0aGUgc2FtZSB0cmVlIGFzIGJlZm9yZS4gVGhpcyBpcyBwcm9iYWJseSBhIGJ1ZyBcIiArXG4gICAgICAgIFwicmVsYXRlZCB0byB0aGUgcmV0dXJuIGZpZWxkLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgXCIgK1xuICAgICAgICBcImluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICk7XG4gICAgdmFyIGNvbW1pdHRlZEV4cGlyYXRpb25UaW1lID0gcm9vdC5wZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWU7XG4gICAgaW52YXJpYW50KFxuICAgICAgY29tbWl0dGVkRXhwaXJhdGlvblRpbWUgIT09IE5vV29yayxcbiAgICAgIFwiQ2Fubm90IGNvbW1pdCBhbiBpbmNvbXBsZXRlIHJvb3QuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIFwiICtcbiAgICAgICAgXCJidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgKTtcbiAgICByb290LnBlbmRpbmdDb21taXRFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcblxuICAgIHZhciBjdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcblxuICAgIC8vIFJlc2V0IHRoaXMgdG8gbnVsbCBiZWZvcmUgY2FsbGluZyBsaWZlY3ljbGVzXG4gICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IG51bGw7XG5cbiAgICB2YXIgZmlyc3RFZmZlY3QgPSB2b2lkIDA7XG4gICAgaWYgKGZpbmlzaGVkV29yay5lZmZlY3RUYWcgPiBQZXJmb3JtZWRXb3JrKSB7XG4gICAgICAvLyBBIGZpYmVyJ3MgZWZmZWN0IGxpc3QgY29uc2lzdHMgb25seSBvZiBpdHMgY2hpbGRyZW4sIG5vdCBpdHNlbGYuIFNvIGlmXG4gICAgICAvLyB0aGUgcm9vdCBoYXMgYW4gZWZmZWN0LCB3ZSBuZWVkIHRvIGFkZCBpdCB0byB0aGUgZW5kIG9mIHRoZSBsaXN0LiBUaGVcbiAgICAgIC8vIHJlc3VsdGluZyBsaXN0IGlzIHRoZSBzZXQgdGhhdCB3b3VsZCBiZWxvbmcgdG8gdGhlIHJvb3QncyBwYXJlbnQsIGlmXG4gICAgICAvLyBpdCBoYWQgb25lOyB0aGF0IGlzLCBhbGwgdGhlIGVmZmVjdHMgaW4gdGhlIHRyZWUgaW5jbHVkaW5nIHRoZSByb290LlxuICAgICAgaWYgKGZpbmlzaGVkV29yay5sYXN0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICAgIGZpbmlzaGVkV29yay5sYXN0RWZmZWN0Lm5leHRFZmZlY3QgPSBmaW5pc2hlZFdvcms7XG4gICAgICAgIGZpcnN0RWZmZWN0ID0gZmluaXNoZWRXb3JrLmZpcnN0RWZmZWN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlyc3RFZmZlY3QgPSBmaW5pc2hlZFdvcms7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZXJlIGlzIG5vIGVmZmVjdCBvbiB0aGUgcm9vdC5cbiAgICAgIGZpcnN0RWZmZWN0ID0gZmluaXNoZWRXb3JrLmZpcnN0RWZmZWN0O1xuICAgIH1cblxuICAgIHByZXBhcmVGb3JDb21taXQocm9vdC5jb250YWluZXJJbmZvKTtcblxuICAgIC8vIENvbW1pdCBhbGwgdGhlIHNpZGUtZWZmZWN0cyB3aXRoaW4gYSB0cmVlLiBXZSdsbCBkbyB0aGlzIGluIHR3byBwYXNzZXMuXG4gICAgLy8gVGhlIGZpcnN0IHBhc3MgcGVyZm9ybXMgYWxsIHRoZSBob3N0IGluc2VydGlvbnMsIHVwZGF0ZXMsIGRlbGV0aW9ucyBhbmRcbiAgICAvLyByZWYgdW5tb3VudHMuXG4gICAgbmV4dEVmZmVjdCA9IGZpcnN0RWZmZWN0O1xuICAgIHN0YXJ0Q29tbWl0SG9zdEVmZmVjdHNUaW1lcigpO1xuICAgIHdoaWxlIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICB2YXIgZGlkRXJyb3IgPSBmYWxzZTtcbiAgICAgIHZhciBlcnJvciA9IHZvaWQgMDtcbiAgICAgIHtcbiAgICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDIobnVsbCwgY29tbWl0QWxsSG9zdEVmZmVjdHMsIG51bGwpO1xuICAgICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IoKSkge1xuICAgICAgICAgIGRpZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICBlcnJvciA9IGNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRpZEVycm9yKSB7XG4gICAgICAgIGludmFyaWFudChcbiAgICAgICAgICBuZXh0RWZmZWN0ICE9PSBudWxsLFxuICAgICAgICAgIFwiU2hvdWxkIGhhdmUgbmV4dCBlZmZlY3QuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBcIiArXG4gICAgICAgICAgICBcImluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgICAgICBvbkNvbW1pdFBoYXNlRXJyb3IobmV4dEVmZmVjdCwgZXJyb3IpO1xuICAgICAgICAvLyBDbGVhbi11cFxuICAgICAgICBpZiAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgIG5leHRFZmZlY3QgPSBuZXh0RWZmZWN0Lm5leHRFZmZlY3Q7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc3RvcENvbW1pdEhvc3RFZmZlY3RzVGltZXIoKTtcblxuICAgIHJlc2V0QWZ0ZXJDb21taXQocm9vdC5jb250YWluZXJJbmZvKTtcblxuICAgIC8vIFRoZSB3b3JrLWluLXByb2dyZXNzIHRyZWUgaXMgbm93IHRoZSBjdXJyZW50IHRyZWUuIFRoaXMgbXVzdCBjb21lIGFmdGVyXG4gICAgLy8gdGhlIGZpcnN0IHBhc3Mgb2YgdGhlIGNvbW1pdCBwaGFzZSwgc28gdGhhdCB0aGUgcHJldmlvdXMgdHJlZSBpcyBzdGlsbFxuICAgIC8vIGN1cnJlbnQgZHVyaW5nIGNvbXBvbmVudFdpbGxVbm1vdW50LCBidXQgYmVmb3JlIHRoZSBzZWNvbmQgcGFzcywgc28gdGhhdFxuICAgIC8vIHRoZSBmaW5pc2hlZCB3b3JrIGlzIGN1cnJlbnQgZHVyaW5nIGNvbXBvbmVudERpZE1vdW50L1VwZGF0ZS5cbiAgICByb290LmN1cnJlbnQgPSBmaW5pc2hlZFdvcms7XG5cbiAgICAvLyBJbiB0aGUgc2Vjb25kIHBhc3Mgd2UnbGwgcGVyZm9ybSBhbGwgbGlmZS1jeWNsZXMgYW5kIHJlZiBjYWxsYmFja3MuXG4gICAgLy8gTGlmZS1jeWNsZXMgaGFwcGVuIGFzIGEgc2VwYXJhdGUgcGFzcyBzbyB0aGF0IGFsbCBwbGFjZW1lbnRzLCB1cGRhdGVzLFxuICAgIC8vIGFuZCBkZWxldGlvbnMgaW4gdGhlIGVudGlyZSB0cmVlIGhhdmUgYWxyZWFkeSBiZWVuIGludm9rZWQuXG4gICAgLy8gVGhpcyBwYXNzIGFsc28gdHJpZ2dlcnMgYW55IHJlbmRlcmVyLXNwZWNpZmljIGluaXRpYWwgZWZmZWN0cy5cbiAgICBuZXh0RWZmZWN0ID0gZmlyc3RFZmZlY3Q7XG4gICAgc3RhcnRDb21taXRMaWZlQ3ljbGVzVGltZXIoKTtcbiAgICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgdmFyIF9kaWRFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIF9lcnJvciA9IHZvaWQgMDtcbiAgICAgIHtcbiAgICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDIoXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBjb21taXRBbGxMaWZlQ3ljbGVzLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcm9vdCxcbiAgICAgICAgICBjdXJyZW50VGltZSxcbiAgICAgICAgICBjb21taXR0ZWRFeHBpcmF0aW9uVGltZVxuICAgICAgICApO1xuICAgICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IoKSkge1xuICAgICAgICAgIF9kaWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgX2Vycm9yID0gY2xlYXJDYXVnaHRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoX2RpZEVycm9yKSB7XG4gICAgICAgIGludmFyaWFudChcbiAgICAgICAgICBuZXh0RWZmZWN0ICE9PSBudWxsLFxuICAgICAgICAgIFwiU2hvdWxkIGhhdmUgbmV4dCBlZmZlY3QuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBcIiArXG4gICAgICAgICAgICBcImluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgICAgICBvbkNvbW1pdFBoYXNlRXJyb3IobmV4dEVmZmVjdCwgX2Vycm9yKTtcbiAgICAgICAgaWYgKG5leHRFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgICBuZXh0RWZmZWN0ID0gbmV4dEVmZmVjdC5uZXh0RWZmZWN0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaXNDb21taXR0aW5nID0gZmFsc2U7XG4gICAgaXNXb3JraW5nID0gZmFsc2U7XG4gICAgc3RvcENvbW1pdExpZmVDeWNsZXNUaW1lcigpO1xuICAgIHN0b3BDb21taXRUaW1lcigpO1xuICAgIGlmICh0eXBlb2Ygb25Db21taXRSb290ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIG9uQ29tbWl0Um9vdChmaW5pc2hlZFdvcmsuc3RhdGVOb2RlKTtcbiAgICB9XG4gICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbC5vbkNvbW1pdFdvcmsoZmluaXNoZWRXb3JrKTtcbiAgICB9XG5cbiAgICB2YXIgcmVtYWluaW5nVGltZSA9IHJvb3QuY3VycmVudC5leHBpcmF0aW9uVGltZTtcbiAgICBpZiAocmVtYWluaW5nVGltZSA9PT0gTm9Xb3JrKSB7XG4gICAgICAvLyBJZiB0aGVyZSdzIG5vIHJlbWFpbmluZyB3b3JrLCB3ZSBjYW4gY2xlYXIgdGhlIHNldCBvZiBhbHJlYWR5IGZhaWxlZFxuICAgICAgLy8gZXJyb3IgYm91bmRhcmllcy5cbiAgICAgIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHJlbWFpbmluZ1RpbWU7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldEV4cGlyYXRpb25UaW1lKHdvcmtJblByb2dyZXNzLCByZW5kZXJUaW1lKSB7XG4gICAgaWYgKHJlbmRlclRpbWUgIT09IE5ldmVyICYmIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID09PSBOZXZlcikge1xuICAgICAgLy8gVGhlIGNoaWxkcmVuIG9mIHRoaXMgY29tcG9uZW50IGFyZSBoaWRkZW4uIERvbid0IGJ1YmJsZSB0aGVpclxuICAgICAgLy8gZXhwaXJhdGlvbiB0aW1lcy5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgcGVuZGluZyB1cGRhdGVzLlxuICAgIHZhciBuZXdFeHBpcmF0aW9uVGltZSA9IGdldFVwZGF0ZUV4cGlyYXRpb25UaW1lKHdvcmtJblByb2dyZXNzKTtcblxuICAgIC8vIFRPRE86IENhbGxzIG5lZWQgdG8gdmlzaXQgc3RhdGVOb2RlXG5cbiAgICAvLyBCdWJibGUgdXAgdGhlIGVhcmxpZXN0IGV4cGlyYXRpb24gdGltZS5cbiAgICB2YXIgY2hpbGQgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB3aGlsZSAoY2hpbGQgIT09IG51bGwpIHtcbiAgICAgIGlmIChcbiAgICAgICAgY2hpbGQuZXhwaXJhdGlvblRpbWUgIT09IE5vV29yayAmJlxuICAgICAgICAobmV3RXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fFxuICAgICAgICAgIG5ld0V4cGlyYXRpb25UaW1lID4gY2hpbGQuZXhwaXJhdGlvblRpbWUpXG4gICAgICApIHtcbiAgICAgICAgbmV3RXhwaXJhdGlvblRpbWUgPSBjaGlsZC5leHBpcmF0aW9uVGltZTtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgICB9XG4gICAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPSBuZXdFeHBpcmF0aW9uVGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlVW5pdE9mV29yayh3b3JrSW5Qcm9ncmVzcykge1xuICAgIC8vIEF0dGVtcHQgdG8gY29tcGxldGUgdGhlIGN1cnJlbnQgdW5pdCBvZiB3b3JrLCB0aGVuIG1vdmUgdG8gdGhlXG4gICAgLy8gbmV4dCBzaWJsaW5nLiBJZiB0aGVyZSBhcmUgbm8gbW9yZSBzaWJsaW5ncywgcmV0dXJuIHRvIHRoZVxuICAgIC8vIHBhcmVudCBmaWJlci5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgLy8gVGhlIGN1cnJlbnQsIGZsdXNoZWQsIHN0YXRlIG9mIHRoaXMgZmliZXIgaXMgdGhlIGFsdGVybmF0ZS5cbiAgICAgIC8vIElkZWFsbHkgbm90aGluZyBzaG91bGQgcmVseSBvbiB0aGlzLCBidXQgcmVseWluZyBvbiBpdCBoZXJlXG4gICAgICAvLyBtZWFucyB0aGF0IHdlIGRvbid0IG5lZWQgYW4gYWRkaXRpb25hbCBmaWVsZCBvbiB0aGUgd29yayBpblxuICAgICAgLy8gcHJvZ3Jlc3MuXG4gICAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcbiAgICAgIHtcbiAgICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50RmliZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzc1tcInJldHVyblwiXTtcbiAgICAgIHZhciBzaWJsaW5nRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5zaWJsaW5nO1xuXG4gICAgICBpZiAoKHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmIEluY29tcGxldGUpID09PSBOb0VmZmVjdCkge1xuICAgICAgICAvLyBUaGlzIGZpYmVyIGNvbXBsZXRlZC5cbiAgICAgICAgdmFyIG5leHQgPSBjb21wbGV0ZVdvcmsoXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICAgKTtcbiAgICAgICAgc3RvcFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJlc2V0RXhwaXJhdGlvblRpbWUod29ya0luUHJvZ3Jlc3MsIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICAgIHtcbiAgICAgICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnJlc2V0Q3VycmVudEZpYmVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV4dCAhPT0gbnVsbCkge1xuICAgICAgICAgIHN0b3BXb3JrVGltZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGlmICh0cnVlICYmIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wpIHtcbiAgICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Db21wbGV0ZVdvcmsoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJZiBjb21wbGV0aW5nIHRoaXMgd29yayBzcGF3bmVkIG5ldyB3b3JrLCBkbyB0aGF0IG5leHQuIFdlJ2xsIGNvbWVcbiAgICAgICAgICAvLyBiYWNrIGhlcmUgYWdhaW4uXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgcmV0dXJuRmliZXIgIT09IG51bGwgJiZcbiAgICAgICAgICAvLyBEbyBub3QgYXBwZW5kIGVmZmVjdHMgdG8gcGFyZW50cyBpZiBhIHNpYmxpbmcgZmFpbGVkIHRvIGNvbXBsZXRlXG4gICAgICAgICAgKHJldHVybkZpYmVyLmVmZmVjdFRhZyAmIEluY29tcGxldGUpID09PSBOb0VmZmVjdFxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBBcHBlbmQgYWxsIHRoZSBlZmZlY3RzIG9mIHRoZSBzdWJ0cmVlIGFuZCB0aGlzIGZpYmVyIG9udG8gdGhlIGVmZmVjdFxuICAgICAgICAgIC8vIGxpc3Qgb2YgdGhlIHBhcmVudC4gVGhlIGNvbXBsZXRpb24gb3JkZXIgb2YgdGhlIGNoaWxkcmVuIGFmZmVjdHMgdGhlXG4gICAgICAgICAgLy8gc2lkZS1lZmZlY3Qgb3JkZXIuXG4gICAgICAgICAgaWYgKHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MubGFzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHJldHVybkZpYmVyLmxhc3RFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdC5uZXh0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3MuZmlyc3RFZmZlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3MubGFzdEVmZmVjdDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJZiB0aGlzIGZpYmVyIGhhZCBzaWRlLWVmZmVjdHMsIHdlIGFwcGVuZCBpdCBBRlRFUiB0aGUgY2hpbGRyZW4nc1xuICAgICAgICAgIC8vIHNpZGUtZWZmZWN0cy4gV2UgY2FuIHBlcmZvcm0gY2VydGFpbiBzaWRlLWVmZmVjdHMgZWFybGllciBpZlxuICAgICAgICAgIC8vIG5lZWRlZCwgYnkgZG9pbmcgbXVsdGlwbGUgcGFzc2VzIG92ZXIgdGhlIGVmZmVjdCBsaXN0LiBXZSBkb24ndCB3YW50XG4gICAgICAgICAgLy8gdG8gc2NoZWR1bGUgb3VyIG93biBzaWRlLWVmZmVjdCBvbiBvdXIgb3duIGxpc3QgYmVjYXVzZSBpZiBlbmQgdXBcbiAgICAgICAgICAvLyByZXVzaW5nIGNoaWxkcmVuIHdlJ2xsIHNjaGVkdWxlIHRoaXMgZWZmZWN0IG9udG8gaXRzZWxmIHNpbmNlIHdlJ3JlXG4gICAgICAgICAgLy8gYXQgdGhlIGVuZC5cbiAgICAgICAgICB2YXIgZWZmZWN0VGFnID0gd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnO1xuICAgICAgICAgIC8vIFNraXAgYm90aCBOb1dvcmsgYW5kIFBlcmZvcm1lZFdvcmsgdGFncyB3aGVuIGNyZWF0aW5nIHRoZSBlZmZlY3QgbGlzdC5cbiAgICAgICAgICAvLyBQZXJmb3JtZWRXb3JrIGVmZmVjdCBpcyByZWFkIGJ5IFJlYWN0IERldlRvb2xzIGJ1dCBzaG91bGRuJ3QgYmUgY29tbWl0dGVkLlxuICAgICAgICAgIGlmIChlZmZlY3RUYWcgPiBQZXJmb3JtZWRXb3JrKSB7XG4gICAgICAgICAgICBpZiAocmV0dXJuRmliZXIubGFzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0Lm5leHRFZmZlY3QgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Db21wbGV0ZVdvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNpYmxpbmdGaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG1vcmUgd29yayB0byBkbyBpbiB0aGlzIHJldHVybkZpYmVyLCBkbyB0aGF0IG5leHQuXG4gICAgICAgICAgcmV0dXJuIHNpYmxpbmdGaWJlcjtcbiAgICAgICAgfSBlbHNlIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gbW9yZSB3b3JrIGluIHRoaXMgcmV0dXJuRmliZXIuIENvbXBsZXRlIHRoZSByZXR1cm5GaWJlci5cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFdlJ3ZlIHJlYWNoZWQgdGhlIHJvb3QuXG4gICAgICAgICAgaXNSb290UmVhZHlGb3JDb21taXQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGlzIGZpYmVyIGRpZCBub3QgY29tcGxldGUgYmVjYXVzZSBzb21ldGhpbmcgdGhyZXcuIFBvcCB2YWx1ZXMgb2ZmXG4gICAgICAgIC8vIHRoZSBzdGFjayB3aXRob3V0IGVudGVyaW5nIHRoZSBjb21wbGV0ZSBwaGFzZS4gSWYgdGhpcyBpcyBhIGJvdW5kYXJ5LFxuICAgICAgICAvLyBjYXB0dXJlIHZhbHVlcyBpZiBwb3NzaWJsZS5cbiAgICAgICAgdmFyIF9uZXh0ID0gdW53aW5kV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIC8vIEJlY2F1c2UgdGhpcyBmaWJlciBkaWQgbm90IGNvbXBsZXRlLCBkb24ndCByZXNldCBpdHMgZXhwaXJhdGlvbiB0aW1lLlxuICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnICYgRGlkQ2FwdHVyZSkge1xuICAgICAgICAgIC8vIFJlc3RhcnRpbmcgYW4gZXJyb3IgYm91bmRhcnlcbiAgICAgICAgICBzdG9wRmFpbGVkV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdG9wV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHtcbiAgICAgICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnJlc2V0Q3VycmVudEZpYmVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX25leHQgIT09IG51bGwpIHtcbiAgICAgICAgICBzdG9wV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBpZiAodHJ1ZSAmJiBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uQ29tcGxldGVXb3JrKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSWYgY29tcGxldGluZyB0aGlzIHdvcmsgc3Bhd25lZCBuZXcgd29yaywgZG8gdGhhdCBuZXh0LiBXZSdsbCBjb21lXG4gICAgICAgICAgLy8gYmFjayBoZXJlIGFnYWluLlxuICAgICAgICAgIC8vIFNpbmNlIHdlJ3JlIHJlc3RhcnRpbmcsIHJlbW92ZSBhbnl0aGluZyB0aGF0IGlzIG5vdCBhIGhvc3QgZWZmZWN0XG4gICAgICAgICAgLy8gZnJvbSB0aGUgZWZmZWN0IHRhZy5cbiAgICAgICAgICBfbmV4dC5lZmZlY3RUYWcgJj0gSG9zdEVmZmVjdE1hc2s7XG4gICAgICAgICAgcmV0dXJuIF9uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJldHVybkZpYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gTWFyayB0aGUgcGFyZW50IGZpYmVyIGFzIGluY29tcGxldGUgYW5kIGNsZWFyIGl0cyBlZmZlY3QgbGlzdC5cbiAgICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IHJldHVybkZpYmVyLmxhc3RFZmZlY3QgPSBudWxsO1xuICAgICAgICAgIHJldHVybkZpYmVyLmVmZmVjdFRhZyB8PSBJbmNvbXBsZXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Db21wbGV0ZVdvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNpYmxpbmdGaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG1vcmUgd29yayB0byBkbyBpbiB0aGlzIHJldHVybkZpYmVyLCBkbyB0aGF0IG5leHQuXG4gICAgICAgICAgcmV0dXJuIHNpYmxpbmdGaWJlcjtcbiAgICAgICAgfSBlbHNlIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gbW9yZSB3b3JrIGluIHRoaXMgcmV0dXJuRmliZXIuIENvbXBsZXRlIHRoZSByZXR1cm5GaWJlci5cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2l0aG91dCB0aGlzIGV4cGxpY2l0IG51bGwgcmV0dXJuIEZsb3cgY29tcGxhaW5zIG9mIGludmFsaWQgcmV0dXJuIHR5cGVcbiAgICAvLyBUT0RPIFJlbW92ZSB0aGUgYWJvdmUgd2hpbGUodHJ1ZSkgbG9vcFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnJlYWNoYWJsZVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVyZm9ybVVuaXRPZldvcmsod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAvLyBUaGUgY3VycmVudCwgZmx1c2hlZCwgc3RhdGUgb2YgdGhpcyBmaWJlciBpcyB0aGUgYWx0ZXJuYXRlLlxuICAgIC8vIElkZWFsbHkgbm90aGluZyBzaG91bGQgcmVseSBvbiB0aGlzLCBidXQgcmVseWluZyBvbiBpdCBoZXJlXG4gICAgLy8gbWVhbnMgdGhhdCB3ZSBkb24ndCBuZWVkIGFuIGFkZGl0aW9uYWwgZmllbGQgb24gdGhlIHdvcmsgaW5cbiAgICAvLyBwcm9ncmVzcy5cbiAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcblxuICAgIC8vIFNlZSBpZiBiZWdpbm5pbmcgdGhpcyB3b3JrIHNwYXducyBtb3JlIHdvcmsuXG4gICAgc3RhcnRXb3JrVGltZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudEZpYmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAodHJ1ZSAmJiByZXBsYXlGYWlsZWRVbml0T2ZXb3JrV2l0aEludm9rZUd1YXJkZWRDYWxsYmFjaykge1xuICAgICAgc3Rhc2hlZFdvcmtJblByb2dyZXNzUHJvcGVydGllcyA9IE9iamVjdC5hc3NpZ24oe30sIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgdmFyIG5leHQgPSBiZWdpbldvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSk7XG5cbiAgICB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnJlc2V0Q3VycmVudEZpYmVyKCk7XG4gICAgfVxuICAgIGlmICh0cnVlICYmIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wpIHtcbiAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25CZWdpbldvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChuZXh0ID09PSBudWxsKSB7XG4gICAgICAvLyBJZiB0aGlzIGRvZXNuJ3Qgc3Bhd24gbmV3IHdvcmssIGNvbXBsZXRlIHRoZSBjdXJyZW50IHdvcmsuXG4gICAgICBuZXh0ID0gY29tcGxldGVVbml0T2ZXb3JrKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gbnVsbDtcblxuICAgIHJldHVybiBuZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gd29ya0xvb3AoaXNBc3luYykge1xuICAgIGlmICghaXNBc3luYykge1xuICAgICAgLy8gRmx1c2ggYWxsIGV4cGlyZWQgd29yay5cbiAgICAgIHdoaWxlIChuZXh0VW5pdE9mV29yayAhPT0gbnVsbCkge1xuICAgICAgICBuZXh0VW5pdE9mV29yayA9IHBlcmZvcm1Vbml0T2ZXb3JrKG5leHRVbml0T2ZXb3JrKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmx1c2ggYXN5bmNocm9ub3VzIHdvcmsgdW50aWwgdGhlIGRlYWRsaW5lIHJ1bnMgb3V0IG9mIHRpbWUuXG4gICAgICB3aGlsZSAobmV4dFVuaXRPZldvcmsgIT09IG51bGwgJiYgIXNob3VsZFlpZWxkKCkpIHtcbiAgICAgICAgbmV4dFVuaXRPZldvcmsgPSBwZXJmb3JtVW5pdE9mV29yayhuZXh0VW5pdE9mV29yayk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyUm9vdChyb290LCBleHBpcmF0aW9uVGltZSwgaXNBc3luYykge1xuICAgIGludmFyaWFudChcbiAgICAgICFpc1dvcmtpbmcsXG4gICAgICBcInJlbmRlclJvb3Qgd2FzIGNhbGxlZCByZWN1cnNpdmVseS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIFwiICtcbiAgICAgICAgXCJieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICApO1xuICAgIGlzV29ya2luZyA9IHRydWU7XG5cbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBzdGFydGluZyBmcm9tIGEgZnJlc2ggc3RhY2ssIG9yIGlmIHdlJ3JlIHJlc3VtaW5nIGZyb21cbiAgICAvLyBwcmV2aW91c2x5IHlpZWxkZWQgd29yay5cbiAgICBpZiAoXG4gICAgICBleHBpcmF0aW9uVGltZSAhPT0gbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lIHx8XG4gICAgICByb290ICE9PSBuZXh0Um9vdCB8fFxuICAgICAgbmV4dFVuaXRPZldvcmsgPT09IG51bGxcbiAgICApIHtcbiAgICAgIC8vIFJlc2V0IHRoZSBzdGFjayBhbmQgc3RhcnQgd29ya2luZyBmcm9tIHRoZSByb290LlxuICAgICAgcmVzZXRDb250ZXh0U3RhY2soKTtcbiAgICAgIG5leHRSb290ID0gcm9vdDtcbiAgICAgIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgbmV4dFVuaXRPZldvcmsgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhcbiAgICAgICAgbmV4dFJvb3QuY3VycmVudCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgICAgcm9vdC5wZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gICAgfVxuXG4gICAgdmFyIGRpZEZhdGFsID0gZmFsc2U7XG5cbiAgICBzdGFydFdvcmtMb29wVGltZXIobmV4dFVuaXRPZldvcmspO1xuXG4gICAgZG8ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd29ya0xvb3AoaXNBc3luYyk7XG4gICAgICB9IGNhdGNoICh0aHJvd25WYWx1ZSkge1xuICAgICAgICBpZiAobmV4dFVuaXRPZldvcmsgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGEgZmF0YWwgZXJyb3IuXG4gICAgICAgICAgZGlkRmF0YWwgPSB0cnVlO1xuICAgICAgICAgIG9uVW5jYXVnaHRFcnJvcih0aHJvd25WYWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJ1ZSAmJiByZXBsYXlGYWlsZWRVbml0T2ZXb3JrV2l0aEludm9rZUd1YXJkZWRDYWxsYmFjaykge1xuICAgICAgICAgIHZhciBmYWlsZWRVbml0T2ZXb3JrID0gbmV4dFVuaXRPZldvcms7XG4gICAgICAgICAgcmVwbGF5VW5pdE9mV29yayhmYWlsZWRVbml0T2ZXb3JrLCBpc0FzeW5jKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzb3VyY2VGaWJlciA9IG5leHRVbml0T2ZXb3JrO1xuICAgICAgICB2YXIgcmV0dXJuRmliZXIgPSBzb3VyY2VGaWJlcltcInJldHVyblwiXTtcbiAgICAgICAgaWYgKHJldHVybkZpYmVyID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBhIGZhdGFsIGVycm9yLlxuICAgICAgICAgIGRpZEZhdGFsID0gdHJ1ZTtcbiAgICAgICAgICBvblVuY2F1Z2h0RXJyb3IodGhyb3duVmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRocm93RXhjZXB0aW9uKHJldHVybkZpYmVyLCBzb3VyY2VGaWJlciwgdGhyb3duVmFsdWUpO1xuICAgICAgICBuZXh0VW5pdE9mV29yayA9IGNvbXBsZXRlVW5pdE9mV29yayhzb3VyY2VGaWJlcik7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9IHdoaWxlICh0cnVlKTtcblxuICAgIC8vIFdlJ3JlIGRvbmUgcGVyZm9ybWluZyB3b3JrLiBUaW1lIHRvIGNsZWFuIHVwLlxuICAgIHN0b3BXb3JrTG9vcFRpbWVyKGludGVycnVwdGVkQnkpO1xuICAgIGludGVycnVwdGVkQnkgPSBudWxsO1xuICAgIGlzV29ya2luZyA9IGZhbHNlO1xuXG4gICAgLy8gWWllbGQgYmFjayB0byBtYWluIHRocmVhZC5cbiAgICBpZiAoZGlkRmF0YWwpIHtcbiAgICAgIC8vIFRoZXJlIHdhcyBhIGZhdGFsIGVycm9yLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIGlmIChuZXh0VW5pdE9mV29yayA9PT0gbnVsbCkge1xuICAgICAgLy8gV2UgcmVhY2hlZCB0aGUgcm9vdC5cbiAgICAgIGlmIChpc1Jvb3RSZWFkeUZvckNvbW1pdCkge1xuICAgICAgICAvLyBUaGUgcm9vdCBzdWNjZXNzZnVsbHkgY29tcGxldGVkLiBJdCdzIHJlYWR5IGZvciBjb21taXQuXG4gICAgICAgIHJvb3QucGVuZGluZ0NvbW1pdEV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICAgIHZhciBmaW5pc2hlZFdvcmsgPSByb290LmN1cnJlbnQuYWx0ZXJuYXRlO1xuICAgICAgICByZXR1cm4gZmluaXNoZWRXb3JrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhlIHJvb3QgZGlkIG5vdCBjb21wbGV0ZS5cbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiRXhwaXJlZCB3b3JrIHNob3VsZCBoYXZlIGNvbXBsZXRlZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIFwiICtcbiAgICAgICAgICAgIFwiYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZXJlJ3MgbW9yZSB3b3JrIHRvIGRvLCBidXQgd2UgcmFuIG91dCBvZiB0aW1lLiBZaWVsZCBiYWNrIHRvXG4gICAgICAvLyB0aGUgcmVuZGVyZXIuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY2hlZHVsZUNhcHR1cmUoc291cmNlRmliZXIsIGJvdW5kYXJ5RmliZXIsIHZhbHVlLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFRPRE86IFdlIG9ubHkgc3VwcG9ydCBkaXNwYXRjaGluZyBlcnJvcnMuXG4gICAgdmFyIGNhcHR1cmVkVmFsdWUgPSBjcmVhdGVDYXB0dXJlZFZhbHVlKHZhbHVlLCBzb3VyY2VGaWJlcik7XG4gICAgdmFyIHVwZGF0ZSA9IHtcbiAgICAgIGV4cGlyYXRpb25UaW1lOiBleHBpcmF0aW9uVGltZSxcbiAgICAgIHBhcnRpYWxTdGF0ZTogbnVsbCxcbiAgICAgIGNhbGxiYWNrOiBudWxsLFxuICAgICAgaXNSZXBsYWNlOiBmYWxzZSxcbiAgICAgIGlzRm9yY2VkOiBmYWxzZSxcbiAgICAgIGNhcHR1cmVkVmFsdWU6IGNhcHR1cmVkVmFsdWUsXG4gICAgICBuZXh0OiBudWxsXG4gICAgfTtcbiAgICBpbnNlcnRVcGRhdGVJbnRvRmliZXIoYm91bmRhcnlGaWJlciwgdXBkYXRlKTtcbiAgICBzY2hlZHVsZVdvcmsoYm91bmRhcnlGaWJlciwgZXhwaXJhdGlvblRpbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGlzcGF0Y2goc291cmNlRmliZXIsIHZhbHVlLCBleHBpcmF0aW9uVGltZSkge1xuICAgIGludmFyaWFudChcbiAgICAgICFpc1dvcmtpbmcgfHwgaXNDb21taXR0aW5nLFxuICAgICAgXCJkaXNwYXRjaDogQ2Fubm90IGRpc3BhdGNoIGR1cmluZyB0aGUgcmVuZGVyIHBoYXNlLlwiXG4gICAgKTtcblxuICAgIC8vIFRPRE86IEhhbmRsZSBhcnJheXNcblxuICAgIHZhciBmaWJlciA9IHNvdXJjZUZpYmVyW1wicmV0dXJuXCJdO1xuICAgIHdoaWxlIChmaWJlciAhPT0gbnVsbCkge1xuICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgICB2YXIgY3RvciA9IGZpYmVyLnR5cGU7XG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgICAgICAgICAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZENhdGNoID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgIWlzQWxyZWFkeUZhaWxlZExlZ2FjeUVycm9yQm91bmRhcnkoaW5zdGFuY2UpKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2NoZWR1bGVDYXB0dXJlKHNvdXJjZUZpYmVyLCBmaWJlciwgdmFsdWUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIFRPRE86IEhhbmRsZSBhc3luYyBib3VuZGFyaWVzXG4gICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgc2NoZWR1bGVDYXB0dXJlKHNvdXJjZUZpYmVyLCBmaWJlciwgdmFsdWUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmaWJlciA9IGZpYmVyW1wicmV0dXJuXCJdO1xuICAgIH1cblxuICAgIGlmIChzb3VyY2VGaWJlci50YWcgPT09IEhvc3RSb290KSB7XG4gICAgICAvLyBFcnJvciB3YXMgdGhyb3duIGF0IHRoZSByb290LiBUaGVyZSBpcyBubyBwYXJlbnQsIHNvIHRoZSByb290XG4gICAgICAvLyBpdHNlbGYgc2hvdWxkIGNhcHR1cmUgaXQuXG4gICAgICBzY2hlZHVsZUNhcHR1cmUoc291cmNlRmliZXIsIHNvdXJjZUZpYmVyLCB2YWx1ZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ29tbWl0UGhhc2VFcnJvcihmaWJlciwgZXJyb3IpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goZmliZXIsIGVycm9yLCBTeW5jKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXB1dGVBc3luY0V4cGlyYXRpb24oY3VycmVudFRpbWUpIHtcbiAgICAvLyBHaXZlbiB0aGUgY3VycmVudCBjbG9jayB0aW1lLCByZXR1cm5zIGFuIGV4cGlyYXRpb24gdGltZS4gV2UgdXNlIHJvdW5kaW5nXG4gICAgLy8gdG8gYmF0Y2ggbGlrZSB1cGRhdGVzIHRvZ2V0aGVyLlxuICAgIC8vIFNob3VsZCBjb21wbGV0ZSB3aXRoaW4gfjEwMDBtcy4gMTIwMG1zIG1heC5cbiAgICB2YXIgZXhwaXJhdGlvbk1zID0gNTAwMDtcbiAgICB2YXIgYnVja2V0U2l6ZU1zID0gMjUwO1xuICAgIHJldHVybiBjb21wdXRlRXhwaXJhdGlvbkJ1Y2tldChjdXJyZW50VGltZSwgZXhwaXJhdGlvbk1zLCBidWNrZXRTaXplTXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcHV0ZUludGVyYWN0aXZlRXhwaXJhdGlvbihjdXJyZW50VGltZSkge1xuICAgIC8vIFNob3VsZCBjb21wbGV0ZSB3aXRoaW4gfjUwMG1zLiA2MDBtcyBtYXguXG4gICAgdmFyIGV4cGlyYXRpb25NcyA9IDUwMDtcbiAgICB2YXIgYnVja2V0U2l6ZU1zID0gMTAwO1xuICAgIHJldHVybiBjb21wdXRlRXhwaXJhdGlvbkJ1Y2tldChjdXJyZW50VGltZSwgZXhwaXJhdGlvbk1zLCBidWNrZXRTaXplTXMpO1xuICB9XG5cbiAgLy8gQ3JlYXRlcyBhIHVuaXF1ZSBhc3luYyBleHBpcmF0aW9uIHRpbWUuXG4gIGZ1bmN0aW9uIGNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb24oKSB7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgIHZhciByZXN1bHQgPSBjb21wdXRlQXN5bmNFeHBpcmF0aW9uKGN1cnJlbnRUaW1lKTtcbiAgICBpZiAocmVzdWx0IDw9IGxhc3RVbmlxdWVBc3luY0V4cGlyYXRpb24pIHtcbiAgICAgIC8vIFNpbmNlIHdlIGFzc3VtZSB0aGUgY3VycmVudCB0aW1lIG1vbm90b25pY2FsbHkgaW5jcmVhc2VzLCB3ZSBvbmx5IGhpdFxuICAgICAgLy8gdGhpcyBicmFuY2ggd2hlbiBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uIGlzIGZpcmVkIG11bHRpcGxlIHRpbWVzXG4gICAgICAvLyB3aXRoaW4gYSAyMDBtcyB3aW5kb3cgKG9yIHdoYXRldmVyIHRoZSBhc3luYyBidWNrZXQgc2l6ZSBpcykuXG4gICAgICByZXN1bHQgPSBsYXN0VW5pcXVlQXN5bmNFeHBpcmF0aW9uICsgMTtcbiAgICB9XG4gICAgbGFzdFVuaXF1ZUFzeW5jRXhwaXJhdGlvbiA9IHJlc3VsdDtcbiAgICByZXR1cm4gbGFzdFVuaXF1ZUFzeW5jRXhwaXJhdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoZmliZXIpIHtcbiAgICB2YXIgZXhwaXJhdGlvblRpbWUgPSB2b2lkIDA7XG4gICAgaWYgKGV4cGlyYXRpb25Db250ZXh0ICE9PSBOb1dvcmspIHtcbiAgICAgIC8vIEFuIGV4cGxpY2l0IGV4cGlyYXRpb24gY29udGV4dCB3YXMgc2V0O1xuICAgICAgZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uQ29udGV4dDtcbiAgICB9IGVsc2UgaWYgKGlzV29ya2luZykge1xuICAgICAgaWYgKGlzQ29tbWl0dGluZykge1xuICAgICAgICAvLyBVcGRhdGVzIHRoYXQgb2NjdXIgZHVyaW5nIHRoZSBjb21taXQgcGhhc2Ugc2hvdWxkIGhhdmUgc3luYyBwcmlvcml0eVxuICAgICAgICAvLyBieSBkZWZhdWx0LlxuICAgICAgICBleHBpcmF0aW9uVGltZSA9IFN5bmM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVcGRhdGVzIGR1cmluZyB0aGUgcmVuZGVyIHBoYXNlIHNob3VsZCBleHBpcmUgYXQgdGhlIHNhbWUgdGltZSBhc1xuICAgICAgICAvLyB0aGUgd29yayB0aGF0IGlzIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICBleHBpcmF0aW9uVGltZSA9IG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm8gZXhwbGljaXQgZXhwaXJhdGlvbiBjb250ZXh0IHdhcyBzZXQsIGFuZCB3ZSdyZSBub3QgY3VycmVudGx5XG4gICAgICAvLyBwZXJmb3JtaW5nIHdvcmsuIENhbGN1bGF0ZSBhIG5ldyBleHBpcmF0aW9uIHRpbWUuXG4gICAgICBpZiAoZmliZXIubW9kZSAmIEFzeW5jTW9kZSkge1xuICAgICAgICBpZiAoaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcykge1xuICAgICAgICAgIC8vIFRoaXMgaXMgYW4gaW50ZXJhY3RpdmUgdXBkYXRlXG4gICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgICAgICAgIGV4cGlyYXRpb25UaW1lID0gY29tcHV0ZUludGVyYWN0aXZlRXhwaXJhdGlvbihjdXJyZW50VGltZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBhbiBhc3luYyB1cGRhdGVcbiAgICAgICAgICB2YXIgX2N1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgICAgICAgIGV4cGlyYXRpb25UaW1lID0gY29tcHV0ZUFzeW5jRXhwaXJhdGlvbihfY3VycmVudFRpbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGlzIGlzIGEgc3luYyB1cGRhdGVcbiAgICAgICAgZXhwaXJhdGlvblRpbWUgPSBTeW5jO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcykge1xuICAgICAgLy8gVGhpcyBpcyBhbiBpbnRlcmFjdGl2ZSB1cGRhdGUuIEtlZXAgdHJhY2sgb2YgdGhlIGxvd2VzdCBwZW5kaW5nXG4gICAgICAvLyBpbnRlcmFjdGl2ZSBleHBpcmF0aW9uIHRpbWUuIFRoaXMgYWxsb3dzIHVzIHRvIHN5bmNocm9ub3VzbHkgZmx1c2hcbiAgICAgIC8vIGFsbCBpbnRlcmFjdGl2ZSB1cGRhdGVzIHdoZW4gbmVlZGVkLlxuICAgICAgaWYgKFxuICAgICAgICBsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8XG4gICAgICAgIGV4cGlyYXRpb25UaW1lID4gbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWVcbiAgICAgICkge1xuICAgICAgICBsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXhwaXJhdGlvblRpbWU7XG4gIH1cblxuICBmdW5jdGlvbiBzY2hlZHVsZVdvcmsoZmliZXIsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlV29ya0ltcGwoZmliZXIsIGV4cGlyYXRpb25UaW1lLCBmYWxzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzY2hlZHVsZVdvcmtJbXBsKGZpYmVyLCBleHBpcmF0aW9uVGltZSwgaXNFcnJvclJlY292ZXJ5KSB7XG4gICAgcmVjb3JkU2NoZWR1bGVVcGRhdGUoKTtcblxuICAgIHtcbiAgICAgIGlmICghaXNFcnJvclJlY292ZXJ5ICYmIGZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlO1xuICAgICAgICB3YXJuQWJvdXRJbnZhbGlkVXBkYXRlcyhpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG5vZGUgPSBmaWJlcjtcbiAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgLy8gV2FsayB0aGUgcGFyZW50IHBhdGggdG8gdGhlIHJvb3QgYW5kIHVwZGF0ZSBlYWNoIG5vZGUnc1xuICAgICAgLy8gZXhwaXJhdGlvbiB0aW1lLlxuICAgICAgaWYgKFxuICAgICAgICBub2RlLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHxcbiAgICAgICAgbm9kZS5leHBpcmF0aW9uVGltZSA+IGV4cGlyYXRpb25UaW1lXG4gICAgICApIHtcbiAgICAgICAgbm9kZS5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuYWx0ZXJuYXRlICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBub2RlLmFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8XG4gICAgICAgICAgbm9kZS5hbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPiBleHBpcmF0aW9uVGltZVxuICAgICAgICApIHtcbiAgICAgICAgICBub2RlLmFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobm9kZVtcInJldHVyblwiXSA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZS50YWcgPT09IEhvc3RSb290KSB7XG4gICAgICAgICAgdmFyIHJvb3QgPSBub2RlLnN0YXRlTm9kZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaXNXb3JraW5nICYmXG4gICAgICAgICAgICBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUgIT09IE5vV29yayAmJlxuICAgICAgICAgICAgZXhwaXJhdGlvblRpbWUgPCBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYW4gaW50ZXJydXB0aW9uLiAoVXNlZCBmb3IgcGVyZm9ybWFuY2UgdHJhY2tpbmcuKVxuICAgICAgICAgICAgaW50ZXJydXB0ZWRCeSA9IGZpYmVyO1xuICAgICAgICAgICAgcmVzZXRDb250ZXh0U3RhY2soKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5leHRSb290ICE9PSByb290IHx8ICFpc1dvcmtpbmcpIHtcbiAgICAgICAgICAgIHJlcXVlc3RXb3JrKHJvb3QsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5lc3RlZFVwZGF0ZUNvdW50ID4gTkVTVEVEX1VQREFURV9MSU1JVCkge1xuICAgICAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgXCJNYXhpbXVtIHVwZGF0ZSBkZXB0aCBleGNlZWRlZC4gVGhpcyBjYW4gaGFwcGVuIHdoZW4gYSBcIiArXG4gICAgICAgICAgICAgICAgXCJjb21wb25lbnQgcmVwZWF0ZWRseSBjYWxscyBzZXRTdGF0ZSBpbnNpZGUgXCIgK1xuICAgICAgICAgICAgICAgIFwiY29tcG9uZW50V2lsbFVwZGF0ZSBvciBjb21wb25lbnREaWRVcGRhdGUuIFJlYWN0IGxpbWl0cyBcIiArXG4gICAgICAgICAgICAgICAgXCJ0aGUgbnVtYmVyIG9mIG5lc3RlZCB1cGRhdGVzIHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcHMuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmICghaXNFcnJvclJlY292ZXJ5ICYmIGZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgd2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWQoZmliZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlW1wicmV0dXJuXCJdO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKSB7XG4gICAgLy8gU3VidHJhY3QgaW5pdGlhbCB0aW1lIHNvIGl0IGZpdHMgaW5zaWRlIDMyYml0c1xuICAgIG1vc3RSZWNlbnRDdXJyZW50VGltZU1zID0gbm93KCkgLSBvcmlnaW5hbFN0YXJ0VGltZU1zO1xuICAgIG1vc3RSZWNlbnRDdXJyZW50VGltZSA9IG1zVG9FeHBpcmF0aW9uVGltZShtb3N0UmVjZW50Q3VycmVudFRpbWVNcyk7XG4gICAgcmV0dXJuIG1vc3RSZWNlbnRDdXJyZW50VGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZmVycmVkVXBkYXRlcyhmbikge1xuICAgIHZhciBwcmV2aW91c0V4cGlyYXRpb25Db250ZXh0ID0gZXhwaXJhdGlvbkNvbnRleHQ7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgIGV4cGlyYXRpb25Db250ZXh0ID0gY29tcHV0ZUFzeW5jRXhwaXJhdGlvbihjdXJyZW50VGltZSk7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBleHBpcmF0aW9uQ29udGV4dCA9IHByZXZpb3VzRXhwaXJhdGlvbkNvbnRleHQ7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHN5bmNVcGRhdGVzKGZuLCBhLCBiLCBjLCBkKSB7XG4gICAgdmFyIHByZXZpb3VzRXhwaXJhdGlvbkNvbnRleHQgPSBleHBpcmF0aW9uQ29udGV4dDtcbiAgICBleHBpcmF0aW9uQ29udGV4dCA9IFN5bmM7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbihhLCBiLCBjLCBkKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgZXhwaXJhdGlvbkNvbnRleHQgPSBwcmV2aW91c0V4cGlyYXRpb25Db250ZXh0O1xuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IEV2ZXJ5dGhpbmcgYmVsb3cgdGhpcyBpcyB3cml0dGVuIGFzIGlmIGl0IGhhcyBiZWVuIGxpZnRlZCB0byB0aGVcbiAgLy8gcmVuZGVyZXJzLiBJJ2xsIGRvIHRoaXMgaW4gYSBmb2xsb3ctdXAuXG5cbiAgLy8gTGlua2VkLWxpc3Qgb2Ygcm9vdHNcbiAgdmFyIGZpcnN0U2NoZWR1bGVkUm9vdCA9IG51bGw7XG4gIHZhciBsYXN0U2NoZWR1bGVkUm9vdCA9IG51bGw7XG5cbiAgdmFyIGNhbGxiYWNrRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gIHZhciBjYWxsYmFja0lEID0gLTE7XG4gIHZhciBpc1JlbmRlcmluZyA9IGZhbHNlO1xuICB2YXIgbmV4dEZsdXNoZWRSb290ID0gbnVsbDtcbiAgdmFyIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gIHZhciBsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgdmFyIGRlYWRsaW5lRGlkRXhwaXJlID0gZmFsc2U7XG4gIHZhciBoYXNVbmhhbmRsZWRFcnJvciA9IGZhbHNlO1xuICB2YXIgdW5oYW5kbGVkRXJyb3IgPSBudWxsO1xuICB2YXIgZGVhZGxpbmUgPSBudWxsO1xuXG4gIHZhciBpc0JhdGNoaW5nVXBkYXRlcyA9IGZhbHNlO1xuICB2YXIgaXNVbmJhdGNoaW5nVXBkYXRlcyA9IGZhbHNlO1xuICB2YXIgaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcyA9IGZhbHNlO1xuXG4gIHZhciBjb21wbGV0ZWRCYXRjaGVzID0gbnVsbDtcblxuICAvLyBVc2UgdGhlc2UgdG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wIG9mIG5lc3RlZCB1cGRhdGVzXG4gIHZhciBORVNURURfVVBEQVRFX0xJTUlUID0gMTAwMDtcbiAgdmFyIG5lc3RlZFVwZGF0ZUNvdW50ID0gMDtcblxuICB2YXIgdGltZUhldXJpc3RpY0ZvclVuaXRPZldvcmsgPSAxO1xuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlQ2FsbGJhY2tXaXRoRXhwaXJhdGlvbihleHBpcmF0aW9uVGltZSkge1xuICAgIGlmIChjYWxsYmFja0V4cGlyYXRpb25UaW1lICE9PSBOb1dvcmspIHtcbiAgICAgIC8vIEEgY2FsbGJhY2sgaXMgYWxyZWFkeSBzY2hlZHVsZWQuIENoZWNrIGl0cyBleHBpcmF0aW9uIHRpbWUgKHRpbWVvdXQpLlxuICAgICAgaWYgKGV4cGlyYXRpb25UaW1lID4gY2FsbGJhY2tFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICAvLyBFeGlzdGluZyBjYWxsYmFjayBoYXMgc3VmZmljaWVudCB0aW1lb3V0LiBFeGl0LlxuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFeGlzdGluZyBjYWxsYmFjayBoYXMgaW5zdWZmaWNpZW50IHRpbWVvdXQuIENhbmNlbCBhbmQgc2NoZWR1bGUgYVxuICAgICAgICAvLyBuZXcgb25lLlxuICAgICAgICBjYW5jZWxEZWZlcnJlZENhbGxiYWNrKGNhbGxiYWNrSUQpO1xuICAgICAgfVxuICAgICAgLy8gVGhlIHJlcXVlc3QgY2FsbGJhY2sgdGltZXIgaXMgYWxyZWFkeSBydW5uaW5nLiBEb24ndCBzdGFydCBhIG5ldyBvbmUuXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0UmVxdWVzdENhbGxiYWNrVGltZXIoKTtcbiAgICB9XG5cbiAgICAvLyBDb21wdXRlIGEgdGltZW91dCBmb3IgdGhlIGdpdmVuIGV4cGlyYXRpb24gdGltZS5cbiAgICB2YXIgY3VycmVudE1zID0gbm93KCkgLSBvcmlnaW5hbFN0YXJ0VGltZU1zO1xuICAgIHZhciBleHBpcmF0aW9uTXMgPSBleHBpcmF0aW9uVGltZVRvTXMoZXhwaXJhdGlvblRpbWUpO1xuICAgIHZhciB0aW1lb3V0ID0gZXhwaXJhdGlvbk1zIC0gY3VycmVudE1zO1xuXG4gICAgY2FsbGJhY2tFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgIGNhbGxiYWNrSUQgPSBzY2hlZHVsZURlZmVycmVkQ2FsbGJhY2socGVyZm9ybUFzeW5jV29yaywge1xuICAgICAgdGltZW91dDogdGltZW91dFxuICAgIH0pO1xuICB9XG5cbiAgLy8gcmVxdWVzdFdvcmsgaXMgY2FsbGVkIGJ5IHRoZSBzY2hlZHVsZXIgd2hlbmV2ZXIgYSByb290IHJlY2VpdmVzIGFuIHVwZGF0ZS5cbiAgLy8gSXQncyB1cCB0byB0aGUgcmVuZGVyZXIgdG8gY2FsbCByZW5kZXJSb290IGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgZnVuY3Rpb24gcmVxdWVzdFdvcmsocm9vdCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICBhZGRSb290VG9TY2hlZHVsZShyb290LCBleHBpcmF0aW9uVGltZSk7XG5cbiAgICBpZiAoaXNSZW5kZXJpbmcpIHtcbiAgICAgIC8vIFByZXZlbnQgcmVlbnRyYW5jeS4gUmVtYWluaW5nIHdvcmsgd2lsbCBiZSBzY2hlZHVsZWQgYXQgdGhlIGVuZCBvZlxuICAgICAgLy8gdGhlIGN1cnJlbnRseSByZW5kZXJpbmcgYmF0Y2guXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzQmF0Y2hpbmdVcGRhdGVzKSB7XG4gICAgICAvLyBGbHVzaCB3b3JrIGF0IHRoZSBlbmQgb2YgdGhlIGJhdGNoLlxuICAgICAgaWYgKGlzVW5iYXRjaGluZ1VwZGF0ZXMpIHtcbiAgICAgICAgLy8gLi4udW5sZXNzIHdlJ3JlIGluc2lkZSB1bmJhdGNoZWRVcGRhdGVzLCBpbiB3aGljaCBjYXNlIHdlIHNob3VsZFxuICAgICAgICAvLyBmbHVzaCBpdCBub3cuXG4gICAgICAgIG5leHRGbHVzaGVkUm9vdCA9IHJvb3Q7XG4gICAgICAgIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgPSBTeW5jO1xuICAgICAgICBwZXJmb3JtV29ya09uUm9vdChyb290LCBTeW5jLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVE9ETzogR2V0IHJpZCBvZiBTeW5jIGFuZCB1c2UgY3VycmVudCB0aW1lP1xuICAgIGlmIChleHBpcmF0aW9uVGltZSA9PT0gU3luYykge1xuICAgICAgcGVyZm9ybVN5bmNXb3JrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjaGVkdWxlQ2FsbGJhY2tXaXRoRXhwaXJhdGlvbihleHBpcmF0aW9uVGltZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWRkUm9vdFRvU2NoZWR1bGUocm9vdCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBBZGQgdGhlIHJvb3QgdG8gdGhlIHNjaGVkdWxlLlxuICAgIC8vIENoZWNrIGlmIHRoaXMgcm9vdCBpcyBhbHJlYWR5IHBhcnQgb2YgdGhlIHNjaGVkdWxlLlxuICAgIGlmIChyb290Lm5leHRTY2hlZHVsZWRSb290ID09PSBudWxsKSB7XG4gICAgICAvLyBUaGlzIHJvb3QgaXMgbm90IGFscmVhZHkgc2NoZWR1bGVkLiBBZGQgaXQuXG4gICAgICByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICBpZiAobGFzdFNjaGVkdWxlZFJvb3QgPT09IG51bGwpIHtcbiAgICAgICAgZmlyc3RTY2hlZHVsZWRSb290ID0gbGFzdFNjaGVkdWxlZFJvb3QgPSByb290O1xuICAgICAgICByb290Lm5leHRTY2hlZHVsZWRSb290ID0gcm9vdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxhc3RTY2hlZHVsZWRSb290Lm5leHRTY2hlZHVsZWRSb290ID0gcm9vdDtcbiAgICAgICAgbGFzdFNjaGVkdWxlZFJvb3QgPSByb290O1xuICAgICAgICBsYXN0U2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IGZpcnN0U2NoZWR1bGVkUm9vdDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyByb290IGlzIGFscmVhZHkgc2NoZWR1bGVkLCBidXQgaXRzIHByaW9yaXR5IG1heSBoYXZlIGluY3JlYXNlZC5cbiAgICAgIHZhciByZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9IHJvb3QucmVtYWluaW5nRXhwaXJhdGlvblRpbWU7XG4gICAgICBpZiAoXG4gICAgICAgIHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHxcbiAgICAgICAgZXhwaXJhdGlvblRpbWUgPCByZW1haW5pbmdFeHBpcmF0aW9uVGltZVxuICAgICAgKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcHJpb3JpdHkuXG4gICAgICAgIHJvb3QucmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kSGlnaGVzdFByaW9yaXR5Um9vdCgpIHtcbiAgICB2YXIgaGlnaGVzdFByaW9yaXR5V29yayA9IE5vV29yaztcbiAgICB2YXIgaGlnaGVzdFByaW9yaXR5Um9vdCA9IG51bGw7XG4gICAgaWYgKGxhc3RTY2hlZHVsZWRSb290ICE9PSBudWxsKSB7XG4gICAgICB2YXIgcHJldmlvdXNTY2hlZHVsZWRSb290ID0gbGFzdFNjaGVkdWxlZFJvb3Q7XG4gICAgICB2YXIgcm9vdCA9IGZpcnN0U2NoZWR1bGVkUm9vdDtcbiAgICAgIHdoaWxlIChyb290ICE9PSBudWxsKSB7XG4gICAgICAgIHZhciByZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9IHJvb3QucmVtYWluaW5nRXhwaXJhdGlvblRpbWU7XG4gICAgICAgIGlmIChyZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrKSB7XG4gICAgICAgICAgLy8gVGhpcyByb290IG5vIGxvbmdlciBoYXMgd29yay4gUmVtb3ZlIGl0IGZyb20gdGhlIHNjaGVkdWxlci5cblxuICAgICAgICAgIC8vIFRPRE86IFRoaXMgY2hlY2sgaXMgcmVkdWRhbnQsIGJ1dCBGbG93IGlzIGNvbmZ1c2VkIGJ5IHRoZSBicmFuY2hcbiAgICAgICAgICAvLyBiZWxvdyB3aGVyZSB3ZSBzZXQgbGFzdFNjaGVkdWxlZFJvb3QgdG8gbnVsbCwgZXZlbiB0aG91Z2ggd2UgYnJlYWtcbiAgICAgICAgICAvLyBmcm9tIHRoZSBsb29wIHJpZ2h0IGFmdGVyLlxuICAgICAgICAgIGludmFyaWFudChcbiAgICAgICAgICAgIHByZXZpb3VzU2NoZWR1bGVkUm9vdCAhPT0gbnVsbCAmJiBsYXN0U2NoZWR1bGVkUm9vdCAhPT0gbnVsbCxcbiAgICAgICAgICAgIFwiU2hvdWxkIGhhdmUgYSBwcmV2aW91cyBhbmQgbGFzdCByb290LiBUaGlzIGVycm9yIGlzIGxpa2VseSBcIiArXG4gICAgICAgICAgICAgIFwiY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHJvb3QgPT09IHJvb3QubmV4dFNjaGVkdWxlZFJvb3QpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIG9ubHkgcm9vdCBpbiB0aGUgbGlzdC5cbiAgICAgICAgICAgIHJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICAgICAgZmlyc3RTY2hlZHVsZWRSb290ID0gbGFzdFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIGlmIChyb290ID09PSBmaXJzdFNjaGVkdWxlZFJvb3QpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IHJvb3QgaW4gdGhlIGxpc3QuXG4gICAgICAgICAgICB2YXIgbmV4dCA9IHJvb3QubmV4dFNjaGVkdWxlZFJvb3Q7XG4gICAgICAgICAgICBmaXJzdFNjaGVkdWxlZFJvb3QgPSBuZXh0O1xuICAgICAgICAgICAgbGFzdFNjaGVkdWxlZFJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBuZXh0O1xuICAgICAgICAgICAgcm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIGlmIChyb290ID09PSBsYXN0U2NoZWR1bGVkUm9vdCkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgbGFzdCByb290IGluIHRoZSBsaXN0LlxuICAgICAgICAgICAgbGFzdFNjaGVkdWxlZFJvb3QgPSBwcmV2aW91c1NjaGVkdWxlZFJvb3Q7XG4gICAgICAgICAgICBsYXN0U2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IGZpcnN0U2NoZWR1bGVkUm9vdDtcbiAgICAgICAgICAgIHJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByZXZpb3VzU2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IHJvb3QubmV4dFNjaGVkdWxlZFJvb3Q7XG4gICAgICAgICAgICByb290Lm5leHRTY2hlZHVsZWRSb290ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcm9vdCA9IHByZXZpb3VzU2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHlXb3JrID09PSBOb1dvcmsgfHxcbiAgICAgICAgICAgIHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lIDwgaGlnaGVzdFByaW9yaXR5V29ya1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBwcmlvcml0eSwgaWYgaXQncyBoaWdoZXJcbiAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eVdvcmsgPSByZW1haW5pbmdFeHBpcmF0aW9uVGltZTtcbiAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eVJvb3QgPSByb290O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocm9vdCA9PT0gbGFzdFNjaGVkdWxlZFJvb3QpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmV2aW91c1NjaGVkdWxlZFJvb3QgPSByb290O1xuICAgICAgICAgIHJvb3QgPSByb290Lm5leHRTY2hlZHVsZWRSb290O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG5leHQgcm9vdCBpcyB0aGUgc2FtZSBhcyB0aGUgcHJldmlvdXMgcm9vdCwgdGhpcyBpcyBhIG5lc3RlZFxuICAgIC8vIHVwZGF0ZS4gVG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wLCBpbmNyZW1lbnQgdGhlIG5lc3RlZCB1cGRhdGUgY291bnQuXG4gICAgdmFyIHByZXZpb3VzRmx1c2hlZFJvb3QgPSBuZXh0Rmx1c2hlZFJvb3Q7XG4gICAgaWYgKFxuICAgICAgcHJldmlvdXNGbHVzaGVkUm9vdCAhPT0gbnVsbCAmJlxuICAgICAgcHJldmlvdXNGbHVzaGVkUm9vdCA9PT0gaGlnaGVzdFByaW9yaXR5Um9vdCAmJlxuICAgICAgaGlnaGVzdFByaW9yaXR5V29yayA9PT0gU3luY1xuICAgICkge1xuICAgICAgbmVzdGVkVXBkYXRlQ291bnQrKztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmVzZXQgd2hlbmV2ZXIgd2Ugc3dpdGNoIHJvb3RzLlxuICAgICAgbmVzdGVkVXBkYXRlQ291bnQgPSAwO1xuICAgIH1cbiAgICBuZXh0Rmx1c2hlZFJvb3QgPSBoaWdoZXN0UHJpb3JpdHlSb290O1xuICAgIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgPSBoaWdoZXN0UHJpb3JpdHlXb3JrO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVyZm9ybUFzeW5jV29yayhkbCkge1xuICAgIHBlcmZvcm1Xb3JrKE5vV29yaywgdHJ1ZSwgZGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVyZm9ybVN5bmNXb3JrKCkge1xuICAgIHBlcmZvcm1Xb3JrKFN5bmMsIGZhbHNlLCBudWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlcmZvcm1Xb3JrKG1pbkV4cGlyYXRpb25UaW1lLCBpc0FzeW5jLCBkbCkge1xuICAgIGRlYWRsaW5lID0gZGw7XG5cbiAgICAvLyBLZWVwIHdvcmtpbmcgb24gcm9vdHMgdW50aWwgdGhlcmUncyBubyBtb3JlIHdvcmssIG9yIHVudGlsIHRoZSB3ZSByZWFjaFxuICAgIC8vIHRoZSBkZWFkbGluZS5cbiAgICBmaW5kSGlnaGVzdFByaW9yaXR5Um9vdCgpO1xuXG4gICAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkgJiYgZGVhZGxpbmUgIT09IG51bGwpIHtcbiAgICAgIHZhciBkaWRFeHBpcmUgPSBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lIDwgcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgICAgc3RvcFJlcXVlc3RDYWxsYmFja1RpbWVyKGRpZEV4cGlyZSk7XG4gICAgfVxuXG4gICAgaWYgKGlzQXN5bmMpIHtcbiAgICAgIHdoaWxlIChcbiAgICAgICAgbmV4dEZsdXNoZWRSb290ICE9PSBudWxsICYmXG4gICAgICAgIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgIT09IE5vV29yayAmJlxuICAgICAgICAobWluRXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fFxuICAgICAgICAgIG1pbkV4cGlyYXRpb25UaW1lID49IG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUpICYmXG4gICAgICAgICghZGVhZGxpbmVEaWRFeHBpcmUgfHxcbiAgICAgICAgICByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKCkgPj0gbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSlcbiAgICAgICkge1xuICAgICAgICBwZXJmb3JtV29ya09uUm9vdChcbiAgICAgICAgICBuZXh0Rmx1c2hlZFJvb3QsXG4gICAgICAgICAgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSxcbiAgICAgICAgICAhZGVhZGxpbmVEaWRFeHBpcmVcbiAgICAgICAgKTtcbiAgICAgICAgZmluZEhpZ2hlc3RQcmlvcml0eVJvb3QoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgd2hpbGUgKFxuICAgICAgICBuZXh0Rmx1c2hlZFJvb3QgIT09IG51bGwgJiZcbiAgICAgICAgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrICYmXG4gICAgICAgIChtaW5FeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8XG4gICAgICAgICAgbWluRXhwaXJhdGlvblRpbWUgPj0gbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSlcbiAgICAgICkge1xuICAgICAgICBwZXJmb3JtV29ya09uUm9vdChuZXh0Rmx1c2hlZFJvb3QsIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUsIGZhbHNlKTtcbiAgICAgICAgZmluZEhpZ2hlc3RQcmlvcml0eVJvb3QoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXZSdyZSBkb25lIGZsdXNoaW5nIHdvcmsuIEVpdGhlciB3ZSByYW4gb3V0IG9mIHRpbWUgaW4gdGhpcyBjYWxsYmFjayxcbiAgICAvLyBvciB0aGVyZSdzIG5vIG1vcmUgd29yayBsZWZ0IHdpdGggc3VmZmljaWVudCBwcmlvcml0eS5cblxuICAgIC8vIElmIHdlJ3JlIGluc2lkZSBhIGNhbGxiYWNrLCBzZXQgdGhpcyB0byBmYWxzZSBzaW5jZSB3ZSBqdXN0IGNvbXBsZXRlZCBpdC5cbiAgICBpZiAoZGVhZGxpbmUgIT09IG51bGwpIHtcbiAgICAgIGNhbGxiYWNrRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gICAgICBjYWxsYmFja0lEID0gLTE7XG4gICAgfVxuICAgIC8vIElmIHRoZXJlJ3Mgd29yayBsZWZ0IG92ZXIsIHNjaGVkdWxlIGEgbmV3IGNhbGxiYWNrLlxuICAgIGlmIChuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lICE9PSBOb1dvcmspIHtcbiAgICAgIHNjaGVkdWxlQ2FsbGJhY2tXaXRoRXhwaXJhdGlvbihuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICAvLyBDbGVhbi11cC5cbiAgICBkZWFkbGluZSA9IG51bGw7XG4gICAgZGVhZGxpbmVEaWRFeHBpcmUgPSBmYWxzZTtcblxuICAgIGZpbmlzaFJlbmRlcmluZygpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2hSb290KHJvb3QsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgIWlzUmVuZGVyaW5nLFxuICAgICAgXCJ3b3JrLmNvbW1pdCgpOiBDYW5ub3QgY29tbWl0IHdoaWxlIGFscmVhZHkgcmVuZGVyaW5nLiBUaGlzIGxpa2VseSBcIiArXG4gICAgICAgIFwibWVhbnMgeW91IGF0dGVtcHRlZCB0byBjb21taXQgZnJvbSBpbnNpZGUgYSBsaWZlY3ljbGUgbWV0aG9kLlwiXG4gICAgKTtcbiAgICAvLyBQZXJmb3JtIHdvcmsgb24gcm9vdCBhcyBpZiB0aGUgZ2l2ZW4gZXhwaXJhdGlvbiB0aW1lIGlzIHRoZSBjdXJyZW50IHRpbWUuXG4gICAgLy8gVGhpcyBoYXMgdGhlIGVmZmVjdCBvZiBzeW5jaHJvbm91c2x5IGZsdXNoaW5nIGFsbCB3b3JrIHVwIHRvIGFuZFxuICAgIC8vIGluY2x1ZGluZyB0aGUgZ2l2ZW4gdGltZS5cbiAgICBwZXJmb3JtV29ya09uUm9vdChyb290LCBleHBpcmF0aW9uVGltZSwgZmFsc2UpO1xuICAgIGZpbmlzaFJlbmRlcmluZygpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoUmVuZGVyaW5nKCkge1xuICAgIG5lc3RlZFVwZGF0ZUNvdW50ID0gMDtcblxuICAgIGlmIChjb21wbGV0ZWRCYXRjaGVzICE9PSBudWxsKSB7XG4gICAgICB2YXIgYmF0Y2hlcyA9IGNvbXBsZXRlZEJhdGNoZXM7XG4gICAgICBjb21wbGV0ZWRCYXRjaGVzID0gbnVsbDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYmF0Y2ggPSBiYXRjaGVzW2ldO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGJhdGNoLl9vbkNvbXBsZXRlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKCFoYXNVbmhhbmRsZWRFcnJvcikge1xuICAgICAgICAgICAgaGFzVW5oYW5kbGVkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgdW5oYW5kbGVkRXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzVW5oYW5kbGVkRXJyb3IpIHtcbiAgICAgIHZhciBlcnJvciA9IHVuaGFuZGxlZEVycm9yO1xuICAgICAgdW5oYW5kbGVkRXJyb3IgPSBudWxsO1xuICAgICAgaGFzVW5oYW5kbGVkRXJyb3IgPSBmYWxzZTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBlcmZvcm1Xb3JrT25Sb290KHJvb3QsIGV4cGlyYXRpb25UaW1lLCBpc0FzeW5jKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgIWlzUmVuZGVyaW5nLFxuICAgICAgXCJwZXJmb3JtV29ya09uUm9vdCB3YXMgY2FsbGVkIHJlY3Vyc2l2ZWx5LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgXCIgK1xuICAgICAgICBcImJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICk7XG5cbiAgICBpc1JlbmRlcmluZyA9IHRydWU7XG5cbiAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGFzeW5jIHdvcmsgb3Igc3luYy9leHBpcmVkIHdvcmsuXG4gICAgaWYgKCFpc0FzeW5jKSB7XG4gICAgICAvLyBGbHVzaCBzeW5jIHdvcmsuXG4gICAgICB2YXIgZmluaXNoZWRXb3JrID0gcm9vdC5maW5pc2hlZFdvcms7XG4gICAgICBpZiAoZmluaXNoZWRXb3JrICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFRoaXMgcm9vdCBpcyBhbHJlYWR5IGNvbXBsZXRlLiBXZSBjYW4gY29tbWl0IGl0LlxuICAgICAgICBjb21wbGV0ZVJvb3Qocm9vdCwgZmluaXNoZWRXb3JrLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290LmZpbmlzaGVkV29yayA9IG51bGw7XG4gICAgICAgIGZpbmlzaGVkV29yayA9IHJlbmRlclJvb3Qocm9vdCwgZXhwaXJhdGlvblRpbWUsIGZhbHNlKTtcbiAgICAgICAgaWYgKGZpbmlzaGVkV29yayAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlJ3ZlIGNvbXBsZXRlZCB0aGUgcm9vdC4gQ29tbWl0IGl0LlxuICAgICAgICAgIGNvbXBsZXRlUm9vdChyb290LCBmaW5pc2hlZFdvcmssIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGbHVzaCBhc3luYyB3b3JrLlxuICAgICAgdmFyIF9maW5pc2hlZFdvcmsgPSByb290LmZpbmlzaGVkV29yaztcbiAgICAgIGlmIChfZmluaXNoZWRXb3JrICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFRoaXMgcm9vdCBpcyBhbHJlYWR5IGNvbXBsZXRlLiBXZSBjYW4gY29tbWl0IGl0LlxuICAgICAgICBjb21wbGV0ZVJvb3Qocm9vdCwgX2ZpbmlzaGVkV29yaywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdC5maW5pc2hlZFdvcmsgPSBudWxsO1xuICAgICAgICBfZmluaXNoZWRXb3JrID0gcmVuZGVyUm9vdChyb290LCBleHBpcmF0aW9uVGltZSwgdHJ1ZSk7XG4gICAgICAgIGlmIChfZmluaXNoZWRXb3JrICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gV2UndmUgY29tcGxldGVkIHRoZSByb290LiBDaGVjayB0aGUgZGVhZGxpbmUgb25lIG1vcmUgdGltZVxuICAgICAgICAgIC8vIGJlZm9yZSBjb21taXR0aW5nLlxuICAgICAgICAgIGlmICghc2hvdWxkWWllbGQoKSkge1xuICAgICAgICAgICAgLy8gU3RpbGwgdGltZSBsZWZ0LiBDb21taXQgdGhlIHJvb3QuXG4gICAgICAgICAgICBjb21wbGV0ZVJvb3Qocm9vdCwgX2ZpbmlzaGVkV29yaywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGVyZSdzIG5vIHRpbWUgbGVmdC4gTWFyayB0aGlzIHJvb3QgYXMgY29tcGxldGUuIFdlJ2xsIGNvbWVcbiAgICAgICAgICAgIC8vIGJhY2sgYW5kIGNvbW1pdCBpdCBsYXRlci5cbiAgICAgICAgICAgIHJvb3QuZmluaXNoZWRXb3JrID0gX2ZpbmlzaGVkV29yaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpc1JlbmRlcmluZyA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcGxldGVSb290KHJvb3QsIGZpbmlzaGVkV29yaywgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgYmF0Y2ggdGhhdCBtYXRjaGVzIHRoaXMgZXhwaXJhdGlvbiB0aW1lLlxuICAgIHZhciBmaXJzdEJhdGNoID0gcm9vdC5maXJzdEJhdGNoO1xuICAgIGlmIChmaXJzdEJhdGNoICE9PSBudWxsICYmIGZpcnN0QmF0Y2guX2V4cGlyYXRpb25UaW1lIDw9IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICBpZiAoY29tcGxldGVkQmF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICBjb21wbGV0ZWRCYXRjaGVzID0gW2ZpcnN0QmF0Y2hdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGxldGVkQmF0Y2hlcy5wdXNoKGZpcnN0QmF0Y2gpO1xuICAgICAgfVxuICAgICAgaWYgKGZpcnN0QmF0Y2guX2RlZmVyKSB7XG4gICAgICAgIC8vIFRoaXMgcm9vdCBpcyBibG9ja2VkIGZyb20gY29tbWl0dGluZyBieSBhIGJhdGNoLiBVbnNjaGVkdWxlIGl0IHVudGlsXG4gICAgICAgIC8vIHdlIHJlY2VpdmUgYW5vdGhlciB1cGRhdGUuXG4gICAgICAgIHJvb3QuZmluaXNoZWRXb3JrID0gZmluaXNoZWRXb3JrO1xuICAgICAgICByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ29tbWl0IHRoZSByb290LlxuICAgIHJvb3QuZmluaXNoZWRXb3JrID0gbnVsbDtcbiAgICByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gY29tbWl0Um9vdChmaW5pc2hlZFdvcmspO1xuICB9XG5cbiAgLy8gV2hlbiB3b3JraW5nIG9uIGFzeW5jIHdvcmssIHRoZSByZWNvbmNpbGVyIGFza3MgdGhlIHJlbmRlcmVyIGlmIGl0IHNob3VsZFxuICAvLyB5aWVsZCBleGVjdXRpb24uIEZvciBET00sIHdlIGltcGxlbWVudCB0aGlzIHdpdGggcmVxdWVzdElkbGVDYWxsYmFjay5cbiAgZnVuY3Rpb24gc2hvdWxkWWllbGQoKSB7XG4gICAgaWYgKGRlYWRsaW5lID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChkZWFkbGluZS50aW1lUmVtYWluaW5nKCkgPiB0aW1lSGV1cmlzdGljRm9yVW5pdE9mV29yaykge1xuICAgICAgLy8gRGlzcmVnYXJkIGRlYWRsaW5lLmRpZFRpbWVvdXQuIE9ubHkgZXhwaXJlZCB3b3JrIHNob3VsZCBiZSBmbHVzaGVkXG4gICAgICAvLyBkdXJpbmcgYSB0aW1lb3V0LiBUaGlzIHBhdGggaXMgb25seSBoaXQgZm9yIG5vbi1leHBpcmVkIHdvcmsuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGRlYWRsaW5lRGlkRXhwaXJlID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVW5jYXVnaHRFcnJvcihlcnJvcikge1xuICAgIGludmFyaWFudChcbiAgICAgIG5leHRGbHVzaGVkUm9vdCAhPT0gbnVsbCxcbiAgICAgIFwiU2hvdWxkIGJlIHdvcmtpbmcgb24gYSByb290LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gXCIgK1xuICAgICAgICBcIlJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICk7XG4gICAgLy8gVW5zY2hlZHVsZSB0aGlzIHJvb3Qgc28gd2UgZG9uJ3Qgd29yayBvbiBpdCBhZ2FpbiB1bnRpbCB0aGVyZSdzXG4gICAgLy8gYW5vdGhlciB1cGRhdGUuXG4gICAgbmV4dEZsdXNoZWRSb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgIGlmICghaGFzVW5oYW5kbGVkRXJyb3IpIHtcbiAgICAgIGhhc1VuaGFuZGxlZEVycm9yID0gdHJ1ZTtcbiAgICAgIHVuaGFuZGxlZEVycm9yID0gZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogQmF0Y2hpbmcgc2hvdWxkIGJlIGltcGxlbWVudGVkIGF0IHRoZSByZW5kZXJlciBsZXZlbCwgbm90IGluc2lkZVxuICAvLyB0aGUgcmVjb25jaWxlci5cbiAgZnVuY3Rpb24gYmF0Y2hlZFVwZGF0ZXMoZm4sIGEpIHtcbiAgICB2YXIgcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcyA9IGlzQmF0Y2hpbmdVcGRhdGVzO1xuICAgIGlzQmF0Y2hpbmdVcGRhdGVzID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZuKGEpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgICBpZiAoIWlzQmF0Y2hpbmdVcGRhdGVzICYmICFpc1JlbmRlcmluZykge1xuICAgICAgICBwZXJmb3JtU3luY1dvcmsoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBUT0RPOiBCYXRjaGluZyBzaG91bGQgYmUgaW1wbGVtZW50ZWQgYXQgdGhlIHJlbmRlcmVyIGxldmVsLCBub3QgaW5zaWRlXG4gIC8vIHRoZSByZWNvbmNpbGVyLlxuICBmdW5jdGlvbiB1bmJhdGNoZWRVcGRhdGVzKGZuLCBhKSB7XG4gICAgaWYgKGlzQmF0Y2hpbmdVcGRhdGVzICYmICFpc1VuYmF0Y2hpbmdVcGRhdGVzKSB7XG4gICAgICBpc1VuYmF0Y2hpbmdVcGRhdGVzID0gdHJ1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmbihhKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlzVW5iYXRjaGluZ1VwZGF0ZXMgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZuKGEpO1xuICB9XG5cbiAgLy8gVE9ETzogQmF0Y2hpbmcgc2hvdWxkIGJlIGltcGxlbWVudGVkIGF0IHRoZSByZW5kZXJlciBsZXZlbCwgbm90IHdpdGhpblxuICAvLyB0aGUgcmVjb25jaWxlci5cbiAgZnVuY3Rpb24gZmx1c2hTeW5jKGZuLCBhKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgIWlzUmVuZGVyaW5nLFxuICAgICAgXCJmbHVzaFN5bmMgd2FzIGNhbGxlZCBmcm9tIGluc2lkZSBhIGxpZmVjeWNsZSBtZXRob2QuIEl0IGNhbm5vdCBiZSBcIiArXG4gICAgICAgIFwiY2FsbGVkIHdoZW4gUmVhY3QgaXMgYWxyZWFkeSByZW5kZXJpbmcuXCJcbiAgICApO1xuICAgIHZhciBwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzID0gaXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgaXNCYXRjaGluZ1VwZGF0ZXMgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gc3luY1VwZGF0ZXMoZm4sIGEpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgICBwZXJmb3JtU3luY1dvcmsoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbnRlcmFjdGl2ZVVwZGF0ZXMoZm4sIGEsIGIpIHtcbiAgICBpZiAoaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcykge1xuICAgICAgcmV0dXJuIGZuKGEsIGIpO1xuICAgIH1cbiAgICAvLyBJZiB0aGVyZSBhcmUgYW55IHBlbmRpbmcgaW50ZXJhY3RpdmUgdXBkYXRlcywgc3luY2hyb25vdXNseSBmbHVzaCB0aGVtLlxuICAgIC8vIFRoaXMgbmVlZHMgdG8gaGFwcGVuIGJlZm9yZSB3ZSByZWFkIGFueSBoYW5kbGVycywgYmVjYXVzZSB0aGUgZWZmZWN0IG9mXG4gICAgLy8gdGhlIHByZXZpb3VzIGV2ZW50IG1heSBpbmZsdWVuY2Ugd2hpY2ggaGFuZGxlcnMgYXJlIGNhbGxlZCBkdXJpbmdcbiAgICAvLyB0aGlzIGV2ZW50LlxuICAgIGlmIChcbiAgICAgICFpc0JhdGNoaW5nVXBkYXRlcyAmJlxuICAgICAgIWlzUmVuZGVyaW5nICYmXG4gICAgICBsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrXG4gICAgKSB7XG4gICAgICAvLyBTeW5jaHJvbm91c2x5IGZsdXNoIHBlbmRpbmcgaW50ZXJhY3RpdmUgdXBkYXRlcy5cbiAgICAgIHBlcmZvcm1Xb3JrKGxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lLCBmYWxzZSwgbnVsbCk7XG4gICAgICBsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgICB9XG4gICAgdmFyIHByZXZpb3VzSXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcyA9IGlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXM7XG4gICAgdmFyIHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXMgPSBpc0JhdGNoaW5nVXBkYXRlcztcbiAgICBpc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzID0gdHJ1ZTtcbiAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbihhLCBiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcyA9IHByZXZpb3VzSXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcztcbiAgICAgIGlzQmF0Y2hpbmdVcGRhdGVzID0gcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcztcbiAgICAgIGlmICghaXNCYXRjaGluZ1VwZGF0ZXMgJiYgIWlzUmVuZGVyaW5nKSB7XG4gICAgICAgIHBlcmZvcm1TeW5jV29yaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzKCkge1xuICAgIGlmICghaXNSZW5kZXJpbmcgJiYgbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgIT09IE5vV29yaykge1xuICAgICAgLy8gU3luY2hyb25vdXNseSBmbHVzaCBwZW5kaW5nIGludGVyYWN0aXZlIHVwZGF0ZXMuXG4gICAgICBwZXJmb3JtV29yayhsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSwgZmFsc2UsIG51bGwpO1xuICAgICAgbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2hDb250cm9sbGVkKGZuKSB7XG4gICAgdmFyIHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXMgPSBpc0JhdGNoaW5nVXBkYXRlcztcbiAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHN5bmNVcGRhdGVzKGZuKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNCYXRjaGluZ1VwZGF0ZXMgPSBwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzO1xuICAgICAgaWYgKCFpc0JhdGNoaW5nVXBkYXRlcyAmJiAhaXNSZW5kZXJpbmcpIHtcbiAgICAgICAgcGVyZm9ybVdvcmsoU3luYywgZmFsc2UsIG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVjYWxjdWxhdGVDdXJyZW50VGltZTogcmVjYWxjdWxhdGVDdXJyZW50VGltZSxcbiAgICBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyOiBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyLFxuICAgIHNjaGVkdWxlV29yazogc2NoZWR1bGVXb3JrLFxuICAgIHJlcXVlc3RXb3JrOiByZXF1ZXN0V29yayxcbiAgICBmbHVzaFJvb3Q6IGZsdXNoUm9vdCxcbiAgICBiYXRjaGVkVXBkYXRlczogYmF0Y2hlZFVwZGF0ZXMsXG4gICAgdW5iYXRjaGVkVXBkYXRlczogdW5iYXRjaGVkVXBkYXRlcyxcbiAgICBmbHVzaFN5bmM6IGZsdXNoU3luYyxcbiAgICBmbHVzaENvbnRyb2xsZWQ6IGZsdXNoQ29udHJvbGxlZCxcbiAgICBkZWZlcnJlZFVwZGF0ZXM6IGRlZmVycmVkVXBkYXRlcyxcbiAgICBzeW5jVXBkYXRlczogc3luY1VwZGF0ZXMsXG4gICAgaW50ZXJhY3RpdmVVcGRhdGVzOiBpbnRlcmFjdGl2ZVVwZGF0ZXMsXG4gICAgZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXM6IGZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzLFxuICAgIGNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb246IGNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb25cbiAgfTtcbn07XG5cbnZhciBkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzID0gdm9pZCAwO1xuXG57XG4gIGRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMgPSBmYWxzZTtcbn1cblxuLy8gMCBpcyBQUk9ELCAxIGlzIERFVi5cbi8vIE1pZ2h0IGFkZCBQUk9GSUxFIGxhdGVyLlxuXG5mdW5jdGlvbiBnZXRDb250ZXh0Rm9yU3VidHJlZShwYXJlbnRDb21wb25lbnQpIHtcbiAgaWYgKCFwYXJlbnRDb21wb25lbnQpIHtcbiAgICByZXR1cm4gZW1wdHlPYmplY3Q7XG4gIH1cblxuICB2YXIgZmliZXIgPSBnZXQocGFyZW50Q29tcG9uZW50KTtcbiAgdmFyIHBhcmVudENvbnRleHQgPSBmaW5kQ3VycmVudFVubWFza2VkQ29udGV4dChmaWJlcik7XG4gIHJldHVybiBpc0NvbnRleHRQcm92aWRlcihmaWJlcilcbiAgICA/IHByb2Nlc3NDaGlsZENvbnRleHQoZmliZXIsIHBhcmVudENvbnRleHQpXG4gICAgOiBwYXJlbnRDb250ZXh0O1xufVxuXG52YXIgUmVhY3RGaWJlclJlY29uY2lsZXIkMSA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICB2YXIgZ2V0UHVibGljSW5zdGFuY2UgPSBjb25maWcuZ2V0UHVibGljSW5zdGFuY2U7XG5cbiAgdmFyIF9SZWFjdEZpYmVyU2NoZWR1bGVyID0gUmVhY3RGaWJlclNjaGVkdWxlcihjb25maWcpLFxuICAgIGNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb24gPVxuICAgICAgX1JlYWN0RmliZXJTY2hlZHVsZXIuY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbixcbiAgICByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lID0gX1JlYWN0RmliZXJTY2hlZHVsZXIucmVjYWxjdWxhdGVDdXJyZW50VGltZSxcbiAgICBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyID0gX1JlYWN0RmliZXJTY2hlZHVsZXIuY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcixcbiAgICBzY2hlZHVsZVdvcmsgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5zY2hlZHVsZVdvcmssXG4gICAgcmVxdWVzdFdvcmsgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5yZXF1ZXN0V29yayxcbiAgICBmbHVzaFJvb3QgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5mbHVzaFJvb3QsXG4gICAgYmF0Y2hlZFVwZGF0ZXMgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5iYXRjaGVkVXBkYXRlcyxcbiAgICB1bmJhdGNoZWRVcGRhdGVzID0gX1JlYWN0RmliZXJTY2hlZHVsZXIudW5iYXRjaGVkVXBkYXRlcyxcbiAgICBmbHVzaFN5bmMgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5mbHVzaFN5bmMsXG4gICAgZmx1c2hDb250cm9sbGVkID0gX1JlYWN0RmliZXJTY2hlZHVsZXIuZmx1c2hDb250cm9sbGVkLFxuICAgIGRlZmVycmVkVXBkYXRlcyA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmRlZmVycmVkVXBkYXRlcyxcbiAgICBzeW5jVXBkYXRlcyA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLnN5bmNVcGRhdGVzLFxuICAgIGludGVyYWN0aXZlVXBkYXRlcyA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmludGVyYWN0aXZlVXBkYXRlcyxcbiAgICBmbHVzaEludGVyYWN0aXZlVXBkYXRlcyA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzO1xuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlUm9vdFVwZGF0ZShcbiAgICBjdXJyZW50LFxuICAgIGVsZW1lbnQsXG4gICAgY3VycmVudFRpbWUsXG4gICAgZXhwaXJhdGlvblRpbWUsXG4gICAgY2FsbGJhY2tcbiAgKSB7XG4gICAge1xuICAgICAgaWYgKFxuICAgICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnBoYXNlID09PSBcInJlbmRlclwiICYmXG4gICAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuY3VycmVudCAhPT0gbnVsbCAmJlxuICAgICAgICAhZGlkV2FybkFib3V0TmVzdGVkVXBkYXRlc1xuICAgICAgKSB7XG4gICAgICAgIGRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMgPSB0cnVlO1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiUmVuZGVyIG1ldGhvZHMgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGU7IFwiICtcbiAgICAgICAgICAgIFwidHJpZ2dlcmluZyBuZXN0ZWQgY29tcG9uZW50IHVwZGF0ZXMgZnJvbSByZW5kZXIgaXMgbm90IGFsbG93ZWQuIFwiICtcbiAgICAgICAgICAgIFwiSWYgbmVjZXNzYXJ5LCB0cmlnZ2VyIG5lc3RlZCB1cGRhdGVzIGluIGNvbXBvbmVudERpZFVwZGF0ZS5cXG5cXG5cIiArXG4gICAgICAgICAgICBcIkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mICVzLlwiLFxuICAgICAgICAgIGdldENvbXBvbmVudE5hbWUoUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5jdXJyZW50KSB8fCBcIlVua25vd25cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjYWxsYmFjaztcbiAgICB7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBjYWxsYmFjayA9PT0gbnVsbCB8fCB0eXBlb2YgY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIixcbiAgICAgICAgXCJyZW5kZXIoLi4uKTogRXhwZWN0ZWQgdGhlIGxhc3Qgb3B0aW9uYWwgYGNhbGxiYWNrYCBhcmd1bWVudCB0byBiZSBhIFwiICtcbiAgICAgICAgICBcImZ1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy5cIixcbiAgICAgICAgY2FsbGJhY2tcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIHVwZGF0ZSA9IHtcbiAgICAgIGV4cGlyYXRpb25UaW1lOiBleHBpcmF0aW9uVGltZSxcbiAgICAgIHBhcnRpYWxTdGF0ZTogeyBlbGVtZW50OiBlbGVtZW50IH0sXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICBpc1JlcGxhY2U6IGZhbHNlLFxuICAgICAgaXNGb3JjZWQ6IGZhbHNlLFxuICAgICAgY2FwdHVyZWRWYWx1ZTogbnVsbCxcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9O1xuICAgIGluc2VydFVwZGF0ZUludG9GaWJlcihjdXJyZW50LCB1cGRhdGUpO1xuICAgIHNjaGVkdWxlV29yayhjdXJyZW50LCBleHBpcmF0aW9uVGltZSk7XG5cbiAgICByZXR1cm4gZXhwaXJhdGlvblRpbWU7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVDb250YWluZXJBdEV4cGlyYXRpb25UaW1lKFxuICAgIGVsZW1lbnQsXG4gICAgY29udGFpbmVyLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBjdXJyZW50VGltZSxcbiAgICBleHBpcmF0aW9uVGltZSxcbiAgICBjYWxsYmFja1xuICApIHtcbiAgICAvLyBUT0RPOiBJZiB0aGlzIGlzIGEgbmVzdGVkIGNvbnRhaW5lciwgdGhpcyB3b24ndCBiZSB0aGUgcm9vdC5cbiAgICB2YXIgY3VycmVudCA9IGNvbnRhaW5lci5jdXJyZW50O1xuXG4gICAge1xuICAgICAgaWYgKFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wpIHtcbiAgICAgICAgaWYgKGN1cnJlbnQuYWx0ZXJuYXRlID09PSBudWxsKSB7XG4gICAgICAgICAgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbC5vbk1vdW50Q29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudCA9PT0gbnVsbCkge1xuICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Vbm1vdW50Q29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbC5vblVwZGF0ZUNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNvbnRleHQgPSBnZXRDb250ZXh0Rm9yU3VidHJlZShwYXJlbnRDb21wb25lbnQpO1xuICAgIGlmIChjb250YWluZXIuY29udGV4dCA9PT0gbnVsbCkge1xuICAgICAgY29udGFpbmVyLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWluZXIucGVuZGluZ0NvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBzY2hlZHVsZVJvb3RVcGRhdGUoXG4gICAgICBjdXJyZW50LFxuICAgICAgZWxlbWVudCxcbiAgICAgIGN1cnJlbnRUaW1lLFxuICAgICAgZXhwaXJhdGlvblRpbWUsXG4gICAgICBjYWxsYmFja1xuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kSG9zdEluc3RhbmNlKGZpYmVyKSB7XG4gICAgdmFyIGhvc3RGaWJlciA9IGZpbmRDdXJyZW50SG9zdEZpYmVyKGZpYmVyKTtcbiAgICBpZiAoaG9zdEZpYmVyID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGhvc3RGaWJlci5zdGF0ZU5vZGU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGNyZWF0ZUNvbnRhaW5lcjogZnVuY3Rpb24oY29udGFpbmVySW5mbywgaXNBc3luYywgaHlkcmF0ZSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUZpYmVyUm9vdChjb250YWluZXJJbmZvLCBpc0FzeW5jLCBoeWRyYXRlKTtcbiAgICB9LFxuICAgIHVwZGF0ZUNvbnRhaW5lcjogZnVuY3Rpb24oZWxlbWVudCwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgY3VycmVudCA9IGNvbnRhaW5lci5jdXJyZW50O1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgICAgdmFyIGV4cGlyYXRpb25UaW1lID0gY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcihjdXJyZW50KTtcbiAgICAgIHJldHVybiB1cGRhdGVDb250YWluZXJBdEV4cGlyYXRpb25UaW1lKFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgY3VycmVudFRpbWUsXG4gICAgICAgIGV4cGlyYXRpb25UaW1lLFxuICAgICAgICBjYWxsYmFja1xuICAgICAgKTtcbiAgICB9LFxuICAgIHVwZGF0ZUNvbnRhaW5lckF0RXhwaXJhdGlvblRpbWU6IGZ1bmN0aW9uKFxuICAgICAgZWxlbWVudCxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIGV4cGlyYXRpb25UaW1lLFxuICAgICAgY2FsbGJhY2tcbiAgICApIHtcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcbiAgICAgIHJldHVybiB1cGRhdGVDb250YWluZXJBdEV4cGlyYXRpb25UaW1lKFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgY3VycmVudFRpbWUsXG4gICAgICAgIGV4cGlyYXRpb25UaW1lLFxuICAgICAgICBjYWxsYmFja1xuICAgICAgKTtcbiAgICB9LFxuXG4gICAgZmx1c2hSb290OiBmbHVzaFJvb3QsXG5cbiAgICByZXF1ZXN0V29yazogcmVxdWVzdFdvcmssXG5cbiAgICBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uOiBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uLFxuXG4gICAgYmF0Y2hlZFVwZGF0ZXM6IGJhdGNoZWRVcGRhdGVzLFxuXG4gICAgdW5iYXRjaGVkVXBkYXRlczogdW5iYXRjaGVkVXBkYXRlcyxcblxuICAgIGRlZmVycmVkVXBkYXRlczogZGVmZXJyZWRVcGRhdGVzLFxuXG4gICAgc3luY1VwZGF0ZXM6IHN5bmNVcGRhdGVzLFxuXG4gICAgaW50ZXJhY3RpdmVVcGRhdGVzOiBpbnRlcmFjdGl2ZVVwZGF0ZXMsXG5cbiAgICBmbHVzaEludGVyYWN0aXZlVXBkYXRlczogZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMsXG5cbiAgICBmbHVzaENvbnRyb2xsZWQ6IGZsdXNoQ29udHJvbGxlZCxcblxuICAgIGZsdXNoU3luYzogZmx1c2hTeW5jLFxuXG4gICAgZ2V0UHVibGljUm9vdEluc3RhbmNlOiBmdW5jdGlvbihjb250YWluZXIpIHtcbiAgICAgIHZhciBjb250YWluZXJGaWJlciA9IGNvbnRhaW5lci5jdXJyZW50O1xuICAgICAgaWYgKCFjb250YWluZXJGaWJlci5jaGlsZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY29udGFpbmVyRmliZXIuY2hpbGQudGFnKSB7XG4gICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICByZXR1cm4gZ2V0UHVibGljSW5zdGFuY2UoY29udGFpbmVyRmliZXIuY2hpbGQuc3RhdGVOb2RlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gY29udGFpbmVyRmliZXIuY2hpbGQuc3RhdGVOb2RlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBmaW5kSG9zdEluc3RhbmNlOiBmaW5kSG9zdEluc3RhbmNlLFxuXG4gICAgZmluZEhvc3RJbnN0YW5jZVdpdGhOb1BvcnRhbHM6IGZ1bmN0aW9uKGZpYmVyKSB7XG4gICAgICB2YXIgaG9zdEZpYmVyID0gZmluZEN1cnJlbnRIb3N0RmliZXJXaXRoTm9Qb3J0YWxzKGZpYmVyKTtcbiAgICAgIGlmIChob3N0RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gaG9zdEZpYmVyLnN0YXRlTm9kZTtcbiAgICB9LFxuICAgIGluamVjdEludG9EZXZUb29sczogZnVuY3Rpb24oZGV2VG9vbHNDb25maWcpIHtcbiAgICAgIHZhciBmaW5kRmliZXJCeUhvc3RJbnN0YW5jZSA9IGRldlRvb2xzQ29uZmlnLmZpbmRGaWJlckJ5SG9zdEluc3RhbmNlO1xuXG4gICAgICByZXR1cm4gaW5qZWN0SW50ZXJuYWxzKFxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBkZXZUb29sc0NvbmZpZywge1xuICAgICAgICAgIGZpbmRIb3N0SW5zdGFuY2VCeUZpYmVyOiBmdW5jdGlvbihmaWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZpbmRIb3N0SW5zdGFuY2UoZmliZXIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgICAgICAgICBpZiAoIWZpbmRGaWJlckJ5SG9zdEluc3RhbmNlKSB7XG4gICAgICAgICAgICAgIC8vIE1pZ2h0IG5vdCBiZSBpbXBsZW1lbnRlZCBieSB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBSZWFjdEZpYmVyUmVjb25jaWxlciQyID0gT2JqZWN0LmZyZWV6ZSh7XG4gIGRlZmF1bHQ6IFJlYWN0RmliZXJSZWNvbmNpbGVyJDFcbn0pO1xuXG52YXIgUmVhY3RGaWJlclJlY29uY2lsZXIkMyA9XG4gIChSZWFjdEZpYmVyUmVjb25jaWxlciQyICYmIFJlYWN0RmliZXJSZWNvbmNpbGVyJDEpIHx8IFJlYWN0RmliZXJSZWNvbmNpbGVyJDI7XG5cbi8vIFRPRE86IGJ1bmRsZSBGbG93IHR5cGVzIHdpdGggdGhlIHBhY2thZ2UuXG5cbi8vIFRPRE86IGRlY2lkZSBvbiB0aGUgdG9wLWxldmVsIGV4cG9ydCBmb3JtLlxuLy8gVGhpcyBpcyBoYWNreSBidXQgbWFrZXMgaXQgd29yayB3aXRoIGJvdGggUm9sbHVwIGFuZCBKZXN0LlxudmFyIHJlYWN0UmVjb25jaWxlciA9IFJlYWN0RmliZXJSZWNvbmNpbGVyJDNbXCJkZWZhdWx0XCJdXG4gID8gUmVhY3RGaWJlclJlY29uY2lsZXIkM1tcImRlZmF1bHRcIl1cbiAgOiBSZWFjdEZpYmVyUmVjb25jaWxlciQzO1xuXG52YXIgdmlld0NvbmZpZ0NhbGxiYWNrcyA9IG5ldyBNYXAoKTtcbnZhciB2aWV3Q29uZmlncyA9IG5ldyBNYXAoKTtcblxuLyoqXG4gKiBSZWdpc3RlcnMgYSBuYXRpdmUgdmlldy9jb21wb25lbnQgYnkgbmFtZS5cbiAqIEEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgdG8gbG9hZCB0aGUgdmlldyBjb25maWcgZnJvbSBVSU1hbmFnZXIuXG4gKiBUaGUgY2FsbGJhY2sgaXMgZGVmZXJyZWQgdW50aWwgdGhlIHZpZXcgaXMgYWN0dWFsbHkgcmVuZGVyZWQuXG4gKiBUaGlzIGlzIGRvbmUgdG8gYXZvaWQgY2F1c2luZyBQcmVwYWNrIGRlb3B0cy5cbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXIobmFtZSwgY2FsbGJhY2spIHtcbiAgaW52YXJpYW50KFxuICAgICF2aWV3Q29uZmlnQ2FsbGJhY2tzLmhhcyhuYW1lKSxcbiAgICBcIlRyaWVkIHRvIHJlZ2lzdGVyIHR3byB2aWV3cyB3aXRoIHRoZSBzYW1lIG5hbWUgJXNcIixcbiAgICBuYW1lXG4gICk7XG4gIHZpZXdDb25maWdDYWxsYmFja3Muc2V0KG5hbWUsIGNhbGxiYWNrKTtcbiAgcmV0dXJuIG5hbWU7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIGEgY29uZmlnIGZvciB0aGUgc3BlY2lmaWVkIHZpZXcuXG4gKiBJZiB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHRoZSB2aWV3IGhhcyBiZWVuIHVzZWQsXG4gKiBUaGlzIGNvbmZpZ3VyYXRpb24gd2lsbCBiZSBsYXp5LWxvYWRlZCBmcm9tIFVJTWFuYWdlci5cbiAqL1xuZnVuY3Rpb24gZ2V0JDEobmFtZSkge1xuICB2YXIgdmlld0NvbmZpZyA9IHZvaWQgMDtcbiAgaWYgKCF2aWV3Q29uZmlncy5oYXMobmFtZSkpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSB2aWV3Q29uZmlnQ2FsbGJhY2tzLmdldChuYW1lKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICB0eXBlb2YgY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIixcbiAgICAgIFwiVmlldyBjb25maWcgbm90IGZvdW5kIGZvciBuYW1lICVzXCIsXG4gICAgICBuYW1lXG4gICAgKTtcbiAgICB2aWV3Q29uZmlnQ2FsbGJhY2tzLnNldChuYW1lLCBudWxsKTtcbiAgICB2aWV3Q29uZmlnID0gY2FsbGJhY2soKTtcbiAgICB2aWV3Q29uZmlncy5zZXQobmFtZSwgdmlld0NvbmZpZyk7XG4gIH0gZWxzZSB7XG4gICAgdmlld0NvbmZpZyA9IHZpZXdDb25maWdzLmdldChuYW1lKTtcbiAgfVxuICBpbnZhcmlhbnQodmlld0NvbmZpZywgXCJWaWV3IGNvbmZpZyBub3QgZm91bmQgZm9yIG5hbWUgJXNcIiwgbmFtZSk7XG4gIHJldHVybiB2aWV3Q29uZmlnO1xufVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2skMihpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbi8vIE1vZHVsZXMgcHJvdmlkZWQgYnkgUk46XG4vKipcbiAqIFRoaXMgY29tcG9uZW50IGRlZmluZXMgdGhlIHNhbWUgbWV0aG9kcyBhcyBOYXRpdmVNZXRob2RzTWl4aW4gYnV0IHdpdGhvdXQgdGhlXG4gKiBmaW5kTm9kZUhhbmRsZSB3cmFwcGVyLiBUaGlzIHdyYXBwZXIgaXMgdW5uZWNlc3NhcnkgZm9yIEhvc3RDb21wb25lbnQgdmlld3NcbiAqIGFuZCB3b3VsZCBhbHNvIHJlc3VsdCBpbiBhIGNpcmN1bGFyIHJlcXVpcmUuanMgZGVwZW5kZW5jeSAoc2luY2VcbiAqIFJlYWN0TmF0aXZlRmliZXIgZGVwZW5kcyBvbiB0aGlzIGNvbXBvbmVudCBhbmQgTmF0aXZlTWV0aG9kc01peGluIGRlcGVuZHMgb25cbiAqIFJlYWN0TmF0aXZlRmliZXIpLlxuICovXG5cbnZhciBSZWFjdE5hdGl2ZUZpYmVySG9zdENvbXBvbmVudCA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gUmVhY3ROYXRpdmVGaWJlckhvc3RDb21wb25lbnQodGFnLCB2aWV3Q29uZmlnKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDIodGhpcywgUmVhY3ROYXRpdmVGaWJlckhvc3RDb21wb25lbnQpO1xuXG4gICAgdGhpcy5fbmF0aXZlVGFnID0gdGFnO1xuICAgIHRoaXMuX2NoaWxkcmVuID0gW107XG4gICAgdGhpcy52aWV3Q29uZmlnID0gdmlld0NvbmZpZztcbiAgfVxuXG4gIFJlYWN0TmF0aXZlRmliZXJIb3N0Q29tcG9uZW50LnByb3RvdHlwZS5ibHVyID0gZnVuY3Rpb24gYmx1cigpIHtcbiAgICBUZXh0SW5wdXRTdGF0ZS5ibHVyVGV4dElucHV0KHRoaXMuX25hdGl2ZVRhZyk7XG4gIH07XG5cbiAgUmVhY3ROYXRpdmVGaWJlckhvc3RDb21wb25lbnQucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgVGV4dElucHV0U3RhdGUuZm9jdXNUZXh0SW5wdXQodGhpcy5fbmF0aXZlVGFnKTtcbiAgfTtcblxuICBSZWFjdE5hdGl2ZUZpYmVySG9zdENvbXBvbmVudC5wcm90b3R5cGUubWVhc3VyZSA9IGZ1bmN0aW9uIG1lYXN1cmUoY2FsbGJhY2spIHtcbiAgICBVSU1hbmFnZXIubWVhc3VyZSh0aGlzLl9uYXRpdmVUYWcsIG1vdW50U2FmZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrKSk7XG4gIH07XG5cbiAgUmVhY3ROYXRpdmVGaWJlckhvc3RDb21wb25lbnQucHJvdG90eXBlLm1lYXN1cmVJbldpbmRvdyA9IGZ1bmN0aW9uIG1lYXN1cmVJbldpbmRvdyhcbiAgICBjYWxsYmFja1xuICApIHtcbiAgICBVSU1hbmFnZXIubWVhc3VyZUluV2luZG93KFxuICAgICAgdGhpcy5fbmF0aXZlVGFnLFxuICAgICAgbW91bnRTYWZlQ2FsbGJhY2sodGhpcywgY2FsbGJhY2spXG4gICAgKTtcbiAgfTtcblxuICBSZWFjdE5hdGl2ZUZpYmVySG9zdENvbXBvbmVudC5wcm90b3R5cGUubWVhc3VyZUxheW91dCA9IGZ1bmN0aW9uIG1lYXN1cmVMYXlvdXQoXG4gICAgcmVsYXRpdmVUb05hdGl2ZU5vZGUsXG4gICAgb25TdWNjZXNzLFxuICAgIG9uRmFpbCAvKiBjdXJyZW50bHkgdW51c2VkICovXG4gICkge1xuICAgIFVJTWFuYWdlci5tZWFzdXJlTGF5b3V0KFxuICAgICAgdGhpcy5fbmF0aXZlVGFnLFxuICAgICAgcmVsYXRpdmVUb05hdGl2ZU5vZGUsXG4gICAgICBtb3VudFNhZmVDYWxsYmFjayh0aGlzLCBvbkZhaWwpLFxuICAgICAgbW91bnRTYWZlQ2FsbGJhY2sodGhpcywgb25TdWNjZXNzKVxuICAgICk7XG4gIH07XG5cbiAgUmVhY3ROYXRpdmVGaWJlckhvc3RDb21wb25lbnQucHJvdG90eXBlLnNldE5hdGl2ZVByb3BzID0gZnVuY3Rpb24gc2V0TmF0aXZlUHJvcHMoXG4gICAgbmF0aXZlUHJvcHNcbiAgKSB7XG4gICAge1xuICAgICAgd2FybkZvclN0eWxlUHJvcHMobmF0aXZlUHJvcHMsIHRoaXMudmlld0NvbmZpZy52YWxpZEF0dHJpYnV0ZXMpO1xuICAgIH1cblxuICAgIHZhciB1cGRhdGVQYXlsb2FkID0gY3JlYXRlKG5hdGl2ZVByb3BzLCB0aGlzLnZpZXdDb25maWcudmFsaWRBdHRyaWJ1dGVzKTtcblxuICAgIC8vIEF2b2lkIHRoZSBvdmVyaGVhZCBvZiBicmlkZ2UgY2FsbHMgaWYgdGhlcmUncyBubyB1cGRhdGUuXG4gICAgLy8gVGhpcyBpcyBhbiBleHBlbnNpdmUgbm8tb3AgZm9yIEFuZHJvaWQsIGFuZCBjYXVzZXMgYW4gdW5uZWNlc3NhcnlcbiAgICAvLyB2aWV3IGludmFsaWRhdGlvbiBmb3IgY2VydGFpbiBjb21wb25lbnRzIChlZyBSQ1RUZXh0SW5wdXQpIG9uIGlPUy5cbiAgICBpZiAodXBkYXRlUGF5bG9hZCAhPSBudWxsKSB7XG4gICAgICBVSU1hbmFnZXIudXBkYXRlVmlldyhcbiAgICAgICAgdGhpcy5fbmF0aXZlVGFnLFxuICAgICAgICB0aGlzLnZpZXdDb25maWcudWlWaWV3Q2xhc3NOYW1lLFxuICAgICAgICB1cGRhdGVQYXlsb2FkXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUmVhY3ROYXRpdmVGaWJlckhvc3RDb21wb25lbnQ7XG59KSgpO1xuXG52YXIgaGFzTmF0aXZlUGVyZm9ybWFuY2VOb3cgPVxuICB0eXBlb2YgcGVyZm9ybWFuY2UgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gXCJmdW5jdGlvblwiO1xuXG52YXIgbm93ID0gaGFzTmF0aXZlUGVyZm9ybWFuY2VOb3dcbiAgPyBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG4gIDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgICB9O1xuXG52YXIgc2NoZWR1bGVkQ2FsbGJhY2sgPSBudWxsO1xudmFyIGZyYW1lRGVhZGxpbmUgPSAwO1xuXG52YXIgZnJhbWVEZWFkbGluZU9iamVjdCA9IHtcbiAgdGltZVJlbWFpbmluZzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZyYW1lRGVhZGxpbmUgLSBub3coKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gc2V0VGltZW91dENhbGxiYWNrKCkge1xuICAvLyBUT0RPIChidmF1Z2huKSBIYXJkLWNvZGVkIDVtcyB1bmJsb2NrcyBpbml0aWFsIGFzeW5jIHRlc3RpbmcuXG4gIC8vIFJlYWN0IEFQSSBwcm9iYWJseSBjaGFuZ2luZyB0byBib29sZWFuIHJhdGhlciB0aGFuIHRpbWUgcmVtYWluaW5nLlxuICAvLyBMb25nZXItdGVybSBwbGFuIGlzIHRvIHJld3JpdGUgdGhpcyB1c2luZyBzaGFyZWQgbWVtb3J5LFxuICAvLyBBbmQganVzdCByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBiaXQgYXMgdGhlIGJvb2xlYW4uXG4gIGZyYW1lRGVhZGxpbmUgPSBub3coKSArIDU7XG5cbiAgdmFyIGNhbGxiYWNrID0gc2NoZWR1bGVkQ2FsbGJhY2s7XG4gIHNjaGVkdWxlZENhbGxiYWNrID0gbnVsbDtcbiAgaWYgKGNhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgY2FsbGJhY2soZnJhbWVEZWFkbGluZU9iamVjdCk7XG4gIH1cbn1cblxuLy8gUk4gaGFzIGEgcG9vciBwb2x5ZmlsbCBmb3IgcmVxdWVzdElkbGVDYWxsYmFjayBzbyB3ZSBhcmVuJ3QgdXNpbmcgaXQuXG4vLyBUaGlzIGltcGxlbWVudGF0aW9uIGlzIG9ubHkgaW50ZW5kZWQgZm9yIHNob3J0LXRlcm0gdXNlIGFueXdheS5cbi8vIFdlIGFsc28gZG9uJ3QgaW1wbGVtZW50IGNhbmNlbCBmdW5jdGlvbmFsaXR5IGInYyBGaWJlciBkb2Vzbid0IGN1cnJlbnRseSBuZWVkIGl0LlxuZnVuY3Rpb24gc2NoZWR1bGVEZWZlcnJlZENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gIC8vIFdlIGFzc3VtZSBvbmx5IG9uZSBjYWxsYmFjayBpcyBzY2hlZHVsZWQgYXQgYSB0aW1lIGInYyB0aGF0J3MgaG93IEZpYmVyIHdvcmtzLlxuICBzY2hlZHVsZWRDYWxsYmFjayA9IGNhbGxiYWNrO1xuICByZXR1cm4gc2V0VGltZW91dChzZXRUaW1lb3V0Q2FsbGJhY2ssIDEpO1xufVxuXG5mdW5jdGlvbiBjYW5jZWxEZWZlcnJlZENhbGxiYWNrKGNhbGxiYWNrSUQpIHtcbiAgc2NoZWR1bGVkQ2FsbGJhY2sgPSBudWxsO1xuICBjbGVhclRpbWVvdXQoY2FsbGJhY2tJRCk7XG59XG5cbi8vIE1vZHVsZXMgcHJvdmlkZWQgYnkgUk46XG5mdW5jdGlvbiByZWN1cnNpdmVseVVuY2FjaGVGaWJlck5vZGUobm9kZSkge1xuICBpZiAodHlwZW9mIG5vZGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAvLyBMZWFmIG5vZGUgKGVnIHRleHQpXG4gICAgdW5jYWNoZUZpYmVyTm9kZShub2RlKTtcbiAgfSBlbHNlIHtcbiAgICB1bmNhY2hlRmliZXJOb2RlKG5vZGUuX25hdGl2ZVRhZyk7XG5cbiAgICBub2RlLl9jaGlsZHJlbi5mb3JFYWNoKHJlY3Vyc2l2ZWx5VW5jYWNoZUZpYmVyTm9kZSk7XG4gIH1cbn1cblxudmFyIE5hdGl2ZVJlbmRlcmVyID0gcmVhY3RSZWNvbmNpbGVyKHtcbiAgYXBwZW5kSW5pdGlhbENoaWxkOiBmdW5jdGlvbihwYXJlbnRJbnN0YW5jZSwgY2hpbGQpIHtcbiAgICBwYXJlbnRJbnN0YW5jZS5fY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gIH0sXG4gIGNyZWF0ZUluc3RhbmNlOiBmdW5jdGlvbihcbiAgICB0eXBlLFxuICAgIHByb3BzLFxuICAgIHJvb3RDb250YWluZXJJbnN0YW5jZSxcbiAgICBob3N0Q29udGV4dCxcbiAgICBpbnRlcm5hbEluc3RhbmNlSGFuZGxlXG4gICkge1xuICAgIHZhciB0YWcgPSBSZWFjdE5hdGl2ZVRhZ0hhbmRsZXMuYWxsb2NhdGVUYWcoKTtcbiAgICB2YXIgdmlld0NvbmZpZyA9IGdldCQxKHR5cGUpO1xuXG4gICAge1xuICAgICAgZm9yICh2YXIga2V5IGluIHZpZXdDb25maWcudmFsaWRBdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgZGVlcEZyZWV6ZUFuZFRocm93T25NdXRhdGlvbkluRGV2KHByb3BzW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHVwZGF0ZVBheWxvYWQgPSBjcmVhdGUocHJvcHMsIHZpZXdDb25maWcudmFsaWRBdHRyaWJ1dGVzKTtcblxuICAgIFVJTWFuYWdlci5jcmVhdGVWaWV3KFxuICAgICAgdGFnLCAvLyByZWFjdFRhZ1xuICAgICAgdmlld0NvbmZpZy51aVZpZXdDbGFzc05hbWUsIC8vIHZpZXdOYW1lXG4gICAgICByb290Q29udGFpbmVySW5zdGFuY2UsIC8vIHJvb3RUYWdcbiAgICAgIHVwZGF0ZVBheWxvYWRcbiAgICApO1xuXG4gICAgdmFyIGNvbXBvbmVudCA9IG5ldyBSZWFjdE5hdGl2ZUZpYmVySG9zdENvbXBvbmVudCh0YWcsIHZpZXdDb25maWcpO1xuXG4gICAgcHJlY2FjaGVGaWJlck5vZGUoaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSwgdGFnKTtcbiAgICB1cGRhdGVGaWJlclByb3BzKHRhZywgcHJvcHMpO1xuXG4gICAgLy8gTm90IHN1cmUgaG93IHRvIGF2b2lkIHRoaXMgY2FzdC4gRmxvdyBpcyBva2F5IGlmIHRoZSBjb21wb25lbnQgaXMgZGVmaW5lZFxuICAgIC8vIGluIHRoZSBzYW1lIGZpbGUgYnV0IGlmIGl0J3MgZXh0ZXJuYWwgaXQgY2FuJ3Qgc2VlIHRoZSB0eXBlcy5cbiAgICByZXR1cm4gY29tcG9uZW50O1xuICB9LFxuICBjcmVhdGVUZXh0SW5zdGFuY2U6IGZ1bmN0aW9uKFxuICAgIHRleHQsXG4gICAgcm9vdENvbnRhaW5lckluc3RhbmNlLFxuICAgIGhvc3RDb250ZXh0LFxuICAgIGludGVybmFsSW5zdGFuY2VIYW5kbGVcbiAgKSB7XG4gICAgdmFyIHRhZyA9IFJlYWN0TmF0aXZlVGFnSGFuZGxlcy5hbGxvY2F0ZVRhZygpO1xuXG4gICAgVUlNYW5hZ2VyLmNyZWF0ZVZpZXcoXG4gICAgICB0YWcsIC8vIHJlYWN0VGFnXG4gICAgICBcIlJDVFJhd1RleHRcIiwgLy8gdmlld05hbWVcbiAgICAgIHJvb3RDb250YWluZXJJbnN0YW5jZSwgLy8gcm9vdFRhZ1xuICAgICAgeyB0ZXh0OiB0ZXh0IH1cbiAgICApO1xuXG4gICAgcHJlY2FjaGVGaWJlck5vZGUoaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSwgdGFnKTtcblxuICAgIHJldHVybiB0YWc7XG4gIH0sXG4gIGZpbmFsaXplSW5pdGlhbENoaWxkcmVuOiBmdW5jdGlvbihcbiAgICBwYXJlbnRJbnN0YW5jZSxcbiAgICB0eXBlLFxuICAgIHByb3BzLFxuICAgIHJvb3RDb250YWluZXJJbnN0YW5jZVxuICApIHtcbiAgICAvLyBEb24ndCBzZW5kIGEgbm8tb3AgbWVzc2FnZSBvdmVyIHRoZSBicmlkZ2UuXG4gICAgaWYgKHBhcmVudEluc3RhbmNlLl9jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBNYXAgZnJvbSBjaGlsZCBvYmplY3RzIHRvIG5hdGl2ZSB0YWdzLlxuICAgIC8vIEVpdGhlciB3YXkgd2UgbmVlZCB0byBwYXNzIGEgY29weSBvZiB0aGUgQXJyYXkgdG8gcHJldmVudCBpdCBmcm9tIGJlaW5nIGZyb3plbi5cbiAgICB2YXIgbmF0aXZlVGFncyA9IHBhcmVudEluc3RhbmNlLl9jaGlsZHJlbi5tYXAoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgY2hpbGQgPT09IFwibnVtYmVyXCJcbiAgICAgICAgPyBjaGlsZCAvLyBMZWFmIG5vZGUgKGVnIHRleHQpXG4gICAgICAgIDogY2hpbGQuX25hdGl2ZVRhZztcbiAgICB9KTtcblxuICAgIFVJTWFuYWdlci5zZXRDaGlsZHJlbihcbiAgICAgIHBhcmVudEluc3RhbmNlLl9uYXRpdmVUYWcsIC8vIGNvbnRhaW5lclRhZ1xuICAgICAgbmF0aXZlVGFnc1xuICAgICk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGdldFJvb3RIb3N0Q29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGVtcHR5T2JqZWN0O1xuICB9LFxuICBnZXRDaGlsZEhvc3RDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZW1wdHlPYmplY3Q7XG4gIH0sXG4gIGdldFB1YmxpY0luc3RhbmNlOiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfSxcblxuICBub3c6IG5vdyxcblxuICBwcmVwYXJlRm9yQ29tbWl0OiBmdW5jdGlvbigpIHtcbiAgICAvLyBOb29wXG4gIH0sXG4gIHByZXBhcmVVcGRhdGU6IGZ1bmN0aW9uKFxuICAgIGluc3RhbmNlLFxuICAgIHR5cGUsXG4gICAgb2xkUHJvcHMsXG4gICAgbmV3UHJvcHMsXG4gICAgcm9vdENvbnRhaW5lckluc3RhbmNlLFxuICAgIGhvc3RDb250ZXh0XG4gICkge1xuICAgIHJldHVybiBlbXB0eU9iamVjdDtcbiAgfSxcbiAgcmVzZXRBZnRlckNvbW1pdDogZnVuY3Rpb24oKSB7XG4gICAgLy8gTm9vcFxuICB9LFxuXG4gIHNjaGVkdWxlRGVmZXJyZWRDYWxsYmFjazogc2NoZWR1bGVEZWZlcnJlZENhbGxiYWNrLFxuICBjYW5jZWxEZWZlcnJlZENhbGxiYWNrOiBjYW5jZWxEZWZlcnJlZENhbGxiYWNrLFxuXG4gIHNob3VsZERlcHJpb3JpdGl6ZVN1YnRyZWU6IGZ1bmN0aW9uKHR5cGUsIHByb3BzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBzaG91bGRTZXRUZXh0Q29udGVudDogZnVuY3Rpb24odHlwZSwgcHJvcHMpIHtcbiAgICAvLyBUT0RPIChidmF1Z2huKSBSZXZpc2l0IHRoaXMgZGVjaXNpb24uXG4gICAgLy8gQWx3YXlzIHJldHVybmluZyBmYWxzZSBzaW1wbGlmaWVzIHRoZSBjcmVhdGVJbnN0YW5jZSgpIGltcGxlbWVudGF0aW9uLFxuICAgIC8vIEJ1dCBjcmVhdGVzIGFuIGFkZGl0aW9uYWwgY2hpbGQgRmliZXIgZm9yIHJhdyB0ZXh0IGNoaWxkcmVuLlxuICAgIC8vIE5vIGFkZGl0aW9uYWwgbmF0aXZlIHZpZXdzIGFyZSBjcmVhdGVkIHRob3VnaC5cbiAgICAvLyBJdCdzIG5vdCBjbGVhciB0byBtZSB3aGljaCBpcyBiZXR0ZXIgc28gSSdtIGRlZmVycmluZyBmb3Igbm93LlxuICAgIC8vIE1vcmUgY29udGV4dCBAIGdpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC84NTYwI2Rpc2N1c3Npb25fcjkyMTExMzAzXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIG11dGF0aW9uOiB7XG4gICAgYXBwZW5kQ2hpbGQ6IGZ1bmN0aW9uKHBhcmVudEluc3RhbmNlLCBjaGlsZCkge1xuICAgICAgdmFyIGNoaWxkVGFnID0gdHlwZW9mIGNoaWxkID09PSBcIm51bWJlclwiID8gY2hpbGQgOiBjaGlsZC5fbmF0aXZlVGFnO1xuICAgICAgdmFyIGNoaWxkcmVuID0gcGFyZW50SW5zdGFuY2UuX2NoaWxkcmVuO1xuICAgICAgdmFyIGluZGV4ID0gY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG5cbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIGNoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXG4gICAgICAgIFVJTWFuYWdlci5tYW5hZ2VDaGlsZHJlbihcbiAgICAgICAgICBwYXJlbnRJbnN0YW5jZS5fbmF0aXZlVGFnLCAvLyBjb250YWluZXJUYWdcbiAgICAgICAgICBbaW5kZXhdLCAvLyBtb3ZlRnJvbUluZGljZXNcbiAgICAgICAgICBbY2hpbGRyZW4ubGVuZ3RoIC0gMV0sIC8vIG1vdmVUb0luZGljZXNcbiAgICAgICAgICBbXSwgLy8gYWRkQ2hpbGRSZWFjdFRhZ3NcbiAgICAgICAgICBbXSwgLy8gYWRkQXRJbmRpY2VzXG4gICAgICAgICAgW11cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXG4gICAgICAgIFVJTWFuYWdlci5tYW5hZ2VDaGlsZHJlbihcbiAgICAgICAgICBwYXJlbnRJbnN0YW5jZS5fbmF0aXZlVGFnLCAvLyBjb250YWluZXJUYWdcbiAgICAgICAgICBbXSwgLy8gbW92ZUZyb21JbmRpY2VzXG4gICAgICAgICAgW10sIC8vIG1vdmVUb0luZGljZXNcbiAgICAgICAgICBbY2hpbGRUYWddLCAvLyBhZGRDaGlsZFJlYWN0VGFnc1xuICAgICAgICAgIFtjaGlsZHJlbi5sZW5ndGggLSAxXSwgLy8gYWRkQXRJbmRpY2VzXG4gICAgICAgICAgW11cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFwcGVuZENoaWxkVG9Db250YWluZXI6IGZ1bmN0aW9uKHBhcmVudEluc3RhbmNlLCBjaGlsZCkge1xuICAgICAgdmFyIGNoaWxkVGFnID0gdHlwZW9mIGNoaWxkID09PSBcIm51bWJlclwiID8gY2hpbGQgOiBjaGlsZC5fbmF0aXZlVGFnO1xuICAgICAgVUlNYW5hZ2VyLnNldENoaWxkcmVuKFxuICAgICAgICBwYXJlbnRJbnN0YW5jZSwgLy8gY29udGFpbmVyVGFnXG4gICAgICAgIFtjaGlsZFRhZ11cbiAgICAgICk7XG4gICAgfSxcbiAgICBjb21taXRUZXh0VXBkYXRlOiBmdW5jdGlvbih0ZXh0SW5zdGFuY2UsIG9sZFRleHQsIG5ld1RleHQpIHtcbiAgICAgIFVJTWFuYWdlci51cGRhdGVWaWV3KFxuICAgICAgICB0ZXh0SW5zdGFuY2UsIC8vIHJlYWN0VGFnXG4gICAgICAgIFwiUkNUUmF3VGV4dFwiLCAvLyB2aWV3TmFtZVxuICAgICAgICB7IHRleHQ6IG5ld1RleHQgfVxuICAgICAgKTtcbiAgICB9LFxuICAgIGNvbW1pdE1vdW50OiBmdW5jdGlvbihpbnN0YW5jZSwgdHlwZSwgbmV3UHJvcHMsIGludGVybmFsSW5zdGFuY2VIYW5kbGUpIHtcbiAgICAgIC8vIE5vb3BcbiAgICB9LFxuICAgIGNvbW1pdFVwZGF0ZTogZnVuY3Rpb24oXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIHVwZGF0ZVBheWxvYWRUT0RPLFxuICAgICAgdHlwZSxcbiAgICAgIG9sZFByb3BzLFxuICAgICAgbmV3UHJvcHMsXG4gICAgICBpbnRlcm5hbEluc3RhbmNlSGFuZGxlXG4gICAgKSB7XG4gICAgICB2YXIgdmlld0NvbmZpZyA9IGluc3RhbmNlLnZpZXdDb25maWc7XG5cbiAgICAgIHVwZGF0ZUZpYmVyUHJvcHMoaW5zdGFuY2UuX25hdGl2ZVRhZywgbmV3UHJvcHMpO1xuXG4gICAgICB2YXIgdXBkYXRlUGF5bG9hZCA9IGRpZmYob2xkUHJvcHMsIG5ld1Byb3BzLCB2aWV3Q29uZmlnLnZhbGlkQXR0cmlidXRlcyk7XG5cbiAgICAgIC8vIEF2b2lkIHRoZSBvdmVyaGVhZCBvZiBicmlkZ2UgY2FsbHMgaWYgdGhlcmUncyBubyB1cGRhdGUuXG4gICAgICAvLyBUaGlzIGlzIGFuIGV4cGVuc2l2ZSBuby1vcCBmb3IgQW5kcm9pZCwgYW5kIGNhdXNlcyBhbiB1bm5lY2Vzc2FyeVxuICAgICAgLy8gdmlldyBpbnZhbGlkYXRpb24gZm9yIGNlcnRhaW4gY29tcG9uZW50cyAoZWcgUkNUVGV4dElucHV0KSBvbiBpT1MuXG4gICAgICBpZiAodXBkYXRlUGF5bG9hZCAhPSBudWxsKSB7XG4gICAgICAgIFVJTWFuYWdlci51cGRhdGVWaWV3KFxuICAgICAgICAgIGluc3RhbmNlLl9uYXRpdmVUYWcsIC8vIHJlYWN0VGFnXG4gICAgICAgICAgdmlld0NvbmZpZy51aVZpZXdDbGFzc05hbWUsIC8vIHZpZXdOYW1lXG4gICAgICAgICAgdXBkYXRlUGF5bG9hZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW5zZXJ0QmVmb3JlOiBmdW5jdGlvbihwYXJlbnRJbnN0YW5jZSwgY2hpbGQsIGJlZm9yZUNoaWxkKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBwYXJlbnRJbnN0YW5jZS5fY2hpbGRyZW47XG4gICAgICB2YXIgaW5kZXggPSBjaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcblxuICAgICAgLy8gTW92ZSBleGlzdGluZyBjaGlsZCBvciBhZGQgbmV3IGNoaWxkP1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdmFyIGJlZm9yZUNoaWxkSW5kZXggPSBjaGlsZHJlbi5pbmRleE9mKGJlZm9yZUNoaWxkKTtcbiAgICAgICAgY2hpbGRyZW4uc3BsaWNlKGJlZm9yZUNoaWxkSW5kZXgsIDAsIGNoaWxkKTtcblxuICAgICAgICBVSU1hbmFnZXIubWFuYWdlQ2hpbGRyZW4oXG4gICAgICAgICAgcGFyZW50SW5zdGFuY2UuX25hdGl2ZVRhZywgLy8gY29udGFpbmVySURcbiAgICAgICAgICBbaW5kZXhdLCAvLyBtb3ZlRnJvbUluZGljZXNcbiAgICAgICAgICBbYmVmb3JlQ2hpbGRJbmRleF0sIC8vIG1vdmVUb0luZGljZXNcbiAgICAgICAgICBbXSwgLy8gYWRkQ2hpbGRSZWFjdFRhZ3NcbiAgICAgICAgICBbXSwgLy8gYWRkQXRJbmRpY2VzXG4gICAgICAgICAgW11cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfYmVmb3JlQ2hpbGRJbmRleCA9IGNoaWxkcmVuLmluZGV4T2YoYmVmb3JlQ2hpbGQpO1xuICAgICAgICBjaGlsZHJlbi5zcGxpY2UoX2JlZm9yZUNoaWxkSW5kZXgsIDAsIGNoaWxkKTtcblxuICAgICAgICB2YXIgY2hpbGRUYWcgPSB0eXBlb2YgY2hpbGQgPT09IFwibnVtYmVyXCIgPyBjaGlsZCA6IGNoaWxkLl9uYXRpdmVUYWc7XG5cbiAgICAgICAgVUlNYW5hZ2VyLm1hbmFnZUNoaWxkcmVuKFxuICAgICAgICAgIHBhcmVudEluc3RhbmNlLl9uYXRpdmVUYWcsIC8vIGNvbnRhaW5lcklEXG4gICAgICAgICAgW10sIC8vIG1vdmVGcm9tSW5kaWNlc1xuICAgICAgICAgIFtdLCAvLyBtb3ZlVG9JbmRpY2VzXG4gICAgICAgICAgW2NoaWxkVGFnXSwgLy8gYWRkQ2hpbGRSZWFjdFRhZ3NcbiAgICAgICAgICBbX2JlZm9yZUNoaWxkSW5kZXhdLCAvLyBhZGRBdEluZGljZXNcbiAgICAgICAgICBbXVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW5zZXJ0SW5Db250YWluZXJCZWZvcmU6IGZ1bmN0aW9uKHBhcmVudEluc3RhbmNlLCBjaGlsZCwgYmVmb3JlQ2hpbGQpIHtcbiAgICAgIC8vIFRPRE8gKGJ2YXVnaG4pOiBSZW1vdmUgdGhpcyBjaGVjayB3aGVuLi4uXG4gICAgICAvLyBXZSBjcmVhdGUgYSB3cmFwcGVyIG9iamVjdCBmb3IgdGhlIGNvbnRhaW5lciBpbiBSZWFjdE5hdGl2ZSByZW5kZXIoKVxuICAgICAgLy8gT3Igd2UgcmVmYWN0b3IgdG8gcmVtb3ZlIHdyYXBwZXIgb2JqZWN0cyBlbnRpcmVseS5cbiAgICAgIC8vIEZvciBtb3JlIGluZm8gb24gcHJvcy9jb25zIHNlZSBQUiAjODU2MCBkZXNjcmlwdGlvbi5cbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdHlwZW9mIHBhcmVudEluc3RhbmNlICE9PSBcIm51bWJlclwiLFxuICAgICAgICBcIkNvbnRhaW5lciBkb2VzIG5vdCBzdXBwb3J0IGluc2VydEJlZm9yZSBvcGVyYXRpb25cIlxuICAgICAgKTtcbiAgICB9LFxuICAgIHJlbW92ZUNoaWxkOiBmdW5jdGlvbihwYXJlbnRJbnN0YW5jZSwgY2hpbGQpIHtcbiAgICAgIHJlY3Vyc2l2ZWx5VW5jYWNoZUZpYmVyTm9kZShjaGlsZCk7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBwYXJlbnRJbnN0YW5jZS5fY2hpbGRyZW47XG4gICAgICB2YXIgaW5kZXggPSBjaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcblxuICAgICAgY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgVUlNYW5hZ2VyLm1hbmFnZUNoaWxkcmVuKFxuICAgICAgICBwYXJlbnRJbnN0YW5jZS5fbmF0aXZlVGFnLCAvLyBjb250YWluZXJJRFxuICAgICAgICBbXSwgLy8gbW92ZUZyb21JbmRpY2VzXG4gICAgICAgIFtdLCAvLyBtb3ZlVG9JbmRpY2VzXG4gICAgICAgIFtdLCAvLyBhZGRDaGlsZFJlYWN0VGFnc1xuICAgICAgICBbXSwgLy8gYWRkQXRJbmRpY2VzXG4gICAgICAgIFtpbmRleF1cbiAgICAgICk7XG4gICAgfSxcbiAgICByZW1vdmVDaGlsZEZyb21Db250YWluZXI6IGZ1bmN0aW9uKHBhcmVudEluc3RhbmNlLCBjaGlsZCkge1xuICAgICAgcmVjdXJzaXZlbHlVbmNhY2hlRmliZXJOb2RlKGNoaWxkKTtcbiAgICAgIFVJTWFuYWdlci5tYW5hZ2VDaGlsZHJlbihcbiAgICAgICAgcGFyZW50SW5zdGFuY2UsIC8vIGNvbnRhaW5lcklEXG4gICAgICAgIFtdLCAvLyBtb3ZlRnJvbUluZGljZXNcbiAgICAgICAgW10sIC8vIG1vdmVUb0luZGljZXNcbiAgICAgICAgW10sIC8vIGFkZENoaWxkUmVhY3RUYWdzXG4gICAgICAgIFtdLCAvLyBhZGRBdEluZGljZXNcbiAgICAgICAgWzBdXG4gICAgICApO1xuICAgIH0sXG4gICAgcmVzZXRUZXh0Q29udGVudDogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICAgIC8vIE5vb3BcbiAgICB9XG4gIH1cbn0pO1xuXG4vLyBNb2R1bGUgcHJvdmlkZWQgYnkgUk46XG52YXIgZ2V0SW5zcGVjdG9yRGF0YUZvclZpZXdUYWcgPSB2b2lkIDA7XG5cbntcbiAgdmFyIHRyYXZlcnNlT3duZXJUcmVlVXAgPSBmdW5jdGlvbihoaWVyYXJjaHksIGluc3RhbmNlKSB7XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICBoaWVyYXJjaHkudW5zaGlmdChpbnN0YW5jZSk7XG4gICAgICB0cmF2ZXJzZU93bmVyVHJlZVVwKGhpZXJhcmNoeSwgaW5zdGFuY2UuX2RlYnVnT3duZXIpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0T3duZXJIaWVyYXJjaHkgPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHZhciBoaWVyYXJjaHkgPSBbXTtcbiAgICB0cmF2ZXJzZU93bmVyVHJlZVVwKGhpZXJhcmNoeSwgaW5zdGFuY2UpO1xuICAgIHJldHVybiBoaWVyYXJjaHk7XG4gIH07XG5cbiAgdmFyIGxhc3ROb25Ib3N0SW5zdGFuY2UgPSBmdW5jdGlvbihoaWVyYXJjaHkpIHtcbiAgICBmb3IgKHZhciBpID0gaGllcmFyY2h5Lmxlbmd0aCAtIDE7IGkgPiAxOyBpLS0pIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IGhpZXJhcmNoeVtpXTtcblxuICAgICAgaWYgKGluc3RhbmNlLnRhZyAhPT0gSG9zdENvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoaWVyYXJjaHlbMF07XG4gIH07XG5cbiAgdmFyIGdldEhvc3RQcm9wcyA9IGZ1bmN0aW9uKGZpYmVyKSB7XG4gICAgdmFyIGhvc3QgPSBmaW5kQ3VycmVudEhvc3RGaWJlcihmaWJlcik7XG4gICAgaWYgKGhvc3QpIHtcbiAgICAgIHJldHVybiBob3N0Lm1lbW9pemVkUHJvcHMgfHwgZW1wdHlPYmplY3Q7XG4gICAgfVxuICAgIHJldHVybiBlbXB0eU9iamVjdDtcbiAgfTtcblxuICB2YXIgZ2V0SG9zdE5vZGUgPSBmdW5jdGlvbihmaWJlciwgZmluZE5vZGVIYW5kbGUpIHtcbiAgICB2YXIgaG9zdE5vZGUgPSB2b2lkIDA7XG4gICAgLy8gbG9vayBmb3IgY2hpbGRyZW4gZmlyc3QgZm9yIHRoZSBob3N0Tm9kZVxuICAgIC8vIGFzIGNvbXBvc2l0ZSBmaWJlcnMgZG8gbm90IGhhdmUgYSBob3N0Tm9kZVxuICAgIHdoaWxlIChmaWJlcikge1xuICAgICAgaWYgKGZpYmVyLnN0YXRlTm9kZSAhPT0gbnVsbCAmJiBmaWJlci50YWcgPT09IEhvc3RDb21wb25lbnQpIHtcbiAgICAgICAgaG9zdE5vZGUgPSBmaW5kTm9kZUhhbmRsZShmaWJlci5zdGF0ZU5vZGUpO1xuICAgICAgfVxuICAgICAgaWYgKGhvc3ROb2RlKSB7XG4gICAgICAgIHJldHVybiBob3N0Tm9kZTtcbiAgICAgIH1cbiAgICAgIGZpYmVyID0gZmliZXIuY2hpbGQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBjcmVhdGVIaWVyYXJjaHkgPSBmdW5jdGlvbihmaWJlckhpZXJhcmNoeSkge1xuICAgIHJldHVybiBmaWJlckhpZXJhcmNoeS5tYXAoZnVuY3Rpb24oZmliZXIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IGdldENvbXBvbmVudE5hbWUoZmliZXIpLFxuICAgICAgICBnZXRJbnNwZWN0b3JEYXRhOiBmdW5jdGlvbihmaW5kTm9kZUhhbmRsZSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZWFzdXJlOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgICAgICByZXR1cm4gVUlNYW5hZ2VyLm1lYXN1cmUoXG4gICAgICAgICAgICAgICAgZ2V0SG9zdE5vZGUoZmliZXIsIGZpbmROb2RlSGFuZGxlKSxcbiAgICAgICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb3BzOiBnZXRIb3N0UHJvcHMoZmliZXIpLFxuICAgICAgICAgICAgc291cmNlOiBmaWJlci5fZGVidWdTb3VyY2VcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuXG4gIGdldEluc3BlY3RvckRhdGFGb3JWaWV3VGFnID0gZnVuY3Rpb24odmlld1RhZykge1xuICAgIHZhciBjbG9zZXN0SW5zdGFuY2UgPSBnZXRJbnN0YW5jZUZyb21UYWcodmlld1RhZyk7XG5cbiAgICAvLyBIYW5kbGUgY2FzZSB3aGVyZSB1c2VyIGNsaWNrcyBvdXRzaWRlIG9mIFJlYWN0TmF0aXZlXG4gICAgaWYgKCFjbG9zZXN0SW5zdGFuY2UpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhpZXJhcmNoeTogW10sXG4gICAgICAgIHByb3BzOiBlbXB0eU9iamVjdCxcbiAgICAgICAgc2VsZWN0aW9uOiBudWxsLFxuICAgICAgICBzb3VyY2U6IG51bGxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGZpYmVyID0gZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgoY2xvc2VzdEluc3RhbmNlKTtcbiAgICB2YXIgZmliZXJIaWVyYXJjaHkgPSBnZXRPd25lckhpZXJhcmNoeShmaWJlcik7XG4gICAgdmFyIGluc3RhbmNlID0gbGFzdE5vbkhvc3RJbnN0YW5jZShmaWJlckhpZXJhcmNoeSk7XG4gICAgdmFyIGhpZXJhcmNoeSA9IGNyZWF0ZUhpZXJhcmNoeShmaWJlckhpZXJhcmNoeSk7XG4gICAgdmFyIHByb3BzID0gZ2V0SG9zdFByb3BzKGluc3RhbmNlKTtcbiAgICB2YXIgc291cmNlID0gaW5zdGFuY2UuX2RlYnVnU291cmNlO1xuICAgIHZhciBzZWxlY3Rpb24gPSBmaWJlckhpZXJhcmNoeS5pbmRleE9mKGluc3RhbmNlKTtcblxuICAgIHJldHVybiB7XG4gICAgICBoaWVyYXJjaHk6IGhpZXJhcmNoeSxcbiAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgIHNlbGVjdGlvbjogc2VsZWN0aW9uLFxuICAgICAgc291cmNlOiBzb3VyY2VcbiAgICB9O1xuICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSByZW5kZXJhYmxlIFJlYWN0TmF0aXZlIGhvc3QgY29tcG9uZW50LlxuICogVXNlIHRoaXMgbWV0aG9kIGZvciB2aWV3IGNvbmZpZ3MgdGhhdCBhcmUgbG9hZGVkIGZyb20gVUlNYW5hZ2VyLlxuICogVXNlIGNyZWF0ZVJlYWN0TmF0aXZlQ29tcG9uZW50Q2xhc3MoKSBmb3IgdmlldyBjb25maWdzIGRlZmluZWQgd2l0aGluIEphdmFTY3JpcHQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZyBpT1MgVmlldyBjb25maWd1cmF0aW9uLlxuICogQHByaXZhdGVcbiAqL1xudmFyIGNyZWF0ZVJlYWN0TmF0aXZlQ29tcG9uZW50Q2xhc3MgPSBmdW5jdGlvbihuYW1lLCBjYWxsYmFjaykge1xuICByZXR1cm4gcmVnaXN0ZXIobmFtZSwgY2FsbGJhY2spO1xufTtcblxuLy8gTW9kdWxlIHByb3ZpZGVkIGJ5IFJOOlxuLyoqXG4gKiBDYXB0dXJlIGFuIGltYWdlIG9mIHRoZSBzY3JlZW4sIHdpbmRvdyBvciBhbiBpbmRpdmlkdWFsIHZpZXcuIFRoZSBpbWFnZVxuICogd2lsbCBiZSBzdG9yZWQgaW4gYSB0ZW1wb3JhcnkgZmlsZSB0aGF0IHdpbGwgb25seSBleGlzdCBmb3IgYXMgbG9uZyBhcyB0aGVcbiAqIGFwcCBpcyBydW5uaW5nLlxuICpcbiAqIFRoZSBgdmlld2AgYXJndW1lbnQgY2FuIGJlIHRoZSBsaXRlcmFsIHN0cmluZyBgd2luZG93YCBpZiB5b3Ugd2FudCB0b1xuICogY2FwdHVyZSB0aGUgZW50aXJlIHdpbmRvdywgb3IgaXQgY2FuIGJlIGEgcmVmZXJlbmNlIHRvIGEgc3BlY2lmaWNcbiAqIFJlYWN0IE5hdGl2ZSBjb21wb25lbnQuXG4gKlxuICogVGhlIGBvcHRpb25zYCBhcmd1bWVudCBtYXkgaW5jbHVkZTpcbiAqIC0gd2lkdGgvaGVpZ2h0IChudW1iZXIpIC0gdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIGltYWdlIHRvIGNhcHR1cmUuXG4gKiAtIGZvcm1hdCAoc3RyaW5nKSAtIGVpdGhlciAncG5nJyBvciAnanBlZycuIERlZmF1bHRzIHRvICdwbmcnLlxuICogLSBxdWFsaXR5IChudW1iZXIpIC0gdGhlIHF1YWxpdHkgd2hlbiB1c2luZyBqcGVnLiAwLjAgLSAxLjAgKGRlZmF1bHQpLlxuICpcbiAqIFJldHVybnMgYSBQcm9taXNlLlxuICogQHBsYXRmb3JtIGlvc1xuICovXG5mdW5jdGlvbiB0YWtlU25hcHNob3Qodmlldywgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIHZpZXcgIT09IFwibnVtYmVyXCIgJiYgdmlldyAhPT0gXCJ3aW5kb3dcIikge1xuICAgIHZpZXcgPSBmaW5kTnVtZXJpY05vZGVIYW5kbGVGaWJlcih2aWV3KSB8fCBcIndpbmRvd1wiO1xuICB9XG5cbiAgLy8gQ2FsbCB0aGUgaGlkZGVuICdfX3Rha2VTbmFwc2hvdCcgbWV0aG9kOyB0aGUgbWFpbiBvbmUgdGhyb3dzIGFuIGVycm9yIHRvXG4gIC8vIHByZXZlbnQgYWNjaWRlbnRhbCBiYWNrd2FyZHMtaW5jb21wYXRpYmxlIHVzYWdlLlxuICByZXR1cm4gVUlNYW5hZ2VyLl9fdGFrZVNuYXBzaG90KHZpZXcsIG9wdGlvbnMpO1xufVxuXG4vLyBNb2R1bGUgcHJvdmlkZWQgYnkgUk46XG5pbmplY3RGaW5kSG9zdEluc3RhbmNlKE5hdGl2ZVJlbmRlcmVyLmZpbmRIb3N0SW5zdGFuY2UpO1xuXG5pbmplY3Rpb24kMi5pbmplY3RSZW5kZXJlcihOYXRpdmVSZW5kZXJlcik7XG5cbnZhciByb290cyA9IG5ldyBNYXAoKTtcblxudmFyIFJlYWN0TmF0aXZlUmVuZGVyZXIgPSB7XG4gIE5hdGl2ZUNvbXBvbmVudDogUmVhY3ROYXRpdmVDb21wb25lbnQsXG5cbiAgZmluZE5vZGVIYW5kbGU6IGZpbmROdW1lcmljTm9kZUhhbmRsZUZpYmVyLFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oZWxlbWVudCwgY29udGFpbmVyVGFnLCBjYWxsYmFjaykge1xuICAgIHZhciByb290ID0gcm9vdHMuZ2V0KGNvbnRhaW5lclRhZyk7XG5cbiAgICBpZiAoIXJvb3QpIHtcbiAgICAgIC8vIFRPRE8gKGJ2YXVnaG4pOiBJZiB3ZSBkZWNpZGUgdG8ga2VlcCB0aGUgd3JhcHBlciBjb21wb25lbnQsXG4gICAgICAvLyBXZSBjb3VsZCBjcmVhdGUgYSB3cmFwcGVyIGZvciBjb250YWluZXJUYWcgYXMgd2VsbCB0byByZWR1Y2Ugc3BlY2lhbCBjYXNpbmcuXG4gICAgICByb290ID0gTmF0aXZlUmVuZGVyZXIuY3JlYXRlQ29udGFpbmVyKGNvbnRhaW5lclRhZywgZmFsc2UsIGZhbHNlKTtcbiAgICAgIHJvb3RzLnNldChjb250YWluZXJUYWcsIHJvb3QpO1xuICAgIH1cbiAgICBOYXRpdmVSZW5kZXJlci51cGRhdGVDb250YWluZXIoZWxlbWVudCwgcm9vdCwgbnVsbCwgY2FsbGJhY2spO1xuXG4gICAgcmV0dXJuIE5hdGl2ZVJlbmRlcmVyLmdldFB1YmxpY1Jvb3RJbnN0YW5jZShyb290KTtcbiAgfSxcbiAgdW5tb3VudENvbXBvbmVudEF0Tm9kZTogZnVuY3Rpb24oY29udGFpbmVyVGFnKSB7XG4gICAgdmFyIHJvb3QgPSByb290cy5nZXQoY29udGFpbmVyVGFnKTtcbiAgICBpZiAocm9vdCkge1xuICAgICAgLy8gVE9ETzogSXMgaXQgc2FmZSB0byByZXNldCB0aGlzIG5vdyBvciBzaG91bGQgSSB3YWl0IHNpbmNlIHRoaXMgdW5tb3VudCBjb3VsZCBiZSBkZWZlcnJlZD9cbiAgICAgIE5hdGl2ZVJlbmRlcmVyLnVwZGF0ZUNvbnRhaW5lcihudWxsLCByb290LCBudWxsLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcm9vdHNbXCJkZWxldGVcIl0oY29udGFpbmVyVGFnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgdW5tb3VudENvbXBvbmVudEF0Tm9kZUFuZFJlbW92ZUNvbnRhaW5lcjogZnVuY3Rpb24oY29udGFpbmVyVGFnKSB7XG4gICAgUmVhY3ROYXRpdmVSZW5kZXJlci51bm1vdW50Q29tcG9uZW50QXROb2RlKGNvbnRhaW5lclRhZyk7XG5cbiAgICAvLyBDYWxsIGJhY2sgaW50byBuYXRpdmUgdG8gcmVtb3ZlIGFsbCBvZiB0aGUgc3Vidmlld3MgZnJvbSB0aGlzIGNvbnRhaW5lclxuICAgIFVJTWFuYWdlci5yZW1vdmVSb290Vmlldyhjb250YWluZXJUYWcpO1xuICB9LFxuICBjcmVhdGVQb3J0YWw6IGZ1bmN0aW9uKGNoaWxkcmVuLCBjb250YWluZXJUYWcpIHtcbiAgICB2YXIga2V5ID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcblxuICAgIHJldHVybiBjcmVhdGVQb3J0YWwoY2hpbGRyZW4sIGNvbnRhaW5lclRhZywgbnVsbCwga2V5KTtcbiAgfSxcblxuICB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlczogYmF0Y2hlZFVwZGF0ZXMsXG5cbiAgZmx1c2hTeW5jOiBOYXRpdmVSZW5kZXJlci5mbHVzaFN5bmMsXG5cbiAgX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ6IHtcbiAgICAvLyBVc2VkIGFzIGEgbWl4aW4gaW4gbWFueSBjcmVhdGVDbGFzcy1iYXNlZCBjb21wb25lbnRzXG4gICAgTmF0aXZlTWV0aG9kc01peGluOiBOYXRpdmVNZXRob2RzTWl4aW4sXG4gICAgLy8gVXNlZCBieSByZWFjdC1uYXRpdmUtZ2l0aHViL0xpYnJhcmllcy8gY29tcG9uZW50c1xuICAgIFJlYWN0TmF0aXZlQnJpZGdlRXZlbnRQbHVnaW46IFJlYWN0TmF0aXZlQnJpZGdlRXZlbnRQbHVnaW4sIC8vIHJlcXVpcmVOYXRpdmVDb21wb25lbnRcbiAgICBSZWFjdE5hdGl2ZUNvbXBvbmVudFRyZWU6IFJlYWN0TmF0aXZlQ29tcG9uZW50VHJlZSwgLy8gU2Nyb2xsUmVzcG9uZGVyXG4gICAgUmVhY3ROYXRpdmVQcm9wUmVnaXN0cnk6IFJlYWN0TmF0aXZlUHJvcFJlZ2lzdHJ5LCAvLyBmbGF0dGVuU3R5bGUsIFN0eWxlc2hlZXRcbiAgICBUb3VjaEhpc3RvcnlNYXRoOiBUb3VjaEhpc3RvcnlNYXRoLCAvLyBQYW5SZXNwb25kZXJcbiAgICBjcmVhdGVSZWFjdE5hdGl2ZUNvbXBvbmVudENsYXNzOiBjcmVhdGVSZWFjdE5hdGl2ZUNvbXBvbmVudENsYXNzLCAvLyBSQ1RUZXh0LCBSQ1RWaWV3LCBSZWFjdE5hdGl2ZUFSVFxuICAgIHRha2VTbmFwc2hvdDogdGFrZVNuYXBzaG90XG4gIH1cbn07XG5cbntcbiAgLy8gJEZsb3dGaXhNZVxuICBPYmplY3QuYXNzaWduKFxuICAgIFJlYWN0TmF0aXZlUmVuZGVyZXIuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQsXG4gICAge1xuICAgICAgLy8gVE9ETzogbm9uZSBvZiB0aGVzZSB3b3JrIHNpbmNlIEZpYmVyLiBSZW1vdmUgdGhlc2UgZGVwZW5kZW5jaWVzLlxuICAgICAgLy8gVXNlZCBieSBSQ1RSZW5kZXJpbmdQZXJmLCBTeXN0cmFjZTpcbiAgICAgIFJlYWN0RGVidWdUb29sOiB7XG4gICAgICAgIGFkZEhvb2s6IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIHJlbW92ZUhvb2s6IGZ1bmN0aW9uKCkge31cbiAgICAgIH0sXG4gICAgICAvLyBVc2VkIGJ5IFJlYWN0UGVyZlN0YWxsSGFuZGxlciwgUkNUUmVuZGVyaW5nUGVyZjpcbiAgICAgIFJlYWN0UGVyZjoge1xuICAgICAgICBzdGFydDogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgc3RvcDogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgcHJpbnRJbmNsdXNpdmU6IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIHByaW50V2FzdGVkOiBmdW5jdGlvbigpIHt9XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuXG5OYXRpdmVSZW5kZXJlci5pbmplY3RJbnRvRGV2VG9vbHMoe1xuICBmaW5kRmliZXJCeUhvc3RJbnN0YW5jZTogZ2V0SW5zdGFuY2VGcm9tVGFnLFxuICBnZXRJbnNwZWN0b3JEYXRhRm9yVmlld1RhZzogZ2V0SW5zcGVjdG9yRGF0YUZvclZpZXdUYWcsXG4gIGJ1bmRsZVR5cGU6IDEsXG4gIHZlcnNpb246IFJlYWN0VmVyc2lvbixcbiAgcmVuZGVyZXJQYWNrYWdlTmFtZTogXCJyZWFjdC1uYXRpdmUtcmVuZGVyZXJcIlxufSk7XG5cbnZhciBSZWFjdE5hdGl2ZVJlbmRlcmVyJDIgPSBPYmplY3QuZnJlZXplKHtcbiAgZGVmYXVsdDogUmVhY3ROYXRpdmVSZW5kZXJlclxufSk7XG5cbnZhciBSZWFjdE5hdGl2ZVJlbmRlcmVyJDMgPVxuICAoUmVhY3ROYXRpdmVSZW5kZXJlciQyICYmIFJlYWN0TmF0aXZlUmVuZGVyZXIpIHx8IFJlYWN0TmF0aXZlUmVuZGVyZXIkMjtcblxuLy8gVE9ETzogZGVjaWRlIG9uIHRoZSB0b3AtbGV2ZWwgZXhwb3J0IGZvcm0uXG4vLyBUaGlzIGlzIGhhY2t5IGJ1dCBtYWtlcyBpdCB3b3JrIHdpdGggYm90aCBSb2xsdXAgYW5kIEplc3QuXG52YXIgcmVhY3ROYXRpdmVSZW5kZXJlciA9IFJlYWN0TmF0aXZlUmVuZGVyZXIkM1tcImRlZmF1bHRcIl1cbiAgPyBSZWFjdE5hdGl2ZVJlbmRlcmVyJDNbXCJkZWZhdWx0XCJdXG4gIDogUmVhY3ROYXRpdmVSZW5kZXJlciQzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlYWN0TmF0aXZlUmVuZGVyZXI7XG5cbiAgfSkoKTtcbn1cbiJdfQ==