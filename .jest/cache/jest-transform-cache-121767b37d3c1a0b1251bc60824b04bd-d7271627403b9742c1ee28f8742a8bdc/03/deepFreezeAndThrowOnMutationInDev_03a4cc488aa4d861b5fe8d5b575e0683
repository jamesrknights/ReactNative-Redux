53a114c122b223b53213f93434579d5b


'use strict';

function deepFreezeAndThrowOnMutationInDev(object) {
  if (__DEV__) {
    if (typeof object !== 'object' || object === null || Object.isFrozen(object) || Object.isSealed(object)) {
      return object;
    }

    var keys = Object.keys(object);

    for (var i = 0; i < keys.length; i++) {
      var key = keys[i];
      if (object.hasOwnProperty(key)) {
        object.__defineGetter__(key, identity.bind(null, object[key]));
        object.__defineSetter__(key, throwOnImmutableMutation.bind(null, key));
      }
    }

    Object.freeze(object);
    Object.seal(object);

    for (var i = 0; i < keys.length; i++) {
      var key = keys[i];
      if (object.hasOwnProperty(key)) {
        deepFreezeAndThrowOnMutationInDev(object[key]);
      }
    }
  }
  return object;
}

function throwOnImmutableMutation(key, value) {
  throw Error('You attempted to set the key `' + key + '` with the value `' + JSON.stringify(value) + '` on an object that is meant to be immutable ' + 'and has been frozen.');
}

function identity(value) {
  return value;
}

module.exports = deepFreezeAndThrowOnMutationInDev;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlZXBGcmVlemVBbmRUaHJvd09uTXV0YXRpb25JbkRldi5qcyJdLCJuYW1lcyI6WyJkZWVwRnJlZXplQW5kVGhyb3dPbk11dGF0aW9uSW5EZXYiLCJvYmplY3QiLCJfX0RFVl9fIiwiT2JqZWN0IiwiaXNGcm96ZW4iLCJpc1NlYWxlZCIsImtleXMiLCJpIiwibGVuZ3RoIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJfX2RlZmluZUdldHRlcl9fIiwiaWRlbnRpdHkiLCJiaW5kIiwiX19kZWZpbmVTZXR0ZXJfXyIsInRocm93T25JbW11dGFibGVNdXRhdGlvbiIsImZyZWV6ZSIsInNlYWwiLCJ2YWx1ZSIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBVUE7O0FBbUJBLFNBQVNBLGlDQUFULENBQXNEQyxNQUF0RCxFQUFvRTtBQUNsRSxNQUFJQyxPQUFKLEVBQWE7QUFDWCxRQUFJLE9BQU9ELE1BQVAsS0FBa0IsUUFBbEIsSUFDQUEsV0FBVyxJQURYLElBRUFFLE9BQU9DLFFBQVAsQ0FBZ0JILE1BQWhCLENBRkEsSUFHQUUsT0FBT0UsUUFBUCxDQUFnQkosTUFBaEIsQ0FISixFQUc2QjtBQUMzQixhQUFPQSxNQUFQO0FBQ0Q7O0FBRUQsUUFBSUssT0FBT0gsT0FBT0csSUFBUCxDQUFZTCxNQUFaLENBQVg7O0FBRUEsU0FBSyxJQUFJTSxJQUFJLENBQWIsRUFBZ0JBLElBQUlELEtBQUtFLE1BQXpCLEVBQWlDRCxHQUFqQyxFQUFzQztBQUNwQyxVQUFJRSxNQUFNSCxLQUFLQyxDQUFMLENBQVY7QUFDQSxVQUFJTixPQUFPUyxjQUFQLENBQXNCRCxHQUF0QixDQUFKLEVBQWdDO0FBQzlCUixlQUFPVSxnQkFBUCxDQUF3QkYsR0FBeEIsRUFBNkJHLFNBQVNDLElBQVQsQ0FBYyxJQUFkLEVBQW9CWixPQUFPUSxHQUFQLENBQXBCLENBQTdCO0FBQ0FSLGVBQU9hLGdCQUFQLENBQXdCTCxHQUF4QixFQUE2Qk0seUJBQXlCRixJQUF6QixDQUE4QixJQUE5QixFQUFvQ0osR0FBcEMsQ0FBN0I7QUFDRDtBQUNGOztBQUVETixXQUFPYSxNQUFQLENBQWNmLE1BQWQ7QUFDQUUsV0FBT2MsSUFBUCxDQUFZaEIsTUFBWjs7QUFFQSxTQUFLLElBQUlNLElBQUksQ0FBYixFQUFnQkEsSUFBSUQsS0FBS0UsTUFBekIsRUFBaUNELEdBQWpDLEVBQXNDO0FBQ3BDLFVBQUlFLE1BQU1ILEtBQUtDLENBQUwsQ0FBVjtBQUNBLFVBQUlOLE9BQU9TLGNBQVAsQ0FBc0JELEdBQXRCLENBQUosRUFBZ0M7QUFDOUJULDBDQUFrQ0MsT0FBT1EsR0FBUCxDQUFsQztBQUNEO0FBQ0Y7QUFDRjtBQUNELFNBQU9SLE1BQVA7QUFDRDs7QUFFRCxTQUFTYyx3QkFBVCxDQUFrQ04sR0FBbEMsRUFBdUNTLEtBQXZDLEVBQThDO0FBQzVDLFFBQU1DLE1BQ0osbUNBQW1DVixHQUFuQyxHQUF5QyxvQkFBekMsR0FDQVcsS0FBS0MsU0FBTCxDQUFlSCxLQUFmLENBREEsR0FDd0IsK0NBRHhCLEdBRUEsc0JBSEksQ0FBTjtBQUtEOztBQUVELFNBQVNOLFFBQVQsQ0FBa0JNLEtBQWxCLEVBQXlCO0FBQ3ZCLFNBQU9BLEtBQVA7QUFDRDs7QUFFREksT0FBT0MsT0FBUCxHQUFpQnZCLGlDQUFqQiIsImZpbGUiOiJkZWVwRnJlZXplQW5kVGhyb3dPbk11dGF0aW9uSW5EZXYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBkZWVwRnJlZXplQW5kVGhyb3dPbk11dGF0aW9uSW5EZXZcbiAqIEBmbG93XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIElmIHlvdXIgYXBwbGljYXRpb24gaXMgYWNjZXB0aW5nIGRpZmZlcmVudCB2YWx1ZXMgZm9yIHRoZSBzYW1lIGZpZWxkIG92ZXJcbiAqIHRpbWUgYW5kIGlzIGRvaW5nIGEgZGlmZiBvbiB0aGVtLCB5b3UgY2FuIGVpdGhlciAoMSkgY3JlYXRlIGEgY29weSBvclxuICogKDIpIGVuc3VyZSB0aGF0IHRob3NlIHZhbHVlcyBhcmUgbm90IG11dGF0ZWQgYmVoaW5kIHR3byBwYXNzZXMuXG4gKiBUaGlzIGZ1bmN0aW9uIGhlbHBzIHlvdSB3aXRoICgyKSBieSBmcmVlemluZyB0aGUgb2JqZWN0IGFuZCB0aHJvd2luZyBpZlxuICogdGhlIHVzZXIgc3Vic2VxdWVudGx5IG1vZGlmaWVzIHRoZSB2YWx1ZS5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIGNhdmVhdHMgd2l0aCB0aGlzIGZ1bmN0aW9uOlxuICogICAtIElmIHRoZSBjYWxsIHNpdGUgaXMgbm90IGluIHN0cmljdCBtb2RlLCBpdCB3aWxsIG9ubHkgdGhyb3cgd2hlblxuICogICAgIG11dGF0aW5nIGV4aXN0aW5nIGZpZWxkcywgYWRkaW5nIGEgbmV3IG9uZVxuICogICAgIHdpbGwgdW5mb3J0dW5hdGVseSBmYWlsIHNpbGVudGx5IDooXG4gKiAgIC0gSWYgdGhlIG9iamVjdCBpcyBhbHJlYWR5IGZyb3plbiBvciBzZWFsZWQsIGl0IHdpbGwgbm90IGNvbnRpbnVlIHRoZVxuICogICAgIGRlZXAgdHJhdmVyc2FsIGFuZCB3aWxsIGxlYXZlIGxlYWYgbm9kZXMgdW5mcm96ZW4uXG4gKlxuICogRnJlZXppbmcgdGhlIG9iamVjdCBhbmQgYWRkaW5nIHRoZSB0aHJvdyBtZWNoYW5pc20gaXMgZXhwZW5zaXZlIGFuZCB3aWxsXG4gKiBvbmx5IGJlIHVzZWQgaW4gREVWLlxuICovXG5mdW5jdGlvbiBkZWVwRnJlZXplQW5kVGhyb3dPbk11dGF0aW9uSW5EZXY8VDogT2JqZWN0PihvYmplY3Q6IFQpOiBUIHtcbiAgaWYgKF9fREVWX18pIHtcbiAgICBpZiAodHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgb2JqZWN0ID09PSBudWxsIHx8XG4gICAgICAgIE9iamVjdC5pc0Zyb3plbihvYmplY3QpIHx8XG4gICAgICAgIE9iamVjdC5pc1NlYWxlZChvYmplY3QpKSB7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgb2JqZWN0Ll9fZGVmaW5lR2V0dGVyX18oa2V5LCBpZGVudGl0eS5iaW5kKG51bGwsIG9iamVjdFtrZXldKSk7XG4gICAgICAgIG9iamVjdC5fX2RlZmluZVNldHRlcl9fKGtleSwgdGhyb3dPbkltbXV0YWJsZU11dGF0aW9uLmJpbmQobnVsbCwga2V5KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgT2JqZWN0LmZyZWV6ZShvYmplY3QpO1xuICAgIE9iamVjdC5zZWFsKG9iamVjdCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGRlZXBGcmVlemVBbmRUaHJvd09uTXV0YXRpb25JbkRldihvYmplY3Rba2V5XSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbmZ1bmN0aW9uIHRocm93T25JbW11dGFibGVNdXRhdGlvbihrZXksIHZhbHVlKSB7XG4gIHRocm93IEVycm9yKFxuICAgICdZb3UgYXR0ZW1wdGVkIHRvIHNldCB0aGUga2V5IGAnICsga2V5ICsgJ2Agd2l0aCB0aGUgdmFsdWUgYCcgK1xuICAgIEpTT04uc3RyaW5naWZ5KHZhbHVlKSArICdgIG9uIGFuIG9iamVjdCB0aGF0IGlzIG1lYW50IHRvIGJlIGltbXV0YWJsZSAnICtcbiAgICAnYW5kIGhhcyBiZWVuIGZyb3plbi4nXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWVwRnJlZXplQW5kVGhyb3dPbk11dGF0aW9uSW5EZXY7XG4iXX0=