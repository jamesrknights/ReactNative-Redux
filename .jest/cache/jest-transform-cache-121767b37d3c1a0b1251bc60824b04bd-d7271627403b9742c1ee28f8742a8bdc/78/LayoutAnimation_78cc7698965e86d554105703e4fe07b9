83721bafd2b4f4835e2f2d2d4a54657b

'use strict';

var PropTypes = require('prop-types');
var UIManager = require('UIManager');

var keyMirror = require('fbjs/lib/keyMirror');

var checkPropTypes = PropTypes.checkPropTypes;


var TypesEnum = {
  spring: true,
  linear: true,
  easeInEaseOut: true,
  easeIn: true,
  easeOut: true,
  keyboard: true
};
var Types = keyMirror(TypesEnum);

var PropertiesEnum = {
  opacity: true,
  scaleXY: true
};
var Properties = keyMirror(PropertiesEnum);

var animType = PropTypes.shape({
  duration: PropTypes.number,
  delay: PropTypes.number,
  springDamping: PropTypes.number,
  initialVelocity: PropTypes.number,
  type: PropTypes.oneOf(Object.keys(Types)).isRequired,
  property: PropTypes.oneOf(Object.keys(Properties))
});

var configType = PropTypes.shape({
  duration: PropTypes.number.isRequired,
  create: animType,
  update: animType,
  delete: animType
});

function checkConfig(config, location, name) {
  checkPropTypes({ config: configType }, { config: config }, location, name);
}

function configureNext(config, onAnimationDidEnd) {
  if (__DEV__) {
    checkConfig(config, 'config', 'LayoutAnimation.configureNext');
  }
  UIManager.configureNextLayoutAnimation(config, onAnimationDidEnd || function () {}, function () {});
}

function create(duration, type, creationProp) {
  return {
    duration: duration,
    create: {
      type: type,
      property: creationProp
    },
    update: {
      type: type
    },
    delete: {
      type: type,
      property: creationProp
    }
  };
}

var Presets = {
  easeInEaseOut: create(300, Types.easeInEaseOut, Properties.opacity),
  linear: create(500, Types.linear, Properties.opacity),
  spring: {
    duration: 700,
    create: {
      type: Types.linear,
      property: Properties.opacity
    },
    update: {
      type: Types.spring,
      springDamping: 0.4
    },
    delete: {
      type: Types.linear,
      property: Properties.opacity
    }
  }
};

var LayoutAnimation = {
  configureNext: configureNext,

  create: create,
  Types: Types,
  Properties: Properties,
  checkConfig: checkConfig,
  Presets: Presets,
  easeInEaseOut: configureNext.bind(null, Presets.easeInEaseOut),
  linear: configureNext.bind(null, Presets.linear),
  spring: configureNext.bind(null, Presets.spring)
};

module.exports = LayoutAnimation;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxheW91dEFuaW1hdGlvbi5qcyJdLCJuYW1lcyI6WyJQcm9wVHlwZXMiLCJyZXF1aXJlIiwiVUlNYW5hZ2VyIiwia2V5TWlycm9yIiwiY2hlY2tQcm9wVHlwZXMiLCJUeXBlc0VudW0iLCJzcHJpbmciLCJsaW5lYXIiLCJlYXNlSW5FYXNlT3V0IiwiZWFzZUluIiwiZWFzZU91dCIsImtleWJvYXJkIiwiVHlwZXMiLCJQcm9wZXJ0aWVzRW51bSIsIm9wYWNpdHkiLCJzY2FsZVhZIiwiUHJvcGVydGllcyIsImFuaW1UeXBlIiwic2hhcGUiLCJkdXJhdGlvbiIsIm51bWJlciIsImRlbGF5Iiwic3ByaW5nRGFtcGluZyIsImluaXRpYWxWZWxvY2l0eSIsInR5cGUiLCJvbmVPZiIsIk9iamVjdCIsImtleXMiLCJpc1JlcXVpcmVkIiwicHJvcGVydHkiLCJjb25maWdUeXBlIiwiY3JlYXRlIiwidXBkYXRlIiwiZGVsZXRlIiwiY2hlY2tDb25maWciLCJjb25maWciLCJsb2NhdGlvbiIsIm5hbWUiLCJjb25maWd1cmVOZXh0Iiwib25BbmltYXRpb25EaWRFbmQiLCJfX0RFVl9fIiwiY29uZmlndXJlTmV4dExheW91dEFuaW1hdGlvbiIsImNyZWF0aW9uUHJvcCIsIlByZXNldHMiLCJMYXlvdXRBbmltYXRpb24iLCJiaW5kIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IjtBQVVBOztBQUVBLElBQU1BLFlBQVlDLFFBQVEsWUFBUixDQUFsQjtBQUNBLElBQU1DLFlBQVlELFFBQVEsV0FBUixDQUFsQjs7QUFLQSxJQUFNRSxZQUFZRixRQUFRLG9CQUFSLENBQWxCOztJQUVPRyxjLEdBQWtCSixTLENBQWxCSSxjOzs7QUFFUCxJQUFNQyxZQUFZO0FBQ2hCQyxVQUFRLElBRFE7QUFFaEJDLFVBQVEsSUFGUTtBQUdoQkMsaUJBQWUsSUFIQztBQUloQkMsVUFBUSxJQUpRO0FBS2hCQyxXQUFTLElBTE87QUFNaEJDLFlBQVU7QUFOTSxDQUFsQjtBQVFBLElBQU1D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UUFBUXJDLE1BQWpDO0FBMUJjLENBQXhCOztBQTZCQXdDLE9BQU9DLE9BQVAsR0FBaUJILGVBQWpCIiwiZmlsZSI6IkxheW91dEFuaW1hdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIExheW91dEFuaW1hdGlvblxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5jb25zdCBVSU1hbmFnZXIgPSByZXF1aXJlKCdVSU1hbmFnZXInKTtcblxuLyogJEZsb3dGaXhNZSg+PTAuNTQuMCBzaXRlPXJlYWN0X25hdGl2ZV9vc3MpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuIGVycm9yXG4gKiBmb3VuZCB3aGVuIEZsb3cgdjAuNTQgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kXG4gKiBydW4gRmxvdy4gKi9cbmNvbnN0IGtleU1pcnJvciA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU1pcnJvcicpO1xuXG5jb25zdCB7Y2hlY2tQcm9wVHlwZXN9ID0gUHJvcFR5cGVzO1xuXG5jb25zdCBUeXBlc0VudW0gPSB7XG4gIHNwcmluZzogdHJ1ZSxcbiAgbGluZWFyOiB0cnVlLFxuICBlYXNlSW5FYXNlT3V0OiB0cnVlLFxuICBlYXNlSW46IHRydWUsXG4gIGVhc2VPdXQ6IHRydWUsXG4gIGtleWJvYXJkOiB0cnVlLFxufTtcbmNvbnN0IFR5cGVzID0ga2V5TWlycm9yKFR5cGVzRW51bSk7XG5cbmNvbnN0IFByb3BlcnRpZXNFbnVtID0ge1xuICBvcGFjaXR5OiB0cnVlLFxuICBzY2FsZVhZOiB0cnVlLFxufTtcbmNvbnN0IFByb3BlcnRpZXMgPSBrZXlNaXJyb3IoUHJvcGVydGllc0VudW0pO1xuXG5jb25zdCBhbmltVHlwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG4gIGR1cmF0aW9uOiBQcm9wVHlwZXMubnVtYmVyLFxuICBkZWxheTogUHJvcFR5cGVzLm51bWJlcixcbiAgc3ByaW5nRGFtcGluZzogUHJvcFR5cGVzLm51bWJlcixcbiAgaW5pdGlhbFZlbG9jaXR5OiBQcm9wVHlwZXMubnVtYmVyLFxuICB0eXBlOiBQcm9wVHlwZXMub25lT2YoT2JqZWN0LmtleXMoVHlwZXMpKS5pc1JlcXVpcmVkLFxuICBwcm9wZXJ0eTogUHJvcFR5cGVzLm9uZU9mKFxuICAgIC8vIE9ubHkgYXBwbGllcyB0byBjcmVhdGUvZGVsZXRlXG4gICAgT2JqZWN0LmtleXMoUHJvcGVydGllcyksXG4gICksXG59KTtcblxudHlwZSBBbmltID0ge1xuICBkdXJhdGlvbj86IG51bWJlcixcbiAgZGVsYXk/OiBudW1iZXIsXG4gIHNwcmluZ0RhbXBpbmc/OiBudW1iZXIsXG4gIGluaXRpYWxWZWxvY2l0eT86IG51bWJlcixcbiAgdHlwZT86ICRFbnVtPHR5cGVvZiBUeXBlc0VudW0+LFxuICBwcm9wZXJ0eT86ICRFbnVtPHR5cGVvZiBQcm9wZXJ0aWVzRW51bT4sXG59O1xuXG5jb25zdCBjb25maWdUeXBlID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgZHVyYXRpb246IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgY3JlYXRlOiBhbmltVHlwZSxcbiAgdXBkYXRlOiBhbmltVHlwZSxcbiAgZGVsZXRlOiBhbmltVHlwZSxcbn0pO1xuXG50eXBlIENvbmZpZyA9IHtcbiAgZHVyYXRpb246IG51bWJlcixcbiAgY3JlYXRlPzogQW5pbSxcbiAgdXBkYXRlPzogQW5pbSxcbiAgZGVsZXRlPzogQW5pbSxcbn07XG5cbmZ1bmN0aW9uIGNoZWNrQ29uZmlnKGNvbmZpZzogQ29uZmlnLCBsb2NhdGlvbjogc3RyaW5nLCBuYW1lOiBzdHJpbmcpIHtcbiAgY2hlY2tQcm9wVHlwZXMoe2NvbmZpZzogY29uZmlnVHlwZX0sIHtjb25maWd9LCBsb2NhdGlvbiwgbmFtZSk7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ3VyZU5leHQoY29uZmlnOiBDb25maWcsIG9uQW5pbWF0aW9uRGlkRW5kPzogRnVuY3Rpb24pIHtcbiAgaWYgKF9fREVWX18pIHtcbiAgICBjaGVja0NvbmZpZyhjb25maWcsICdjb25maWcnLCAnTGF5b3V0QW5pbWF0aW9uLmNvbmZpZ3VyZU5leHQnKTtcbiAgfVxuICBVSU1hbmFnZXIuY29uZmlndXJlTmV4dExheW91dEFuaW1hdGlvbihcbiAgICBjb25maWcsXG4gICAgb25BbmltYXRpb25EaWRFbmQgfHwgZnVuY3Rpb24oKSB7fSxcbiAgICBmdW5jdGlvbigpIHtcbiAgICAgIC8qIHVudXNlZCAqL1xuICAgIH0sXG4gICk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZShkdXJhdGlvbjogbnVtYmVyLCB0eXBlLCBjcmVhdGlvblByb3ApOiBDb25maWcge1xuICByZXR1cm4ge1xuICAgIGR1cmF0aW9uLFxuICAgIGNyZWF0ZToge1xuICAgICAgdHlwZSxcbiAgICAgIHByb3BlcnR5OiBjcmVhdGlvblByb3AsXG4gICAgfSxcbiAgICB1cGRhdGU6IHtcbiAgICAgIHR5cGUsXG4gICAgfSxcbiAgICBkZWxldGU6IHtcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wZXJ0eTogY3JlYXRpb25Qcm9wLFxuICAgIH0sXG4gIH07XG59XG5cbmNvbnN0IFByZXNldHMgPSB7XG4gIGVhc2VJbkVhc2VPdXQ6IGNyZWF0ZSgzMDAsIFR5cGVzLmVhc2VJbkVhc2VPdXQsIFByb3BlcnRpZXMub3BhY2l0eSksXG4gIGxpbmVhcjogY3JlYXRlKDUwMCwgVHlwZXMubGluZWFyLCBQcm9wZXJ0aWVzLm9wYWNpdHkpLFxuICBzcHJpbmc6IHtcbiAgICBkdXJhdGlvbjogNzAwLFxuICAgIGNyZWF0ZToge1xuICAgICAgdHlwZTogVHlwZXMubGluZWFyLFxuICAgICAgcHJvcGVydHk6IFByb3BlcnRpZXMub3BhY2l0eSxcbiAgICB9LFxuICAgIHVwZGF0ZToge1xuICAgICAgdHlwZTogVHlwZXMuc3ByaW5nLFxuICAgICAgc3ByaW5nRGFtcGluZzogMC40LFxuICAgIH0sXG4gICAgZGVsZXRlOiB7XG4gICAgICB0eXBlOiBUeXBlcy5saW5lYXIsXG4gICAgICBwcm9wZXJ0eTogUHJvcGVydGllcy5vcGFjaXR5LFxuICAgIH0sXG4gIH0sXG59O1xuXG4vKipcbiAqIEF1dG9tYXRpY2FsbHkgYW5pbWF0ZXMgdmlld3MgdG8gdGhlaXIgbmV3IHBvc2l0aW9ucyB3aGVuIHRoZVxuICogbmV4dCBsYXlvdXQgaGFwcGVucy5cbiAqXG4gKiBBIGNvbW1vbiB3YXkgdG8gdXNlIHRoaXMgQVBJIGlzIHRvIGNhbGwgaXQgYmVmb3JlIGNhbGxpbmcgYHNldFN0YXRlYC5cbiAqXG4gKiBOb3RlIHRoYXQgaW4gb3JkZXIgdG8gZ2V0IHRoaXMgdG8gd29yayBvbiAqKkFuZHJvaWQqKiB5b3UgbmVlZCB0byBzZXQgdGhlIGZvbGxvd2luZyBmbGFncyB2aWEgYFVJTWFuYWdlcmA6XG4gKlxuICogICAgIFVJTWFuYWdlci5zZXRMYXlvdXRBbmltYXRpb25FbmFibGVkRXhwZXJpbWVudGFsICYmIFVJTWFuYWdlci5zZXRMYXlvdXRBbmltYXRpb25FbmFibGVkRXhwZXJpbWVudGFsKHRydWUpO1xuICovXG5jb25zdCBMYXlvdXRBbmltYXRpb24gPSB7XG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgYW4gYW5pbWF0aW9uIHRvIGhhcHBlbiBvbiB0aGUgbmV4dCBsYXlvdXQuXG4gICAqXG4gICAqIEBwYXJhbSBjb25maWcgU3BlY2lmaWVzIGFuaW1hdGlvbiBwcm9wZXJ0aWVzOlxuICAgKlxuICAgKiAgIC0gYGR1cmF0aW9uYCBpbiBtaWxsaXNlY29uZHNcbiAgICogICAtIGBjcmVhdGVgLCBjb25maWcgZm9yIGFuaW1hdGluZyBpbiBuZXcgdmlld3MgKHNlZSBgQW5pbWAgdHlwZSlcbiAgICogICAtIGB1cGRhdGVgLCBjb25maWcgZm9yIGFuaW1hdGluZyB2aWV3cyB0aGF0IGhhdmUgYmVlbiB1cGRhdGVkXG4gICAqIChzZWUgYEFuaW1gIHR5cGUpXG4gICAqXG4gICAqIEBwYXJhbSBvbkFuaW1hdGlvbkRpZEVuZCBDYWxsZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGZpbmlzaGVkLlxuICAgKiBPbmx5IHN1cHBvcnRlZCBvbiBpT1MuXG4gICAqIEBwYXJhbSBvbkVycm9yIENhbGxlZCBvbiBlcnJvci4gT25seSBzdXBwb3J0ZWQgb24gaU9TLlxuICAgKi9cbiAgY29uZmlndXJlTmV4dCxcbiAgLyoqXG4gICAqIEhlbHBlciBmb3IgY3JlYXRpbmcgYSBjb25maWcgZm9yIGBjb25maWd1cmVOZXh0YC5cbiAgICovXG4gIGNyZWF0ZSxcbiAgVHlwZXMsXG4gIFByb3BlcnRpZXMsXG4gIGNoZWNrQ29uZmlnLFxuICBQcmVzZXRzLFxuICBlYXNlSW5FYXNlT3V0OiBjb25maWd1cmVOZXh0LmJpbmQobnVsbCwgUHJlc2V0cy5lYXNlSW5FYXNlT3V0KSxcbiAgbGluZWFyOiBjb25maWd1cmVOZXh0LmJpbmQobnVsbCwgUHJlc2V0cy5saW5lYXIpLFxuICBzcHJpbmc6IGNvbmZpZ3VyZU5leHQuYmluZChudWxsLCBQcmVzZXRzLnNwcmluZyksXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IExheW91dEFuaW1hdGlvbjtcbiJdfQ==